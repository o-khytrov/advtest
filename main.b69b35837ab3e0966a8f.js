(self.webpackChunkadvtest=self.webpackChunkadvtest||[]).push([[179],{8255:be=>{function ie(v){return Promise.resolve().then(()=>{var $=new Error("Cannot find module '"+v+"'");throw $.code="MODULE_NOT_FOUND",$})}ie.keys=()=>[],ie.resolve=ie,ie.id=8255,be.exports=ie},9692:(be,ie,v)=>{var $=v(4260),S=v(1694),P=v(1245),I=v(2496),N=v(9986),B=v(5356),R=v(8523);R.alea=$,R.xor128=S,R.xorwow=P,R.xorshift7=I,R.xor4096=N,R.tychei=B,be.exports=R},4260:function(be,ie,v){var $;!function(S,P,I){function N(F){var U=this,G=function(){var F=4022871197;return function(G){G=G.toString();for(var K=0;K<G.length;K++){var J=.02519603282416938*(F+=G.charCodeAt(K));J-=F=J>>>0,F=(J*=F)>>>0,F+=4294967296*(J-=F)}return 2.3283064365386963e-10*(F>>>0)}}();U.next=function(){var K=2091639*U.s0+2.3283064365386963e-10*U.c;return U.s0=U.s1,U.s1=U.s2,U.s2=K-(U.c=0|K)},U.c=1,U.s0=G(" "),U.s1=G(" "),U.s2=G(" "),U.s0-=G(F),U.s0<0&&(U.s0+=1),U.s1-=G(F),U.s1<0&&(U.s1+=1),U.s2-=G(F),U.s2<0&&(U.s2+=1),G=null}function B(F,U){return U.c=F.c,U.s0=F.s0,U.s1=F.s1,U.s2=F.s2,U}function R(F,U){var G=new N(F),K=U&&U.state,J=G.next;return J.int32=function(){return 4294967296*G.next()|0},J.double=function(){return J()+11102230246251565e-32*(2097152*J()|0)},J.quick=J,K&&("object"==typeof K&&B(K,G),J.state=function(){return B(G,{})}),J}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.alea=R}(0,be=v.nmd(be))},5356:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.next=function(){var K=F.b,J=F.c,he=F.d,ce=F.a;return K=K<<25^K>>>7^J,J=J-he|0,he=he<<24^he>>>8^ce,ce=ce-K|0,F.b=K=K<<20^K>>>12^J,F.c=J=J-he|0,F.d=he<<16^J>>>16^ce,F.a=ce-K|0},F.a=0,F.b=0,F.c=-1640531527,F.d=1367130551,W===Math.floor(W)?(F.a=W/4294967296|0,F.b=0|W):U+=W;for(var G=0;G<U.length+20;G++)F.b^=0|U.charCodeAt(G),F.next()}function B(W,F){return F.a=W.a,F.b=W.b,F.c=W.c,F.d=W.d,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.tychei=R}(0,be=v.nmd(be))},1694:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.x=0,F.y=0,F.z=0,F.w=0,F.next=function(){var K=F.x^F.x<<11;return F.x=F.y,F.y=F.z,F.z=F.w,F.w^=F.w>>>19^K^K>>>8},W===(0|W)?F.x=W:U+=W;for(var G=0;G<U.length+64;G++)F.x^=0|U.charCodeAt(G),F.next()}function B(W,F){return F.x=W.x,F.y=W.y,F.z=W.z,F.w=W.w,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xor128=R}(0,be=v.nmd(be))},9986:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this;F.next=function(){var he,ce,G=F.w,K=F.X,J=F.i;return F.w=G=G+1640531527|0,ce=K[J+34&127],he=K[J=J+1&127],ce^=ce<<13,he^=he<<17,ce=K[J]=(ce^=ce>>>15)^(he^=he>>>12),F.i=J,ce+(G^G>>>16)|0},function(G,K){var J,he,ce,Ae,je,Ie=[],ze=128;for(K===(0|K)?(he=K,K=null):(K+="\0",he=0,ze=Math.max(ze,K.length)),ce=0,Ae=-32;Ae<ze;++Ae)K&&(he^=K.charCodeAt((Ae+32)%K.length)),0===Ae&&(je=he),he^=he<<10,he^=he>>>15,he^=he<<4,he^=he>>>13,Ae>=0&&(ce=0==(J=Ie[127&Ae]^=he+(je=je+1640531527|0))?ce+1:0);for(ce>=128&&(Ie[127&(K&&K.length||0)]=-1),ce=127,Ae=512;Ae>0;--Ae)he=Ie[ce+34&127],J=Ie[ce=ce+1&127],he^=he<<13,J^=J<<17,Ie[ce]=(he^=he>>>15)^(J^=J>>>12);G.w=je,G.X=Ie,G.i=ce}(F,W)}function B(W,F){return F.i=W.i,F.w=W.w,F.X=W.X.slice(),F}function R(W,F){null==W&&(W=+new Date);var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&(G.X&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xor4096=R}(0,be=v.nmd(be))},2496:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this;F.next=function(){var J,he,G=F.x,K=F.i;return J=G[K],he=(J^=J>>>7)^J<<24,he^=(J=G[K+1&7])^J>>>10,he^=(J=G[K+3&7])^J>>>3,he^=(J=G[K+4&7])^J<<7,J=G[K+7&7],G[K]=he^=(J^=J<<13)^J<<9,F.i=K+1&7,he},function(G,K){var J,ce=[];if(K===(0|K))ce[0]=K;else for(K=""+K,J=0;J<K.length;++J)ce[7&J]=ce[7&J]<<15^K.charCodeAt(J)+ce[J+1&7]<<13;for(;ce.length<8;)ce.push(0);for(J=0;J<8&&0===ce[J];++J);for(8==J&&(ce[7]=-1),G.x=ce,G.i=0,J=256;J>0;--J)G.next()}(F,W)}function B(W,F){return F.x=W.x.slice(),F.i=W.i,F}function R(W,F){null==W&&(W=+new Date);var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&(G.x&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xorshift7=R}(0,be=v.nmd(be))},1245:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.next=function(){var K=F.x^F.x>>>2;return F.x=F.y,F.y=F.z,F.z=F.w,F.w=F.v,(F.d=F.d+362437|0)+(F.v=F.v^F.v<<4^K^K<<1)|0},F.x=0,F.y=0,F.z=0,F.w=0,F.v=0,W===(0|W)?F.x=W:U+=W;for(var G=0;G<U.length+64;G++)F.x^=0|U.charCodeAt(G),G==U.length&&(F.d=F.x<<10^F.x>>>4),F.next()}function B(W,F){return F.x=W.x,F.y=W.y,F.z=W.z,F.w=W.w,F.v=W.v,F.d=W.d,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xorwow=R}(0,be=v.nmd(be))},8523:(be,ie,v)=>{var $;!function(S,P){var J,I=this,N=256,W="random",F=P.pow(N,6),U=P.pow(2,52),G=2*U,K=255;function he(Te,We,ge){var we=[],Se=Ie(je((We=1==We?{entropy:!0}:We||{}).entropy?[Te,et(S)]:null==Te?function(){try{var Te;return J&&(Te=J.randomBytes)?Te=Te(N):(Te=new Uint8Array(N),(I.crypto||I.msCrypto).getRandomValues(Te)),et(Te)}catch(we){var We=I.navigator,ge=We&&We.plugins;return[+new Date,I,ge,I.screen,et(S)]}}():Te,3),we),re=new ce(we),Re=function(){for(var Be=re.g(6),Pe=F,Ke=0;Be<U;)Be=(Be+Ke)*N,Pe*=N,Ke=re.g(1);for(;Be>=G;)Be/=2,Pe/=2,Ke>>>=1;return(Be+Ke)/Pe};return Re.int32=function(){return 0|re.g(4)},Re.quick=function(){return re.g(4)/4294967296},Re.double=Re,Ie(et(re.S),S),(We.pass||ge||function(Be,Pe,Ke,Qe){return Qe&&(Qe.S&&Ae(Qe,re),Be.state=function(){return Ae(re,{})}),Ke?(P[W]=Be,Pe):Be})(Re,Se,"global"in We?We.global:this==P,We.state)}function ce(Te){var We,ge=Te.length,we=this,Se=0,re=we.i=we.j=0,Re=we.S=[];for(ge||(Te=[ge++]);Se<N;)Re[Se]=Se++;for(Se=0;Se<N;Se++)Re[Se]=Re[re=K&re+Te[Se%ge]+(We=Re[Se])],Re[re]=We;(we.g=function(Be){for(var Pe,Ke=0,Qe=we.i,rt=we.j,st=we.S;Be--;)Pe=st[Qe=K&Qe+1],Ke=Ke*N+st[K&(st[Qe]=st[rt=K&rt+Pe])+(st[rt]=Pe)];return we.i=Qe,we.j=rt,Ke})(N)}function Ae(Te,We){return We.i=Te.i,We.j=Te.j,We.S=Te.S.slice(),We}function je(Te,We){var Se,ge=[],we=typeof Te;if(We&&"object"==we)for(Se in Te)try{ge.push(je(Te[Se],We-1))}catch(re){}return ge.length?ge:"string"==we?Te:Te+"\0"}function Ie(Te,We){for(var we,ge=Te+"",Se=0;Se<ge.length;)We[K&Se]=K&(we^=19*We[K&Se])+ge.charCodeAt(Se++);return et(We)}function et(Te){return String.fromCharCode.apply(0,Te)}if(P["seed"+W]=he,Ie(P.random(),S),be.exports){be.exports=he;try{J=v(914)}catch(Te){}}else void 0!==($=function(){return he}.call(ie,v,ie,be))&&(be.exports=$)}([],Math)},3722:(be,ie,v)=>{"use strict";v.d(ie,{JL:()=>P,Zu:()=>I});class P{constructor(R,W){this.backend=R,this.dataMover=W,this.data=new WeakMap,this.dataIdsCount=0}get(R){return this.data.has(R)||this.dataMover.moveData(this.backend,R),this.data.get(R)}set(R,W){this.dataIdsCount++,this.data.set(R,W)}has(R){return this.data.has(R)}delete(R){return this.dataIdsCount--,this.data.delete(R)}numDataIds(){return this.dataIdsCount}}class I{refCount(R){return N("refCount")}incRef(R){return N("incRef")}timerAvailable(){return!0}time(R){return N("time")}read(R){return N("read")}readSync(R){return N("readSync")}numDataIds(){return N("numDataIds")}disposeData(R,W){return N("disposeData")}write(R,W,F){return N("write")}move(R,W,F,U,G){return N("move")}memory(){return N("memory")}floatPrecision(){return N("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return N("dispose")}}function N(B){throw new Error(`'${B}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},6070:(be,ie,v)=>{"use strict";v.d(ie,{BV:()=>We,wv:()=>Te});var $=v(8239),S=v(3722),P=v(2433),I=v(3860),N=v(6338),B=v(8415),R=v(7884),W=v(62);class F{constructor(Se,re){this.backendTimer=Se,this.logger=re,null==re&&(this.logger=new G)}profileKernel(Se,re,Re){let Be;const Pe=()=>{Be=Re()};let Ke;const Qe=R.now();if(this.backendTimer.timerAvailable())Ke=this.backendTimer.time(Pe);else{Pe();for(const st of Be)st.dataSync();Ke=Promise.resolve({kernelMs:R.now()-Qe})}if((0,P.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let st=0;st<Be.length;st++){const ft=Be[st];ft.data().then(kt=>{U(kt,ft.dtype,Se)})}return{kernelName:Se,outputs:Be,inputs:re,timeMs:Ke.then(st=>st.kernelMs),extraInfo:Ke.then(st=>null!=st.getExtraProfileInfo?st.getExtraProfileInfo():"")}}logKernelProfile(Se){const{kernelName:re,outputs:Re,timeMs:Be,inputs:Pe,extraInfo:Ke}=Se;Re.forEach(Qe=>{Promise.all([Qe.data(),Be,Ke]).then(rt=>{this.logger.logKernelProfile(re,Qe,rt[0],rt[1],Pe,rt[2])})})}}function U(we,Se,re){if("float32"!==Se)return!1;for(let Re=0;Re<we.length;Re++){const Be=we[Re];if(isNaN(Be)||!isFinite(Be))return console.warn(`Found ${Be} in the result of '${re}'`),!0}return!1}class G{logKernelProfile(Se,re,Re,Be,Pe,Ke){const Qe="number"==typeof Be?W.oj(`${Be}ms`,9):Be.error,rt=W.oj(Se,25),st=re.rank,ft=re.size,kt=W.oj(re.shape.toString(),14);let $t="";for(const on in Pe){const On=Pe[on];if(null!=On){const Cn=On.shape||re.shape,Kt=Cn.length;$t+=`${on}: ${Kt}D ${Kt>0?Cn:""} `}}console.log(`%c${rt}\t%c${Qe}\t%c${st}D ${kt}\t%c${ft}\t%c${$t}\t%c${Ke}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var he=v(3531),ce=v(7073),Ae=v(6030);function je(we){return null!=we.kernelName}class Ie{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(Se=>Se.name)))}}}dispose(){for(const Se in this.registeredVariables)this.registeredVariables[Se].dispose()}}let ze=(()=>{class we{constructor(re){this.ENV=re,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Ie}ready(){var re=this;return(0,$.Z)(function*(){if(null!=re.pendingBackendInit)return re.pendingBackendInit.then(()=>{});if(null!=re.backendInstance)return;const Re=re.getSortedBackends();for(let Be=0;Be<Re.length;Be++){const Pe=Re[Be];if(yield re.initializeBackend(Pe).success)return void(yield re.setBackend(Pe))}throw new Error("Could not initialize any backends, all backend initializations failed.")})()}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:re,asyncInit:Re}=this.initializeBackendsAndReturnBest();if(Re)throw new Error(`The highest priority backend '${re}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(re)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(re){if(!(re in this.registry)){if(!(re in this.registryFactory))return null;{const{asyncInit:Re}=this.initializeBackend(re);if(Re)return null}}return this.registry[re]}findBackendFactory(re){return re in this.registryFactory?this.registryFactory[re].factory:null}registerBackend(re,Re,Be=1){return re in this.registryFactory?(Ae.Z(`${re} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[re]={factory:Re,priority:Be},!0)}setBackend(re){var Re=this;return(0,$.Z)(function*(){if(null==Re.registryFactory[re])throw new Error(`Backend name '${re}' not found in registry`);if(Re.backendName=re,null==Re.registry[re]){Re.backendInstance=null;const{success:Be,asyncInit:Pe}=Re.initializeBackend(re);if(!(Pe?yield Be:Be))return!1}return Re.backendInstance=Re.registry[re],Re.setupRegisteredKernels(),Re.profiler=new F(Re.backendInstance),!0})()}setupRegisteredKernels(){(0,B.tr)(this.backendName).forEach(Re=>{null!=Re.setupFunc&&Re.setupFunc(this.backendInstance)})}disposeRegisteredKernels(re){(0,B.tr)(re).forEach(Be=>{null!=Be.disposeFunc&&Be.disposeFunc(this.registry[re])})}initializeBackend(re){const Re=this.registryFactory[re];if(null==Re)throw new Error(`Cannot initialize backend ${re}, no registration found.`);try{const Be=Re.factory();if(!Be||Be instanceof S.Zu||"function"!=typeof Be.then)return this.registry[re]=Be,{success:!0,asyncInit:!1};{const Pe=++this.pendingBackendInitId,Ke=Be.then(Qe=>!(Pe<this.pendingBackendInitId||(this.registry[re]=Qe,this.pendingBackendInit=null,0))).catch(Qe=>(Pe<this.pendingBackendInitId||(this.pendingBackendInit=null,Ae.Z(`Initialization of backend ${re} failed`),Ae.Z(Qe.stack||Qe.message)),!1));return this.pendingBackendInit=Ke,{success:Ke,asyncInit:!0}}}catch(Be){return Ae.Z(`Initialization of backend ${re} failed`),Ae.Z(Be.stack||Be.message),{success:!1,asyncInit:!1}}}removeBackend(re){if(!(re in this.registryFactory))throw new Error(`${re} backend not found in registry`);this.backendName===re&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,re in this.registry&&(this.disposeRegisteredKernels(re),this.registry[re].dispose(),delete this.registry[re]),delete this.registryFactory[re],this.backendName===re&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((re,Re)=>this.registryFactory[Re].priority-this.registryFactory[re].priority)}initializeBackendsAndReturnBest(){const re=this.getSortedBackends();for(let Re=0;Re<re.length;Re++){const Be=re[Re],{success:Pe,asyncInit:Ke}=this.initializeBackend(Be);if(Ke||Pe)return{name:Be,asyncInit:Ke}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(re,Re){const Be=this.state.tensorInfo.get(Re),Pe=Be.backend,Ke=this.readSync(Re),Qe=Pe.refCount(Re);Pe.disposeData(Re,!0),Be.backend=re,re.move(Re,Ke,Be.shape,Be.dtype,Qe),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(re,Re){let Pe,Be=null;if(null==Re){if("function"!=typeof re)throw new Error("Please provide a function to tidy()");Re=re}else{if("string"!=typeof re&&!(re instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof Re)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");Be=re}return this.scopedRun(()=>this.startScope(Be),()=>this.endScope(Pe),()=>(Pe=Re(),Pe instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Pe))}scopedRun(re,Re,Be){re();try{const Pe=Be();return Re(),Pe}catch(Pe){throw Re(),Pe}}nextTensorId(){return we.nextTensorId++}nextVariableId(){return we.nextVariableId++}clone(re){const Re=We.runKernel(N.iJ,{x:re});return this.addTapeNode(this.state.activeScope.name,{x:re},[Re],Qe=>({x:()=>We.runKernel(N.RF,{x:Qe},{dtype:"float32"})}),[],{}),Re}runKernel(re,Re,Be){if(null==(0,B.pI)(re,this.backendName))throw new Error(`Kernel '${re}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:re,inputs:Re,attrs:Be})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(re,Re,Be){const Pe=this.backend.numDataIds();let Ke=0;Be.forEach(st=>{Ke+="complex64"===st.dtype?3:1});const rt=Pe-Re-Ke-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(rt>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${rt} data ids) after running '${re}'`)}runKernelFunc(re){let Re,Be=[];const Pe=this.isTapeOn(),Ke=this.state.numBytes,Qe=this.state.numTensors;let rt,st;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const ft=je(re)?re.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(je(re)){const{kernelName:Cn,inputs:Kt,attrs:cn}=re,Gr=(0,B.pI)(Cn,this.backendName);W.hu(null!=Gr,()=>`Cannot find registered kernel '${Cn}' for backend '${this.backendName}'`),rt=()=>{const mi=this.backend.numDataIds();st=Gr.kernelFunc({inputs:Kt,attrs:cn,backend:this.backend});const dt=Array.isArray(st)?st:[st];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(Cn,mi,dt);const Vt=dt.map(Ln=>{if(null!=Ln.rank)return Ln;const{dataId:Bt,shape:kn,dtype:nt}=Ln;return this.makeTensorFromDataId(Bt,kn,nt)});if(Pe){const Ln=this.getTensorsForGradient(Cn,Kt,Vt);Be=this.saveTensorsForBackwardMode(Ln)}return Vt}}else{const{forwardFunc:Cn}=re,Kt=cn=>{!Pe||(Be=cn.map(Gr=>this.keep(this.clone(Gr))))};rt=()=>{const cn=this.backend.numDataIds();st=this.tidy(()=>Cn(this.backend,Kt));const Gr=Array.isArray(st)?st:[st];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(ft,cn,Gr),Gr}}const{inputs:kt,attrs:$t}=re,on=je(re)?null:re.backwardsFunc;let On;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(On=this.profiler.profileKernel(ft,kt,()=>rt()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(On),Re=On.outputs):Re=rt()}),Pe&&this.addTapeNode(ft,kt,Re,on,Be,$t),this.state.profiling&&this.state.activeProfile.kernels.push({name:ft,bytesAdded:this.state.numBytes-Ke,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-Qe,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(kt).map(Cn=>null!=kt[Cn]?kt[Cn].shape:null),outputShapes:Re.map(Cn=>Cn.shape),kernelTimeMs:On.timeMs,extraInfo:On.extraInfo}),Array.isArray(st)?Re:Re[0]}saveTensorsForBackwardMode(re){return re.map(Be=>this.keep(this.clone(Be)))}getTensorsForGradient(re,Re,Be){const Pe=(0,B.uk)(re);if(null!=Pe){const Ke=Pe.inputsToSave||[],Qe=Pe.outputsToSave||[];let rt;Pe.saveAllInputs?(W.hu(Array.isArray(Re),()=>"saveAllInputs is true, expected inputs to be an array."),rt=Object.keys(Re).map(ft=>Re[ft])):rt=Ke.map(ft=>Re[ft]);const st=Be.filter((ft,kt)=>Qe[kt]);return rt.concat(st)}return[]}makeTensor(re,Re,Be,Pe){if(null==re)throw new Error("Values passed to engine.makeTensor() are null");Pe=Pe||this.backend;let Ke=re;"string"===(Be=Be||"float32")&&W.HD(re[0])&&(Ke=re.map(st=>R.encodeString(st)));const Qe=Pe.write(Ke,Re,Be),rt=new he.es(Re,Be,Qe,this.nextTensorId());if(this.trackTensor(rt,Pe),"string"===Be){const st=this.state.tensorInfo.get(Qe),ft=(0,W.Ub)(Ke);this.state.numBytes+=ft-st.bytes,st.bytes=ft}return rt}makeTensorFromDataId(re,Re,Be,Pe){const Ke=new he.es(Re,Be=Be||"float32",re,this.nextTensorId());return this.trackTensor(Ke,Pe),Ke}makeVariable(re,Re=!0,Be,Pe){Be=Be||this.nextVariableId().toString(),null!=Pe&&Pe!==re.dtype&&(re=re.cast(Pe));const Ke=new he._w(re,Re,Be,this.nextTensorId());if(null!=this.state.registeredVariables[Ke.name])throw new Error(`Variable with name ${Ke.name} was already registered`);return this.state.registeredVariables[Ke.name]=Ke,this.incRef(Ke,this.backend),Ke}trackTensor(re,Re){this.state.numTensors++,"string"===re.dtype&&this.state.numStringTensors++;let Be=0;"complex64"!==re.dtype&&"string"!==re.dtype&&(Be=re.size*W.bT(re.dtype)),this.state.numBytes+=Be,this.state.tensorInfo.has(re.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(re.dataId,{backend:Re||this.backend,dtype:re.dtype,shape:re.shape,bytes:Be})),re instanceof he._w||this.track(re)}incRef(re,Re){this.trackTensor(re,Re),this.backend.incRef(re.dataId)}removeDataId(re,Re){this.state.tensorInfo.has(re)&&this.state.tensorInfo.get(re).backend===Re&&(this.state.tensorInfo.delete(re),this.state.numDataBuffers--)}disposeTensor(re){if(!this.state.tensorInfo.has(re.dataId))return;const Re=this.state.tensorInfo.get(re.dataId);if(this.state.numTensors--,"string"===re.dtype&&(this.state.numStringTensors--,this.state.numBytes-=Re.bytes),"complex64"!==re.dtype&&"string"!==re.dtype){const Be=re.size*W.bT(re.dtype);this.state.numBytes-=Be}Re.backend.disposeData(re.dataId)&&this.removeDataId(re.dataId,Re.backend)}disposeVariables(){for(const re in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[re])}disposeVariable(re){this.disposeTensor(re),null!=this.state.registeredVariables[re.name]&&delete this.state.registeredVariables[re.name]}memory(){const re=this.backend.memory();return re.numTensors=this.state.numTensors,re.numDataBuffers=this.state.numDataBuffers,re.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(re.unreliable=!0,null==re.reasons&&(re.reasons=[]),re.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),re}profile(re){var Re=this;return(0,$.Z)(function*(){Re.state.profiling=!0;const Be=Re.state.numBytes,Pe=Re.state.numTensors;Re.state.activeProfile.kernels=[],Re.state.activeProfile.result=yield re(),Re.state.profiling=!1,Re.state.activeProfile.peakBytes=Math.max(...Re.state.activeProfile.kernels.map(Ke=>Ke.totalBytesSnapshot)),Re.state.activeProfile.newBytes=Re.state.numBytes-Be,Re.state.activeProfile.newTensors=Re.state.numTensors-Pe;for(const Ke of Re.state.activeProfile.kernels)Ke.kernelTimeMs=yield Ke.kernelTimeMs,Ke.extraInfo=yield Ke.extraInfo;return Re.state.activeProfile})()}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(re,Re,Be,Pe,Ke,Qe){const rt={id:this.state.nextTapeNodeId++,kernelName:re,inputs:Re,outputs:Be,saved:Ke},st=(0,B.uk)(re);null!=st&&(Pe=st.gradFunc),null!=Pe&&(rt.gradient=ft=>(ft=ft.map((kt,$t)=>{if(null==kt){const on=Be[$t],On=W.wT(on.size,on.dtype);return this.makeTensor(On,on.shape,on.dtype)}return kt}),Pe(ft.length>1?ft:ft[0],Ke,Qe))),this.state.activeTape.push(rt)}keep(re){return re.kept=!0,re}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(re){const Re={track:[],name:"unnamed scope",id:this.state.nextScopeId++};re&&(Re.name=re),this.state.scopeStack.push(Re),this.state.activeScope=Re}endScope(re){const Re=(0,ce.getTensorsInContainer)(re),Be=new Set(Re.map(Ke=>Ke.id));for(let Ke=0;Ke<this.state.activeScope.track.length;Ke++){const Qe=this.state.activeScope.track[Ke];!Qe.kept&&!Be.has(Qe.id)&&Qe.dispose()}const Pe=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],Re.forEach(Ke=>{!Ke.kept&&Ke.scopeId===Pe.id&&this.track(Ke)})}gradients(re,Re,Be,Pe=!1){if(W.hu(Re.length>0,()=>"gradients() received an empty list of xs."),null!=Be&&"float32"!==Be.dtype)throw new Error(`dy must have 'float32' dtype, but has '${Be.dtype}'`);const Ke=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",re));W.hu(Ke instanceof he.es,()=>"The result y returned by f() must be a tensor.");const Qe=function(we,Se,re){const Re={},Be={};for(let rt=0;rt<Se.length;rt++)Re[Se[rt].id]=!0;for(let rt=0;rt<we.length;rt++){const st=we[rt],ft=st.inputs;for(const kt in ft){const $t=ft[kt];let on=!1;for(let On=0;On<Se.length;On++)if(Re[$t.id]){st.outputs.forEach(Cn=>Re[Cn.id]=!0),on=!0,Be[st.id]=!0;break}if(on)break}}const Pe={};Pe[re.id]=!0;const Ke={};for(let rt=we.length-1;rt>=0;rt--){const st=we[rt],ft=st.inputs;for(let kt=0;kt<st.outputs.length;kt++)if(Pe[st.outputs[kt].id]){for(const $t in ft)Pe[ft[$t].id]=!0,Ke[st.id]=!0;break}}const Qe=[];for(let rt=0;rt<we.length;rt++){const st=we[rt];if(Be[st.id]&&Ke[st.id]){const ft={};for(const $t in st.inputs){const on=st.inputs[$t];Re[on.id]&&(ft[$t]=on)}const kt=Object.assign({},st);kt.inputs=ft,kt.outputs=st.outputs,Qe.push(kt)}}return Qe}(this.state.activeTape,Re,Ke);if(!Pe&&0===Qe.length&&Re.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const rt={};rt[Ke.id]=null==Be?function(we){const Se=(0,W.p8)((0,W.NA)(we),"float32");return We.makeTensor(Se,we,"float32")}(Ke.shape):Be,function(we,Se,re,Re){for(let Be=Se.length-1;Be>=0;Be--){const Pe=Se[Be],Ke=[];if(Pe.outputs.forEach(rt=>{const st=we[rt.id];Ke.push(null!=st?st:null)}),null==Pe.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${Pe.kernelName}.`);const Qe=Pe.gradient(Ke);for(const rt in Pe.inputs){if(!(rt in Qe))throw new Error(`Cannot backprop through input ${rt}. Available gradients found: ${Object.keys(Qe)}.`);const st=re(()=>Qe[rt]());if("float32"!==st.dtype)throw new Error(`Error in gradient for op ${Pe.kernelName}. The gradient of input ${rt} must have 'float32' dtype, but has '${st.dtype}'`);const ft=Pe.inputs[rt];if(!W.cO(st.shape,ft.shape))throw new Error(`Error in gradient for op ${Pe.kernelName}. The gradient of input '${rt}' has shape '${st.shape}', which does not match the shape of the input '${ft.shape}'`);if(null==we[ft.id])we[ft.id]=st;else{const kt=we[ft.id];we[ft.id]=Re(kt,st),kt.dispose()}}}}(rt,Qe,ft=>this.tidy(ft),ge);const st=Re.map(ft=>rt[ft.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(ft=>{for(const kt of ft.saved)kt.dispose()}),this.state.activeTape=null),{value:Ke,grads:st}})}customGrad(re){return W.hu(W.mf(re),()=>"The f passed in customGrad(f) must be a function."),(...Re)=>{let Be;W.hu(Re.every(rt=>rt instanceof he.es),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const Pe={};return Re.forEach((rt,st)=>{Pe[st]=rt}),this.runKernelFunc({forwardFunc:(rt,st)=>(Be=re(...Re,st),W.hu(Be.value instanceof he.es,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),W.hu(W.mf(Be.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),Be.value),backwardsFunc:(rt,st)=>{const ft=Be.gradFunc(rt,st),kt=Array.isArray(ft)?ft:[ft];W.hu(kt.length===Re.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),W.hu(kt.every(on=>on instanceof he.es),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const $t={};return kt.forEach((on,On)=>{$t[On]=()=>on}),$t},inputs:Pe})}}readSync(re){return this.state.tensorInfo.get(re).backend.readSync(re)}read(re){return this.state.tensorInfo.get(re).backend.read(re)}time(re){var Re=this;return(0,$.Z)(function*(){const Be=(0,R.now)(),Pe=yield Re.backend.time(re);return Pe.wallMs=(0,R.now)()-Be,Pe})()}track(re){return null!=this.state.activeScope&&(re.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(re)),re}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Ie;for(const re in this.registry)this.disposeRegisteredKernels(re),this.registry[re].dispose(),delete this.registry[re];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return we.nextTensorId=0,we.nextVariableId=0,we})();function Te(){const we=(0,I.D)();if(null==we._tfengine){const Se=new P.qA(we);we._tfengine=new ze(Se)}return(0,P.iG)(we._tfengine.ENV),(0,he.Vi)(()=>we._tfengine),we._tfengine}const We=Te();function ge(we,Se){return We.runKernel(N.mm,{a:we,b:Se})}},2433:(be,ie,v)=>{"use strict";v.d(ie,{qA:()=>N,OB:()=>F,Vi:()=>U,iG:()=>G});var $=v(8239),S=v(62),P=v(6030);const I="tfjsflags";class N{constructor(J){this.global=J,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=B,this.populateURLFlags()}setPlatform(J,he){null!=this.platform&&P.Z(`Platform ${this.platformName} has already been set. Overwriting the platform with ${he}.`),this.platformName=J,this.platform=he}registerFlag(J,he,ce){if(this.flagRegistry[J]={evaluationFn:he,setHook:ce},null!=this.urlFlags[J]){const Ae=this.urlFlags[J];P.Z(`Setting feature override from URL ${J}: ${Ae}.`),this.set(J,Ae)}}getAsync(J){var he=this;return(0,$.Z)(function*(){return J in he.flags||(he.flags[J]=yield he.evaluateFlag(J)),he.flags[J]})()}get(J){if(J in this.flags)return this.flags[J];const he=this.evaluateFlag(J);if((0,S.tI)(he))throw new Error(`Flag ${J} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[J]=he,this.flags[J]}getNumber(J){return this.get(J)}getBool(J){return this.get(J)}getFlags(){return this.flags}get features(){return this.flags}set(J,he){if(null==this.flagRegistry[J])throw new Error(`Cannot set flag ${J} as it has not been registered.`);this.flags[J]=he,null!=this.flagRegistry[J].setHook&&this.flagRegistry[J].setHook(he)}evaluateFlag(J){if(null==this.flagRegistry[J])throw new Error(`Cannot evaluate flag '${J}': no evaluation function found.`);return this.flagRegistry[J].evaluationFn()}setFlags(J){this.flags=Object.assign({},J)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const J=this.getQueryParams(this.global.location.search);I in J&&J[I].split(",").forEach(ce=>{const[Ae,je]=ce.split(":");this.urlFlags[Ae]=function(K,J){if("true"===(J=J.toLowerCase())||"false"===J)return"true"===J;if(""+ +J===J)return+J;throw new Error(`Could not parse value flag value ${J} for flag ${K}.`)}(Ae,je)})}}function B(K){const J={};return K.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(he,...ce)=>(function(K,J,he){K[decodeURIComponent(J)]=decodeURIComponent(he||"")}(J,ce[0],ce[1]),ce.join("="))),J}function F(){return U}let U=null;function G(K){U=K}},3860:(be,ie,v)=>{"use strict";let $;function S(){if(null==$){let N;if("undefined"!=typeof window)N=window;else if("undefined"!=typeof global)N=global;else if("undefined"!=typeof process)N=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");N=self}$=N}return $}function I(N,B){const R=function(){const N=S();return null==N._tfGlobals&&(N._tfGlobals=new Map),N._tfGlobals}();if(R.has(N))return R.get(N);{const W=B();return R.set(N,W),R.get(N)}}v.d(ie,{D:()=>S,R:()=>I})},6921:(be,ie,v)=>{"use strict";v.d(ie,{cb:()=>U,pn:()=>F,h7:()=>R,fN:()=>W,UQ:()=>N,ti:()=>B});var $=v(6070),S=v(3531),P=v(4810),I=v(62);function N(K){return I.hu(I.mf(K),()=>"The f passed in grad(f) must be a function"),(J,he)=>{const ce=(0,P._1)(J,"x","tf.grad","string_or_numeric"),Ae=null!=he?(0,P._1)(he,"dy","tf.grad"):null;return $.BV.tidy(()=>{const{value:je,grads:Ie}=$.BV.gradients(()=>K(ce),[ce],Ae);return null!=Ae&&I.k5(je.shape,Ae.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),G(Ie),Ie[0]})}}function B(K){return I.hu(I.mf(K),()=>"The f passed in grads(f) must be a function"),(J,he)=>{I.hu(Array.isArray(J),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const ce=(0,P.sI)(J,"args","tf.grads","string_or_numeric"),Ae=null!=he?(0,P._1)(he,"dy","tf.grads"):null;return $.BV.tidy(()=>{const{value:je,grads:Ie}=$.BV.gradients(()=>K(...ce),ce,Ae);return null!=Ae&&I.k5(je.shape,Ae.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),G(Ie),Ie})}}function R(K){return I.hu(I.mf(K),()=>"The f passed in valueAndGrad(f) must be a function"),(J,he)=>{I.hu(J instanceof S.es,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),I.hu(null==he||he instanceof S.es,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:ce,value:Ae}=$.BV.gradients(()=>K(J),[J],he);return G(ce),{grad:ce[0],value:Ae}}}function W(K){return I.hu(I.mf(K),()=>"The f passed in valueAndGrads(f) must be a function"),(J,he)=>{I.hu(Array.isArray(J)&&J.every(Ae=>Ae instanceof S.es),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),I.hu(null==he||he instanceof S.es,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const ce=$.BV.gradients(()=>K(...J),J,he);return null!=he&&I.k5(ce.value.shape,he.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),G(ce.grads),ce}}function F(K,J){I.hu(I.mf(K),()=>"The f passed in variableGrads(f) must be a function"),I.hu(null==J||Array.isArray(J)&&J.every(Te=>Te instanceof S._w),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const he=null!=J;if(!he){J=[];for(const Te in $.BV.registeredVariables)J.push($.BV.registeredVariables[Te])}const ce=he?J.filter(Te=>!Te.trainable):null,Ae=J.length;J=J.filter(Te=>Te.trainable),I.hu(J.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${Ae} variables is trainable.`);const{value:Ie,grads:ze}=$.BV.gradients(K,J,null,!0);I.hu(ze.some(Te=>null!=Te),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),I.hu(0===Ie.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${Ie.rank} tensor`);const et={};return J.forEach((Te,We)=>{null!=ze[We]&&(et[Te.name]=ze[We])}),null!=ce&&ce.forEach(Te=>et[Te.name]=null),{value:Ie,grads:et}}function U(K){return $.BV.customGrad(K)}function G(K){if(K.filter(he=>null==he).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},706:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{Abs:()=>ht.SY,Acos:()=>ht.VG,Acosh:()=>ht.Sp,AdadeltaOptimizer:()=>pf,AdagradOptimizer:()=>zi,AdamOptimizer:()=>rg,AdamaxOptimizer:()=>qh,Add:()=>ht.mm,AddN:()=>ht.Xz,All:()=>ht.oT,Any:()=>ht.IK,ArgMax:()=>ht.sJ,ArgMin:()=>ht.aJ,Asin:()=>ht.M2,Asinh:()=>ht.qw,Atan:()=>ht.jM,Atan2:()=>ht.QC,Atanh:()=>ht.Oy,AvgPool:()=>ht.Jh,AvgPool3D:()=>ht._k,AvgPool3DGrad:()=>ht.IM,AvgPoolGrad:()=>ht.RO,BatchMatMul:()=>ht.XL,BatchToSpaceND:()=>ht.zw,Bincount:()=>ht.zv,BroadcastArgs:()=>ht.eE,BroadcastTo:()=>ht.Ly,Cast:()=>ht.RF,Ceil:()=>ht.gJ,ClipByValue:()=>ht.xn,Complex:()=>ht.Zz,ComplexAbs:()=>ht.yj,Concat:()=>ht.Eh,Conv2D:()=>ht.mh,Conv2DBackpropFilter:()=>ht.wU,Conv2DBackpropInput:()=>ht.wm,Conv3D:()=>ht.x1,Conv3DBackpropFilterV2:()=>ht.o2,Conv3DBackpropInputV2:()=>ht.ik,Cos:()=>ht.mc,Cosh:()=>ht.TR,CropAndResize:()=>ht.Vc,Cumsum:()=>ht.iH,DataStorage:()=>NE.JL,DenseBincount:()=>ht.QR,DepthToSpace:()=>ht.T0,DepthwiseConv2dNative:()=>ht.ci,DepthwiseConv2dNativeBackpropFilter:()=>ht.sL,DepthwiseConv2dNativeBackpropInput:()=>ht.y7,Diag:()=>ht.$w,Dilation2D:()=>ht.p4,Dilation2DBackpropFilter:()=>ht.Vn,Dilation2DBackpropInput:()=>ht.ek,ENV:()=>ze.Vi,Einsum:()=>ht.$g,Elu:()=>ht.SX,EluGrad:()=>ht.HE,Environment:()=>ze.qA,Equal:()=>ht.hd,Erf:()=>ht.Om,Exp:()=>ht.NE,ExpandDims:()=>ht.YF,Expm1:()=>ht.Y0,FFT:()=>ht.vw,Fill:()=>ht.de,FlipLeftRight:()=>ht.Uy,Floor:()=>ht.OR,FloorDiv:()=>ht.je,FromPixels:()=>ht.eB,FusedBatchNorm:()=>ht.sH,FusedConv2D:()=>ht._V,FusedDepthwiseConv2D:()=>ht.lu,GatherNd:()=>ht.q1,GatherV2:()=>ht.qi,Greater:()=>ht.iZ,GreaterEqual:()=>ht.Ac,IFFT:()=>ht.Qg,Identity:()=>ht.iJ,Imag:()=>ht.J_,IsFinite:()=>ht.av,IsInf:()=>ht.iW,IsNan:()=>ht.r7,KernelBackend:()=>NE.Zu,LRN:()=>ht.eZ,LRNGrad:()=>ht.Hh,LeakyRelu:()=>ht.J$,Less:()=>ht.vt,LessEqual:()=>ht.CA,LinSpace:()=>ht.e7,Log:()=>ht.Zb,Log1p:()=>ht.kU,LogSoftmax:()=>ht.qC,LogicalAnd:()=>ht.PY,LogicalNot:()=>ht.Vf,LogicalOr:()=>ht.MZ,Max:()=>ht.Yo,MaxPool:()=>ht.mT,MaxPool3D:()=>ht.OA,MaxPool3DGrad:()=>ht.OU,MaxPoolGrad:()=>ht.OV,MaxPoolWithArgmax:()=>ht.vF,Maximum:()=>ht.BM,Mean:()=>ht.q2,Min:()=>ht.c1,Minimum:()=>ht.q8,MirrorPad:()=>ht.jQ,Mod:()=>ht.Vb,MomentumOptimizer:()=>ig,Multinomial:()=>ht.NZ,Multiply:()=>ht.wY,Neg:()=>ht.ku,NonMaxSuppressionV3:()=>ht.uv,NonMaxSuppressionV4:()=>ht.cy,NonMaxSuppressionV5:()=>ht.W0,NotEqual:()=>ht.yQ,OP_SCOPE_SUFFIX:()=>vn.z,OneHot:()=>ht.we,OnesLike:()=>ht.qW,Optimizer:()=>Oa,OptimizerConstructors:()=>uh,Pack:()=>ht.Qi,PadV2:()=>ht.ly,Pool:()=>ht.Kg,Pow:()=>ht.pe,Prelu:()=>ht.o0,Prod:()=>ht.Dl,RMSPropOptimizer:()=>mf,Range:()=>ht.e6,Rank:()=>gf.yw,Real:()=>ht.xJ,RealDiv:()=>ht.oH,Reciprocal:()=>ht.$H,Reduction:()=>Dl,Relu:()=>ht.qk,Relu6:()=>ht.Sb,Reshape:()=>ht.HZ,ResizeBilinear:()=>ht._Y,ResizeBilinearGrad:()=>ht.zb,ResizeNearestNeighbor:()=>ht.dp,ResizeNearestNeighborGrad:()=>ht.Hm,Reverse:()=>ht.mK,RotateWithOffset:()=>ht.b9,Round:()=>ht.e0,Rsqrt:()=>ht.bV,SGDOptimizer:()=>pc,ScatterNd:()=>ht.xQ,Select:()=>ht.Ph,Selu:()=>ht.oF,Sigmoid:()=>ht.a5,Sign:()=>ht.i5,Sin:()=>ht.RQ,Sinh:()=>ht.w3,Slice:()=>ht.p2,Softmax:()=>ht.Gc,Softplus:()=>ht.MR,SpaceToBatchND:()=>ht.TQ,SparseFillEmptyRows:()=>ht.O3,SparseReshape:()=>ht.nh,SparseSegmentMean:()=>ht.YW,SparseSegmentSum:()=>ht.Zj,SparseToDense:()=>ht.D2,SplitV:()=>ht.L8,Sqrt:()=>ht.FK,Square:()=>ht.bK,SquaredDifference:()=>ht._t,Step:()=>ht.h8,StridedSlice:()=>ht.m2,StringNGrams:()=>ht._J,StringSplit:()=>ht.s1,StringToHashBucketFast:()=>ht.Xk,Sub:()=>ht.Tr,Sum:()=>ht.GB,Tan:()=>ht.sE,Tanh:()=>ht.MI,Tensor:()=>Ts.es,TensorBuffer:()=>Ts.YD,Tile:()=>ht.n9,TopK:()=>ht.cW,Transform:()=>ht.wx,Transpose:()=>ht.G3,Unique:()=>ht.kp,Unpack:()=>ht.To,UnsortedSegmentSum:()=>ht.Qv,Variable:()=>Ts._w,ZerosLike:()=>ht.Ru,_FusedMatMul:()=>ht.us,abs:()=>ed.W,acos:()=>sg.K,acosh:()=>ag._,add:()=>Rr.I,addN:()=>Gx,all:()=>VC.$,any:()=>sy.Y,argMax:()=>Id.N,argMin:()=>ep.v,asin:()=>Ei.Z,asinh:()=>Li.V,atan:()=>lh.z,atan2:()=>Wl.f,atanh:()=>_f.C,avgPool:()=>ay.w,avgPool3d:()=>ch,backend:()=>Ao,backend_util:()=>G,basicLSTMCell:()=>yf,batchNorm:()=>Fs.t,batchNorm2d:()=>mc,batchNorm3d:()=>La,batchNorm4d:()=>zC,batchToSpaceND:()=>Kx.E,bincount:()=>zu,booleanMaskAsync:()=>QA,broadcastArgs:()=>tp,broadcastTo:()=>oo.U,browser:()=>I,buffer:()=>Da,cast:()=>ka.p,ceil:()=>qu.m,clipByValue:()=>T0.i,clone:()=>Mr.d,complex:()=>We.P,concat:()=>aa.z,concat1d:()=>Xx,concat2d:()=>nd,concat3d:()=>qr,concat4d:()=>Zx,conv1d:()=>ly.P,conv2d:()=>Yp.T,conv2dTranspose:()=>q1.b,conv3d:()=>In,conv3dTranspose:()=>To,copyRegisteredKernels:()=>Qc.T3,cos:()=>vf.m,cosh:()=>ju.f,cosineWindow:()=>XC,cumsum:()=>Su.z,customGrad:()=>Qr.cb,denseBincount:()=>go,deprecationWarn:()=>$l,depthToSpace:()=>Ya.n,depthwiseConv2d:()=>Ga.B,device_util:()=>$,diag:()=>uo,dilation2d:()=>wa.W,disableDeprecationWarnings:()=>wi,dispose:()=>mo,disposeVariables:()=>Vl,div:()=>Ui.h,divNoNan:()=>Fa.N,dot:()=>el.A,dropout:()=>by,einsum:()=>ko,elu:()=>cg.p,enableDebugMode:()=>Ds,enableProdMode:()=>Ad,enclosingPowerOfTwo:()=>gg,engine:()=>S0,env:()=>ze.OB,equal:()=>dg.D,erf:()=>k0.q,exp:()=>dh.Q,expandDims:()=>yc.d,expm1:()=>Nd.t,eye:()=>I0,fft:()=>Qx.k,fill:()=>Jh,findBackend:()=>Zh,findBackendFactory:()=>Td,floor:()=>Kp.G,floorDiv:()=>bf.q,fused:()=>F,gather:()=>xf.I,gatherND:()=>tT,gather_util:()=>N,getBackend:()=>ah,getGradient:()=>Qc.uk,getKernel:()=>Qc.pI,getKernelsForBackend:()=>Qc.tr,grad:()=>Qr.UQ,grads:()=>Qr.ti,greater:()=>Uo.p,greaterEqual:()=>Xp.b,ifft:()=>$0.S,imag:()=>N0.a,image:()=>vT,inTopKAsync:()=>nT,io:()=>S,irfft:()=>hF.w,isFinite:()=>np.x,isInf:()=>rp.U,isNaN:()=>O0.i,keep:()=>zl,kernel_impls:()=>K,leakyRelu:()=>Au.h,less:()=>tl.d,lessEqual:()=>Ps.z,linalg:()=>kF,linspace:()=>Wu,localResponseNormalization:()=>cy.G,log:()=>L0.c,log1p:()=>F0.K,logSigmoid:()=>ev.e,logSoftmax:()=>tv.C,logSumExp:()=>ip.l,logicalAnd:()=>fh.H,logicalNot:()=>fg.h,logicalOr:()=>Od.K,logicalXor:()=>Df.e,losses:()=>bT,matMul:()=>Ni.O,math:()=>P,max:()=>dy.F,maxPool:()=>Ld._,maxPool3d:()=>Fd,maxPoolWithArgmax:()=>ap,maximum:()=>Qh.g,mean:()=>sd.J,memory:()=>sh,meshgrid:()=>Rn,min:()=>hg.V,minimum:()=>fy.L,mirrorPad:()=>op.V,mod:()=>es.w,moments:()=>Hu,movingAverage:()=>_h,mul:()=>tr.d,multiRNNCell:()=>hh,multinomial:()=>ph,neg:()=>Iu.W,nextFrame:()=>yE,norm:()=>qA.K,notEqual:()=>Yo.Q,oneHot:()=>Oi.l,ones:()=>ad.i,onesLike:()=>py.J,op:()=>vn.op,outerProduct:()=>vc,pad:()=>Pd.v,pad1d:()=>up,pad2d:()=>Jp,pad3d:()=>D,pad4d:()=>k,pool:()=>j.d,pow:()=>jl.s,prelu:()=>ee.A,print:()=>oc,prod:()=>le.W,profile:()=>au,rand:()=>de,randomGamma:()=>ci,randomNormal:()=>ss,randomUniform:()=>os,range:()=>Cs,ready:()=>tg,real:()=>Go.k,reciprocal:()=>Ko.M,registerBackend:()=>kd,registerGradient:()=>Qc.Li,registerKernel:()=>Qc.wC,relu:()=>Pa.U,relu6:()=>Xr.b,removeBackend:()=>ng,reshape:()=>vi.X,reverse:()=>bc.G,reverse1d:()=>Qp,reverse2d:()=>V,reverse3d:()=>De,reverse4d:()=>Ze,rfft:()=>qx.Q,round:()=>Ct.N,rsqrt:()=>dn.b,scalar:()=>Pi.i,scatterND:()=>Y0,scatter_util:()=>B,selu:()=>jr.U,separableConv2d:()=>as.U,serialization:()=>R,setBackend:()=>Xh,setPlatform:()=>oh,setdiff1dAsync:()=>xc,sigmoid:()=>Ul.X,sign:()=>qp.X,signal:()=>yD,sin:()=>lF.O,sinh:()=>Cf.R,slice:()=>Ks.t,slice1d:()=>Jx,slice2d:()=>pg,slice3d:()=>cF,slice4d:()=>fF,slice_util:()=>qi,softmax:()=>tV.X,softplus:()=>ZA.W,spaceToBatchND:()=>Rd.f,sparse:()=>IF,sparseToDense:()=>rv,spectral:()=>Mf,split:()=>jC.V,sqrt:()=>Vu._,square:()=>ws.h,squaredDifference:()=>WC.$,squeeze:()=>eD.L,stack:()=>my.k,step:()=>V0.N,stridedSlice:()=>z0.N,string:()=>mE,sub:()=>Ai.l,sum:()=>Nu.S,sumOutType:()=>gf.z4,tan:()=>gy.O,tanh:()=>ug.A,tensor:()=>Se,tensor1d:()=>gh,tensor2d:()=>em,tensor3d:()=>ff,tensor4d:()=>j0,tensor5d:()=>_y,tensor6d:()=>pF,tensor_util:()=>Ys,test_util:()=>W,tidy:()=>Gs,tile:()=>id.G,time:()=>Ls,topk:()=>JA.h,train:()=>gE,transpose:()=>Eu.p,truncatedNormal:()=>tD,unique:()=>mF.T,unregisterGradient:()=>Qc.bt,unregisterKernel:()=>Qc.nE,unsortedSegmentSum:()=>yy.p,unstack:()=>mg.H,upcastType:()=>gf.x8,util:()=>Ia,valueAndGrad:()=>Qr.h7,valueAndGrads:()=>Qr.fN,variable:()=>W0,variableGrads:()=>Qr.pn,version_core:()=>Na,where:()=>H0.a,whereAsync:()=>lp,zeros:()=>U0.l,zerosLike:()=>is.P});var $={};v.r($),v.d($,{isBrowser:()=>Ie,isMobile:()=>je,mockIsMobile:()=>Ae});var S={};v.r(S),v.d(S,{browserFiles:()=>Nt,browserHTTPRequest:()=>fn,concatenateArrayBuffers:()=>on,copyModel:()=>sa,decodeWeights:()=>Qe,encodeWeights:()=>Pe,fromMemory:()=>Vi,getLoadHandlers:()=>zt,getModelArtifactsForJSON:()=>Kt,getModelArtifactsInfoForJSON:()=>Gr,getSaveHandlers:()=>Et,http:()=>Ft,isHTTPScheme:()=>Oe,listModels:()=>rs,loadWeights:()=>bn,moveModel:()=>jo,registerLoadRouter:()=>nt,registerSaveRouter:()=>kn,removeModel:()=>Hn,weightsLoaderFactory:()=>dr,withSaveHandler:()=>xs});var P={};v.r(P),v.d(P,{confusionMatrix:()=>gr});var I={};v.r(I),v.d(I,{fromPixels:()=>Us,fromPixelsAsync:()=>jp,toPixels:()=>cc});var N={};v.r(N),v.d(N,{prepareAndValidate:()=>qc});var B={};v.r(B),v.d(B,{calculateShapes:()=>rh,validateInput:()=>ao,validateUpdateShape:()=>dc});var R={};v.r(R),v.d(R,{Serializable:()=>hf,SerializationMap:()=>Mu,registerClass:()=>Bn});var W={};v.r(W),v.d(W,{TEST_EPSILON_FLOAT16:()=>hc,encodeStrings:()=>Ha,expectArrayBuffersEqual:()=>Wa,expectArraysClose:()=>Qu,expectArraysEqual:()=>yi,expectNumbersClose:()=>ks,expectPromiseToFail:()=>er,expectValuesInRange:()=>po,testEpsilon:()=>ih});var F={};v.r(F),v.d(F,{conv2d:()=>_F,depthwiseConv2d:()=>qC,matMul:()=>lD});var U={};v.r(U),v.d(U,{collectGatherOpShapeInfo:()=>CT,computeOutShape:()=>IE,segOpComputeOptimalWindowSize:()=>rm});var G={};v.r(G),v.d(G,{ERF_A1:()=>bD,ERF_A2:()=>mv,ERF_A3:()=>My,ERF_A4:()=>xE,ERF_A5:()=>xD,ERF_P:()=>Dg,PARALLELIZE_THRESHOLD:()=>xT,SELU_SCALE:()=>Q0.$,SELU_SCALEALPHA:()=>Q0.y,applyActivation:()=>G0,assertAndGetBroadcastShape:()=>xy.$N,assertAxesAreInnerMostDims:()=>Tu.lB,assertParamsConsistent:()=>J0,assignToTypedArray:()=>DT,axesAreInnerMostDims:()=>Tu.YB,calculateShapes:()=>rh,checkEinsumDimSizes:()=>Cg,combineLocations:()=>Tu.Vh,complexWithEvenIndex:()=>DD,complexWithOddIndex:()=>wE,computeConv2DInfo:()=>ou.Ix,computeConv3DInfo:()=>ou.jw,computeDefaultPad:()=>ou.aO,computeDilation2DInfo:()=>ou.Rf,computeOptimalWindowSize:()=>NF,computeOutAndReduceShapes:()=>Tu.kz,computeOutShape:()=>lu,computePool2DInfo:()=>ou.Xw,computePool3DInfo:()=>ou.pl,convertConv2DDataFormat:()=>ou.sl,decodeEinsumEquation:()=>Sy,eitherStridesOrDilationsAreOne:()=>ou.jT,expandShapeToKeepDim:()=>Tu.rv,exponent:()=>EE,exponents:()=>CE,fromStringArrayToUint8:()=>yv,fromUint8ToStringArray:()=>LF,getAxesPermutation:()=>Tu.Q3,getBroadcastDims:()=>xy.XF,getComplexWithIndex:()=>wD,getEinsumComputePath:()=>AE,getEinsumPermutation:()=>Ay,getFusedBiasGradient:()=>_g,getFusedDyActivation:()=>oD,getImageCenter:()=>vE,getInnerMostAxes:()=>Tu.sY,getPermuted:()=>Bd,getReductionAxes:()=>xy.RR,getReshaped:()=>uV,getReshapedPermuted:()=>bE,getSliceBeginCoords:()=>vD,getSliceSize:()=>OF,getUndoAxesPermutation:()=>Tu.LJ,isIdentityPermutation:()=>wT,log:()=>DE.c,mergeRealAndImagArrays:()=>wg,prepareAndValidate:()=>qc,prepareSplitSize:()=>kE,segment_util:()=>U,shouldFuse:()=>cp,slice_util:()=>qi,splitRealAndImagArrays:()=>gv,tupleValuesAreOne:()=>ou.I0,upcastType:()=>gf.x8,validateInput:()=>ao,validateUpdateShape:()=>dc,warn:()=>DE.Z});var K={};v.r(K),v.d(K,{nonMaxSuppressionV3Impl:()=>vh,nonMaxSuppressionV4Impl:()=>Dy,nonMaxSuppressionV5Impl:()=>nE,whereImpl:()=>Xn});var J=v(6070);let ce;function Ae(q){ce=q}function je(q){if(void 0!==ce)return ce;if(q||"undefined"!=typeof navigator&&null!=navigator){if(q||(q=navigator),"ReactNative"===q.product)return!0;const ae=q.userAgent||q.vendor||("undefined"!=typeof window?window.opera:"");if(!ae){const Z=q;return Z.userAgentData&&Z.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(ae)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ae.substr(0,4))}return!1}function Ie(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var ze=v(2433);const et=(0,ze.OB)();et.registerFlag("DEBUG",()=>!1,q=>{q&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),et.registerFlag("IS_BROWSER",()=>Ie()),et.registerFlag("IS_NODE",()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node),et.registerFlag("IS_CHROME",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),et.registerFlag("PROD",()=>!1),et.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>et.getBool("DEBUG")),et.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),et.registerFlag("IS_TEST",()=>!1),et.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0),et.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);var Te=v(8239),We=v(7401),ge=v(4810),we=v(299);function Se(q,ae,Z){const oe=(0,ge.C)(q,Z);return(0,we.H)(q,ae,oe,Z)}var re=v(62);const Re={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function Pe(q,ae){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,Te.Z)(function*(q,ae){const Z=[],oe=[],me=Array.isArray(q)?q.map(Me=>Me.name):Object.keys(q);for(let Me=0;Me<me.length;++Me){const Ye=me[Me],ut=Array.isArray(q)?q[Me].tensor:q[Ye];if("float32"!==ut.dtype&&"int32"!==ut.dtype&&"bool"!==ut.dtype&&"string"!==ut.dtype&&"complex64"!==ut.dtype)throw new Error(`Unsupported dtype in weight '${Ye}': ${ut.dtype}`);const lt={name:Ye,shape:ut.shape,dtype:ut.dtype};if("string"===ut.dtype){const wt=new Promise(function(){var vt=(0,Te.Z)(function*(Yt){const hn=yield ut.bytes(),Fn=hn.reduce((Wr,ls)=>Wr+ls.length,0)+4*hn.length,Un=new Uint8Array(Fn);let $n=0;for(let Wr=0;Wr<hn.length;Wr++){const ls=hn[Wr],ga=new Uint8Array(new Uint32Array([ls.length]).buffer);Un.set(ga,$n),$n+=4,Un.set(ls,$n),$n+=ls.length}Yt(Un)});return function(Yt){return vt.apply(this,arguments)}}());oe.push(wt)}else oe.push(ut.data());null!=ae&&(lt.group=ae),Z.push(lt)}return{data:rt(yield Promise.all(oe)),specs:Z}})).apply(this,arguments)}function Qe(q,ae){const Z={};let oe,me=0;for(const xe of ae){const Me=xe.name,Ye=xe.dtype,ut=xe.shape,lt=(0,re.NA)(ut);let wt;if("quantization"in xe){const vt=xe.quantization;if("uint8"===vt.dtype||"uint16"===vt.dtype){if(!("min"in vt)||!("scale"in vt))throw new Error(`Weight ${xe.name} with quantization ${vt.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==vt.dtype)throw new Error(`Weight ${xe.name} has unknown quantization dtype ${vt.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==Ye)throw new Error(`Weight ${xe.name} is quantized with ${vt.dtype} which only supports weights of type float32 not ${Ye}.`)}const Yt=Re[vt.dtype],hn=q.slice(me,me+lt*Yt),Fn="uint8"===vt.dtype?new Uint8Array(hn):new Uint16Array(hn);if("float32"===Ye)if("uint8"===vt.dtype||"uint16"===vt.dtype){wt=new Float32Array(Fn.length);for(let Un=0;Un<Fn.length;Un++)wt[Un]=Fn[Un]*vt.scale+vt.min}else{if("float16"!==vt.dtype)throw new Error(`Unsupported quantization type ${vt.dtype} for weight type float32.`);void 0===oe&&(oe=Ln()),wt=oe(Fn)}else{if("int32"!==Ye)throw new Error(`Unsupported dtype in weight '${Me}': ${Ye}`);if("uint8"!==vt.dtype&&"uint16"!==vt.dtype)throw new Error(`Unsupported quantization type ${vt.dtype} for weight type int32.`);wt=new Int32Array(Fn.length);for(let Un=0;Un<Fn.length;Un++)wt[Un]=Math.round(Fn[Un]*vt.scale+vt.min)}me+=lt*Yt}else if("string"===Ye){const vt=(0,re.NA)(xe.shape);wt=[];for(let Yt=0;Yt<vt;Yt++){const hn=new Uint32Array(q.slice(me,me+4))[0];me+=4;const Fn=new Uint8Array(q.slice(me,me+hn));wt.push(Fn),me+=hn}}else{const vt=Re[Ye],Yt=q.slice(me,me+lt*vt);if("float32"===Ye)wt=new Float32Array(Yt);else if("int32"===Ye)wt=new Int32Array(Yt);else if("bool"===Ye)wt=new Uint8Array(Yt);else{if("complex64"!==Ye)throw new Error(`Unsupported dtype in weight '${Me}': ${Ye}`);{wt=new Float32Array(Yt);const hn=new Float32Array(wt.length/2),Fn=new Float32Array(wt.length/2);for(let Wr=0;Wr<hn.length;Wr++)hn[Wr]=wt[2*Wr],Fn[Wr]=wt[2*Wr+1];const Un=Se(hn,ut,"float32"),$n=Se(Fn,ut,"float32");Z[Me]=(0,We.P)(Un,$n),Un.dispose(),$n.dispose()}}me+=lt*vt}"complex64"!==Ye&&(Z[Me]=Se(wt,ut,Ye))}return Z}function rt(q){if(null===q)throw new Error(`Invalid input value: ${JSON.stringify(q)}`);let ae=0;const Z=[];q.forEach(xe=>{if(ae+=xe.byteLength,Z.push(xe.byteLength===xe.buffer.byteLength?xe:new xe.constructor(xe)),!(xe instanceof Float32Array||xe instanceof Int32Array||xe instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${xe.constructor.name}`)});const oe=new Uint8Array(ae);let me=0;return Z.forEach(xe=>{oe.set(new Uint8Array(xe.buffer),me),me+=xe.byteLength}),oe.buffer}const st="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function ft(q){return st?Buffer.byteLength(q):new Blob([q]).size}function on(q){if(1===q.length)return q[0];let ae=0;q.forEach(me=>{ae+=me.byteLength});const Z=new Uint8Array(ae);let oe=0;return q.forEach(me=>{Z.set(new Uint8Array(me),oe),oe+=me.byteLength}),Z.buffer}function On(q){for(q=q.trim();q.endsWith("/");)q=q.slice(0,q.length-1);const Z=q.split("/");return Z[Z.length-1]}function Cn(q,ae){const Z={modelTopology:q.modelTopology,format:q.format,generatedBy:q.generatedBy,convertedBy:q.convertedBy,weightsManifest:ae};return null!=q.signature&&(Z.signature=q.signature),null!=q.userDefinedMetadata&&(Z.userDefinedMetadata=q.userDefinedMetadata),null!=q.modelInitializer&&(Z.modelInitializer=q.modelInitializer),null!=q.trainingConfig&&(Z.trainingConfig=q.trainingConfig),Z}function Kt(q,ae){return cn.apply(this,arguments)}function cn(){return(cn=(0,Te.Z)(function*(q,ae){const Z={modelTopology:q.modelTopology,format:q.format,generatedBy:q.generatedBy,convertedBy:q.convertedBy};if(null!=q.trainingConfig&&(Z.trainingConfig=q.trainingConfig),null!=q.weightsManifest){const[oe,me]=yield ae(q.weightsManifest);Z.weightSpecs=oe,Z.weightData=me}return null!=q.signature&&(Z.signature=q.signature),null!=q.userDefinedMetadata&&(Z.userDefinedMetadata=q.userDefinedMetadata),null!=q.modelInitializer&&(Z.modelInitializer=q.modelInitializer),Z})).apply(this,arguments)}function Gr(q){if(q.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==q.modelTopology?0:ft(JSON.stringify(q.modelTopology)),weightSpecsBytes:null==q.weightSpecs?0:ft(JSON.stringify(q.weightSpecs)),weightDataBytes:null==q.weightData?0:q.weightData.byteLength}}function Ln(){const q=function(){const q=Z=>{let oe=Z<<13,me=0;for(;0==(8388608&oe);)me-=8388608,oe<<=1;return oe&=-8388609,me+=947912704,oe|me},ae=new Uint32Array(2048);ae[0]=0;for(let Z=1;Z<1024;Z++)ae[Z]=q(Z);for(let Z=1024;Z<2048;Z++)ae[Z]=939524096+(Z-1024<<13);return ae}(),ae=function(){const q=new Uint32Array(64);q[0]=0,q[31]=1199570944,q[32]=2147483648,q[63]=3347054592;for(let ae=1;ae<31;ae++)q[ae]=ae<<23;for(let ae=33;ae<63;ae++)q[ae]=2147483648+(ae-32<<23);return q}(),Z=function(){const q=new Uint32Array(64);for(let ae=0;ae<64;ae++)q[ae]=1024;return q[0]=q[32]=0,q}();return oe=>{const me=new ArrayBuffer(4*oe.length),xe=new Uint32Array(me);for(let Me=0;Me<oe.length;Me++){const Ye=oe[Me];xe[Me]=q[Z[Ye>>10]+(1023&Ye)]+ae[Ye>>10]}return new Float32Array(me)}}class Bt{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Bt.instance&&(Bt.instance=new Bt),Bt.instance}static registerSaveRouter(ae){Bt.getInstance().saveRouters.push(ae)}static registerLoadRouter(ae){Bt.getInstance().loadRouters.push(ae)}static getSaveHandlers(ae){return Bt.getHandlers(ae,"save")}static getLoadHandlers(ae,Z){return Bt.getHandlers(ae,"load",Z)}static getHandlers(ae,Z,oe){const me=[];return("load"===Z?Bt.getInstance().loadRouters:Bt.getInstance().saveRouters).forEach(Me=>{const Ye=Me(ae,oe);null!==Ye&&me.push(Ye)}),me}}const kn=q=>Bt.registerSaveRouter(q),nt=q=>Bt.registerLoadRouter(q),Et=q=>Bt.getSaveHandlers(q),zt=(q,ae)=>Bt.getLoadHandlers(q,ae),an="tensorflowjs",xr="models_store",Tn="model_info_store";function hi(){if(!(0,ze.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const q="undefined"==typeof window?self:window,ae=q.indexedDB||q.mozIndexedDB||q.webkitIndexedDB||q.msIndexedDB||q.shimIndexedDB;if(null==ae)throw new Error("The current browser does not appear to support IndexedDB.");return ae}function mr(q){const ae=q.result;ae.createObjectStore(xr,{keyPath:"modelPath"}),ae.createObjectStore(Tn,{keyPath:"modelPath"})}let ni=(()=>{class q{constructor(Z){if(this.indexedDB=hi(),null==Z||!Z)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=Z}save(Z){var oe=this;return(0,Te.Z)(function*(){if(Z.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return oe.databaseAction(oe.modelPath,Z)})()}load(){var Z=this;return(0,Te.Z)(function*(){return Z.databaseAction(Z.modelPath)})()}databaseAction(Z,oe){return new Promise((me,xe)=>{const Me=this.indexedDB.open(an,1);Me.onupgradeneeded=()=>mr(Me),Me.onsuccess=()=>{const Ye=Me.result;if(null==oe){const ut=Ye.transaction(xr,"readonly"),wt=ut.objectStore(xr).get(this.modelPath);wt.onsuccess=()=>{if(null==wt.result)return Ye.close(),xe(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));me(wt.result.modelArtifacts)},wt.onerror=vt=>(Ye.close(),xe(wt.error)),ut.oncomplete=()=>Ye.close()}else{const ut=Gr(oe),lt=Ye.transaction(Tn,"readwrite");let wt=lt.objectStore(Tn);const vt=wt.put({modelPath:this.modelPath,modelArtifactsInfo:ut});let Yt;vt.onsuccess=()=>{Yt=Ye.transaction(xr,"readwrite");const Fn=Yt.objectStore(xr).put({modelPath:this.modelPath,modelArtifacts:oe,modelArtifactsInfo:ut});Fn.onsuccess=()=>me({modelArtifactsInfo:ut}),Fn.onerror=Un=>{wt=lt.objectStore(Tn);const $n=wt.delete(this.modelPath);$n.onsuccess=()=>(Ye.close(),xe(Fn.error)),$n.onerror=Wr=>(Ye.close(),xe(Fn.error))}},vt.onerror=hn=>(Ye.close(),xe(vt.error)),lt.oncomplete=()=>{null==Yt?Ye.close():Yt.oncomplete=()=>Ye.close()}}},Me.onerror=Ye=>xe(Me.error)})}}return q.URL_SCHEME="indexeddb://",q})();const Ss=q=>(0,ze.OB)().getBool("IS_BROWSER")&&!Array.isArray(q)&&q.startsWith(ni.URL_SCHEME)?function(q){return new ni(q)}(q.slice(ni.URL_SCHEME.length)):null;Bt.registerSaveRouter(Ss),Bt.registerLoadRouter(Ss);class wr{constructor(){this.indexedDB=hi()}listModels(){var ae=this;return(0,Te.Z)(function*(){return new Promise((Z,oe)=>{const me=ae.indexedDB.open(an,1);me.onupgradeneeded=()=>mr(me),me.onsuccess=()=>{const xe=me.result,Me=xe.transaction(Tn,"readonly"),ut=Me.objectStore(Tn).getAll();ut.onsuccess=()=>{const lt={};for(const wt of ut.result)lt[wt.modelPath]=wt.modelArtifactsInfo;Z(lt)},ut.onerror=lt=>(xe.close(),oe(ut.error)),Me.oncomplete=()=>xe.close()},me.onerror=xe=>oe(me.error)})})()}removeModel(ae){var Z=this;return(0,Te.Z)(function*(){return ae=(q=ae).startsWith(ni.URL_SCHEME)?q.slice(ni.URL_SCHEME.length):q,new Promise((oe,me)=>{const xe=Z.indexedDB.open(an,1);xe.onupgradeneeded=()=>mr(xe),xe.onsuccess=()=>{const Me=xe.result,Ye=Me.transaction(Tn,"readwrite"),ut=Ye.objectStore(Tn),lt=ut.get(ae);let wt;lt.onsuccess=()=>{if(null==lt.result)return Me.close(),me(new Error(`Cannot find model with path '${ae}' in IndexedDB.`));{const vt=ut.delete(ae),Yt=()=>{wt=Me.transaction(xr,"readwrite");const Fn=wt.objectStore(xr).delete(ae);Fn.onsuccess=()=>oe(lt.result.modelArtifactsInfo),Fn.onerror=Un=>me(lt.error)};vt.onsuccess=Yt,vt.onerror=hn=>(Yt(),Me.close(),me(lt.error))}},lt.onerror=vt=>(Me.close(),me(lt.error)),Ye.oncomplete=()=>{null==wt?Me.close():wt.oncomplete=()=>Me.close()}},xe.onerror=Me=>me(xe.error)});var q})()}}const Ur="/",ra="tensorflowjs_models",vs="info",or="model_topology",iu="weight_specs",Aa="weight_data",ia="model_metadata";function Bl(q){return{info:[ra,q,vs].join(Ur),topology:[ra,q,or].join(Ur),weightSpecs:[ra,q,iu].join(Ur),weightData:[ra,q,Aa].join(Ur),modelMetadata:[ra,q,ia].join(Ur)}}function Zu(q){for(const ae of Object.values(q))window.localStorage.removeItem(ae)}function Qi(q){const ae=q.split(Ur);if(ae.length<3)throw new Error(`Invalid key format: ${q}`);return ae.slice(1,ae.length-1).join(Ur)}let pi=(()=>{class q{constructor(Z){if(!(0,ze.OB)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==Z||!Z)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=Z,this.keys=Bl(this.modelPath)}save(Z){var oe=this;return(0,Te.Z)(function*(){if(Z.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const me=JSON.stringify(Z.modelTopology),xe=JSON.stringify(Z.weightSpecs),Me=Gr(Z);try{return oe.LS.setItem(oe.keys.info,JSON.stringify(Me)),oe.LS.setItem(oe.keys.topology,me),oe.LS.setItem(oe.keys.weightSpecs,xe),oe.LS.setItem(oe.keys.weightData,function(q){if(st)return Buffer.from(q).toString("base64");const ae=new Uint8Array(q);let Z="";for(let oe=0,me=ae.length;oe<me;oe++)Z+=String.fromCharCode(ae[oe]);return btoa(Z)}(Z.weightData)),oe.LS.setItem(oe.keys.modelMetadata,JSON.stringify({format:Z.format,generatedBy:Z.generatedBy,convertedBy:Z.convertedBy,signature:null!=Z.signature?Z.signature:void 0,userDefinedMetadata:null!=Z.userDefinedMetadata?Z.userDefinedMetadata:void 0,modelInitializer:null!=Z.modelInitializer?Z.modelInitializer:void 0,trainingConfig:null!=Z.trainingConfig?Z.trainingConfig:void 0})),{modelArtifactsInfo:Me}}catch(Ye){throw Zu(oe.keys),new Error(`Failed to save model '${oe.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${Me.modelTopologyBytes}, weightSpecsBytes=${Me.weightSpecsBytes}, weightDataBytes=${Me.weightDataBytes}.`)}}})()}load(){var Z=this;return(0,Te.Z)(function*(){const oe=JSON.parse(Z.LS.getItem(Z.keys.info));if(null==oe)throw new Error(`In local storage, there is no model with name '${Z.modelPath}'`);if("JSON"!==oe.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const me={},xe=JSON.parse(Z.LS.getItem(Z.keys.topology));if(null==xe)throw new Error(`In local storage, the topology of model '${Z.modelPath}' is missing.`);me.modelTopology=xe;const Me=JSON.parse(Z.LS.getItem(Z.keys.weightSpecs));if(null==Me)throw new Error(`In local storage, the weight specs of model '${Z.modelPath}' are missing.`);me.weightSpecs=Me;const Ye=Z.LS.getItem(Z.keys.modelMetadata);if(null!=Ye){const lt=JSON.parse(Ye);me.format=lt.format,me.generatedBy=lt.generatedBy,me.convertedBy=lt.convertedBy,null!=lt.signature&&(me.signature=lt.signature),null!=lt.userDefinedMetadata&&(me.userDefinedMetadata=lt.userDefinedMetadata),null!=lt.modelInitializer&&(me.modelInitializer=lt.modelInitializer),null!=lt.trainingConfig&&(me.trainingConfig=lt.trainingConfig)}const ut=Z.LS.getItem(Z.keys.weightData);if(null==ut)throw new Error(`In local storage, the binary weight values of model '${Z.modelPath}' are missing.`);return me.weightData=function(q){if(st){const oe=Buffer.from(q,"base64");return oe.buffer.slice(oe.byteOffset,oe.byteOffset+oe.byteLength)}const ae=atob(q),Z=new Uint8Array(ae.length);for(let oe=0;oe<ae.length;++oe)Z.set([ae.charCodeAt(oe)],oe);return Z.buffer}(ut),me})()}}return q.URL_SCHEME="localstorage://",q})();const wu=q=>(0,ze.OB)().getBool("IS_BROWSER")&&!Array.isArray(q)&&q.startsWith(pi.URL_SCHEME)?function(q){return new pi(q)}(q.slice(pi.URL_SCHEME.length)):null;Bt.registerSaveRouter(wu),Bt.registerLoadRouter(wu);class $e{constructor(){(0,re.hu)((0,ze.OB)().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),(0,re.hu)("undefined"==typeof window||void 0!==window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){var ae=this;return(0,Te.Z)(function*(){const Z={},oe=ra+Ur,me=Ur+vs;for(let xe=0;xe<ae.LS.length;++xe){const Me=ae.LS.key(xe);Me.startsWith(oe)&&Me.endsWith(me)&&(Z[Qi(Me)]=JSON.parse(ae.LS.getItem(Me)))}return Z})()}removeModel(ae){var Z=this;return(0,Te.Z)(function*(){var q;const oe=Bl(ae=(q=ae).startsWith(pi.URL_SCHEME)?q.slice(pi.URL_SCHEME.length):q);if(null==Z.LS.getItem(oe.info))throw new Error(`Cannot find model at path '${ae}'`);const me=JSON.parse(Z.LS.getItem(oe.info));return Zu(oe),me})()}}const ho="://";class Cr{constructor(){this.managers={}}static getInstance(){return null==Cr.instance&&(Cr.instance=new Cr),Cr.instance}static registerManager(ae,Z){(0,re.hu)(null!=ae,()=>"scheme must not be undefined or null."),ae.endsWith(ho)&&(ae=ae.slice(0,ae.indexOf(ho))),(0,re.hu)(ae.length>0,()=>"scheme must not be an empty string.");const oe=Cr.getInstance();(0,re.hu)(null==oe.managers[ae],()=>`A model store manager is already registered for scheme '${ae}'.`),oe.managers[ae]=Z}static getManager(ae){const Z=this.getInstance().managers[ae];if(null==Z)throw new Error(`Cannot find model manager for scheme '${ae}'`);return Z}static getSchemes(){return Object.keys(this.getInstance().managers)}}function vr(q){if(-1===q.indexOf(ho))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Cr.getSchemes().join(",")}`);return{scheme:q.split(ho)[0],path:q.split(ho)[1]}}function $u(q,ae){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,Te.Z)(function*(q,ae,Z=!1){(0,re.hu)(q!==ae,()=>`Old path and new path are the same: '${q}'`);const oe=Bt.getLoadHandlers(q);(0,re.hu)(oe.length>0,()=>`Copying failed because no load handler is found for source URL ${q}.`),(0,re.hu)(oe.length<2,()=>`Copying failed because more than one (${oe.length}) load handlers for source URL ${q}.`);const me=oe[0],xe=Bt.getSaveHandlers(ae);(0,re.hu)(xe.length>0,()=>`Copying failed because no save handler is found for destination URL ${ae}.`),(0,re.hu)(xe.length<2,()=>`Copying failed because more than one (${oe.length}) save handlers for destination URL ${ae}.`);const Me=xe[0],Ye=vr(q).scheme,ut=vr(q).path,lt=Ye===vr(q).scheme,wt=yield me.load();Z&&lt&&(yield Cr.getManager(Ye).removeModel(ut));const vt=yield Me.save(wt);return Z&&!lt&&(yield Cr.getManager(Ye).removeModel(ut)),vt.modelArtifactsInfo})).apply(this,arguments)}function rs(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,Te.Z)(function*(){const q=Cr.getSchemes(),ae={};for(const Z of q){const oe=yield Cr.getManager(Z).listModels();for(const me in oe)ae[Z+ho+me]=oe[me]}return ae})).apply(this,arguments)}function Hn(q){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,Te.Z)(function*(q){const ae=vr(q);return Cr.getManager(ae.scheme).removeModel(ae.path)})).apply(this,arguments)}function sa(q,ae){return Os.apply(this,arguments)}function Os(){return(Os=(0,Te.Z)(function*(q,ae){return $u(q,ae,!1)})).apply(this,arguments)}function jo(q,ae){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,Te.Z)(function*(q,ae){return $u(q,ae,!0)})).apply(this,arguments)}class Wo{fetch(ae,Z){return fetch(ae,Z)}now(){return performance.now()}encode(ae,Z){if("utf-8"!==Z&&"utf8"!==Z)throw new Error(`Browser's encoder only supports utf-8, but got ${Z}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(ae)}decode(ae,Z){return new TextDecoder(Z).decode(ae)}}if((0,ze.OB)().get("IS_BROWSER")){(0,ze.OB)().setPlatform("browser",new Wo);try{Cr.registerManager(pi.URL_SCHEME,new $e)}catch(q){}try{Cr.registerManager(ni.URL_SCHEME,new wr)}catch(q){}}let _s;(0,ze.OB)().get("IS_NODE")&&(0,ze.OB)().setPlatform("node",new class{constructor(){this.util=v(8628),this.textEncoder=new this.util.TextEncoder}fetch(ae,Z){return null!=(0,ze.OB)().global.fetch?(0,ze.OB)().global.fetch(ae,Z):(null==_s&&(_s=v(5410)),_s(ae,Z))}now(){const ae=process.hrtime();return 1e3*ae[0]+ae[1]/1e6}encode(ae,Z){if("utf-8"!==Z&&"utf8"!==Z)throw new Error(`Node built-in encoder only supports utf-8, but got ${Z}`);return this.textEncoder.encode(ae)}decode(ae,Z){return 0===ae.length?"":new this.util.TextDecoder(Z).decode(ae)}});var Ts=v(3531);function Da(q,ae="float32",Z){return ae=ae||"float32",re.Mu(q),new Ts.YD(q,ae,Z)}var ka=v(4879),Mr=v(7871);function oc(q,ae=!1){console.log(q.toString(ae))}function Jc(q){return new Promise(ae=>setTimeout(ae)).then(q)}(0,J.wv)(),(0,Ts.Vp)({buffer:Da,cast:ka.p,clone:Mr.d,print:oc});let uc=(()=>{class q{constructor(Z){if(!(0,ze.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");Z.startsWith(q.URL_SCHEME)&&(Z=Z.slice(q.URL_SCHEME.length)),(null==Z||0===Z.length)&&(Z="model"),this.modelJsonFileName=Z+".json",this.weightDataFileName=Z+".weights.bin"}save(Z){var oe=this;return(0,Te.Z)(function*(){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const me=window.URL.createObjectURL(new Blob([Z.weightData],{type:"application/octet-stream"}));if(Z.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const Me=Cn(Z,[{paths:["./"+oe.weightDataFileName],weights:Z.weightSpecs}]),Ye=window.URL.createObjectURL(new Blob([JSON.stringify(Me)],{type:"application/json"})),ut=null==oe.modelJsonAnchor?document.createElement("a"):oe.modelJsonAnchor;if(ut.download=oe.modelJsonFileName,ut.href=Ye,yield Jc(()=>ut.dispatchEvent(new MouseEvent("click"))),null!=Z.weightData){const lt=null==oe.weightDataAnchor?document.createElement("a"):oe.weightDataAnchor;lt.download=oe.weightDataFileName,lt.href=me,yield Jc(()=>lt.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Gr(Z)}}})()}}return q.URL_SCHEME="downloads://",q})();class lc{constructor(ae){if(null==ae||ae.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${ae}`);this.jsonFile=ae[0],this.weightsFiles=ae.slice(1)}load(){var ae=this;return(0,Te.Z)(function*(){return new Promise((Z,oe)=>{const me=new FileReader;me.onload=xe=>{const Me=JSON.parse(xe.target.result),Ye=Me.modelTopology;if(null==Ye)return void oe(new Error(`modelTopology field is missing from file ${ae.jsonFile.name}`));if(null==Me.weightsManifest)return void oe(new Error(`weightManifest field is missing from file ${ae.jsonFile.name}`));if(0===ae.weightsFiles.length)return void Z({modelTopology:Ye});const lt=Kt(Me,wt=>ae.loadWeights(wt));Z(lt)},me.onerror=xe=>oe(`Failed to read model topology and weights manifest JSON from file '${ae.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),me.readAsText(ae.jsonFile)})})()}loadWeights(ae){const Z=[],oe=[];for(const Me of ae)Z.push(...Me.weights),oe.push(...Me.paths);const me=this.checkManifestAndWeightFiles(ae),xe=oe.map(Me=>this.loadWeightsFile(Me,me[Me]));return Promise.all(xe).then(Me=>[Z,on(Me)])}loadWeightsFile(ae,Z){return new Promise((oe,me)=>{const xe=new FileReader;xe.onload=Me=>{oe(Me.target.result)},xe.onerror=Me=>me(`Failed to weights data from file of path '${ae}'.`),xe.readAsArrayBuffer(Z)})}checkManifestAndWeightFiles(ae){const Z=[],oe=this.weightsFiles.map(xe=>On(xe.name)),me={};for(const xe of ae)xe.paths.forEach(Me=>{const Ye=On(Me);if(-1!==Z.indexOf(Ye))throw new Error(`Duplicate file basename found in weights manifest: '${Ye}'`);if(Z.push(Ye),-1===oe.indexOf(Ye))throw new Error(`Weight file with basename '${Ye}' is not provided.`);me[Me]=this.weightsFiles[oe.indexOf(Ye)]});if(Z.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${Z.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return me}}function Nt(q){return new lc(q)}function Dn(q,ae,Z,oe){var ut;(0,re.hu)(null!=(ut=q)&&Array.isArray(ut)&&ut.length>0,()=>"promises must be a none empty array"),function(ut,lt){(0,re.hu)(ut>=0&&ut<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${ut}`),(0,re.hu)(lt>=0&&lt<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${lt}`),(0,re.hu)(lt>=ut,()=>`startFraction must be no more than endFraction, but got startFraction ${ut} and endFraction ${lt}`)}(Z=null==Z?0:Z,oe=null==oe?1:oe);let me=0;return Promise.all(q.map(ut=>(ut.then(lt=>{const wt=Z+ ++me/q.length*(oe-Z);return ae(wt),lt}),ut)))}function Vn(q,ae){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,Te.Z)(function*(q,ae){null==ae&&(ae={});const Z=null==ae.fetchFunc?(0,ze.OB)().platform.fetch:ae.fetchFunc,oe=q.map(vt=>Z(vt,ae.requestInit,{isBinary:!0})),Ye=(null==ae.onProgress?yield Promise.all(oe):yield Dn(oe,ae.onProgress,0,.5)).map(vt=>vt.arrayBuffer());return null==ae.onProgress?yield Promise.all(Ye):yield Dn(Ye,ae.onProgress,.5,1)})).apply(this,arguments)}function bn(q){return zn.apply(this,arguments)}function zn(){return(zn=(0,Te.Z)(function*(q,ae="",Z,oe){return dr(Me=>Vn(Me,{requestInit:oe}))(q,ae,Z)})).apply(this,arguments)}function dr(q){return function(){var ae=(0,Te.Z)(function*(Z,oe="",me){const xe=Z.map(()=>!1),Me={},Ye=null!=me?me.map(()=>!1):[],ut=[];if(Z.forEach((Fn,Un)=>{let $n=0;Fn.weights.forEach(Wr=>{const ga=Re["quantization"in Wr?Wr.quantization.dtype:Wr.dtype]*re.NA(Wr.shape),_o=()=>{xe[Un]=!0,null==Me[Un]&&(Me[Un]=[]),Me[Un].push({manifestEntry:Wr,groupOffset:$n,sizeBytes:ga})};null!=me?me.forEach((Ci,Zs)=>{Ci===Wr.name&&(_o(),Ye[Zs]=!0)}):_o(),ut.push(Wr.name),$n+=ga})}),!Ye.every(Fn=>Fn)){const Fn=me.filter((Un,$n)=>!Ye[$n]);throw new Error(`Could not find weights in manifest with names: ${Fn.join(", ")}. \nManifest JSON has weights with names: ${ut.join(", ")}.`)}const lt=xe.reduce((Fn,Un,$n)=>(Un&&Fn.push($n),Fn),[]),wt=[];lt.forEach(Fn=>{Z[Fn].paths.forEach(Un=>{const $n=oe+(oe.endsWith("/")?"":"/")+Un;wt.push($n)})});const vt=yield q(wt),Yt={};let hn=0;return lt.forEach(Fn=>{const Un=Z[Fn].paths.length;let $n=0;for(let Ci=0;Ci<Un;Ci++)$n+=vt[hn+Ci].byteLength;const Wr=new ArrayBuffer($n),ls=new Uint8Array(Wr);let ga=0;for(let Ci=0;Ci<Un;Ci++){const Zs=new Uint8Array(vt[hn+Ci]);ls.set(Zs,ga),ga+=Zs.byteLength}Me[Fn].forEach(Ci=>{const yo=Qe(Wr.slice(Ci.groupOffset,Ci.groupOffset+Ci.sizeBytes),[Ci.manifestEntry]);for(const vo in yo)Yt[vo]=yo[vo]}),hn+=Un}),Yt});return function(Z){return ae.apply(this,arguments)}}()}Bt.registerSaveRouter(q=>(0,ze.OB)().getBool("IS_BROWSER")&&!Array.isArray(q)&&q.startsWith(uc.URL_SCHEME)?function(q="model"){return new uc(q)}(q.slice(uc.URL_SCHEME.length)):null);let Hs=(()=>{class q{constructor(Z,oe){if(this.DEFAULT_METHOD="POST",null==oe&&(oe={}),this.weightPathPrefix=oe.weightPathPrefix,this.onProgress=oe.onProgress,this.weightUrlConverter=oe.weightUrlConverter,null!=oe.fetchFunc?((0,re.hu)("function"==typeof oe.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=oe.fetchFunc):this.fetch=(0,ze.OB)().platform.fetch,(0,re.hu)(null!=Z&&Z.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(Z)&&(0,re.hu)(2===Z.length,()=>`URL paths for http must have a length of 2, (actual length is ${Z.length}).`),this.path=Z,null!=oe.requestInit&&null!=oe.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=oe.requestInit||{}}save(Z){var oe=this;return(0,Te.Z)(function*(){if(Z.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const me=Object.assign({method:oe.DEFAULT_METHOD},oe.requestInit);me.body=new FormData;const Me=Cn(Z,[{paths:["./model.weights.bin"],weights:Z.weightSpecs}]);me.body.append("model.json",new Blob([JSON.stringify(Me)],{type:"application/json"}),"model.json"),null!=Z.weightData&&me.body.append("model.weights.bin",new Blob([Z.weightData],{type:"application/octet-stream"}),"model.weights.bin");const Ye=yield oe.fetch(oe.path,me);if(Ye.ok)return{modelArtifactsInfo:Gr(Z),responses:[Ye]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${Ye.status}.`)})()}load(){var Z=this;return(0,Te.Z)(function*(){const oe=yield Z.fetch(Z.path,Z.requestInit);if(!oe.ok)throw new Error(`Request to ${Z.path} failed with status code ${oe.status}. Please verify this URL points to the model JSON of the model to load.`);let me;try{me=yield oe.json()}catch(Ye){let ut=`Failed to parse model JSON of response from ${Z.path}.`;throw Z.path.endsWith(".pb")?ut+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":ut+=" Please make sure the server is serving valid JSON for this request.",new Error(ut)}if(null==me.modelTopology&&null==me.weightsManifest)throw new Error(`The JSON from HTTP path ${Z.path} contains neither model topology or manifest for weights.`);return Kt(me,Ye=>Z.loadWeights(Ye))})()}loadWeights(Z){var oe=this;return(0,Te.Z)(function*(){const me=Array.isArray(oe.path)?oe.path[1]:oe.path,[xe,Me]=function(q){const ae=q.lastIndexOf("/"),Z=q.lastIndexOf("?");return[q.substring(0,ae)+"/",Z>ae?q.substring(Z):""]}(me),Ye=oe.weightPathPrefix||xe,ut=[];for(const Yt of Z)ut.push(...Yt.weights);const lt=[],wt=[];for(const Yt of Z)for(const hn of Yt.paths)null!=oe.weightUrlConverter?wt.push(oe.weightUrlConverter(hn)):lt.push(Ye+hn+Me);return oe.weightUrlConverter&&lt.push(...yield Promise.all(wt)),[ut,on(yield Vn(lt,{requestInit:oe.requestInit,fetchFunc:oe.fetch,onProgress:oe.onProgress}))]})()}}return q.URL_SCHEME_REGEX=/^https?:\/\//,q})();function Oe(q){return null!=q.match(Hs.URL_SCHEME_REGEX)}const ot=(q,ae)=>{if("undefined"==typeof fetch&&(null==ae||null==ae.fetchFunc))return null;{let Z=!0;if(Z=Array.isArray(q)?q.every(oe=>Oe(oe)):Oe(q),Z)return Ft(q,ae)}return null};function Ft(q,ae){return new Hs(q,ae)}function fn(q,ae){return Ft(q,ae)}Bt.registerSaveRouter(ot),Bt.registerLoadRouter(ot);class wn{constructor(ae){this.modelArtifacts=ae}load(){var ae=this;return(0,Te.Z)(function*(){return ae.modelArtifacts})()}}class lr{constructor(ae){this.saveHandler=ae}save(ae){var Z=this;return(0,Te.Z)(function*(){return Z.saveHandler(ae)})()}}function Vi(q,ae,Z,oe){return 1===arguments.length?null!=q.modelTopology||null!=q.weightSpecs?new wn(q):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new wn({modelTopology:q})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new wn({modelTopology:q,weightSpecs:ae,weightData:Z,trainingConfig:oe}))}function xs(q){return new lr(q)}var Ni=v(4291),Oi=v(8598),vn=v(5948),Eu=v(3111);const gr=(0,vn.op)({confusionMatrix_:function(q,ae,Z){const oe=(0,ge._1)(q,"labels","confusionMatrix"),me=(0,ge._1)(ae,"predictions","confusionMatrix");re.hu(null==Z||Z>0&&Number.isInteger(Z),()=>`If provided, numClasses must be a positive integer, but got ${Z}`),re.hu(1===oe.rank,()=>`Expected the rank of labels to be 1, but got ${oe.rank}`),re.hu(1===me.rank,()=>`Expected the rank of predictions to be 1, but got ${me.rank}`),re.hu(oe.shape[0]===me.shape[0],()=>`Mismatch in the number of examples: ${oe.shape[0]} vs. ${me.shape[0]}. Labels and predictions should have the same number of elements.`),re.hu(Z>0&&Number.isInteger(Z),()=>`numClasses is required to be a positive integer, but got ${Z}`);const xe=(0,Oi.l)((0,ka.p)(oe,"int32"),Z),Me=(0,Oi.l)((0,ka.p)(me,"int32"),Z),Ye=(0,Eu.p)(xe),ut=(0,Ni.O)(Ye,Me);return(0,ka.p)(ut,"int32")}});var ht=v(6338),Qc=v(8415);function ff(q,ae,Z){if((0,re.Cq)(q),null!=ae&&3!==ae.length)throw new Error("tensor3d() requires shape to have three numbers");const oe=(0,ge.C)(q,Z);if(3!==oe.length&&1!==oe.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===oe.length&&null==ae)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,we.H)(q,ae,oe,Z)}let su;function Di(q,ae=3){if(ae>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==q)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let Z=!1,oe=!1,me=!1,xe=!1,Me=!1,Ye=!1;if(q.data instanceof Uint8Array)Z=!0;else if("undefined"!=typeof ImageData&&q instanceof ImageData)oe=!0;else if("undefined"!=typeof HTMLVideoElement&&q instanceof HTMLVideoElement)me=!0;else if("undefined"!=typeof HTMLImageElement&&q instanceof HTMLImageElement)xe=!0;else if(null!=q.getContext)Me=!0;else{if(!("undefined"!=typeof ImageBitmap&&q instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${q.constructor.name}`);Ye=!0}if(me){const Fn=2;if(me&&q.readyState<Fn)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,Qc.pI)(ht.eB,J.BV.backendName))return J.BV.runKernel(ht.eB,{pixels:q},{numChannels:ae});const[lt,wt]=me?[q.videoWidth,q.videoHeight]:[q.width,q.height];let vt,Yt;if(Me)vt=q.getContext("2d").getImageData(0,0,lt,wt).data;else if(oe||Z)vt=q.data;else if(xe||me||Ye){if(null==su)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");su=new OffscreenCanvas(1,1).getContext("2d")}else su=document.createElement("canvas").getContext("2d");su.canvas.width=lt,su.canvas.height=wt,su.drawImage(q,0,0,lt,wt),vt=su.getImageData(0,0,lt,wt).data}if(4===ae)Yt=new Int32Array(vt);else{const Fn=lt*wt;Yt=new Int32Array(Fn*ae);for(let Un=0;Un<Fn;Un++)for(let $n=0;$n<ae;++$n)Yt[Un*ae+$n]=vt[4*Un+$n]}return ff(Yt,[wt,lt,ae],"int32")}function zp(q){return"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(q instanceof ImageBitmap)&&function(q){return null!=q&&0!==q.width&&0!==q.height}(q)&&!function(q){return null!=q&&q.data instanceof Uint8Array}(q)}function jp(q){return so.apply(this,arguments)}function so(){return(so=(0,Te.Z)(function*(q,ae=3){let Z=null;if((0,ze.OB)().getBool("WRAP_TO_IMAGEBITMAP")&&zp(q)){let oe;try{oe=yield createImageBitmap(q,{premultiplyAlpha:"none"})}catch(me){oe=null}Z=null!=oe&&oe.width===q.width&&oe.height===q.height?oe:q}else Z=q;return Di(Z,ae)})).apply(this,arguments)}function cc(q,ae){return nh.apply(this,arguments)}function nh(){return(nh=(0,Te.Z)(function*(q,ae){let Z=(0,ge._1)(q,"img","toPixels");if(!(q instanceof Ts.es)){const lt=Z;Z=(0,ka.p)(lt,"int32"),lt.dispose()}if(2!==Z.rank&&3!==Z.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${Z.rank}.`);const[oe,me]=Z.shape.slice(0,2),xe=2===Z.rank?1:Z.shape[2];if(xe>4||2===xe)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${xe}`);if("float32"!==Z.dtype&&"int32"!==Z.dtype)throw new Error(`Unsupported type for toPixels: ${Z.dtype}. Please use float32 or int32 tensors.`);const Me=yield Z.data(),Ye="float32"===Z.dtype?255:1,ut=new Uint8ClampedArray(me*oe*4);for(let lt=0;lt<oe*me;++lt){const wt=[0,0,0,255];for(let Yt=0;Yt<xe;Yt++){const hn=Me[lt*xe+Yt];if("float32"===Z.dtype){if(hn<0||hn>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${hn}.`)}else if("int32"===Z.dtype&&(hn<0||hn>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${hn}.`);1===xe?(wt[0]=hn*Ye,wt[1]=hn*Ye,wt[2]=hn*Ye):wt[Yt]=hn*Ye}const vt=4*lt;ut[vt+0]=Math.round(wt[0]),ut[vt+1]=Math.round(wt[1]),ut[vt+2]=Math.round(wt[2]),ut[vt+3]=Math.round(wt[3])}if(null!=ae){ae.width=me,ae.height=oe;const lt=ae.getContext("2d"),wt=new ImageData(ut,me,oe);lt.putImageData(wt,0,0)}return Z!==q&&Z.dispose(),ut})).apply(this,arguments)}const Us=(0,vn.op)({fromPixels_:Di});function qc(q,ae){const Z=q.shape.length,oe=ae.shape.length;if(Z<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${Z}.`);if(oe<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${oe}.`);if("int32"!==ae.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${ae.dtype}.`);if(ae.shape[oe-1]>Z)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${ae.shape[oe-1]} vs. ${Z}`);if(0===(0,re.NA)(q.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${q.shape}.`);const me=ae.shape,xe=me[me.length-1];let Me=1;for(let vt=0;vt<me.length-1;++vt)Me*=me[vt];const Ye=q.shape,ut=me.slice();ut.pop();let lt=1;for(let vt=xe;vt<Z;++vt)lt*=Ye[vt],ut.push(Ye[vt]);const wt=[...(0,re.e3)(q.shape).map(vt=>vt/lt),1].slice(0,xe);return[ut,Me,lt,wt]}function dc(q,ae,Z){const oe=ae.rank>1?ae.shape[ae.rank-1]:1,me=ae.rank>1?ae.rank-1:1,xe=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${Z.shape}, indices.shape: ${ae.shape}, shape: ${q}, sliceDim: ${oe}, and batchDim: ${me}.`;if(Z.rank<me)throw new Error(xe+` update.rank < ${me}. `);if(q.length<oe+(Z.rank-me))throw new Error(xe+` Output shape length < ${oe+(Z.rank-me)}`);if(Z.rank!==me+q.length-oe)throw new Error(xe+" update.rank != "+(me+q.length-oe));for(let Me=0;Me<me;++Me)if(Z.shape[Me]!==ae.shape[Me])throw new Error(xe+` updates.shape[${Me}] (${Z.shape[Me]}) != indices.shape[${Me}] (${ae.shape[Me]}).`);for(let Me=0;Me<Z.rank-me;++Me)if(Z.shape[Me+me]!==q[Me+oe])throw new Error(xe+` updates.shape[${Me+me}] (${Z.shape[Me+me]}) != shape[${Me+me}] (${q[Me+me]})`)}function ao(q,ae,Z){if(ae.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${ae.rank}.`);if(q.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${q.rank}.`);if("int32"!==ae.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${ae.dtype}`);if(Z.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${Z}`);if(0===Z.length){if(0===ae.size)throw new Error(`Indices specified for empty output. indices shape: ${ae.shape}`);if(0===q.size)throw new Error(`Updates specified for empty output. updates shape: ${q.shape}`)}dc(Z,ae,q)}function rh(q,ae,Z){const oe=ae.shape.length,me=oe>1?ae.shape[oe-1]:1,xe=Z.length;let Me=1;for(let vt=me;vt<xe;++vt)Me*=Z[vt];const Ye=me<1?1:me;return{sliceRank:me,numUpdates:(0,re.NA)(ae.shape)/Ye,sliceSize:Me,strides:[...(0,re.e3)(Z.slice(0,me)),1],outputSize:(0,re.NA)(Z)}}var qi=v(4361);class hf{getClassName(){return this.constructor.className}static fromConfig(ae,Z){return new ae(Z)}}class Mu{constructor(){this.classNameMap={}}static getMap(){return null==Mu.instance&&(Mu.instance=new Mu),Mu.instance}static register(ae){Mu.getMap().classNameMap[ae.className]=[ae,ae.fromConfig]}}function Bn(q){(0,re.hu)(null!=q.className,()=>"Class being registered does not have the static className property defined."),(0,re.hu)("string"==typeof q.className,()=>"className is required to be a string, but got type "+typeof q.className),(0,re.hu)(q.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),Mu.register(q)}var Ys=v(7073),Ia=v(7884);const hc=.1;function Qu(q,ae,Z){return null==Z&&(Z=ih()),Hi(q,ae,(oe,me)=>So(oe,me,Z))}function ih(){return 32===J.BV.backend.floatPrecision()?.001:hc}function Hi(q,ae,Z){let oe=!0;if(((0,re.fU)(q)||(0,re.fU)(ae))&&(oe=!1),(0,re.fU)(q)&&(0,re.fU)(ae)&&(oe=!0),oe){const Me=q.constructor.name,Ye=ae.constructor.name;if(Me!==Ye)throw new Error(`Arrays are of different type. Actual: ${Me}. Expected: ${Ye}`)}if(Array.isArray(q)&&Array.isArray(ae)){const Me=(0,ge.C)(q),Ye=(0,ge.C)(ae);if(!(0,re.cO)(Me,Ye))throw new Error(`Arrays have different shapes. Actual: [${Me}]. Expected: [${Ye}]`)}const me=(0,re.fU)(q)?q:(0,re.xH)(q),xe=(0,re.fU)(ae)?ae:(0,re.xH)(ae);if(me.length!==xe.length)throw new Error(`Arrays have different lengths actual: ${me.length} vs expected: ${xe.length}.\nActual:   ${me}.\nExpected: ${xe}.`);for(let Me=0;Me<xe.length;++Me){const Ye=me[Me],ut=xe[Me];if(!Z(Ye,ut))throw new Error(`Arrays differ: actual[${Me}] = ${Ye}, expected[${Me}] = ${ut}.\nActual:   ${me}.\nExpected: ${xe}.`)}}function er(q,ae){q().then(()=>ae.fail(),()=>ae())}function yi(q,ae){const Z="string"==typeof ae||"number"==typeof ae||"boolean"==typeof ae?[ae]:ae;return(0,re.HD)(q)||(0,re.HD)(q[0])||(0,re.HD)(ae)||(0,re.HD)(ae[0])?Hi(q,Z,(oe,me)=>oe==me):Hi(q,ae,(oe,me)=>So(oe,me,0))}function ks(q,ae,Z){if(null==Z&&(Z=ih()),!So(q,ae,Z))throw new Error(`Numbers differ: actual === ${q}, expected === ${ae}`)}function So(q,ae,Z){return!isFinite(q)&&!isFinite(ae)||!(isNaN(q)||isNaN(ae)||Math.abs(q-ae)>Z)}function po(q,ae,Z){for(let oe=0;oe<q.length;oe++)if(q[oe]<ae||q[oe]>Z)throw new Error(`Value out of range:${q[oe]} low: ${ae}, high: ${Z}`)}function Wa(q,ae){expect(new Float32Array(q)).toEqual(new Float32Array(ae))}function Ha(q){for(let ae=0;ae<q.length;ae++){const Z=q[ae];Array.isArray(Z)?Ha(Z):q[ae]=(0,Ia.encodeString)(Z)}return q}const Na="3.11.0";function Ad(){(0,ze.OB)().set("PROD",!0)}function Ds(){(0,ze.OB)().set("DEBUG",!0)}function wi(){(0,ze.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function $l(q){(0,ze.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(q+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Vl(){J.BV.disposeVariables()}function S0(){return J.BV}function sh(){return J.BV.memory()}function au(q){return J.BV.profile(q)}function Gs(q,ae){return J.BV.tidy(q,ae)}function mo(q){(0,Ys.getTensorsInContainer)(q).forEach(Z=>Z.dispose())}function zl(q){return J.BV.keep(q)}function Ls(q){return J.BV.time(q)}function Xh(q){return J.BV.setBackend(q)}function tg(){return J.BV.ready()}function ah(){return J.BV.backendName}function ng(q){J.BV.removeBackend(q)}function Zh(q){return J.BV.findBackend(q)}function Td(q){return J.BV.findBackendFactory(q)}function kd(q,ae,Z=1){return J.BV.registerBackend(q,ae,Z)}function Ao(){return J.BV.backend}function oh(q,ae){(0,ze.OB)().setPlatform(q,ae)}(0,Ts.FZ)($l);var Rr=v(319),Ui=v(8366),tr=v(1300),Vu=v(6900),ws=v(4463),is=v(9314),Qr=v(6921),Pi=v(8153);class Oa extends hf{minimize(ae,Z=!1,oe){const{value:me,grads:xe}=this.computeGradients(ae,oe);if(null!=oe){const Me=oe.map(Ye=>({name:Ye.name,tensor:xe[Ye.name]}));this.applyGradients(Me)}else this.applyGradients(xe);return mo(xe),Z?me:(me.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(ae,Z){return(0,Qr.pn)(ae,Z)}dispose(){null!=this.iterations_&&mo(this.iterations_)}saveIterations(){var ae=this;return(0,Te.Z)(function*(){return null==ae.iterations_&&(ae.iterations_=0),{name:"iter",tensor:(0,Pi.i)(ae.iterations_,"int32")}})()}getWeights(){return(0,Te.Z)(function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})()}setWeights(ae){var Z=this;return(0,Te.Z)(function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${Z.getClassName()}`)})()}extractIterations(ae){var Z=this;return(0,Te.Z)(function*(){return Z.iterations_=(yield ae[0].tensor.data())[0],ae.slice(1)})()}}Object.defineProperty(Oa,Symbol.hasInstance,{value:q=>null!=q.minimize&&null!=q.computeGradients&&null!=q.applyGradients});let pf=(()=>{class q extends Oa{constructor(Z,oe,me=null){super(),this.learningRate=Z,this.rho=oe,this.epsilon=me,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==me&&(this.epsilon=J.BV.backend.epsilon())}applyGradients(Z){(Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z)).forEach((me,xe)=>{const Me=J.BV.registeredVariables[me];null==this.accumulatedGrads[xe]&&(this.accumulatedGrads[xe]={originalName:`${me}/accum_grad`,variable:Gs(()=>(0,is.P)(Me).variable(!1))}),null==this.accumulatedUpdates[xe]&&(this.accumulatedUpdates[xe]={originalName:`${me}/accum_var`,variable:Gs(()=>(0,is.P)(Me).variable(!1))});const ut=Array.isArray(Z)?Z[xe].tensor:Z[me];if(null==ut)return;const lt=this.accumulatedGrads[xe].variable,wt=this.accumulatedUpdates[xe].variable;Gs(()=>{const vt=(0,Rr.I)((0,tr.d)(lt,this.rho),(0,tr.d)((0,ws.h)(ut),1-this.rho)),Yt=(0,tr.d)((0,Ui.h)((0,Vu._)((0,Rr.I)(wt,this.epsilon)),(0,Vu._)((0,Rr.I)(lt,this.epsilon))),ut),hn=(0,Rr.I)((0,tr.d)(wt,this.rho),(0,tr.d)((0,ws.h)(Yt),1-this.rho));lt.assign(vt),wt.assign(hn);const Fn=(0,Rr.I)((0,tr.d)(Yt,-this.learningRate),Me);Me.assign(Fn)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(mo(this.accumulatedGrads.map(Z=>Z.variable)),mo(this.accumulatedUpdates.map(Z=>Z.variable)))}getWeights(){var Z=this;return(0,Te.Z)(function*(){const oe=[...Z.accumulatedGrads,...Z.accumulatedUpdates];return[yield Z.saveIterations()].concat(oe.map(me=>({name:me.originalName,tensor:me.variable})))})()}setWeights(Z){var oe=this;return(0,Te.Z)(function*(){const me=(Z=yield oe.extractIterations(Z)).length/2;oe.accumulatedGrads=Z.slice(0,me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)})),oe.accumulatedUpdates=Z.slice(me,2*me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(Z,oe){return new Z(oe.learningRate,oe.rho,oe.epsilon)}}return q.className="Adadelta",q})();function Jh(q,ae,Z){return J.BV.runKernel(ht.de,{},{shape:q,value:ae,dtype:Z})}Bn(pf);let zi=(()=>{class q extends Oa{constructor(Z,oe=.1){super(),this.learningRate=Z,this.initialAccumulatorValue=oe,this.accumulatedGrads=[]}applyGradients(Z){(Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z)).forEach((me,xe)=>{const Me=J.BV.registeredVariables[me];if(null==this.accumulatedGrads[xe]){const lt=!1;this.accumulatedGrads[xe]={originalName:`${me}/accumulator`,variable:Gs(()=>Jh(Me.shape,this.initialAccumulatorValue).variable(lt))}}const Ye=Array.isArray(Z)?Z[xe].tensor:Z[me];if(null==Ye)return;const ut=this.accumulatedGrads[xe].variable;Gs(()=>{const lt=(0,Rr.I)(ut,(0,ws.h)(Ye));ut.assign(lt);const wt=(0,Rr.I)((0,tr.d)((0,Ui.h)(Ye,(0,Vu._)((0,Rr.I)(lt,J.BV.backend.epsilon()))),-this.learningRate),Me);Me.assign(wt)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&mo(this.accumulatedGrads.map(Z=>Z.variable))}getWeights(){var Z=this;return(0,Te.Z)(function*(){return[yield Z.saveIterations()].concat(Z.accumulatedGrads.map(oe=>({name:oe.originalName,tensor:oe.variable})))})()}setWeights(Z){var oe=this;return(0,Te.Z)(function*(){Z=yield oe.extractIterations(Z),oe.accumulatedGrads=Z.map(xe=>({originalName:xe.name,variable:xe.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(Z,oe){return new Z(oe.learningRate,oe.initialAccumulatorValue)}}return q.className="Adagrad",q})();Bn(zi);var jl=v(2293),Ai=v(3217);let rg=(()=>{class q extends Oa{constructor(Z,oe,me,xe=null){super(),this.learningRate=Z,this.beta1=oe,this.beta2=me,this.epsilon=xe,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Gs(()=>{this.accBeta1=(0,Pi.i)(oe).variable(),this.accBeta2=(0,Pi.i)(me).variable()}),null==xe&&(this.epsilon=J.BV.backend.epsilon())}applyGradients(Z){const oe=Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z);Gs(()=>{const me=(0,Ai.l)(1,this.accBeta1),xe=(0,Ai.l)(1,this.accBeta2);oe.forEach((Me,Ye)=>{const ut=J.BV.registeredVariables[Me];null==this.accumulatedFirstMoment[Ye]&&(this.accumulatedFirstMoment[Ye]={originalName:`${Me}/m`,variable:Gs(()=>(0,is.P)(ut).variable(!1))}),null==this.accumulatedSecondMoment[Ye]&&(this.accumulatedSecondMoment[Ye]={originalName:`${Me}/v`,variable:Gs(()=>(0,is.P)(ut).variable(!1))});const wt=Array.isArray(Z)?Z[Ye].tensor:Z[Me];if(null==wt)return;const vt=this.accumulatedFirstMoment[Ye].variable,Yt=this.accumulatedSecondMoment[Ye].variable,hn=(0,Rr.I)((0,tr.d)(vt,this.beta1),(0,tr.d)(wt,1-this.beta1)),Fn=(0,Rr.I)((0,tr.d)(Yt,this.beta2),(0,tr.d)((0,ws.h)(wt),1-this.beta2)),Un=(0,Ui.h)(hn,me),$n=(0,Ui.h)(Fn,xe);vt.assign(hn),Yt.assign(Fn);const Wr=(0,Rr.I)((0,tr.d)((0,Ui.h)(Un,(0,Rr.I)((0,Vu._)($n),this.epsilon)),-this.learningRate),ut);ut.assign(Wr)}),this.accBeta1.assign((0,tr.d)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,tr.d)(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&mo(this.accumulatedFirstMoment.map(Z=>Z.variable)),null!=this.accumulatedSecondMoment&&mo(this.accumulatedSecondMoment.map(Z=>Z.variable))}getWeights(){var Z=this;return(0,Te.Z)(function*(){const oe=[...Z.accumulatedFirstMoment,...Z.accumulatedSecondMoment];return[yield Z.saveIterations()].concat(oe.map(me=>({name:me.originalName,tensor:me.variable})))})()}setWeights(Z){var oe=this;return(0,Te.Z)(function*(){Z=yield oe.extractIterations(Z),Gs(()=>{oe.accBeta1.assign((0,jl.s)(oe.beta1,oe.iterations_+1)),oe.accBeta2.assign((0,jl.s)(oe.beta2,oe.iterations_+1))});const me=Z.length/2;oe.accumulatedFirstMoment=Z.slice(0,me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)})),oe.accumulatedSecondMoment=Z.slice(me,2*me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(Z,oe){return new Z(oe.learningRate,oe.beta1,oe.beta2,oe.epsilon)}}return q.className="Adam",q})();Bn(rg);var ed=v(2992),Qh=v(8060);let qh=(()=>{class q extends Oa{constructor(Z,oe,me,xe=null,Me=0){super(),this.learningRate=Z,this.beta1=oe,this.beta2=me,this.epsilon=xe,this.decay=Me,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Gs(()=>{this.iteration=(0,Pi.i)(0).variable(),this.accBeta1=(0,Pi.i)(oe).variable()}),null==xe&&(this.epsilon=J.BV.backend.epsilon())}applyGradients(Z){const oe=Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z);Gs(()=>{const me=(0,Ai.l)(1,this.accBeta1),xe=(0,Ui.h)(-this.learningRate,(0,Rr.I)((0,tr.d)(this.iteration,this.decay),1));oe.forEach((Me,Ye)=>{const ut=J.BV.registeredVariables[Me];null==this.accumulatedFirstMoment[Ye]&&(this.accumulatedFirstMoment[Ye]={originalName:`${Me}/m`,variable:(0,is.P)(ut).variable(!1)}),null==this.accumulatedWeightedInfNorm[Ye]&&(this.accumulatedWeightedInfNorm[Ye]={originalName:`${Me}/v`,variable:(0,is.P)(ut).variable(!1)});const wt=Array.isArray(Z)?Z[Ye].tensor:Z[Me];if(null==wt)return;const vt=this.accumulatedFirstMoment[Ye].variable,Yt=this.accumulatedWeightedInfNorm[Ye].variable,hn=(0,Rr.I)((0,tr.d)(vt,this.beta1),(0,tr.d)(wt,1-this.beta1)),Fn=(0,tr.d)(Yt,this.beta2),Un=(0,ed.W)(wt),$n=(0,Qh.g)(Fn,Un);vt.assign(hn),Yt.assign($n);const Wr=(0,Rr.I)((0,tr.d)((0,Ui.h)(xe,me),(0,Ui.h)(hn,(0,Rr.I)($n,this.epsilon))),ut);ut.assign(Wr)}),this.iteration.assign((0,Rr.I)(this.iteration,1)),this.accBeta1.assign((0,tr.d)(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&mo(this.accumulatedFirstMoment.map(Z=>Z.variable)),null!=this.accumulatedWeightedInfNorm&&mo(this.accumulatedWeightedInfNorm.map(Z=>Z.variable))}getWeights(){return(0,Te.Z)(function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})()}setWeights(Z){return(0,Te.Z)(function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(Z,oe){return new Z(oe.learningRate,oe.beta1,oe.beta2,oe.epsilon,oe.decay)}}return q.className="Adamax",q})();Bn(qh);let pc=(()=>{class q extends Oa{constructor(Z){super(),this.learningRate=Z,this.setLearningRate(Z)}applyGradients(Z){(Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z)).forEach((me,xe)=>{const Me=Array.isArray(Z)?Z[xe].tensor:Z[me];if(null==Me)return;const Ye=J.BV.registeredVariables[me];Gs(()=>{const ut=(0,Rr.I)((0,tr.d)(this.c,Me),Ye);Ye.assign(ut)})}),this.incrementIterations()}setLearningRate(Z){this.learningRate=Z,null!=this.c&&this.c.dispose(),this.c=zl((0,Pi.i)(-Z))}dispose(){this.c.dispose()}getWeights(){var Z=this;return(0,Te.Z)(function*(){return[yield Z.saveIterations()]})()}setWeights(Z){var oe=this;return(0,Te.Z)(function*(){if(0!==(Z=yield oe.extractIterations(Z)).length)throw new Error("SGD optimizer does not have settable weights.")})()}getConfig(){return{learningRate:this.learningRate}}static fromConfig(Z,oe){return new Z(oe.learningRate)}}return q.className="SGD",q})();Bn(pc);let ig=(()=>{class q extends pc{constructor(Z,oe,me=!1){super(Z),this.learningRate=Z,this.momentum=oe,this.useNesterov=me,this.accumulations=[],this.m=(0,Pi.i)(this.momentum)}applyGradients(Z){(Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z)).forEach((me,xe)=>{const Me=J.BV.registeredVariables[me];if(null==this.accumulations[xe]){const lt=!1;this.accumulations[xe]={originalName:`${me}/momentum`,variable:Gs(()=>(0,is.P)(Me).variable(lt))}}const Ye=this.accumulations[xe].variable,ut=Array.isArray(Z)?Z[xe].tensor:Z[me];null!=ut&&Gs(()=>{let lt;const wt=(0,Rr.I)((0,tr.d)(this.m,Ye),ut);lt=(0,Rr.I)((0,tr.d)(this.c,this.useNesterov?(0,Rr.I)(ut,(0,tr.d)(wt,this.m)):wt),Me),Ye.assign(wt),Me.assign(lt)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&mo(this.accumulations.map(Z=>Z.variable))}setMomentum(Z){this.momentum=Z}getWeights(){var Z=this;return(0,Te.Z)(function*(){return[yield Z.saveIterations()].concat(Z.accumulations.map(oe=>({name:oe.originalName,tensor:oe.variable})))})()}setWeights(Z){var oe=this;return(0,Te.Z)(function*(){Z=yield oe.extractIterations(Z),oe.accumulations=Z.map(xe=>({originalName:xe.name,variable:xe.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(Z,oe){return new Z(oe.learningRate,oe.momentum,oe.useNesterov)}}return q.className="Momentum",q})();Bn(ig);let mf=(()=>{class q extends Oa{constructor(Z,oe=.9,me=0,xe=null,Me=!1){if(super(),this.learningRate=Z,this.decay=oe,this.momentum=me,this.epsilon=xe,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=Me,null==xe&&(this.epsilon=J.BV.backend.epsilon()),null==Z)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(Z){(Array.isArray(Z)?Z.map(me=>me.name):Object.keys(Z)).forEach((me,xe)=>{const Me=J.BV.registeredVariables[me];null==this.accumulatedMeanSquares[xe]&&(this.accumulatedMeanSquares[xe]={originalName:`${me}/rms`,variable:Gs(()=>(0,is.P)(Me).variable(!1))}),null==this.accumulatedMoments[xe]&&(this.accumulatedMoments[xe]={originalName:`${me}/momentum`,variable:Gs(()=>(0,is.P)(Me).variable(!1))}),null==this.accumulatedMeanGrads[xe]&&this.centered&&(this.accumulatedMeanGrads[xe]={originalName:`${me}/mg`,variable:Gs(()=>(0,is.P)(Me).variable(!1))});const ut=Array.isArray(Z)?Z[xe].tensor:Z[me];if(null==ut)return;const lt=this.accumulatedMeanSquares[xe].variable,wt=this.accumulatedMoments[xe].variable;Gs(()=>{const vt=(0,Rr.I)((0,tr.d)(lt,this.decay),(0,tr.d)((0,ws.h)(ut),1-this.decay));if(this.centered){const Yt=this.accumulatedMeanGrads[xe].variable,hn=(0,Rr.I)((0,tr.d)(Yt,this.decay),(0,tr.d)(ut,1-this.decay)),Fn=(0,Ui.h)((0,tr.d)(ut,this.learningRate),(0,Vu._)((0,Ai.l)(vt,(0,Rr.I)((0,ws.h)(hn),this.epsilon)))),Un=(0,Rr.I)((0,tr.d)(wt,this.momentum),Fn);lt.assign(vt),Yt.assign(hn),wt.assign(Un);const $n=(0,Ai.l)(Me,Un);Me.assign($n)}else{const Yt=(0,Rr.I)((0,tr.d)(lt,this.decay),(0,tr.d)((0,ws.h)(ut),1-this.decay)),hn=(0,Rr.I)((0,tr.d)(wt,this.momentum),(0,Ui.h)((0,tr.d)(ut,this.learningRate),(0,Vu._)((0,Rr.I)(Yt,this.epsilon))));lt.assign(Yt),wt.assign(hn);const Fn=(0,Ai.l)(Me,hn);Me.assign(Fn)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&mo(this.accumulatedMeanSquares.map(Z=>Z.variable)),null!=this.accumulatedMeanGrads&&this.centered&&mo(this.accumulatedMeanGrads.map(Z=>Z.variable)),null!=this.accumulatedMoments&&mo(this.accumulatedMoments.map(Z=>Z.variable))}getWeights(){var Z=this;return(0,Te.Z)(function*(){const oe=[...Z.accumulatedMeanSquares,...Z.accumulatedMoments];return Z.centered&&oe.push(...Z.accumulatedMeanGrads),[yield Z.saveIterations()].concat(oe.map(me=>({name:me.originalName,tensor:me.variable})))})()}setWeights(Z){var oe=this;return(0,Te.Z)(function*(){Z=yield oe.extractIterations(Z);const me=oe.centered?Z.length/3:Z.length/2;oe.accumulatedMeanSquares=Z.slice(0,me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)})),oe.accumulatedMoments=Z.slice(me,2*me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)})),oe.centered&&(oe.accumulatedMeanGrads=Z.slice(2*me,3*me).map(Me=>({originalName:Me.name,variable:Me.tensor.variable(!1)})))})()}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(Z,oe){return new Z(oe.learningRate,oe.decay,oe.momentum,oe.epsilon,oe.centered)}}return q.className="RMSProp",q})();Bn(mf);class uh{static sgd(ae){return new pc(ae)}static momentum(ae,Z,oe=!1){return new ig(ae,Z,oe)}static rmsprop(ae,Z=.9,oe=0,me=null,xe=!1){return new mf(ae,Z,oe,me,xe)}static adam(ae=.001,Z=.9,oe=.999,me=null){return new rg(ae,Z,oe,me)}static adadelta(ae=.001,Z=.95,oe=null){return new pf(ae,Z,oe)}static adamax(ae=.002,Z=.9,oe=.999,me=null,xe=0){return new qh(ae,Z,oe,me,xe)}static adagrad(ae,Z=.1){return new zi(ae,Z)}}var gf=v(6209),sg=v(2485),ag=v(6725);const Gx=(0,vn.op)({addN_:function(q){re.hu(Array.isArray(q),()=>"The argument passed to tf.addN() must be a list of tensors"),re.hu(q.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${q.length}`);const ae=q.map((me,xe)=>(0,ge._1)(me,`tensors${xe}`,"addN")),Z=ae[0];return ae.forEach(me=>{if(me.dtype!==Z.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),ae.forEach(me=>{if(!re.cO(me.shape,Z.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),J.BV.runKernel(ht.Xz,ae)}});var VC=v(4187),sy=v(2247),Id=v(1257),ep=v(1019),Ei=v(7194),Li=v(231),lh=v(1282),Wl=v(9851),_f=v(9776),ay=v(282),vi=v(3626);const ch=(0,vn.op)({avgPool3d_:function(q,ae,Z,oe,me,xe="NDHWC"){const Me=(0,ge._1)(q,"x","avgPool3d","float32");let Ye=Me,ut=!1;4===Me.rank&&(ut=!0,Ye=(0,vi.X)(Me,[1,Me.shape[0],Me.shape[1],Me.shape[2],Me.shape[3]])),re.hu(5===Ye.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${Ye.rank}.`),re.hu("NDHWC"===xe,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${xe}`),null!=me&&re.hu(re.GN(oe),()=>`Error in avgPool3d: pad must be an integer when using, dimRoundingMode ${me} but got pad ${oe}.`);let vt=J.BV.runKernel(ht._k,{x:Ye},{filterSize:ae,strides:Z,pad:oe,dimRoundingMode:me,dataFormat:xe});return vt=(0,ka.p)(vt,Ye.dtype),ut?(0,vi.X)(vt,[vt.shape[1],vt.shape[2],vt.shape[3],vt.shape[4]]):vt}});var aa=v(4664),Ul=v(4655),Ks=v(8577),ug=v(8892);const yf=(0,vn.op)({basicLSTMCell_:function(q,ae,Z,oe,me,xe){const Me=(0,ge._1)(q,"forgetBias","basicLSTMCell"),Ye=(0,ge._1)(ae,"lstmKernel","basicLSTMCell"),ut=(0,ge._1)(Z,"lstmBias","basicLSTMCell"),lt=(0,ge._1)(oe,"data","basicLSTMCell"),wt=(0,ge._1)(me,"c","basicLSTMCell"),vt=(0,ge._1)(xe,"h","basicLSTMCell"),Yt=(0,aa.z)([lt,vt],1),hn=(0,Ni.O)(Yt,Ye),Fn=(0,Rr.I)(hn,ut),$n=Fn.shape[1]/4,Wr=[Fn.shape[0],$n],ls=(0,Ks.t)(Fn,[0,0],Wr),ga=(0,Ks.t)(Fn,[0,$n],Wr),_o=(0,Ks.t)(Fn,[0,2*$n],Wr),Ci=(0,Ks.t)(Fn,[0,3*$n],Wr),Zs=(0,Rr.I)((0,tr.d)((0,Ul.X)(ls),(0,ug.A)(ga)),(0,tr.d)(wt,(0,Ul.X)((0,Rr.I)(Me,_o))));return[Zs,(0,tr.d)((0,ug.A)(Zs),(0,Ul.X)(Ci))]}});var Kx=v(1601),Fs=v(6357);const mc=(0,vn.op)({batchNorm2d_:function(q,ae,Z,oe,me,xe){const Me=(0,ge._1)(q,"x","batchNorm"),Ye=(0,ge._1)(ae,"mean","batchNorm"),ut=(0,ge._1)(Z,"variance","batchNorm");let lt,wt;return null!=me&&(lt=(0,ge._1)(me,"scale","batchNorm")),null!=oe&&(wt=(0,ge._1)(oe,"offset","batchNorm")),re.hu(2===Me.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${Me.rank}.`),re.hu(2===Ye.rank||1===Ye.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${Ye.rank}.`),re.hu(2===ut.rank||1===ut.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${ut.rank}.`),null!=lt&&re.hu(2===lt.rank||1===lt.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${lt.rank}.`),null!=wt&&re.hu(2===wt.rank||1===wt.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${wt.rank}.`),(0,Fs.t)(Me,Ye,ut,wt,lt,xe)}}),La=(0,vn.op)({batchNorm3d_:function(q,ae,Z,oe,me,xe){const Me=(0,ge._1)(q,"x","batchNorm"),Ye=(0,ge._1)(ae,"mean","batchNorm"),ut=(0,ge._1)(Z,"variance","batchNorm");let lt,wt;return null!=me&&(lt=(0,ge._1)(me,"scale","batchNorm")),null!=oe&&(wt=(0,ge._1)(oe,"offset","batchNorm")),re.hu(3===Me.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${Me.rank}.`),re.hu(3===Ye.rank||1===Ye.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${Ye.rank}.`),re.hu(3===ut.rank||1===ut.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${ut.rank}.`),null!=lt&&re.hu(3===lt.rank||1===lt.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${lt.rank}.`),null!=wt&&re.hu(3===wt.rank||1===wt.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${wt.rank}.`),(0,Fs.t)(Me,Ye,ut,wt,lt,xe)}}),zC=(0,vn.op)({batchNorm4d_:function(q,ae,Z,oe,me,xe){const Me=(0,ge._1)(q,"x","batchNorm"),Ye=(0,ge._1)(ae,"mean","batchNorm"),ut=(0,ge._1)(Z,"variance","batchNorm");let lt,wt;return null!=me&&(lt=(0,ge._1)(me,"scale","batchNorm")),null!=oe&&(wt=(0,ge._1)(oe,"offset","batchNorm")),re.hu(4===Me.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${Me.rank}.`),re.hu(4===Ye.rank||1===Ye.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${Ye.rank}.`),re.hu(4===ut.rank||1===ut.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${ut.rank}.`),null!=lt&&re.hu(4===lt.rank||1===lt.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${lt.rank}.`),null!=wt&&re.hu(4===wt.rank||1===wt.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${wt.rank}.`),(0,Fs.t)(Me,Ye,ut,wt,lt,xe)}}),zu=(0,vn.op)({bincount_:function(q,ae,Z){const oe=(0,ge._1)(q,"x","bincount"),me=(0,ge._1)(ae,"weights","bincount");return re.hu("int32"===oe.dtype,()=>`Error in bincount: input dtype must be int32, but got ${oe.dtype}`),re.hu(Z>=0,()=>`size must be non-negative, but got ${Z}.`),re.hu(me.size===oe.size||0===me.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${oe.shape}, weights shape: ${me.shape}.`),J.BV.runKernel(ht.zv,{x:oe,weights:me},{size:Z})}}),tp=(0,vn.op)({broadcastArgs_:function(q,ae){const Z=(0,ge._1)(q,"s0","broadcastArgs","int32"),oe=(0,ge._1)(ae,"s1","broadcastArgs","int32");if(1!==Z.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${Z.rank}`);if(1!==oe.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${oe.rank}`);return J.BV.runKernel(ht.eE,{s0:Z,s1:oe})}});var oo=v(6172),qu=v(9249),T0=v(1935);const Xx=(0,vn.op)({concat1d_:function(q){return(0,aa.z)(q,0)}}),nd=(0,vn.op)({concat2d_:function(q,ae){return(0,aa.z)(q,ae)}}),qr=(0,vn.op)({concat3d_:function(q,ae){return(0,aa.z)(q,ae)}}),Zx=(0,vn.op)({concat4d_:function(q,ae){return(0,aa.z)(q,ae)}});var ly=v(7182),Yp=v(6509),q1=v(9053),ou=v(7202);const In=(0,vn.op)({conv3d_:function(q,ae,Z,oe,me="NDHWC",xe=[1,1,1]){const Me=(0,ge._1)(q,"x","conv3d"),Ye=(0,ge._1)(ae,"filter","conv3d");let ut=Me,lt=!1;4===Me.rank&&(lt=!0,ut=(0,vi.X)(Me,[1,Me.shape[0],Me.shape[1],Me.shape[2],Me.shape[3]])),re.hu(5===ut.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${ut.rank}.`),re.hu(5===Ye.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${Ye.rank}.`),re.hu(ut.shape[4]===Ye.shape[3],()=>`Error in conv3d: depth of input (${ut.shape[4]}) must match input depth for filter ${Ye.shape[3]}.`),re.hu((0,ou.jT)(Z,xe),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${Z} and dilations '${xe}'`),re.hu("NDHWC"===me,()=>`Error in conv3d: got dataFormat of ${me} but only NDHWC is currently supported.`);const Yt=J.BV.runKernel(ht.x1,{x:ut,filter:Ye},{strides:Z,pad:oe,dataFormat:me,dilations:xe});return lt?(0,vi.X)(Yt,[Yt.shape[1],Yt.shape[2],Yt.shape[3],Yt.shape[4]]):Yt}});var Yi=v(8921);const To=(0,vn.op)({conv3dTranspose_:function(q,ae,Z,oe,me){const xe=(0,ge._1)(q,"x","conv3dTranspose"),Me=(0,ge._1)(ae,"filter","conv3dTranspose");return(0,Yi._)(Z,xe,Me,oe,me)}});var vf=v(1588),ju=v(3538),Su=v(5023);const go=(0,vn.op)({denseBincount_:function(q,ae,Z,oe=!1){const me=(0,ge._1)(q,"x","denseBincount"),xe=(0,ge._1)(ae,"weights","denseBincount");return re.hu("int32"===me.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${me.dtype}`),re.hu(me.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${me.rank}.`),re.hu(Z>=0,()=>`size must be non-negative, but got ${Z}.`),re.hu(xe.size===me.size||0===xe.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${me.shape}, weights shape: ${xe.shape}.`),J.BV.runKernel(ht.QR,{x:me,weights:xe},{size:Z,binaryOutput:oe})}});var Ya=v(8663),Ga=v(2514);const uo=(0,vn.op)({diag_:function(q){const Z={x:(0,ge._1)(q,"x","diag")};return J.BV.runKernel(ht.$w,Z)}});var wa=v(7501),Fa=v(8464),el=v(4258);const ko=(0,vn.op)({einsum_:function(q,...ae){const Z=ae.map((me,xe)=>(0,ge._1)(me,`tensors${xe}`,"einsum"));return J.BV.runKernel(ht.$g,Z,{equation:q})}});var cg=v(6818),dg=v(5393),k0=v(450),dh=v(835),yc=v(8457),Nd=v(5914),id=v(3063);const I0=(0,vn.op)({eye_:function(q,ae,Z,oe="float32"){null==ae&&(ae=q);const me=Da([q,ae],oe),xe=q<=ae?q:ae;for(let Ye=0;Ye<xe;++Ye)me.set(1,Ye,Ye);const Me=(0,vi.X)(me.toTensor(),[q,ae]);if(null==Z)return Me;if(1===Z.length)return(0,id.G)((0,yc.d)(Me,0),[Z[0],1,1]);if(2===Z.length)return(0,id.G)((0,yc.d)((0,yc.d)(Me,0),0),[Z[0],Z[1],1,1]);if(3===Z.length)return(0,id.G)((0,yc.d)((0,yc.d)((0,yc.d)(Me,0),0),0),[Z[0],Z[1],Z[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${Z.length}D.`)}});var Kp=v(3849),bf=v(4404),xf=v(8181),Uo=v(7844),Xp=v(4239),N0=v(6308),np=v(870),rp=v(8620),O0=v(1491),Au=v(8476),tl=v(9027),Ps=v(521);function Wu(q,ae,Z){if(Z<=0)throw new Error("The number of values should be positive.");return J.BV.runKernel(ht.e7,{},{start:q,stop:ae,num:Z})}var cy=v(5455),L0=v(8873),F0=v(657),ev=v(6071),tv=v(2803),ip=v(4494),fh=v(7369),fg=v(5280),Od=v(4712),Df=v(694),dy=v(8890),Ld=v(7542);const Fd=(0,vn.op)({maxPool3d_:function(q,ae=[1,1,1],Z,oe,me,xe="NDHWC"){const Me=(0,ge._1)(q,"x","maxPool3d");let Ye=Me,ut=!1;4===Me.rank&&(ut=!0,Ye=(0,vi.X)(Me,[1,Me.shape[0],Me.shape[1],Me.shape[2],Me.shape[3]])),re.hu(5===Ye.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${Ye.rank}.`),re.hu("NDHWC"===xe,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${xe}`),null!=me&&re.hu(re.GN(oe),()=>`Error in maxPool3d: pad must be an integer when using, dimRoundingMode ${me} but got pad ${oe}.`);const vt=J.BV.runKernel(ht.OA,{x:Ye},{filterSize:ae,strides:Z,pad:oe,dimRoundingMode:me,dataFormat:xe});return ut?(0,vi.X)(vt,[vt.shape[1],vt.shape[2],vt.shape[3],vt.shape[4]]):vt}}),ap=(0,vn.op)({maxPoolWithArgmax_:function(q,ae,Z,oe,me=!1){const Me={x:(0,ge._1)(q,"x","maxPoolWithArgmax")},ut=J.BV.runKernel(ht.vF,Me,{filterSize:ae,strides:Z,pad:oe,includeBatchInIndex:me});return{result:ut[0],indexes:ut[1]}}});var sd=v(317),ad=v(6217);function Rn(q,ae,{indexing:Z="xy"}={}){if("xy"!==Z&&"ij"!==Z)throw new TypeError(`${Z} is not a valid third argument to meshgrid`);if(void 0===q)return[];let oe=(0,ge._1)(q,"x","meshgrid",q instanceof Ts.es?q.dtype:"float32");if(void 0===ae)return[oe];let me=(0,ge._1)(ae,"y","meshgrid",ae instanceof Ts.es?ae.dtype:"float32");const xe=(0,re.NA)(oe.shape),Me=(0,re.NA)(me.shape);return"xy"===Z?(oe=(0,vi.X)(oe,[1,-1]),me=(0,vi.X)(me,[-1,1]),[(0,Ni.O)((0,ad.i)([Me,1],oe.dtype),oe),(0,Ni.O)(me,(0,ad.i)([1,xe],me.dtype))]):(oe=(0,vi.X)(oe,[-1,1]),me=(0,vi.X)(me,[1,-1]),[(0,Ni.O)(oe,(0,ad.i)([1,Me],oe.dtype)),(0,Ni.O)((0,ad.i)([xe,1],me.dtype),me)])}var hg=v(2451),fy=v(1563),op=v(4326),es=v(3832),Tu=v(2745);const Hu=(0,vn.op)({moments_:function(q,ae=null,Z=!1){q=(0,ge._1)(q,"x","moments");const oe=(0,re.EC)(ae,q.shape),me=(0,sd.J)(q,oe,Z);let xe=me.shape;Z||(xe=(0,Tu.rv)(me.shape,oe));const Me=(0,ws.h)((0,Ai.l)((0,ka.p)(q,"float32"),(0,vi.X)(me,xe)));return{mean:me,variance:(0,sd.J)(Me,oe,Z)}}}),hh=(0,vn.op)({multiRNNCell_:function(q,ae,Z,oe){const me=(0,ge._1)(ae,"data","multiRNNCell"),xe=(0,ge.sI)(Z,"c","multiRNNCell"),Me=(0,ge.sI)(oe,"h","multiRNNCell");let Ye=me;const ut=[];for(let vt=0;vt<q.length;vt++){const Yt=q[vt](Ye,xe[vt],Me[vt]);ut.push(Yt[0]),ut.push(Yt[1]),Ye=Yt[1]}const lt=[],wt=[];for(let vt=0;vt<ut.length;vt+=2)lt.push(ut[vt]),wt.push(ut[vt+1]);return[lt,wt]}}),ph=(0,vn.op)({multinomial_:function(q,ae,Z,oe=!1){const me=(0,ge._1)(q,"logits","multinomial"),xe=me.size,Me=me.rank;if(xe<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${xe}.`);if(Me>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${Me}`);Z=Z||Math.random();const ut={logits:1===Me?(0,vi.X)(me,[1,-1]):me},wt=J.BV.runKernel(ht.NZ,ut,{numSamples:ae,seed:Z,normalized:oe});return 1===Me?(0,vi.X)(wt,[wt.size]):wt}});var Iu=v(181),Yo=v(2684),py=v(3583);const vc=(0,vn.op)({outerProduct_:function(q,ae){const Z=(0,ge._1)(q,"v1","outerProduct"),oe=(0,ge._1)(ae,"v2","outerProduct");re.hu(1===Z.rank&&1===oe.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${Z.rank} and ${oe.rank}.`);const me=(0,vi.X)(Z,[-1,1]),xe=(0,vi.X)(oe,[1,-1]);return(0,Ni.O)(me,xe)}});var Pd=v(1824);const up=(0,vn.op)({pad1d_:function(q,ae,Z=0){return(0,re.hu)(2===ae.length,()=>"Invalid number of paddings. Must be length of 2."),(0,Pd.v)(q,[ae],Z)}}),Jp=(0,vn.op)({pad2d_:function(q,ae,Z=0){return(0,re.hu)(2===ae.length&&2===ae[0].length&&2===ae[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),(0,Pd.v)(q,ae,Z)}}),D=(0,vn.op)({pad3d_:function(q,ae,Z=0){return(0,re.hu)(3===ae.length&&2===ae[0].length&&2===ae[1].length&&2===ae[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),(0,Pd.v)(q,ae,Z)}}),k=(0,vn.op)({pad4d_:function(q,ae,Z=0){return(0,re.hu)(4===ae.length&&2===ae[0].length&&2===ae[1].length&&2===ae[2].length&&2===ae[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),(0,Pd.v)(q,ae,Z)}});var j=v(5415),ee=v(4845),le=v(9357);const de=(0,vn.op)({rand_:function(q,ae,Z){const oe=(0,re.NA)(q);let me=null;if(null==Z||"float32"===Z)me=new Float32Array(oe);else if("int32"===Z)me=new Int32Array(oe);else{if("bool"!==Z)throw new Error(`Unknown data type ${Z}`);me=new Uint8Array(oe)}for(let xe=0;xe<oe;xe++)me[xe]=ae();return J.BV.makeTensor(me,q,Z)}});var ve=v(3176);class Ne{constructor(ae,Z,oe,me,xe){this.mean=ae,this.stdDev=Z,this.dtype=oe,this.nextVal=NaN,this.truncated=me,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const Me=xe||Math.random();this.random=ve.alea(Me.toString())}nextValue(){if(!isNaN(this.nextVal)){const me=this.nextVal;return this.nextVal=NaN,me}let ae,Z,oe=!1;for(;!oe;){let me,xe,Me;do{me=2*this.random()-1,xe=2*this.random()-1,Me=me*me+xe*xe}while(Me>=1||0===Me);const Ye=Math.sqrt(-2*Math.log(Me)/Me);ae=this.mean+this.stdDev*me*Ye,Z=this.mean+this.stdDev*xe*Ye,(!this.truncated||this.isValidTruncated(ae))&&(oe=!0)}return(!this.truncated||this.isValidTruncated(Z))&&(this.nextVal=this.convertValue(Z)),this.convertValue(ae)}convertValue(ae){return null==this.dtype||"float32"===this.dtype?ae:Math.round(ae)}isValidTruncated(ae){return ae<=this.upper&&ae>=this.lower}}class Fe{constructor(ae,Z,oe,me){this.alpha=ae,this.beta=1/Z,this.dtype=oe;const xe=me||Math.random();this.randu=ve.alea(xe.toString()),this.randn=new Ne(0,1,oe,!1,this.randu()),this.d=ae<1?ae+2/3:ae-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let ae,Z,oe,me,xe,Me;for(;;){do{me=this.randn.nextValue(),Me=1+this.c*me}while(Me<=0);if(Me*=Me*Me,ae=me*me,Z=1-.331*ae*ae,oe=.5*ae+this.d*(1-Me+Math.log(Me)),xe=this.randu(),xe<Z||Math.log(xe)<oe)break}return Me*=1/this.beta*this.d,this.alpha<1&&(Me*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(Me)}convertValue(ae){return"float32"===this.dtype?ae:Math.round(ae)}}class Je{constructor(ae=0,Z=1,oe,me){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=ae,this.range=Z-ae,this.dtype=oe,null==me&&(me=Math.random()),"number"==typeof me&&(me=me.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${ae} - ${Z} <= 1 and dtype is not float`);this.random=ve.alea(me)}convertValue(ae){return this.canReturnFloat()?ae:Math.round(ae)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const ci=(0,vn.op)({randomGamma_:function(q,ae,Z=1,oe="float32",me){if(null==Z&&(Z=1),null==oe&&(oe="float32"),"float32"!==oe&&"int32"!==oe)throw new Error(`Unsupported data type ${oe}`);const xe=new Fe(ae,Z,oe,me),Me=Da(q,oe);for(let Ye=0;Ye<Me.values.length;Ye++)Me.values[Ye]=xe.nextValue();return Me.toTensor()}}),ss=(0,vn.op)({randomNormal_:function(q,ae=0,Z=1,oe,me){if(null!=oe&&"bool"===oe)throw new Error(`Unsupported data type ${oe}`);const xe=new Ne(ae,Z,oe,!1,me),Me=Da(q,oe);for(let Ye=0;Ye<Me.values.length;Ye++)Me.values[Ye]=xe.nextValue();return Me.toTensor()}}),os=(0,vn.op)({randomUniform_:function(q,ae=0,Z=1,oe="float32",me){const xe=Da(q,oe),Me=new Je(ae,Z,null,me);for(let Ye=0;Ye<xe.values.length;Ye++)xe.values[Ye]=Me.nextValue();return xe.toTensor()}});function Cs(q,ae,Z=1,oe="float32"){if(0===Z)throw new Error("Cannot have a step of zero");return J.BV.runKernel(ht.e6,{},{start:q,stop:ae,step:Z,dtype:oe})}var Go=v(6656),Ko=v(9372),Pa=v(2047),Xr=v(1095),bc=v(7661);const Qp=(0,vn.op)({reverse1d_:function(q){const ae=(0,ge._1)(q,"x","reverse");return re.hu(1===ae.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${ae.rank}.`),(0,bc.G)(ae,0)}}),V=(0,vn.op)({reverse2d_:function(q,ae){const Z=(0,ge._1)(q,"x","reverse");return re.hu(2===Z.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${Z.rank}.`),(0,bc.G)(Z,ae)}}),De=(0,vn.op)({reverse3d_:function(q,ae){const Z=(0,ge._1)(q,"x","reverse");return re.hu(3===Z.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${Z.rank}.`),(0,bc.G)(Z,ae)}}),Ze=(0,vn.op)({reverse4d_:function(q,ae){const Z=(0,ge._1)(q,"x","reverse");return re.hu(4===Z.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${Z.rank}.`),(0,bc.G)(Z,ae)}});var Ct=v(2688),dn=v(242),jr=v(5484),as=v(6020);function Gl(){return(Gl=(0,Te.Z)(function*(q,ae){const Z=(0,ge._1)(q,"x","setdiff1d"),oe=(0,ge._1)(ae,"y","setdiff1d");re.hu(Z.dtype===oe.dtype,()=>`x and y should have the same dtype, but got x (${Z.dtype}) and y (${oe.dtype}).`),re.hu(1===Z.rank,()=>`x should be 1D tensor, but got x (${Z.shape}).`),re.hu(1===oe.rank,()=>`y should be 1D tensor, but got y (${oe.shape}).`);const me=yield Z.data(),xe=yield oe.data(),Me=new Set(xe);let Ye=0;for(let wt=0;wt<me.length;wt++)Me.has(me[wt])||Ye++;const ut=new Ts.YD([Ye],Z.dtype),lt=new Ts.YD([Ye],"int32");for(let wt=0,vt=0;wt<me.length;wt++)Me.has(me[wt])||(ut.values[vt]=me[wt],lt.values[vt]=wt,vt++);return[ut.toTensor(),lt.toTensor()]})).apply(this,arguments)}const xc=function(q,ae){return Gl.apply(this,arguments)};var qp=v(184),lF=v(1969),Cf=v(3981);const Jx=(0,vn.op)({slice1d_:function(q,ae,Z){const oe=(0,ge._1)(q,"x","slice1d");return re.hu(1===oe.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${oe.rank} tensor`),(0,Ks.t)(oe,[ae],[Z])}}),pg=(0,vn.op)({slice2d_:function(q,ae,Z){const oe=(0,ge._1)(q,"x","slice2d");return re.hu(2===oe.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${oe.rank} tensor`),(0,Ks.t)(oe,ae,Z)}}),cF=(0,vn.op)({slice3d_:function(q,ae,Z){const oe=(0,ge._1)(q,"x","slice3d");return re.hu(3===oe.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${oe.rank} tensor`),(0,Ks.t)(oe,ae,Z)}}),fF=(0,vn.op)({slice4d_:function(q,ae,Z){const oe=(0,ge._1)(q,"x","slice4d");return re.hu(4===oe.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${oe.rank} tensor`),(0,Ks.t)(oe,ae,Z)}});var tV=v(2187),ZA=v(7246),Rd=v(1705),Qx=v(5008),$0=v(1132),hF=v(6903),qx=v(4636),jC=v(633),WC=v(3629),eD=v(6458),my=v(1440),V0=v(4429),z0=v(92),Nu=v(7782),gy=v(3992);function gh(q,ae){(0,re.Cq)(q);const Z=(0,ge.C)(q,ae);if(1!==Z.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,we.H)(q,null,Z,ae)}function em(q,ae,Z){if((0,re.Cq)(q),null!=ae&&2!==ae.length)throw new Error("tensor2d() requires shape to have two numbers");const oe=(0,ge.C)(q,Z);if(2!==oe.length&&1!==oe.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===oe.length&&null==ae)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,we.H)(q,ae,oe,Z)}function j0(q,ae,Z){if((0,re.Cq)(q),null!=ae&&4!==ae.length)throw new Error("tensor4d() requires shape to have four numbers");const oe=(0,ge.C)(q,Z);if(4!==oe.length&&1!==oe.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===oe.length&&null==ae)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,we.H)(q,ae,oe,Z)}function _y(q,ae,Z){if((0,re.Cq)(q),null!=ae&&5!==ae.length)throw new Error("tensor5d() requires shape to have five numbers");const oe=(0,ge.C)(q,Z);if(5!==oe.length&&1!==oe.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===oe.length&&null==ae)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,we.H)(q,ae,oe,Z)}function pF(q,ae,Z){if((0,re.Cq)(q),null!=ae&&6!==ae.length)throw new Error("tensor6d() requires shape to have six numbers");const oe=(0,ge.C)(q,Z);if(6!==oe.length&&1!==oe.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===oe.length&&null==ae)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return(0,we.H)(q,ae=ae||oe,oe,Z)}var JA=v(3187);const tD=(0,vn.op)({truncatedNormal_:function(q,ae=0,Z=1,oe,me){if(null!=oe&&"bool"===oe)throw new Error("Unsupported data type $ { dtype }");const xe=new Ne(ae,Z,oe,!0,me),Me=Da(q,oe);for(let Ye=0;Ye<Me.values.length;Ye++)Me.values[Ye]=xe.nextValue();return Me.toTensor()}});var mF=v(5403),yy=v(6442),mg=v(230);function W0(q,ae=!0,Z,oe){return J.BV.makeVariable(q,ae,Z,oe)}var H0=v(8793);function Xn(q,ae){const Z=[];for(let xe=0;xe<ae.length;xe++)ae[xe]&&Z.push(xe);const oe=Da(q,"int32"),me=Da([Z.length,q.length],"int32");for(let xe=0;xe<Z.length;xe++){const Me=oe.indexToLoc(Z[xe]);me.values.set(Me,xe*q.length)}return me.toTensor()}function vy(){return(vy=(0,Te.Z)(function*(q){const ae=(0,ge._1)(q,"condition","whereAsync","bool"),Z=yield ae.data(),oe=Xn(ae.shape,Z);return q!==ae&&ae.dispose(),oe})).apply(this,arguments)}const lp=function(q){return vy.apply(this,arguments)};var U0=v(7799);function nD(){return(nD=(0,Te.Z)(function*(q,ae,Z){const oe=(0,ge._1)(q,"tensor","boolMask"),me=(0,ge._1)(ae,"mask","boolMask","bool"),xe=null==Z?0:Z,Me=me.rank,Ye=oe.shape;re.hu(Me>0,()=>"mask cannot be scalar"),re.k5(Ye.slice(xe,xe+Me),me.shape,"mask's shape must match the first K dimensions of tensor's shape,");let ut=1;for(let Un=xe;Un<xe+Me;Un++)ut*=Ye[Un];const lt=Ye.slice(0,xe).concat([ut],Ye.slice(xe+Me)),wt=(0,vi.X)(oe,lt),vt=(0,vi.X)(me,[-1]),Yt=yield lp(vt),hn=(0,eD.L)(Yt,[1]),Fn=(0,xf.I)(wt,hn,xe);return q!==oe&&oe.dispose(),ae!==me&&me.dispose(),hn.dispose(),wt.dispose(),vt.dispose(),Yt.dispose(),Fn})).apply(this,arguments)}const QA=function(q,ae,Z){return nD.apply(this,arguments)};var qA=v(8788);const _h=(0,vn.op)({movingAverage_:function(q,ae,Z,oe,me=!0){const xe=(0,ge._1)(q,"v","movingAverage"),Me=(0,ge._1)(ae,"x","movingAverage"),Ye=(0,ge._1)(Z,"decay","movingAverage");(0,Ys.assertTypesMatch)(xe,Me),re.hu(re.cO(xe.shape,Me.shape),()=>"Shape mismatch in v and x");const ut=(0,Pi.i)(1),lt=(0,Ai.l)(ut,Ye);let wt=(0,tr.d)((0,Ai.l)(Me,xe),lt);if(me){re.hu(null!=oe,()=>"When using zeroDebias: true, step is required.");const vt=(0,ge._1)(oe,"step","movingAverage");wt=(0,Ui.h)(wt,(0,Ai.l)(ut,(0,jl.s)(Ye,vt)))}return(0,Rr.I)(xe,wt)}}),Y0=(0,vn.op)({scatterND_:function(q,ae,Z){const oe=(0,ge._1)(q,"indices","scatterND","int32"),me=(0,ge._1)(ae,"updates","scatterND");return ao(me,oe,Z),J.BV.runKernel(ht.xQ,{indices:oe,updates:me},{shape:Z})}}),rv=(0,vn.op)({sparseToDense_:function(q,ae,Z,oe=0){const me=(0,ge._1)(q,"sparseIndices","sparseToDense","int32"),xe=(0,ge._1)(ae,"sparseValues","sparseToDense"),Me=(0,ge._1)(oe,"defaultValue","sparseToDense",xe.dtype);return function(q,ae,Z,oe){if("int32"!==q.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${q.dtype}.`);if(q.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${q.shape}.`);const me=q.rank>0?q.shape[0]:1,xe=q.rank>1?q.shape[1]:1;if(Z.length!==xe)throw new Error(`outputShape has incorrect number of elements:, ${Z.length}, should be: ${xe}.`);if(0!==ae.rank&&(1!==ae.rank||ae.size!==me))throw new Error(`sparseValues has incorrect shape ${ae.shape}, should be [] or [${me}]`);if(ae.dtype!==oe.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(me,xe,Z,Me),J.BV.runKernel(ht.D2,{sparseIndices:me,sparseValues:xe,defaultValue:Me},{outputShape:Z})}}),tT=(0,vn.op)({gatherND_:function(q,ae){const Z=(0,ge._1)(ae,"indices","gatherND","int32"),me={params:(0,ge._1)(q,"x","gatherND","string_or_numeric"),indices:Z};return J.BV.runKernel(ht.q1,me)}}),by=(0,vn.op)({dropout_:function(q,ae,Z,oe){const me=(0,ge._1)(q,"x","dropout");if(re.hu("float32"===me.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${me.dtype} tensor instead.`),re.hu(ae>=0&&ae<1,()=>`rate must be a float in the range [0, 1), but got ${ae}.`),0===ae)return q instanceof Ts.es?me.clone():me;const xe=function(q,ae){if(null==ae)return q.shape.slice();if(re.cO(q.shape,ae))return ae;if(q.shape.length===ae.length){const Z=[];for(let oe=0;oe<q.shape.length;oe++)Z.push(null==ae[oe]&&null!=q.shape[oe]?q.shape[oe]:ae[oe]);return Z}return ae}(me,Z),Me=1-ae,Ye=(0,Ui.h)((0,Kp.G)((0,Rr.I)(os(xe,0,1,"float32",oe),Me)),Me);return(0,tr.d)(me,Ye)}});function gg(q){return Math.floor(Math.pow(2,Math.ceil(Math.log(q)/Math.log(2))))}function XC(q,ae,Z){const oe=1-q%2,me=new Float32Array(q);for(let xe=0;xe<q;++xe){const Me=2*Math.PI*xe/(q+oe-1);me[xe]=ae-Z*Math.cos(Me)}return gh(me,"float32")}function sD(){return(sD=(0,Te.Z)(function*(q,ae,Z=1){const oe=(0,ge._1)(q,"predictions","inTopK"),me=(0,ge._1)(ae,"targets","inTopK");(0,re.hu)(oe.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${oe.rank}`),(0,re.hu)(oe.rank-1===me.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${oe.rank} and targets rank ${me.rank}`),(0,re.k5)(oe.shape.slice(0,oe.shape.length-1),me.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const xe=oe.shape[oe.shape.length-1];(0,re.hu)(Z>0&&Z<=xe,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${xe}), but got ${Z}`);const Me=yield oe.data(),Ye=yield me.data(),[ut,lt]=[Me.length/xe,xe],wt=(0,re.WP)("bool",ut);for(let vt=0;vt<ut;vt++){const Yt=vt*lt,hn=Me.subarray(Yt,Yt+lt),Fn=[];for(let Un=0;Un<hn.length;Un++)Fn.push({value:hn[Un],index:Un});Fn.sort((Un,$n)=>$n.value-Un.value),wt[vt]=0;for(let Un=0;Un<Z;Un++)if(Fn[Un].index===Ye[vt]){wt[vt]=1;break}}return q!==oe&&oe.dispose(),ae!==me&&me.dispose(),Se(wt,me.shape,"bool")})).apply(this,arguments)}const nT=function(q,ae){return sD.apply(this,arguments)};var xy=v(3469),ZC=v(4867),aD=v(8445);function oD(q,ae,Z){if(null==Z||"linear"===Z)return q;if("relu"===Z)return(0,tr.d)(q,(0,V0.N)(ae));throw new Error(`Cannot compute gradient for fused activation ${Z}.`)}function _g(q,ae){let Z=ae;const oe=xy.RR(q.shape,ae.shape);return oe.length>0&&(Z=(0,Nu.S)(Z,oe)),(0,vi.X)(Z,q.shape)}function G0(q,ae,Z,oe){if("linear"===ae)return q;if("relu"===ae)return(0,Pa.U)(q);if("elu"===ae)return(0,cg.p)(q);if("relu6"===ae)return(0,Xr.b)(q);if("prelu"===ae)return(0,ee.A)(q,Z);if("leakyrelu"===ae)return(0,Au.h)(q,oe);if("sigmoid"===ae)return(0,Ul.X)(q);throw new Error(`Unknown fused activation ${ae}.`)}const cp=(q,ae)=>!(q>0)||"linear"===ae,_F=(0,vn.op)({fusedConv2d_:function({x:q,filter:ae,strides:Z,pad:oe,dataFormat:me="NHWC",dilations:xe=[1,1],dimRoundingMode:Me,bias:Ye,activation:ut="linear",preluActivationWeights:lt,leakyreluAlpha:wt}){if(!1===cp(J.BV.state.gradientDepth,ut=ut||"linear")){let Ci=(0,Yp.T)(q,ae,Z,oe,me,xe,Me);return null!=Ye&&(Ci=(0,Rr.I)(Ci,Ye)),G0(Ci,ut,lt,wt)}const vt=(0,ge._1)(q,"x","conv2d","float32"),Yt=(0,ge._1)(ae,"filter","conv2d","float32");let hn=vt,Fn=!1;3===vt.rank&&(Fn=!0,hn=(0,vi.X)(vt,[1,vt.shape[0],vt.shape[1],vt.shape[2]])),re.hu(4===hn.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${hn.rank}.`),re.hu(4===Yt.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${Yt.rank}.`),null!=Me&&re.hu(re.GN(oe),()=>`Error in fused conv2d: pad must be an integer when using, dimRoundingMode ${Me} but got pad ${oe}.`),re.hu(hn.shape[3]===Yt.shape[2],()=>`Error in conv2d: depth of input (${hn.shape[3]}) must match input depth for filter ${Yt.shape[2]}.`),re.hu(ou.jT(Z,xe),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${Z} and dilations '${xe}'`),re.hu("NHWC"===me,()=>`Error in conv2d: got dataFormat of ${me} but only NHWC is currently supported.`);const Un=ou.Ix(hn.shape,Yt.shape,Z,xe,oe,Me);let $n,Wr;null!=Ye&&($n=(0,ge._1)(Ye,"bias","fused conv2d"),[$n]=(0,Ys.makeTypesMatch)($n,vt),xy.$N(Un.outShape,$n.shape)),null!=lt&&(Wr=(0,ge._1)(lt,"prelu weights","fused conv2d"));const ls=(Ci,Zs)=>{const[yo,vo,Gi,la]=Zs,ca=oD(Ci,Gi,ut);re.hu(ou.I0(xe),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${xe}'`);const ud=[(0,aD._)(vo.shape,ca,yo,Z,oe),(0,ZC.p)(vo,ca,yo.shape,Z,oe)];if(null!=la){const e_=_g(la,ca);ud.push(e_)}return ud},ga={x:hn,filter:Yt,bias:$n,preluActivationWeights:Wr},_o={strides:Z,pad:oe,dataFormat:me,dilations:xe,dimRoundingMode:Me,activation:ut,leakyreluAlpha:wt};return null==Ye?(0,Qr.cb)((Zs,yo,vo)=>{let Gi=J.BV.runKernel(ht._V,ga,_o);return vo([yo,Zs,Gi]),Fn&&(Gi=(0,vi.X)(Gi,[Gi.shape[1],Gi.shape[2],Gi.shape[3]])),{value:Gi,gradFunc:ls}})(hn,Yt):(0,Qr.cb)((Zs,yo,vo,Gi)=>{let la=J.BV.runKernel(ht._V,ga,_o);return Gi([yo,Zs,la,vo]),Fn&&(la=(0,vi.X)(la,[la.shape[1],la.shape[2],la.shape[3]])),{value:la,gradFunc:ls}})(hn,Yt,$n)}});var rT=v(527),uD=v(3905);const qC=(0,vn.op)({fusedDepthwiseConv2d_:function({x:q,filter:ae,strides:Z,pad:oe,dataFormat:me="NHWC",dilations:xe=[1,1],dimRoundingMode:Me,bias:Ye,activation:ut="linear",preluActivationWeights:lt,leakyreluAlpha:wt}){if(!1===cp(J.BV.state.gradientDepth,ut)){let Ci=(0,Ga.B)(q,ae,Z,oe,me,xe,Me);return null!=Ye&&(Ci=(0,Rr.I)(Ci,Ye)),G0(Ci,ut,lt,wt)}const vt=(0,ge._1)(q,"x","depthwiseConv2d","float32"),Yt=(0,ge._1)(ae,"filter","depthwiseConv2d","float32");let hn=vt,Fn=!1;3===vt.rank&&(Fn=!0,hn=(0,vi.X)(vt,[1,vt.shape[0],vt.shape[1],vt.shape[2]])),re.hu(4===hn.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${hn.rank}.`),re.hu(4===Yt.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${Yt.rank}.`),re.hu(hn.shape[3]===Yt.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${hn.shape[3]}) must match the inChannels dimension in filter ${Yt.shape[2]}.`),null==xe&&(xe=[1,1]),re.hu(ou.jT(Z,xe),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${Z} and dilations '${xe}'`),null!=Me&&re.hu(re.GN(oe),()=>`Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode ${Me} but got pad ${oe}.`);const Un=ou.Ix(hn.shape,Yt.shape,Z,xe,oe,Me,!0);let $n,Wr;null!=Ye&&($n=(0,ge._1)(Ye,"bias","fused conv2d"),[$n]=(0,Ys.makeTypesMatch)($n,vt),xy.$N(Un.outShape,$n.shape)),null!=lt&&(Wr=(0,ge._1)(lt,"prelu weights","fused depthwiseConv2d"));const ls=(Ci,Zs)=>{re.hu(ou.I0(xe),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${xe}'`);const[yo,vo,Gi,la]=Zs,ca=oD(Ci,Gi,ut),Ou=(0,uD.v)(vo.shape,ca,yo,Z,oe,xe,Me),$d=(0,rT.z)(vo,ca,yo.shape,Z,oe,xe,Me);return null!=la?[Ou,$d,_g($n,ca)]:[Ou,$d]},ga={x:hn,filter:Yt,bias:$n,preluActivationWeights:Wr},_o={strides:Z,pad:oe,dataFormat:me,dilations:xe,dimRoundingMode:Me,activation:ut,leakyreluAlpha:wt};return null==Ye?(0,Qr.cb)((Zs,yo,vo)=>{let Gi=J.BV.runKernel(ht.lu,ga,_o);return vo([yo,Zs,Gi]),Fn&&(Gi=(0,vi.X)(Gi,[Gi.shape[1],Gi.shape[2],Gi.shape[3]])),{value:Gi,gradFunc:ls}})(hn,Yt):(0,Qr.cb)((Zs,yo,vo,Gi)=>{let la=J.BV.runKernel(ht.lu,ga,_o);return Gi([yo,Zs,la,vo]),Fn&&(la=(0,vi.X)(la,[la.shape[1],la.shape[2],la.shape[3]])),{value:la,gradFunc:ls}})(hn,Yt,$n)}}),lD=(0,vn.op)({fusedMatMul_:function({a:q,b:ae,transposeA:Z=!1,transposeB:oe=!1,bias:me,activation:xe="linear",preluActivationWeights:Me,leakyreluAlpha:Ye}){if(!1===cp(J.BV.state.gradientDepth,xe)){let la=(0,Ni.O)(q,ae,Z,oe);return null!=me&&(la=(0,Rr.I)(la,me)),G0(la,xe,Me,Ye)}let ut=(0,ge._1)(q,"a","fused matMul"),lt=(0,ge._1)(ae,"b","fused matMul");[ut,lt]=(0,Ys.makeTypesMatch)(ut,lt);const wt=Z?ut.shape[ut.rank-2]:ut.shape[ut.rank-1],vt=oe?lt.shape[lt.rank-1]:lt.shape[lt.rank-2],Yt=Z?ut.shape[ut.rank-1]:ut.shape[ut.rank-2],hn=oe?lt.shape[lt.rank-2]:lt.shape[lt.rank-1],Fn=ut.shape.slice(0,-2),Un=lt.shape.slice(0,-2),$n=re.NA(Fn),Wr=re.NA(Un);re.hu(ut.rank>=2&&lt.rank>=2&&ut.rank===lt.rank,()=>`Error in fused matMul: inputs must have the same rank of at least 2, got ranks ${ut.rank} and ${lt.rank}.`),re.hu(re.cO(Fn,Un),()=>`Error in fused matMul: outer dimensions (${Fn}) and (${Un}) of Tensors with shapes ${ut.shape} and ${lt.shape} must match.`),re.hu(wt===vt,()=>`Error in fused matMul: inner shapes (${wt}) and (${vt}) of Tensors with shapes ${ut.shape} and ${lt.shape} and transposeA=${Z} and transposeB=${oe} must match.`);const ls=ut.shape.slice(0,-2).concat([Yt,hn]),ga=(0,vi.X)(ut,Z?[$n,wt,Yt]:[$n,Yt,wt]),_o=(0,vi.X)(lt,oe?[Wr,hn,vt]:[Wr,vt,hn]);let Ci,Zs;null!=me&&(Ci=(0,ge._1)(me,"bias","fused matMul"),[Ci]=(0,Ys.makeTypesMatch)(Ci,ut),xy.$N(ls,Ci.shape)),null!=Me&&(Zs=(0,ge._1)(Me,"prelu weights","fused matMul"));const yo=(la,ca)=>{const[Ou,$d,ud,e_]=ca,Sf=oD((0,vi.X)(la,ud.shape),ud,xe);let t_,Ty;return Z||oe?!Z&&oe?(t_=(0,Ni.O)(Sf,$d,!1,!1),Ty=(0,Ni.O)(Sf,Ou,!0,!1)):Z&&!oe?(t_=(0,Ni.O)($d,Sf,!1,!0),Ty=(0,Ni.O)(Ou,Sf,!1,!1)):(t_=(0,Ni.O)($d,Sf,!0,!0),Ty=(0,Ni.O)(Sf,Ou,!0,!0)):(t_=(0,Ni.O)(Sf,$d,!1,!0),Ty=(0,Ni.O)(Ou,Sf,!0,!1)),null!=me?[t_,Ty,_g(e_,Sf)]:[t_,Ty]},vo={a:ga,b:_o,bias:Ci,preluActivationWeights:Zs},Gi={transposeA:Z,transposeB:oe,activation:xe,leakyreluAlpha:Ye};return null==me?(0,Qr.cb)((ca,Ou,$d)=>{const ud=J.BV.runKernel(ht.us,vo,Gi);return $d([ca,Ou,ud]),{value:(0,vi.X)(ud,ls),gradFunc:yo}})(ga,_o):(0,Qr.cb)((ca,Ou,$d,ud)=>{const e_=J.BV.runKernel(ht.us,vo,Gi);return ud([ca,Ou,e_,$d]),{value:(0,vi.X)(e_,ls),gradFunc:yo}})(ga,_o,Ci)}}),iT=(0,vn.op)({hammingWindow_:function(q){return XC(q,.54,.46)}}),sv=(0,vn.op)({hannWindow_:function(q){return XC(q,.5,.5)}}),av=(0,vn.op)({frame_:function(q,ae,Z,oe=!1,me=0){let xe=0;const Me=[];for(;xe+ae<=q.size;)Me.push((0,Ks.t)(q,xe,ae)),xe+=Z;if(oe)for(;xe<q.size;){const Ye=xe+ae-q.size,ut=(0,aa.z)([(0,Ks.t)(q,xe,ae-Ye),Jh([Ye],me)]);Me.push(ut),xe+=Z}return 0===Me.length?em([],[0,ae]):(0,vi.X)((0,aa.z)(Me),[Me.length,ae])}}),yh=(0,vn.op)({stft_:function(q,ae,Z,oe,me=sv){null==oe&&(oe=gg(ae));const xe=av(q,ae,Z),Me=(0,tr.d)(xe,me(ae));return(0,qx.Q)(Me,oe)}}),dD=(0,vn.op)({cropAndResize_:function(q,ae,Z,oe,me="bilinear",xe=0){const Me=(0,ge._1)(q,"image","cropAndResize"),Ye=(0,ge._1)(ae,"boxes","cropAndResize","float32"),ut=(0,ge._1)(Z,"boxInd","cropAndResize","int32"),lt=Ye.shape[0];return re.hu(4===Me.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${Me.rank}.`),re.hu(2===Ye.rank&&4===Ye.shape[1],()=>`Error in cropAndResize: boxes must be have size [${lt},4] but had shape ${Ye.shape}.`),re.hu(1===ut.rank&&ut.shape[0]===lt,()=>`Error in cropAndResize: boxInd must be have size [${lt}] but had shape ${Ye.shape}.`),re.hu(2===oe.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${oe.length}.`),re.hu(oe[0]>=1&&oe[1]>=1,()=>`cropSize must be atleast [1,1], but was ${oe}`),re.hu("bilinear"===me||"nearest"===me,()=>`method must be bilinear or nearest, but was ${me}`),J.BV.runKernel(ht.Vc,{image:Me,boxes:Ye,boxInd:ut},{method:me,extrapolationValue:xe,cropSize:oe})}}),aT=(0,vn.op)({flipLeftRight_:function(q){const ae=(0,ge._1)(q,"image","flipLeftRight","float32");return re.hu(4===ae.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${ae.rank}.`),J.BV.runKernel(ht.Uy,{image:ae},{})}}),eE=(0,vn.op)({grayscaleToRGB_:function(q){const ae=(0,ge._1)(q,"image","grayscaleToRGB"),Z=ae.rank-1,oe=ae.shape[Z];re.hu(ae.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${ae.rank}.`),re.hu(1===oe,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${oe}.`);const me=new Array(ae.rank);return me.fill(1,0,Z),me[Z]=3,(0,id.G)(ae,me)}}),oT=(0,vn.op)({rotateWithOffset_:function(q,ae,Z=0,oe=.5){const me=(0,ge._1)(q,"image","rotateWithOffset","float32");return re.hu(4===me.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${me.rank}.`),J.BV.runKernel(ht.b9,{image:me},{radians:ae,fillValue:Z,center:oe})}});function Ef(q,ae,Z,oe,me,xe){null==oe&&(oe=.5),null==me&&(me=Number.NEGATIVE_INFINITY),null==xe&&(xe=0);const Me=q.shape[0];return Z=Math.min(Z,Me),re.hu(0<=oe&&oe<=1,()=>`iouThreshold must be in [0, 1], but was '${oe}'`),re.hu(2===q.rank,()=>`boxes must be a 2D tensor, but was of rank '${q.rank}'`),re.hu(4===q.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${q.shape[1]}`),re.hu(1===ae.rank,()=>"scores must be a 1D tensor"),re.hu(ae.shape[0]===Me,()=>`scores has incompatible shape with boxes. Expected ${Me}, but was ${ae.shape[0]}`),re.hu(0<=xe&&xe<=1,()=>`softNmsSigma must be in [0, 1], but was '${xe}'`),{maxOutputSize:Z,iouThreshold:oe,scoreThreshold:me,softNmsSigma:xe}}const K0=(0,vn.op)({nonMaxSuppression_:function(q,ae,Z,oe=.5,me=Number.NEGATIVE_INFINITY){const xe=(0,ge._1)(q,"boxes","nonMaxSuppression","float32"),Me=(0,ge._1)(ae,"scores","nonMaxSuppression","float32"),Ye=Ef(xe,Me,Z,oe,me);return J.BV.runKernel(ht.uv,{boxes:xe,scores:Me},{maxOutputSize:Z=Ye.maxOutputSize,iouThreshold:oe=Ye.iouThreshold,scoreThreshold:me=Ye.scoreThreshold})}});function tE(q,ae,Z){const oe=function(q,ae,Z){return function(q,ae,Z){let oe=0,me=q.length,xe=0,Me=!1;for(;oe<me;){xe=oe+(me-oe>>>1);const Ye=Z(ae,q[xe]);Ye>0?oe=xe+1:(me=xe,Me=!Ye)}return Me?oe:-oe-1}(q,ae,Z||uv)}(q,ae,Z);q.splice(oe<0?-(oe+1):oe,0,ae)}function uv(q,ae){return q>ae?1:q<ae?-1:0}function vh(q,ae,Z,oe,me){return oa(q,ae,Z,oe,me,0)}function Dy(q,ae,Z,oe,me,xe){return oa(q,ae,Z,oe,me,0,!1,xe,!0)}function nE(q,ae,Z,oe,me,xe){return oa(q,ae,Z,oe,me,xe,!0)}function oa(q,ae,Z,oe,me,xe,Me=!1,Ye=!1,ut=!1){const lt=[];for(let $n=0;$n<ae.length;$n++)ae[$n]>me&&lt.push({score:ae[$n],boxIndex:$n,suppressBeginIndex:0});lt.sort(vF);const wt=xe>0?-.5/xe:0,vt=[],Yt=[];for(;vt.length<Z&&lt.length>0;){const $n=lt.pop(),{score:Wr,boxIndex:ls,suppressBeginIndex:ga}=$n;if(Wr<me)break;let _o=!1;for(let Ci=vt.length-1;Ci>=ga;--Ci){const Zs=rE(q,ls,vt[Ci]);if(Zs>=oe){_o=!0;break}if($n.score=$n.score*rV(oe,wt,Zs),$n.score<=me)break}$n.suppressBeginIndex=vt.length,_o||($n.score===Wr?(vt.push(ls),Yt.push($n.score)):$n.score>me&&tE(lt,$n,vF))}const hn=vt.length,Fn=Z-hn;Ye&&Fn>0&&(vt.push(...new Array(Fn).fill(0)),Yt.push(...new Array(Fn).fill(0)));const Un={selectedIndices:vt};return Me&&(Un.selectedScores=Yt),ut&&(Un.validOutputs=hn),Un}function rE(q,ae,Z){const oe=q.subarray(4*ae,4*ae+4),me=q.subarray(4*Z,4*Z+4),xe=Math.min(oe[0],oe[2]),Me=Math.min(oe[1],oe[3]),Ye=Math.max(oe[0],oe[2]),ut=Math.max(oe[1],oe[3]),lt=Math.min(me[0],me[2]),wt=Math.min(me[1],me[3]),vt=Math.max(me[0],me[2]),Yt=Math.max(me[1],me[3]),hn=(Ye-xe)*(ut-Me),Fn=(vt-lt)*(Yt-wt);if(hn<=0||Fn<=0)return 0;const Un=Math.max(xe,lt),$n=Math.max(Me,wt),Wr=Math.min(Ye,vt),ls=Math.min(ut,Yt),ga=Math.max(Wr-Un,0)*Math.max(ls-$n,0);return ga/(hn+Fn-ga)}function rV(q,ae,Z){const oe=Math.exp(ae*Z*Z);return Z<=q?oe:0}function vF(q,ae){return q.score-ae.score||q.score===ae.score&&ae.boxIndex-q.boxIndex}function vg(){return(vg=(0,Te.Z)(function*(q,ae,Z,oe=.5,me=Number.NEGATIVE_INFINITY){const xe=(0,ge._1)(q,"boxes","nonMaxSuppressionAsync"),Me=(0,ge._1)(ae,"scores","nonMaxSuppressionAsync"),Ye=Ef(xe,Me,Z,oe,me);Z=Ye.maxOutputSize,oe=Ye.iouThreshold,me=Ye.scoreThreshold;const ut=yield Promise.all([xe.data(),Me.data()]),lt=ut[0],wt=ut[1],{selectedIndices:vt}=vh(lt,wt,Z,oe,me);return xe!==q&&xe.dispose(),Me!==ae&&Me.dispose(),gh(vt,"int32")})).apply(this,arguments)}const sV=(0,vn.op)({nonMaxSuppressionWithScore_:function(q,ae,Z,oe=.5,me=Number.NEGATIVE_INFINITY,xe=0){const Me=(0,ge._1)(q,"boxes","nonMaxSuppression"),Ye=(0,ge._1)(ae,"scores","nonMaxSuppression"),ut=Ef(Me,Ye,Z,oe,me,xe),vt=J.BV.runKernel(ht.W0,{boxes:Me,scores:Ye},{maxOutputSize:Z=ut.maxOutputSize,iouThreshold:oe=ut.iouThreshold,scoreThreshold:me=ut.scoreThreshold,softNmsSigma:xe=ut.softNmsSigma});return{selectedIndices:vt[0],selectedScores:vt[1]}}});function hD(){return(hD=(0,Te.Z)(function*(q,ae,Z,oe=.5,me=Number.NEGATIVE_INFINITY,xe=0){const Me=(0,ge._1)(q,"boxes","nonMaxSuppressionAsync"),Ye=(0,ge._1)(ae,"scores","nonMaxSuppressionAsync"),ut=Ef(Me,Ye,Z,oe,me,xe);Z=ut.maxOutputSize,oe=ut.iouThreshold,me=ut.scoreThreshold,xe=ut.softNmsSigma;const lt=yield Promise.all([Me.data(),Ye.data()]),wt=lt[0],vt=lt[1],{selectedIndices:Yt,selectedScores:hn}=nE(wt,vt,Z,oe,me,xe);return Me!==q&&Me.dispose(),Ye!==ae&&Ye.dispose(),{selectedIndices:gh(Yt,"int32"),selectedScores:gh(hn)}})).apply(this,arguments)}const aE=(0,vn.op)({nonMaxSuppressionPadded_:function(q,ae,Z,oe=.5,me=Number.NEGATIVE_INFINITY,xe=!1){const Me=(0,ge._1)(q,"boxes","nonMaxSuppression"),Ye=(0,ge._1)(ae,"scores","nonMaxSuppression"),ut=Ef(Me,Ye,Z,oe,me,null),Fn=J.BV.runKernel(ht.cy,{boxes:Me,scores:Ye},{maxOutputSize:ut.maxOutputSize,iouThreshold:ut.iouThreshold,scoreThreshold:ut.scoreThreshold,padToMaxOutputSize:xe});return{selectedIndices:Fn[0],validOutputs:Fn[1]}}});function pD(){return(pD=(0,Te.Z)(function*(q,ae,Z,oe=.5,me=Number.NEGATIVE_INFINITY,xe=!1){const Me=(0,ge._1)(q,"boxes","nonMaxSuppressionAsync"),Ye=(0,ge._1)(ae,"scores","nonMaxSuppressionAsync"),ut=Ef(Me,Ye,Z,oe,me,null),lt=ut.maxOutputSize,wt=ut.iouThreshold,vt=ut.scoreThreshold,[Yt,hn]=yield Promise.all([Me.data(),Ye.data()]),{selectedIndices:Fn,validOutputs:Un}=Dy(Yt,hn,lt,wt,vt,xe);return Me!==q&&Me.dispose(),Ye!==ae&&Ye.dispose(),{selectedIndices:gh(Fn,"int32"),validOutputs:(0,Pi.i)(Un,"int32")}})).apply(this,arguments)}var cT=v(4849),oE=v(2653);const wF=(0,vn.op)({threshold_:function(q,ae="binary",Z=!1,oe=.5){const me=(0,ge._1)(q,"image","threshold"),ut=me.shape[0]*me.shape[1];let wt,vt,Yt,hn,lt=(0,tr.d)(gh([oe]),255);if(re.hu(3===me.rank,()=>`Error in threshold: image must be rank 3,but got rank ${me.rank}.`),re.hu(3===me.shape[2]||1===me.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${me.shape[2]}.`),re.hu("int32"===me.dtype||"float32"===me.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${me.dtype}.`),re.hu("otsu"===ae||"binary"===ae,()=>`Method must be binary or otsu, but was ${ae}`),3===me.shape[2]){[wt,vt,Yt]=(0,jC.V)(me,[1,1,1],-1);const $n=(0,tr.d)(wt,.2989),Wr=(0,tr.d)(vt,.587),ls=(0,tr.d)(Yt,.114);hn=(0,Rr.I)((0,Rr.I)($n,Wr),ls)}else hn=q;"otsu"===ae&&(lt=function(q,ae){let xe,Me,Ye,ut,lt,wt,Z=gh([-1]),oe=gh([0]),me=gh([0]);for(let vt=0;vt<q.size-1;vt++){xe=(0,Ks.t)(q,0,vt+1),Me=(0,Ks.t)(q,vt+1),lt=(0,Ui.h)((0,Nu.S)(xe),ae),wt=(0,Ui.h)((0,Nu.S)(Me),ae);const Yt=(0,Nu.S)((0,tr.d)(xe,Cs(0,xe.size)));Ye=(0,Ui.h)(Yt,(0,Nu.S)(xe));const hn=Jh(Me.shape,xe.size),Fn=(0,Rr.I)(Cs(0,Me.size),hn),Un=(0,tr.d)(Me,Fn);ut=(0,Ui.h)((0,Nu.S)(Un),(0,Nu.S)(Me));const $n=(0,Ai.l)(Ye,ut),Wr=(0,Ai.l)(Ye,ut),ls=(0,tr.d)(lt,wt);me=(0,tr.d)((0,tr.d)(ls,$n),Wr);const ga=(0,Uo.p)(me,oe);oe=(0,H0.a)(ga,me,oe),Z=(0,H0.a)(ga,gh([vt]),Z)}return Z}(zu((0,ka.p)((0,Ct.N)(hn),"int32"),Se([]),256),ut));const Fn=Z?(0,Ps.z)(hn,lt):(0,Uo.p)(hn,lt);return(0,ka.p)((0,tr.d)(Fn,255),"int32")}}),od=(0,vn.op)({transform_:function(q,ae,Z="nearest",oe="constant",me=0,xe){const Me=(0,ge._1)(q,"image","transform","float32"),Ye=(0,ge._1)(ae,"transforms","transform","float32");return re.hu(4===Me.rank,()=>`Error in transform: image must be rank 4,but got rank ${Me.rank}.`),re.hu(2===Ye.rank&&(Ye.shape[0]===Me.shape[0]||1===Ye.shape[0])&&8===Ye.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),re.hu(null==xe||2===xe.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${xe}.`),J.BV.runKernel(ht.wx,{image:Me,transforms:Ye},{interpolation:Z,fillMode:oe,fillValue:me,outputShape:xe})}}),nm=(0,vn.op)({bandPart_:function(q,ae,Z){(0,re.hu)(ae%1==0,()=>`bandPart(): numLower must be an integer, got ${ae}.`),(0,re.hu)(Z%1==0,()=>`bandPart(): numUpper must be an integer, got ${Z}.`);const oe=(0,ge._1)(q,"a","bandPart");(0,re.hu)(oe.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${oe.rank}.`);const me=oe.shape,[xe,Me]=oe.shape.slice(-2);if(!(ae<=xe))throw new Error(`bandPart(): numLower (${ae}) must not be greater than the number of rows (${xe}).`);if(!(Z<=Me))throw new Error(`bandPart(): numUpper (${Z}) must not be greater than the number of columns (${Me}).`);ae<0&&(ae=xe),Z<0&&(Z=Me);const Ye=(0,vi.X)(Cs(0,xe,1,"int32"),[-1,1]),ut=Cs(0,Me,1,"int32"),lt=(0,Ai.l)(Ye,ut),wt=(0,fh.H)((0,Ps.z)(lt,(0,Pi.i)(+ae,"int32")),(0,Xp.b)(lt,(0,Pi.i)(-Z,"int32"))),vt=(0,U0.l)([xe,Me],oe.dtype);return(0,vi.X)((0,my.k)((0,mg.H)((0,vi.X)(oe,[-1,xe,Me])).map(Yt=>(0,H0.a)(wt,Yt,vt))),me)}}),dT=(0,vn.op)({gramSchmidt_:function(q){let ae;if(Array.isArray(q)){ae=!1,(0,re.hu)(null!=q&&q.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const me=q[0].shape[0];for(let xe=1;xe<q.length;++xe)(0,re.hu)(q[xe].shape[0]===me,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${q[xe].shape[0]} vs. ${me})`)}else ae=!0,q=(0,jC.V)(q,q.shape[0],0).map(me=>(0,eD.L)(me,[0]));(0,re.hu)(q.length<=q[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${q.length}) exceeds number of dimensions (${q[0].shape[0]}).`);const Z=[],oe=q;for(let me=0;me<q.length;++me)Z.push(J.BV.tidy(()=>{let xe=oe[me];if(me>0)for(let Me=0;Me<me;++Me){const Ye=(0,tr.d)((0,Nu.S)((0,tr.d)(Z[Me],xe)),Z[Me]);xe=(0,Ai.l)(xe,Ye)}return(0,Ui.h)(xe,(0,qA.K)(xe,"euclidean"))}));return ae?(0,my.k)(Z,0):Z}});function uE(q,ae=!1){return J.BV.tidy(()=>{(0,re.hu)(2===q.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${q.shape.length}D Tensor.`);const Z=q.shape[0],oe=q.shape[1];let me=I0(Z),xe=(0,Mr.d)(q);const Me=em([[1]],[1,1]);let Ye=(0,Mr.d)(Me);const ut=Z>=oe?oe:Z;for(let lt=0;lt<ut;++lt){const wt=xe,vt=Ye,Yt=me;[Ye,xe,me]=J.BV.tidy(()=>{const hn=(0,Ks.t)(xe,[lt,lt],[Z-lt,1]),Fn=(0,qA.K)(hn),Un=(0,Ks.t)(xe,[lt,lt],[1,1]),$n=(0,H0.a)((0,Uo.p)(Un,0),em([[-1]]),em([[1]])),Wr=(0,Ai.l)(Un,(0,tr.d)($n,Fn)),ls=(0,Ui.h)(hn,Wr);Ye=1===ls.shape[0]?(0,Mr.d)(Me):(0,aa.z)([Me,(0,Ks.t)(ls,[1,0],[ls.shape[0]-1,ls.shape[1]])],0);const ga=(0,Iu.W)((0,Ui.h)((0,Ni.O)($n,Wr),Fn)),_o=(0,Ks.t)(xe,[lt,0],[Z-lt,oe]),Ci=(0,tr.d)(ga,Ye),Zs=(0,Eu.p)(Ye);if(0===lt)xe=(0,Ai.l)(_o,(0,Ni.O)(Ci,(0,Ni.O)(Zs,_o)));else{const Gi=(0,Ai.l)(_o,(0,Ni.O)(Ci,(0,Ni.O)(Zs,_o)));xe=(0,aa.z)([(0,Ks.t)(xe,[0,0],[lt,oe]),Gi],0)}const yo=(0,Eu.p)(Ci),vo=(0,Ks.t)(me,[0,lt],[Z,me.shape[1]-lt]);if(0===lt)me=(0,Ai.l)(vo,(0,Ni.O)((0,Ni.O)(vo,Ye),yo));else{const Gi=(0,Ai.l)(vo,(0,Ni.O)((0,Ni.O)(vo,Ye),yo));me=(0,aa.z)([(0,Ks.t)(me,[0,0],[Z,lt]),Gi],1)}return[Ye,xe,me]}),mo([wt,vt,Yt])}return!ae&&Z>oe&&(me=(0,Ks.t)(me,[0,0],[Z,oe]),xe=(0,Ks.t)(xe,[0,0],[oe,oe])),[me,xe]})}const _D=(0,vn.op)({qr_:function(q,ae=!1){if((0,re.hu)(q.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${q.rank}`),2===q.rank)return uE(q,ae);{const Z=q.shape.slice(0,q.shape.length-2).reduce((ut,lt)=>ut*lt),oe=(0,mg.H)((0,vi.X)(q,[Z,q.shape[q.shape.length-2],q.shape[q.shape.length-1]]),0),me=[],xe=[];return oe.forEach(ut=>{const[lt,wt]=uE(ut,ae);me.push(lt),xe.push(wt)}),[(0,vi.X)((0,my.k)(me,0),q.shape),(0,vi.X)((0,my.k)(xe,0),q.shape)]}}});var Dl=(()=>{return(q=Dl||(Dl={}))[q.NONE=0]="NONE",q[q.MEAN=1]="MEAN",q[q.SUM=2]="SUM",q[q.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",Dl;var q})();const ua=(0,vn.op)({computeWeightedLoss_:function(q,ae,Z=Dl.SUM_BY_NONZERO_WEIGHTS){const oe=(0,ge._1)(q,"losses","computeWeightedLoss");let me=null;null!=ae&&(me=(0,ge._1)(ae,"weights","computeWeightedLoss"));const xe=null==me?oe:(0,tr.d)(oe,me);if(Z===Dl.NONE)return xe;if(Z===Dl.SUM)return(0,Nu.S)(xe);if(Z===Dl.MEAN){if(null==me)return(0,sd.J)(xe);{const Me=oe.size/me.size,Ye=(0,Ui.h)((0,Nu.S)(xe),(0,Nu.S)(me));return Me>1?(0,Ui.h)(Ye,(0,Pi.i)(Me)):Ye}}if(Z===Dl.SUM_BY_NONZERO_WEIGHTS){if(null==me)return(0,Ui.h)((0,Nu.S)(xe),(0,Pi.i)(oe.size));{const Me=(0,tr.d)(me,(0,ad.i)(oe.shape)),Ye=(0,ka.p)((0,Nu.S)((0,Yo.Q)(Me,(0,Pi.i)(0))),"float32");return(0,Ui.h)((0,Nu.S)(xe),Ye)}}throw Error(`Unknown reduction: ${Z}`)}}),lE=(0,vn.op)({absoluteDifference_:function(q,ae,Z,oe=Dl.SUM_BY_NONZERO_WEIGHTS){const me=(0,ge._1)(q,"labels","absoluteDifference"),xe=(0,ge._1)(ae,"predictions","absoluteDifference");let Me=null;null!=Z&&(Me=(0,ge._1)(Z,"weights","absoluteDifference")),(0,re.k5)(me.shape,xe.shape,"Error in absoluteDifference: ");const Ye=(0,ed.W)((0,Ai.l)(me,xe));return ua(Ye,Me,oe)}}),nl=(0,vn.op)({cosineDistance_:function(q,ae,Z,oe,me=Dl.SUM_BY_NONZERO_WEIGHTS){const xe=(0,ge._1)(q,"labels","cosineDistance"),Me=(0,ge._1)(ae,"predictions","cosineDistance");let Ye=null;null!=oe&&(Ye=(0,ge._1)(oe,"weights","cosineDistance")),(0,re.k5)(xe.shape,Me.shape,"Error in cosineDistance: ");const ut=(0,Pi.i)(1),lt=(0,Ai.l)(ut,(0,Nu.S)((0,tr.d)(xe,Me),Z,!0));return ua(lt,Ye,me)}}),fv=(0,vn.op)({hingeLoss_:function(q,ae,Z,oe=Dl.SUM_BY_NONZERO_WEIGHTS){let me=(0,ge._1)(q,"labels","hingeLoss");const xe=(0,ge._1)(ae,"predictions","hingeLoss");let Me=null;null!=Z&&(Me=(0,ge._1)(Z,"weights","hingeLoss")),(0,re.k5)(me.shape,xe.shape,"Error in hingeLoss: ");const Ye=(0,Pi.i)(1);me=(0,Ai.l)((0,tr.d)((0,Pi.i)(2),me),Ye);const ut=(0,Pa.U)((0,Ai.l)(Ye,(0,tr.d)(me,xe)));return ua(ut,Me,oe)}}),cE=(0,vn.op)({huberLoss_:function(q,ae,Z,oe=1,me=Dl.SUM_BY_NONZERO_WEIGHTS){const xe=(0,ge._1)(q,"labels","huberLoss"),Me=(0,ge._1)(ae,"predictions","huberLoss");let Ye=null;null!=Z&&(Ye=(0,ge._1)(Z,"weights","huberLoss")),(0,re.k5)(xe.shape,Me.shape,"Error in huberLoss: ");const ut=(0,Pi.i)(oe),lt=(0,ed.W)((0,Ai.l)(Me,xe)),wt=(0,fy.L)(lt,ut),vt=(0,Ai.l)(lt,wt),Yt=(0,Rr.I)((0,tr.d)((0,Pi.i)(.5),(0,ws.h)(wt)),(0,tr.d)(ut,vt));return ua(Yt,Ye,me)}}),MF=(0,vn.op)({logLoss_:function(q,ae,Z,oe=1e-7,me=Dl.SUM_BY_NONZERO_WEIGHTS){const xe=(0,ge._1)(q,"labels","logLoss"),Me=(0,ge._1)(ae,"predictions","logLoss");let Ye=null;null!=Z&&(Ye=(0,ge._1)(Z,"weights","logLoss")),(0,re.k5)(xe.shape,Me.shape,"Error in logLoss: ");const ut=(0,Pi.i)(1),lt=(0,Pi.i)(oe),wt=(0,Iu.W)((0,tr.d)(xe,(0,L0.c)((0,Rr.I)(Me,lt)))),vt=(0,tr.d)((0,Ai.l)(ut,xe),(0,L0.c)((0,Rr.I)((0,Ai.l)(ut,Me),lt))),Yt=(0,Ai.l)(wt,vt);return ua(Yt,Ye,me)}}),SF=(0,vn.op)({meanSquaredError_:function(q,ae,Z,oe=Dl.SUM_BY_NONZERO_WEIGHTS){const me=(0,ge._1)(q,"labels","meanSquaredError"),xe=(0,ge._1)(ae,"predictions","meanSquaredError");let Me=null;null!=Z&&(Me=(0,ge._1)(Z,"weights","meanSquaredError")),(0,re.k5)(me.shape,xe.shape,"Error in meanSquaredError: ");const Ye=(0,WC.$)(me,xe);return ua(Ye,Me,oe)}}),fE=(0,vn.op)({sigmoidCrossEntropy_:function(q,ae,Z,oe=0,me=Dl.SUM_BY_NONZERO_WEIGHTS){let xe=(0,ge._1)(q,"multiClassLabels","sigmoidCrossEntropy");const Me=(0,ge._1)(ae,"logits","sigmoidCrossEntropy");let Ye=null;if(null!=Z&&(Ye=(0,ge._1)(Z,"weights","sigmoidCrossEntropy")),(0,re.k5)(xe.shape,Me.shape,"Error in sigmoidCrossEntropy: "),oe>0){const lt=(0,Pi.i)(oe),wt=(0,Pi.i)(1),vt=(0,Pi.i)(.5);xe=(0,Rr.I)((0,tr.d)(xe,(0,Ai.l)(wt,lt)),(0,tr.d)(vt,lt))}const ut=function(q,ae){const Z=(0,ge._1)(q,"labels","sigmoidCrossEntropyWithLogits"),oe=(0,ge._1)(ae,"logits","sigmoidCrossEntropyWithLogits");(0,re.k5)(Z.shape,oe.shape,"Error in sigmoidCrossEntropyWithLogits: ");const me=(0,Pa.U)(oe),xe=(0,tr.d)(oe,Z),Me=(0,F0.K)((0,dh.Q)((0,Iu.W)((0,ed.W)(oe))));return(0,Rr.I)((0,Ai.l)(me,xe),Me)}(xe,Me);return ua(ut,Ye,me)}}),hE=(0,vn.op)({softmaxCrossEntropy_:function(q,ae,Z,oe=0,me=Dl.SUM_BY_NONZERO_WEIGHTS){let xe=(0,ge._1)(q,"onehotLabels","softmaxCrossEntropy");const Me=(0,ge._1)(ae,"logits","softmaxCrossEntropy");let Ye=null;if(null!=Z&&(Ye=(0,ge._1)(Z,"weights","softmaxCrossEntropy")),(0,re.k5)(xe.shape,Me.shape,"Error in softmaxCrossEntropy: "),oe>0){const lt=(0,Pi.i)(oe),wt=(0,Pi.i)(1),vt=(0,Pi.i)(xe.shape[1]);xe=(0,Rr.I)((0,tr.d)(xe,(0,Ai.l)(wt,lt)),(0,Ui.h)(lt,vt))}const ut=function(q,ae,Z=-1){if(-1===Z&&(Z=ae.rank-1),Z!==ae.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${ae.rank} and dim was ${Z}`);return(0,Qr.cb)((me,xe,Me)=>{const ut=(0,ip.l)(xe,[Z],!0),lt=(0,Ai.l)((0,ka.p)(xe,"float32"),ut);Me([me,lt]);const wt=(0,Iu.W)((0,tr.d)(lt,me));return{value:(0,Nu.S)(wt,[Z]),gradFunc:(hn,Fn)=>{const[Un,$n]=Fn,Wr=(0,Tu.rv)(hn.shape,[Z]);return[(0,tr.d)((0,vi.X)(hn,Wr),(0,Ai.l)((0,ka.p)(Un,"float32"),(0,dh.Q)($n))),(0,tr.d)((0,vi.X)(hn,Wr),(0,Ai.l)((0,dh.Q)($n),(0,ka.p)(Un,"float32")))]}}})(q,ae)}(xe,Me);return ua(ut,Ye,me)}}),gT=(0,vn.op)({sparseFillEmptyRows_:function(q,ae,Z,oe){const me=(0,ge._1)(q,"indices","sparseFillEmptyRows"),xe=(0,ge._1)(ae,"values","sparseFillEmptyRows"),Me=(0,ge._1)(Z,"denseShape","sparseFillEmptyRows"),Ye=(0,ge._1)(oe,"defaultValue","sparseFillEmptyRows",xe.dtype);if(2!==me.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${me.shape}`);if(1!==xe.rank)throw new Error(`Values should be Tensor1D but received shape ${xe.shape}`);if(1!==Me.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${Me.shape}`);if(0!==Ye.rank)throw new Error(`Default value should be a scalar but received shape ${Ye.shape}`);const lt=J.BV.runKernel(ht.O3,{indices:me,values:xe,denseShape:Me,defaultValue:Ye});return{outputIndices:lt[0],outputValues:lt[1],emptyRowIndicator:lt[2],reverseIndexMap:lt[3]}}}),X0=(0,vn.op)({sparseReshape_:function(q,ae,Z){const oe=(0,ge._1)(q,"inputIndices","sparseReshape"),me=(0,ge._1)(ae,"inputShape","sparseReshape"),xe=(0,ge._1)(Z,"newShape","sparseReshape");if(2!==oe.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${oe.shape}`);if(1!==me.rank)throw new Error(`Input shape should be Tensor1D but received shape ${me.shape}`);if(1!==xe.rank)throw new Error(`New shape should be Tensor1D but received shape ${xe.shape}`);const Ye=J.BV.runKernel(ht.nh,{inputIndices:oe,inputShape:me,newShape:xe});return{outputIndices:Ye[0],outputShape:Ye[1]}}}),nn=(0,vn.op)({sparseSegmentMean_:function(q,ae,Z){const oe=(0,ge._1)(q,"data","sparseSegmentMean"),me=(0,ge._1)(ae,"indices","sparseSegmentMean"),xe=(0,ge._1)(Z,"segmentIds","sparseSegmentMean");if(oe.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==me.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${me.shape}`);if(1!==xe.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${xe.shape}`);return J.BV.runKernel(ht.YW,{data:oe,indices:me,segmentIds:xe})}}),xg=(0,vn.op)({sparseSegmentSum_:function(q,ae,Z){const oe=(0,ge._1)(q,"data","sparseSegmentSum"),me=(0,ge._1)(ae,"indices","sparseSegmentSum"),xe=(0,ge._1)(Z,"segmentIds","sparseSegmentSum");if(oe.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==me.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${me.shape}`);if(1!==xe.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${xe.shape}`);return J.BV.runKernel(ht.Zj,{data:oe,indices:me,segmentIds:xe})}}),Z0=(0,vn.op)({stringNGrams_:function(q,ae,Z,oe,me,xe,Me,Ye){const ut=(0,ge._1)(q,"data","stringNGrams","string");if("string"!==ut.dtype)throw new Error("Data must be of datatype string");if(1!==ut.shape.length)throw new Error(`Data must be a vector, saw: ${ut.shape}`);const lt=(0,ge._1)(ae,"dataSplits","stringNGrams");if("int32"!==lt.dtype)throw new Error("Data splits must be of datatype int32");const Yt=J.BV.runKernel(ht._J,{data:ut,dataSplits:lt},{separator:Z,nGramWidths:oe,leftPad:me,rightPad:xe,padWidth:Me,preserveShortSequences:Ye});return{nGrams:Yt[0],nGramsSplits:Yt[1]}}}),yT=(0,vn.op)({stringSplit_:function(q,ae,Z=!0){const oe=(0,ge._1)(q,"input","stringSplit","string"),me=(0,ge._1)(ae,"delimiter","stringSplit","string");if(1!==oe.rank)throw new Error(`Input should be Tensor1D but received shape ${oe.shape}`);if(0!==me.rank)throw new Error(`Delimiter should be a scalar but received shape ${me.shape}`);const Ye=J.BV.runKernel(ht.s1,{input:oe,delimiter:me},{skipEmpty:Z});return{indices:Ye[0],values:Ye[1],shape:Ye[2]}}}),pv=(0,vn.op)({stringToHashBucketFast_:function(q,ae){const Z=(0,ge._1)(q,"input","stringToHashBucketFast","string"),oe={numBuckets:ae};if(ae<=0)throw new Error("Number of buckets must be at least 1");return J.BV.runKernel(ht.Xk,{input:Z},oe)}}),Mf={fft:Qx.k,ifft:$0.S,rfft:qx.Q,irfft:hF.w},yD={hammingWindow:iT,hannWindow:sv,frame:av,stft:yh},vT={flipLeftRight:aT,grayscaleToRGB:eE,resizeNearestNeighbor:oE.j,resizeBilinear:cT.I,rotateWithOffset:oT,cropAndResize:dD,nonMaxSuppression:K0,nonMaxSuppressionAsync:function(q,ae,Z){return vg.apply(this,arguments)},nonMaxSuppressionWithScore:sV,nonMaxSuppressionWithScoreAsync:function(q,ae,Z){return hD.apply(this,arguments)},nonMaxSuppressionPadded:aE,nonMaxSuppressionPaddedAsync:function(q,ae,Z){return pD.apply(this,arguments)},threshold:wF,transform:od},kF={bandPart:nm,gramSchmidt:dT,qr:_D},bT={absoluteDifference:lE,computeWeightedLoss:ua,cosineDistance:nl,hingeLoss:fv,huberLoss:cE,logLoss:MF,meanSquaredError:SF,sigmoidCrossEntropy:fE,softmaxCrossEntropy:hE},IF={sparseFillEmptyRows:gT,sparseReshape:X0,sparseSegmentMean:nn,sparseSegmentSum:xg},mE={stringNGrams:Z0,stringSplit:yT,stringToHashBucketFast:pv},gE={sgd:uh.sgd,momentum:uh.momentum,adadelta:uh.adadelta,adagrad:uh.adagrad,rmsprop:uh.rmsprop,adamax:uh.adamax,adam:uh.adam},_E="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:q=>q();function yE(){return new Promise(q=>_E(()=>q()))}function J0(q,ae){const Z=q[0].length;q.forEach((me,xe)=>{re.hu(me.length===Z,()=>`Error in concat${Z}D: rank of tensors[${xe}] must be the same as the rank of the rest (${Z})`)}),re.hu(ae>=0&&ae<Z,()=>`Error in concat${Z}D: axis must be between 0 and ${Z-1}.`);const oe=q[0];q.forEach((me,xe)=>{for(let Me=0;Me<Z;Me++)re.hu(Me===ae||me[Me]===oe[Me],()=>`Error in concat${Z}D: Shape of tensors[${xe}] (${me}) does not match the shape of the rest (${oe}) along the non-concatenated axis ${xe}.`)})}function lu(q,ae){const Z=q[0].slice();for(let oe=1;oe<q.length;oe++)Z[ae]+=q[oe][ae];return Z}const xT=30;function NF(q){return q<=xT?q:(0,re.jP)(q,Math.floor(Math.sqrt(q)))}function vE(q,ae,Z){return[Z*("number"==typeof q?q:q[0]),ae*("number"==typeof q?q:q[1])]}function uV(q,ae,Z,oe=!0){let me=[];if(oe)me=me.concat(ae.slice(0)),me.push(q[0]/Z),me=me.concat(q.slice(1));else{me=me.concat(q[0]);const xe=ae.length;for(let Me=0;Me<xe;++Me)me=me.concat([q[Me+1]/ae[Me],ae[Me]]);me=me.concat(q.slice(xe+1))}return me}function Bd(q,ae,Z=!0){const oe=[];if(Z){oe.push(ae);for(let me=ae+1;me<q;++me)me<=2*ae?(oe.push(me),oe.push(me-(ae+1))):oe.push(me)}else{const me=[],xe=[];for(let Me=1;Me<q;++Me)Me>=2*ae+1||Me%2==1?xe.push(Me):me.push(Me);oe.push(...me),oe.push(0),oe.push(...xe)}return oe}function bE(q,ae,Z,oe=!0){const me=[];me.push(oe?q[0]/Z:q[0]*Z);for(let xe=1;xe<q.length;++xe)me.push(xe<=ae.length?oe?ae[xe-1]*q[xe]:q[xe]/ae[xe-1]:q[xe]);return me}function vD(q,ae){const Z=[0];for(let oe=0;oe<ae;++oe)Z.push(q[oe][0]);return Z}function OF(q,ae,Z){const oe=q.slice(0,1);for(let me=0;me<Z;++me)oe.push(q[me+1]-ae[me][0]-ae[me][1]);return oe}var Q0=v(287);const Dg=.3275911,bD=.254829592,mv=-.284496736,My=1.421413741,xE=-1.453152027,xD=1.061405429;var DE=v(6030);function wg(q,ae){if(q.length!==ae.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${q.length}, imag: ${ae.length}.`);const Z=new Float32Array(2*q.length);for(let oe=0;oe<Z.length;oe+=2)Z[oe]=q[oe/2],Z[oe+1]=ae[oe/2];return Z}function gv(q){const ae=new Float32Array(q.length/2),Z=new Float32Array(q.length/2);for(let oe=0;oe<q.length;oe+=2)ae[oe/2]=q[oe],Z[oe/2]=q[oe+1];return{real:ae,imag:Z}}function DD(q){const ae=Math.ceil(q.length/4),Z=new Float32Array(ae),oe=new Float32Array(ae);for(let me=0;me<q.length;me+=4)Z[Math.floor(me/4)]=q[me],oe[Math.floor(me/4)]=q[me+1];return{real:Z,imag:oe}}function wE(q){const ae=Math.floor(q.length/4),Z=new Float32Array(ae),oe=new Float32Array(ae);for(let me=2;me<q.length;me+=4)Z[Math.floor(me/4)]=q[me],oe[Math.floor(me/4)]=q[me+1];return{real:Z,imag:oe}}function wD(q,ae){return{real:q[2*ae],imag:q[2*ae+1]}}function DT(q,ae,Z,oe){q[2*oe]=ae,q[2*oe+1]=Z}function CE(q,ae){const Z=new Float32Array(q/2),oe=new Float32Array(q/2);for(let me=0;me<Math.ceil(q/2);me++){const xe=(ae?2:-2)*Math.PI*(me/q);Z[me]=Math.cos(xe),oe[me]=Math.sin(xe)}return{real:Z,imag:oe}}function EE(q,ae,Z){const oe=(Z?2:-2)*Math.PI*(q/ae);return{real:Math.cos(oe),imag:Math.sin(oe)}}const ME=/->/g;function Sy(q,ae){const Z=((q=q.replace(/\s/g,"")).length-q.replace(ME,"").length)/"->".length;if(Z<1)throw new Error("Equations without an arrow are not supported.");if(Z>1)throw new Error('Equation must contain exactly one arrow ("->").');const[oe,me]=q.split("->");(0,re.hu)(-1===oe.indexOf("..."),()=>'The ellipsis notation ("...") is not supported yet.');const xe=oe.split(","),Me=xe.length;if(ae!==Me)throw new Error(`Expected ${Me} input tensors, received ${ae}`);if(Me>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const Ye=[];for(let Yt=0;Yt<me.length;++Yt){const hn=me[Yt];if(!xe.some(Fn=>-1!==Fn.indexOf(hn)))throw new Error(`Output subscripts contain the label ${hn} not present in the input subscripts.`);-1===Ye.indexOf(hn)&&Ye.push(hn)}for(let Yt=0;Yt<oe.length;++Yt){const hn=oe[Yt];-1===Ye.indexOf(hn)&&","!==hn&&Ye.push(hn)}const ut=new Array(xe.length);for(let Yt=0;Yt<Me;++Yt){if(new Set(xe[Yt].split("")).size!==xe[Yt].length)throw new Error(`Found duplicate axes in input component ${xe[Yt]}. Support for duplicate axes in input is not implemented yet.`);ut[Yt]=[];for(let hn=0;hn<xe[Yt].length;++hn)ut[Yt].push(Ye.indexOf(xe[Yt][hn]))}const lt=Ye.length,vt=[];for(let Yt=me.length;Yt<lt;++Yt)vt.push(Yt);return{allDims:Ye,summedDims:vt,idDims:ut}}function Ay(q,ae){let Z=new Array(q);Z.fill(-1);for(let me=0;me<ae.length;++me)Z[ae[me]]=me;const oe=[];for(let me=0;me<q;++me)-1===Z[me]&&oe.push(me);return Z=Z.filter(me=>-1!==me),{permutationIndices:Z,expandDims:oe}}function Cg(q,ae,Z){const oe=new Array(q);for(let me=0;me<Z.length;++me){const xe=Z[me].shape;for(let Me=0;Me<ae[me].length;++Me)void 0===oe[ae[me][Me]]?oe[ae[me][Me]]=xe[Me]:(0,re.hu)(oe[ae[me][Me]]===xe[Me],()=>`Expected dimension ${oe[ae[me][Me]]} at axis ${Me} of input shaped ${JSON.stringify(xe)}, but got dimension ${xe[Me]}`)}}function AE(q,ae){const Z=q,oe=[];let me=0;0===q.length&&Z.push(-1),me=q.length+1;for(let Me=0;Me<me;++Me)oe.push([]);const xe=[];for(let Me=0;Me<Z.length;++Me){const ut=TE(ae,Z[Me]);for(const lt of ut)-1===xe.indexOf(lt)&&(oe[Me].push(lt),xe.push(lt))}return{path:Z,steps:oe}}function wT(q){return q.every((ae,Z)=>ae===Z)}function TE(q,ae){const Z=[];for(let oe=0;oe<q.length;++oe)(0===q[oe].length||-1!==q[oe].indexOf(ae)||-1===ae)&&Z.push(oe);return Z}function kE(q,ae,Z=0){let oe=[];if("number"==typeof ae)(0,re.hu)(q.shape[Z]%ae==0,()=>"Number of splits must evenly divide the axis."),oe=new Array(ae).fill(q.shape[Z]/ae);else{const me=ae.reduce((Me,Ye)=>(-1===Ye&&(Me+=1),Me),0);(0,re.hu)(me<=1,()=>"There should be only one negative value in split array.");const xe=ae.indexOf(-1);if(-1!==xe){const Me=ae.reduce((Ye,ut)=>ut>0?Ye+ut:Ye);ae[xe]=q.shape[Z]-Me}(0,re.hu)(q.shape[Z]===ae.reduce((Me,Ye)=>Me+Ye),()=>"The sum of sizes must match the size of the axis dimension."),oe=ae}return oe}function rm(q,ae){let oe,Z=!1;for(q<=xT?(oe=q,Z=!0):oe=(0,re.jP)(q,Math.floor(Math.sqrt(q)));!Z;)oe>ae||oe===q?Z=!0:oe=(0,re.jP)(q,oe+1);return oe}function IE(q,ae,Z){const oe=[],me=q.length;for(let xe=0;xe<me;xe++)oe.push(xe!==ae?q[xe]:Z);return oe}function CT(q,ae,Z,oe){const me=ae.shape.length,xe=q.shape.length;if(0!==oe&&(oe<-me||oe>me))throw new Error(`Expect batchDims in the range of [-${me}, ${me}], but got ${oe}`);if(oe<0&&(oe+=me),oe>xe)throw new Error(`batchDims (${oe}) must be less than rank(x) (\n    ${xe}).`);if(Z<oe)throw new Error(`batchDims (${oe}) must be less than or equal to axis (${Z}).`);for(let vt=0;vt<oe;++vt)if(q.shape[vt]!==ae.shape[vt])throw new Error(`x.shape[${vt}]: ${q.shape[vt]} should be equal to indices.shape[${vt}]: ${ae.shape[vt]}.`);const Me=q.shape[Z],Ye=[];let ut=1,lt=1,wt=1;for(let vt=0;vt<oe;++vt)Ye.push(q.shape[vt]),ut*=q.shape[vt];for(let vt=oe;vt<Z;vt++)Ye.push(q.shape[vt]),lt*=q.shape[vt];for(let vt=oe;vt<me;vt++)Ye.push(ae.shape[vt]);for(let vt=Z+1;vt<xe;vt++)Ye.push(q.shape[vt]),wt*=q.shape[vt];return{batchSize:ut,sliceSize:wt,outerSize:lt,dimSize:Me,outputShape:Ye}}function LF(q){try{return q.map(ae=>(0,Ia.decodeString)(ae))}catch(ae){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${ae}`)}}function yv(q){return q.map(ae=>(0,Ia.encodeString)(ae))}var NE=v(3722)},6338:(be,ie,v)=>{"use strict";v.d(ie,{SY:()=>$,VG:()=>S,Sp:()=>P,mm:()=>I,Xz:()=>N,oT:()=>B,IK:()=>R,sJ:()=>W,aJ:()=>F,M2:()=>U,qw:()=>G,jM:()=>K,Oy:()=>J,QC:()=>he,Jh:()=>ce,RO:()=>Ae,_k:()=>je,IM:()=>Ie,XL:()=>ze,zw:()=>et,zv:()=>Te,Ly:()=>We,eE:()=>ge,RF:()=>we,gJ:()=>Se,xn:()=>re,Zz:()=>Re,yj:()=>Be,Eh:()=>Pe,mh:()=>Ke,wU:()=>Qe,wm:()=>rt,x1:()=>st,o2:()=>ft,ik:()=>kt,mc:()=>$t,TR:()=>on,iH:()=>On,Vc:()=>Cn,QR:()=>Kt,T0:()=>cn,ci:()=>Gr,sL:()=>mi,y7:()=>dt,$w:()=>Vt,p4:()=>Ln,ek:()=>Bt,Vn:()=>kn,oH:()=>nt,$g:()=>Et,SX:()=>zt,HE:()=>an,Om:()=>ar,hd:()=>xr,NE:()=>Tn,YF:()=>ir,Y0:()=>Tr,vw:()=>hi,de:()=>mr,Uy:()=>ni,OR:()=>Ss,je:()=>Ii,sH:()=>Pt,qi:()=>wr,q1:()=>Ur,iZ:()=>ra,Ac:()=>vs,iJ:()=>or,Qg:()=>iu,J_:()=>Aa,av:()=>ia,iW:()=>bl,r7:()=>Bl,J$:()=>Zu,vt:()=>Qi,CA:()=>Lr,e7:()=>pi,Zb:()=>wu,kU:()=>Sn,PY:()=>$e,Vf:()=>ho,MZ:()=>Cr,qC:()=>vr,eZ:()=>$u,Hh:()=>Kr,Yo:()=>rs,BM:()=>Cu,mT:()=>Hn,OV:()=>Pr,OA:()=>sa,OU:()=>Os,vF:()=>jo,q2:()=>Fi,c1:()=>Wo,q8:()=>Ta,jQ:()=>_s,Vb:()=>bs,NZ:()=>As,wY:()=>Jr,ku:()=>ja,yQ:()=>Ts,uv:()=>Da,cy:()=>ka,W0:()=>Mr,qW:()=>oc,we:()=>ur,Qi:()=>Ju,ly:()=>Ws,Kg:()=>Wi,pe:()=>Jc,o0:()=>uc,Dl:()=>lc,e6:()=>Xe,xJ:()=>Mt,$H:()=>Nt,qk:()=>Dn,HZ:()=>Vn,dp:()=>Qn,Hm:()=>bn,_Y:()=>zn,zb:()=>dr,Sb:()=>zr,mK:()=>qt,e0:()=>Hs,bV:()=>sr,xQ:()=>Oe,Ph:()=>ot,oF:()=>Ft,p2:()=>fn,RQ:()=>wn,w3:()=>lr,i5:()=>Vi,a5:()=>xs,MR:()=>Ni,FK:()=>Oi,GB:()=>vn,TQ:()=>Eu,L8:()=>ma,Gc:()=>gr,O3:()=>ht,nh:()=>Qc,YW:()=>ff,Zj:()=>su,D2:()=>Di,_t:()=>th,bK:()=>xl,m2:()=>Mo,_J:()=>zp,s1:()=>jp,Xk:()=>so,Tr:()=>cc,sE:()=>nh,MI:()=>Us,n9:()=>qc,cW:()=>dc,wx:()=>ao,G3:()=>rh,kp:()=>qi,To:()=>hf,Qv:()=>Mu,Ru:()=>Bn,h8:()=>Ys,eB:()=>Ia,b9:()=>fc,us:()=>hc,_V:()=>Qu,lu:()=>ih});const $="Abs",S="Acos",P="Acosh",I="Add",N="AddN",B="All",R="Any",W="ArgMax",F="ArgMin",U="Asin",G="Asinh",K="Atan",J="Atanh",he="Atan2",ce="AvgPool",Ae="AvgPoolGrad",je="AvgPool3D",Ie="AvgPool3DGrad",ze="BatchMatMul",et="BatchToSpaceND",Te="Bincount",We="BroadcastTo",ge="BroadcastArgs",we="Cast",Se="Ceil",re="ClipByValue",Re="Complex",Be="ComplexAbs",Pe="Concat",Ke="Conv2D",Qe="Conv2DBackpropFilter",rt="Conv2DBackpropInput",st="Conv3D",ft="Conv3DBackpropFilterV2",kt="Conv3DBackpropInputV2",$t="Cos",on="Cosh",On="Cumsum",Cn="CropAndResize",Kt="DenseBincount",cn="DepthToSpace",Gr="DepthwiseConv2dNative",mi="DepthwiseConv2dNativeBackpropFilter",dt="DepthwiseConv2dNativeBackpropInput",Vt="Diag",Ln="Dilation2D",Bt="Dilation2DBackpropInput",kn="Dilation2DBackpropFilter",nt="RealDiv",Et="Einsum",zt="Elu",an="EluGrad",ar="Erf",xr="Equal",Tn="Exp",ir="ExpandDims",Tr="Expm1",hi="FFT",mr="Fill",ni="FlipLeftRight",Ss="Floor",Ii="FloorDiv",Pt="FusedBatchNorm",wr="GatherV2",Ur="GatherNd",ra="Greater",vs="GreaterEqual",or="Identity",iu="IFFT",Aa="Imag",ia="IsFinite",bl="IsInf",Bl="IsNan",Zu="LeakyRelu",Qi="Less",Lr="LessEqual",pi="LinSpace",wu="Log",Sn="Log1p",$e="LogicalAnd",ho="LogicalNot",Cr="LogicalOr",vr="LogSoftmax",$u="LRN",Kr="LRNGrad",rs="Max",Cu="Maximum",Hn="MaxPool",Pr="MaxPoolGrad",sa="MaxPool3D",Os="MaxPool3DGrad",jo="MaxPoolWithArgmax",Fi="Mean",Wo="Min",Ta="Minimum",_s="MirrorPad",bs="Mod",As="Multinomial",Jr="Multiply",ja="Neg",Ts="NotEqual",Da="NonMaxSuppressionV3",ka="NonMaxSuppressionV4",Mr="NonMaxSuppressionV5",oc="OnesLike",ur="OneHot",Ju="Pack",Ws="PadV2",Wi="Pool",Jc="Pow",uc="Prelu",lc="Prod",Xe="Range",Mt="Real",Nt="Reciprocal",Dn="Relu",Vn="Reshape",Qn="ResizeNearestNeighbor",bn="ResizeNearestNeighborGrad",zn="ResizeBilinear",dr="ResizeBilinearGrad",zr="Relu6",qt="Reverse",Hs="Round",sr="Rsqrt",Oe="ScatterNd",ot="Select",Ft="Selu",fn="Slice",wn="Sin",lr="Sinh",Vi="Sign",xs="Sigmoid",Ni="Softplus",Oi="Sqrt",vn="Sum",Eu="SpaceToBatchND",ma="SplitV",gr="Softmax",ht="SparseFillEmptyRows",Qc="SparseReshape",ff="SparseSegmentMean",su="SparseSegmentSum",Di="SparseToDense",th="SquaredDifference",xl="Square",Mo="StridedSlice",zp="StringNGrams",jp="StringSplit",so="StringToHashBucketFast",cc="Sub",nh="Tan",Us="Tanh",qc="Tile",dc="TopK",ao="Transform",rh="Transpose",qi="Unique",hf="Unpack",Mu="UnsortedSegmentSum",Bn="ZerosLike",Ys="Step",Ia="FromPixels",fc="RotateWithOffset",hc="_FusedMatMul",Qu="FusedConv2D",ih="FusedDepthwiseConv2D"},8415:(be,ie,v)=>{"use strict";v.d(ie,{pI:()=>B,uk:()=>R,tr:()=>W,wC:()=>F,Li:()=>U,nE:()=>G,bt:()=>K,T3:()=>J});var $=v(2433),S=v(3860),P=v(6030);const I=(0,S.R)("kernelRegistry",()=>new Map),N=(0,S.R)("gradRegistry",()=>new Map);function B(ce,Ae){const je=he(ce,Ae);return I.get(je)}function R(ce){return N.get(ce)}function W(ce){const Ae=I.entries(),je=[];for(;;){const{done:Ie,value:ze}=Ae.next();if(Ie)break;const[et,Te]=ze,[We]=et.split("_");We===ce&&je.push(Te)}return je}function F(ce){const{kernelName:Ae,backendName:je}=ce,Ie=he(Ae,je);I.has(Ie)&&P.Z(`The kernel '${Ae}' for backend '${je}' is already registered`),I.set(Ie,ce)}function U(ce){const{kernelName:Ae}=ce;N.has(Ae)&&(0,$.OB)().getBool("DEBUG")&&P.Z(`Overriding the gradient for '${Ae}'`),N.set(Ae,ce)}function G(ce,Ae){const je=he(ce,Ae);if(!I.has(je))throw new Error(`The kernel '${ce}' for backend '${Ae}' is not registered`);I.delete(je)}function K(ce){if(!N.has(ce))throw new Error(`The gradient '${ce}' for backend is not registered`);N.delete(ce)}function J(ce,Ae){W(ce).forEach(Ie=>{F(Object.assign({},Ie,{backendName:Ae}))})}function he(ce,Ae){return`${Ae}_${ce}`}},6030:(be,ie,v)=>{"use strict";v.d(ie,{Z:()=>S,c:()=>P});var $=v(2433);function S(...I){(0,$.OB)().getBool("IS_TEST")||(0,$.OB)().getBool("PROD")||console.warn(...I)}function P(...I){(0,$.OB)().getBool("IS_TEST")||(0,$.OB)().getBool("PROD")||console.log(...I)}},2992:(be,ie,v)=>{"use strict";v.d(ie,{W:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({abs_:function(R){const W=(0,P._1)(R,"x","abs");return $.BV.runKernel("complex64"===W.dtype?S.yj:S.SY,{x:W})}})},2485:(be,ie,v)=>{"use strict";v.d(ie,{K:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({acos_:function(R){const F={x:(0,P._1)(R,"x","acos")};return $.BV.runKernel(S.VG,F)}})},6725:(be,ie,v)=>{"use strict";v.d(ie,{_:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({acosh_:function(R){const F={x:(0,P._1)(R,"x","acosh")};return $.BV.runKernel(S.Sp,F)}})},319:(be,ie,v)=>{"use strict";v.d(ie,{I:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({add_:function(W,F){let U=(0,I._1)(W,"a","add"),G=(0,I._1)(F,"b","add");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.mm,{a:U,b:G})}})},4187:(be,ie,v)=>{"use strict";v.d(ie,{$:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({all_:function(R,W=null,F=!1){const G={x:(0,P._1)(R,"x","all","bool")};return $.BV.runKernel(S.oT,G,{axis:W,keepDims:F})}})},2247:(be,ie,v)=>{"use strict";v.d(ie,{Y:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({any_:function(R,W=null,F=!1){const G={x:(0,P._1)(R,"x","any","bool")};return $.BV.runKernel(S.IK,G,{axis:W,keepDims:F})}})},1257:(be,ie,v)=>{"use strict";v.d(ie,{N:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({argMax_:function(R,W=0){const U={x:(0,P._1)(R,"x","argMax")};return $.BV.runKernel(S.sJ,U,{axis:W})}})},1019:(be,ie,v)=>{"use strict";v.d(ie,{v:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({argMin_:function(R,W=0){const U={x:(0,P._1)(R,"x","argMin")};return $.BV.runKernel(S.aJ,U,{axis:W})}})},7194:(be,ie,v)=>{"use strict";v.d(ie,{Z:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({asin_:function(R){const F={x:(0,P._1)(R,"x","asin")};return $.BV.runKernel(S.M2,F)}})},231:(be,ie,v)=>{"use strict";v.d(ie,{V:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({asinh_:function(R){const F={x:(0,P._1)(R,"x","asinh")};return $.BV.runKernel(S.qw,F)}})},1282:(be,ie,v)=>{"use strict";v.d(ie,{z:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({atan_:function(R){const F={x:(0,P._1)(R,"x","atan")};return $.BV.runKernel(S.jM,F)}})},9851:(be,ie,v)=>{"use strict";v.d(ie,{f:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({atan2_:function(W,F){let U=(0,I._1)(W,"a","atan2"),G=(0,I._1)(F,"b","atan2");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.QC,{a:U,b:G})}})},9776:(be,ie,v)=>{"use strict";v.d(ie,{C:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({atanh_:function(R){const F={x:(0,P._1)(R,"x","atanh")};return $.BV.runKernel(S.Oy,F)}})},282:(be,ie,v)=>{"use strict";v.d(ie,{w:()=>U});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(4879),B=v(7202),R=v(5948),W=v(3626);const U=(0,R.op)({avgPool_:function(G,K,J,he,ce){const Ae=(0,P._1)(G,"x","avgPool","float32");I.hu(B.jT(J,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${J} and dilations '1'`);let Ie=Ae,ze=!1;3===Ae.rank&&(ze=!0,Ie=(0,W.X)(Ae,[1,Ae.shape[0],Ae.shape[1],Ae.shape[2]])),I.hu(4===Ie.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${Ie.rank}.`),null!=ce&&I.hu(I.GN(he),()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${ce} but got pad ${he}.`);let We=$.BV.runKernel(S.Jh,{x:Ie},{filterSize:K,strides:J,pad:he,dimRoundingMode:ce});return We=(0,N.p)(We,Ae.dtype),ze?(0,W.X)(We,[We.shape[1],We.shape[2],We.shape[3]]):We}})},2745:(be,ie,v)=>{"use strict";v.d(ie,{YB:()=>S,Vh:()=>P,kz:()=>I,rv:()=>N,lB:()=>B,Q3:()=>R,LJ:()=>W,sY:()=>F});var $=v(62);function S(U,G){for(let K=0;K<U.length;++K)if(U[U.length-K-1]!==G-1-K)return!1;return!0}function P(U,G,K){const J=U.length+G.length,he=[];let ce=0,Ae=0;for(let je=0;je<J;je++)-1===K.indexOf(je)?he.push(U[ce++]):he.push(G[Ae++]);return he}function I(U,G){const K=[],J=U.length;for(let ce=0;ce<J;ce++)-1===G.indexOf(ce)&&K.push(U[ce]);return[K,G.map(ce=>U[ce])]}function N(U,G){return P(U,G.map(J=>1),G)}function B(U,G,K){$.hu(S(G,K),()=>`${U} supports only inner-most axes for now. Got axes ${G} and rank-${K} input.`)}function R(U,G){if(S(U,G))return null;const K=[];for(let J=0;J<G;++J)-1===U.indexOf(J)&&K.push(J);return U.forEach(J=>K.push(J)),K}function W(U){return U.map((G,K)=>[K,G]).sort((G,K)=>G[1]-K[1]).map(G=>G[0])}function F(U,G){const K=[];for(let J=G-U;J<G;++J)K.push(J);return K}},1601:(be,ie,v)=>{"use strict";v.d(ie,{E:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({batchToSpaceND_:function(W,F,U){const G=(0,P._1)(W,"x","batchToSpaceND"),K=F.reduce((ce,Ae)=>ce*Ae);return I.hu(G.rank>=1+F.length,()=>`input rank is ${G.rank} but should be > than blockShape.length ${F.length}`),I.hu(U.length===F.length,()=>`crops.length is ${U.length} but should be equal to blockShape.length  ${F.length}`),I.hu(G.shape[0]%K==0,()=>`input tensor batch is ${G.shape[0]} but is not divisible by the product of the elements of blockShape ${F.join(" * ")} === ${K}`),$.BV.runKernel(S.zw,{x:G},{blockShape:F,crops:U})}})},6357:(be,ie,v)=>{"use strict";v.d(ie,{t:()=>F});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(3626);function B(U){let G;return G=0===U.rank||1===U.rank?(0,N.X)(U,[1,1,1,U.size]):2===U.rank?(0,N.X)(U,[1,1,U.shape[0],U.shape[1]]):3===U.rank?(0,N.X)(U,[1,U.shape[0],U.shape[1],U.shape[2]]):U,G}const F=(0,v(5948).op)({batchNorm_:function(U,G,K,J,he,ce){null==ce&&(ce=.001);const Ae=(0,P._1)(U,"x","batchNorm"),je=(0,P._1)(G,"mean","batchNorm"),Ie=(0,P._1)(K,"variance","batchNorm");let ze,et;null!=he&&(ze=(0,P._1)(he,"scale","batchNorm")),null!=J&&(et=(0,P._1)(J,"offset","batchNorm")),I.hu(je.rank===Ie.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),I.hu(null==et||je.rank===et.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),I.hu(null==ze||je.rank===ze.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const We={x:B(Ae),scale:ze,offset:et,mean:je,variance:Ie},we=$.BV.runKernel(S.sH,We,{varianceEpsilon:ce});return(0,N.X)(we,Ae.shape)}})},6172:(be,ie,v)=>{"use strict";v.d(ie,{U:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(7871),N=v(5948),B=v(3626);const W=(0,N.op)({broadcastTo_:function(F,U){let G=(0,P._1)(F,"broadcastTo","x");const K=G.shape;if(U.some(Ie=>!(Ie>0)||Ie%1!=0))throw new Error(`broadcastTo(): Invalid broadcast shape [${U}].`);if(U.length<G.rank)throw new Error(`broadcastTo(): shape.length=${U.length} < input.rank=${G.rank}.`);if(U.length>G.rank){const Ie=G.shape.slice();for(;Ie.length<U.length;)Ie.unshift(1);G=(0,B.X)(G,Ie)}const J=G.shape,he=Array.from(U);for(let Ie=U.length-1;Ie>=0;Ie--)if(J[Ie]===U[Ie])he[Ie]=1;else if(1!==G.shape[Ie])throw new Error(`broadcastTo(): [${K}] cannot be broadcast to [${U}].`);return 0===he.map((Ie,ze)=>Ie>1?ze:-1).filter(Ie=>Ie>=0).length?(0,I.d)(G):$.BV.runKernel(S.n9,{x:G},{reps:he})}})},3469:(be,ie,v)=>{"use strict";function $(I,N){const B=I.length,R=[];for(let W=0;W<B;W++){const F=B-1-W,U=I[F]||1;(N[N.length-1-W]||1)>1&&1===U&&R.unshift(F)}return R}function S(I,N){const B=[];for(let R=0;R<N.length;R++){const W=I[I.length-R-1],F=N.length-R-1,U=N[F];(null==W||1===W&&U>1)&&B.unshift(F)}return B}function P(I,N){const B=[],R=Math.max(I.length,N.length);for(let W=0;W<R;W++){let F=I[I.length-W-1];null==F&&(F=1);let U=N[N.length-W-1];if(null==U&&(U=1),1===F)B.unshift(U);else if(1===U)B.unshift(F);else{if(F!==U)throw Error(`Operands could not be broadcast together with shapes ${I} and ${N}.`);B.unshift(F)}}return B}v.d(ie,{XF:()=>$,RR:()=>S,$N:()=>P})},4879:(be,ie,v)=>{"use strict";v.d(ie,{p:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({cast_:function(W,F){const U=(0,P._1)(W,"x","cast");if(!I.LP(F))throw new Error(`Failed to cast to unknown dtype ${F}`);if("string"===F&&"string"!==U.dtype||"string"!==F&&"string"===U.dtype)throw new Error("Only strings can be casted to strings");return $.BV.runKernel(S.RF,{x:U},{dtype:F})}})},9249:(be,ie,v)=>{"use strict";v.d(ie,{m:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({ceil_:function(R){const F={x:(0,P._1)(R,"x","ceil","float32")};return $.BV.runKernel(S.gJ,F)}})},1935:(be,ie,v)=>{"use strict";v.d(ie,{i:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({clipByValue_:function(W,F,U){const G=(0,P._1)(W,"x","clipByValue");return I.hu(F<=U,()=>`Error in clip: min (${F}) must be less than or equal to max (${U}).`),$.BV.runKernel(S.xn,{x:G},{clipValueMin:F,clipValueMax:U})}})},7871:(be,ie,v)=>{"use strict";v.d(ie,{d:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({clone_:function(R){const F={x:(0,P._1)(R,"x","clone","string_or_numeric")};return $.BV.runKernel(S.iJ,F)}})},7401:(be,ie,v)=>{"use strict";v.d(ie,{P:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({complex_:function(W,F){const U=(0,P._1)(W,"real","complex"),G=(0,P._1)(F,"imag","complex");return I.k5(U.shape,G.shape,`real and imag shapes, ${U.shape} and ${G.shape}, must match in call to tf.complex().`),$.BV.runKernel(S.Zz,{real:U,imag:G})}})},4664:(be,ie,v)=>{"use strict";v.d(ie,{z:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(7871);const W=(0,v(5948).op)({concat_:function(F,U=0){(0,I.hu)(F.length>=1,()=>"Pass at least one tensor to concat");const G=(0,P.sI)(F,"tensors","concat","string_or_numeric");return"complex64"===G[0].dtype&&G.forEach(he=>{if("complex64"!==he.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${he.dtype}. `)}),1===G.length?(0,N.d)(G[0]):$.BV.runKernel(S.Eh,G,{axis:U})}})},7182:(be,ie,v)=>{"use strict";v.d(ie,{P:()=>W});var $=v(4810),S=v(62),P=v(6509),I=v(7202),N=v(5948),B=v(3626);const W=(0,N.op)({conv1d_:function(F,U,G,K,J="NWC",he=1,ce){const Ae=(0,$._1)(F,"x","conv1d"),je=(0,$._1)(U,"filter","conv1d");let Ie=Ae,ze=!1;2===Ae.rank&&(ze=!0,Ie=(0,B.X)(Ae,[1,Ae.shape[0],Ae.shape[1]])),S.hu(3===Ie.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${Ie.rank}.`),S.hu(3===je.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${je.rank}.`),null!=ce&&S.hu(S.GN(K),()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${ce} but got pad ${K}.`),S.hu(Ie.shape[2]===je.shape[1],()=>`Error in conv1d: depth of input (${Ie.shape[2]}) must match input depth for filter ${je.shape[1]}.`),S.hu(I.jT(G,he),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${G} and dilation '${he}'`),S.hu("NWC"===J,()=>`Error in conv1d: got dataFormat of ${J} but only NWC is currently supported.`);const et=(0,B.X)(je,[1,je.shape[0],je.shape[1],je.shape[2]]),Te=(0,B.X)(Ie,[Ie.shape[0],1,Ie.shape[1],Ie.shape[2]]),Se=(0,P.T)(Te,et,[1,G],K,"NHWC",[1,he],ce);return(0,B.X)(Se,ze?[Se.shape[2],Se.shape[3]]:[Se.shape[0],Se.shape[2],Se.shape[3]])}})},6509:(be,ie,v)=>{"use strict";v.d(ie,{T:()=>F});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(7202),B=v(5948),R=v(3626);const F=(0,B.op)({conv2d_:function(U,G,K,J,he="NHWC",ce=[1,1],Ae){const je=(0,P._1)(U,"x","conv2d","float32"),Ie=(0,P._1)(G,"filter","conv2d","float32");let ze=je,et=!1;3===je.rank&&(et=!0,ze=(0,R.X)(je,[1,je.shape[0],je.shape[1],je.shape[2]])),I.hu(4===ze.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${ze.rank}.`),I.hu(4===Ie.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${Ie.rank}.`),null!=Ae&&I.hu(I.GN(J),()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${Ae} but got pad ${J}.`);const Te="NHWC"===he?ze.shape[3]:ze.shape[1];I.hu(Te===Ie.shape[2],()=>`Error in conv2d: depth of input (${Te}) must match input depth for filter ${Ie.shape[2]}.`),I.hu(N.jT(K,ce),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${K} and dilations '${ce}'`);const we=$.BV.runKernel(S.mh,{x:ze,filter:Ie},{strides:K,pad:J,dataFormat:he,dilations:ce,dimRoundingMode:Ae});return et?(0,R.X)(we,[we.shape[1],we.shape[2],we.shape[3]]):we}})},4867:(be,ie,v)=>{"use strict";v.d(ie,{p:()=>R});var $=v(6070),S=v(6338),P=v(62),I=v(5948),N=v(3626);const R=(0,I.op)({conv2DBackpropFilter_:function(W,F,U,G,K,J="NHWC",he){let ce=W;3===W.rank&&(ce=(0,N.X)(W,[1,W.shape[0],W.shape[1],W.shape[2]]));let Ae=F;3===Ae.rank&&(Ae=(0,N.X)(F,[1,F.shape[0],F.shape[1],F.shape[2]])),P.hu(4===ce.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${ce.shape}.`),P.hu(4===Ae.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${Ae.shape}.`),P.hu(4===U.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${U}.`);const je="NHWC"===J?ce.shape[3]:ce.shape[1],Ie="NHWC"===J?Ae.shape[3]:Ae.shape[1];return P.hu(je===U[2],()=>`Error in conv2dDerFilter: depth of input ${je}) must match input depth in filter (${U[2]}.`),P.hu(Ie===U[3],()=>`Error in conv2dDerFilter: depth of dy (${Ie}) must match output depth for filter (${U[3]}).`),null!=he&&P.hu(P.GN(K),()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${he} but got pad ${K}.`),$.BV.runKernel(S.wU,{x:ce,dy:Ae},{strides:G,pad:K,dataFormat:J,dimRoundingMode:he,filterShape:U})}})},8445:(be,ie,v)=>{"use strict";v.d(ie,{_:()=>R});var $=v(6070),S=v(6338),P=v(62),I=v(5948),N=v(3626);const R=(0,I.op)({conv2DBackpropInput_:function(W,F,U,G,K,J="NHWC",he){P.hu(W.length===F.rank,()=>`Length of inShape (${W.length}) and rank of dy (${F.rank}) must match`);let ce=W,Ae=F,je=!1;3===F.rank&&(je=!0,Ae=(0,N.X)(F,[1,F.shape[0],F.shape[1],F.shape[2]]),ce=[1,W[0],W[1],W[2]]),P.hu(4===ce.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${ce.length}.`),P.hu(4===Ae.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${Ae.rank}`),P.hu(4===U.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${U.rank}`);const Ie="NHWC"===J?ce[3]:ce[1],ze="NHWC"===J?Ae.shape[3]:Ae.shape[1];P.hu(Ie===U.shape[2],()=>`Error in conv2dDerInput: depth of input (${Ie}) must match input depth for filter ${U.shape[2]}.`),P.hu(ze===U.shape[3],()=>`Error in conv2dDerInput: depth of output (${ze}) must match output depth for filter ${U.shape[3]}.`),null!=he&&P.hu(P.GN(K),()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${he} but got pad ${K}.`);const We=$.BV.runKernel(S.wm,{dy:Ae,filter:U},{strides:G,pad:K,dataFormat:J,dimRoundingMode:he,inputShape:ce});return je?(0,N.X)(We,[We.shape[1],We.shape[2],We.shape[3]]):We}})},9053:(be,ie,v)=>{"use strict";v.d(ie,{b:()=>N});var $=v(4810),S=v(8445);const N=(0,v(5948).op)({conv2dTranspose_:function(B,R,W,F,U,G){const K=(0,$._1)(B,"x","conv2dTranspose"),J=(0,$._1)(R,"filter","conv2dTranspose");return(0,S._)(W,K,J,F,U,"NHWC",G)}})},8921:(be,ie,v)=>{"use strict";v.d(ie,{_:()=>R});var $=v(6070),S=v(6338),P=v(62),I=v(5948),N=v(3626);const R=(0,I.op)({conv3DBackpropInput_:function(W,F,U,G,K){P.hu(W.length===F.rank,()=>`Length of inShape (${W.length}) and rank of dy (${F.rank}) must match`);let J=W,he=F,ce=!1;4===F.rank&&(ce=!0,he=(0,N.X)(F,[1,F.shape[0],F.shape[1],F.shape[2],F.shape[3]]),J=[1,W[0],W[1],W[2],W[3]]);const Ae=J[4],je=he.shape[4];P.hu(5===J.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${J.length}.`),P.hu(5===he.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${he.rank}`),P.hu(5===U.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${U.rank}`),P.hu(Ae===U.shape[3],()=>`Error in conv3dDerInput: depth of input (${Ae}) must match input depth for filter ${U.shape[3]}.`),P.hu(je===U.shape[4],()=>`Error in conv3dDerInput: depth of output (${je}) must match output depth for filter ${U.shape[4]}.`);const et=$.BV.runKernel(S.ik,{dy:he,filter:U},{pad:K,strides:G,inputShape:J});return ce?(0,N.X)(et,[et.shape[1],et.shape[2],et.shape[3],et.shape[4]]):et}})},7202:(be,ie,v)=>{"use strict";function $(Ie,ze,et,Te,We="NHWC",ge){return I(Ie,[...ze,Ie[3]],et,ge,Te,null,null,je(We))}function S(Ie,ze,et,Te,We,ge,we="channelsLast"){const[Se,re]=F(ze);let Re;if("channelsLast"===we)Re=[Se,re,Ie[3],Ie[3]];else{if("channelsFirst"!==we)throw new Error(`Unknown dataFormat ${we}`);Re=[Se,re,Ie[1],Ie[1]]}return I(Ie,Re,et,Te,We,ge,!1,we)}function P(Ie,ze,et,Te,We,ge,we="NDHWC"){const[Se,re,Re]=U(ze);let Be,Pe;if("NDHWC"===we)Pe="channelsLast",Be=[Se,re,Re,Ie[4],Ie[4]];else{if("NCDHW"!==we)throw new Error(`Unknown dataFormat ${we}`);Pe="channelsFirst",Be=[Se,re,Re,Ie[1],Ie[1]]}return N(Ie,Be,et,Te,We,!1,Pe,ge)}function I(Ie,ze,et,Te,We,ge,we=!1,Se="channelsLast"){let[re,Re,Be,Pe]=[-1,-1,-1,-1];if("channelsLast"===Se)[re,Re,Be,Pe]=Ie;else{if("channelsFirst"!==Se)throw new Error(`Unknown dataFormat ${Se}`);[re,Pe,Re,Be]=Ie}const[Ke,Qe,,rt]=ze,[st,ft]=F(et),[kt,$t]=F(Te),on=G(Ke,kt),On=G(Qe,$t),{padInfo:Cn,outHeight:Kt,outWidth:cn}=function(Ie,ze,et,Te,We,ge,we,Se,re){let Re,Be,Pe;if("number"==typeof Ie){Re={top:Ie,bottom:Ie,left:Ie,right:Ie,type:0===Ie?"VALID":"NUMBER"};const Qe=function(Ie,ze,et,Te,We){null==Te&&(Te=W(Ie,ze,et));const we=Ie[1];return[he((Ie[0]-ze+2*Te)/et+1,We),he((we-ze+2*Te)/et+1,We)]}([ze,et],ge,Te,Ie,Se);Be=Qe[0],Pe=Qe[1]}else if("same"===Ie){Be=Math.ceil(ze/Te),Pe=Math.ceil(et/We);const Ke=Math.max(0,(Be-1)*Te+ge-ze),Qe=Math.max(0,(Pe-1)*We+we-et),rt=Math.floor(Ke/2),st=Ke-rt,ft=Math.floor(Qe/2);Re={top:rt,bottom:st,left:ft,right:Qe-ft,type:"SAME"}}else if("valid"===Ie)Re={top:0,bottom:0,left:0,right:0,type:"VALID"},Be=Math.ceil((ze-ge+1)/Te),Pe=Math.ceil((et-we+1)/We);else{if("object"!=typeof Ie)throw Error(`Unknown padding parameter: ${Ie}`);{const Ke="channelsLast"===re?Ie[1][0]:Ie[2][0],Qe="channelsLast"===re?Ie[1][1]:Ie[2][1],rt="channelsLast"===re?Ie[2][0]:Ie[3][0],st="channelsLast"===re?Ie[2][1]:Ie[3][1];Re={top:Ke,bottom:Qe,left:rt,right:st,type:0===Ke&&0===Qe&&0===rt&&0===st?"VALID":"EXPLICIT"},Be=he((ze-ge+Ke+Qe)/Te+1,Se),Pe=he((et-we+rt+st)/We+1,Se)}}return{padInfo:Re,outHeight:Be,outWidth:Pe}}(We,Re,Be,st,ft,on,On,ge,Se),Gr=we?rt*Pe:rt;let mi;return"channelsFirst"===Se?mi=[re,Gr,Kt,cn]:"channelsLast"===Se&&(mi=[re,Kt,cn,Gr]),{batchSize:re,dataFormat:Se,inHeight:Re,inWidth:Be,inChannels:Pe,outHeight:Kt,outWidth:cn,outChannels:Gr,padInfo:Cn,strideHeight:st,strideWidth:ft,filterHeight:Ke,filterWidth:Qe,effectiveFilterHeight:on,effectiveFilterWidth:On,dilationHeight:kt,dilationWidth:$t,inShape:Ie,outShape:mi,filterShape:ze}}function N(Ie,ze,et,Te,We,ge=!1,we="channelsLast",Se){let[re,Re,Be,Pe,Ke]=[-1,-1,-1,-1,-1];if("channelsLast"===we)[re,Re,Be,Pe,Ke]=Ie;else{if("channelsFirst"!==we)throw new Error(`Unknown dataFormat ${we}`);[re,Ke,Re,Be,Pe]=Ie}const[Qe,rt,st,,ft]=ze,[kt,$t,on]=U(et),[On,Cn,Kt]=U(Te),cn=G(Qe,On),Gr=G(rt,Cn),mi=G(st,Kt),{padInfo:dt,outDepth:Vt,outHeight:Ln,outWidth:Bt}=function(Ie,ze,et,Te,We,ge,we,Se,re,Re,Be){let Pe,Ke,Qe,rt;if("number"==typeof Ie){Pe={top:Ie,bottom:Ie,left:Ie,right:Ie,front:Ie,back:Ie,type:0===Ie?"VALID":"NUMBER"};const ft=function(Ie,ze,et,Te,We,ge){null==We&&(We=W(Ie,ze,Te));const Se=Ie[1],re=Ie[2];return[he((Ie[0]-ze+2*We)/Te+1,ge),he((Se-ze+2*We)/Te+1,ge),he((re-ze+2*We)/Te+1,ge),1]}([ze,et,Te,1],Se,0,We,Ie,Be);Ke=ft[0],Qe=ft[1],rt=ft[2]}else if("same"===Ie){Ke=Math.ceil(ze/We),Qe=Math.ceil(et/ge),rt=Math.ceil(Te/we);const st=(Ke-1)*We+Se-ze,ft=(Qe-1)*ge+re-et,kt=(rt-1)*we+Re-Te,$t=Math.floor(st/2),on=st-$t,On=Math.floor(ft/2),Cn=ft-On,Kt=Math.floor(kt/2);Pe={top:On,bottom:Cn,left:Kt,right:kt-Kt,front:$t,back:on,type:"SAME"}}else{if("valid"!==Ie)throw Error(`Unknown padding parameter: ${Ie}`);Pe={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Ke=Math.ceil((ze-Se+1)/We),Qe=Math.ceil((et-re+1)/ge),rt=Math.ceil((Te-Re+1)/we)}return{padInfo:Pe,outDepth:Ke,outHeight:Qe,outWidth:rt}}(We,Re,Be,Pe,kt,$t,on,cn,Gr,mi,Se),kn=ge?ft*Ke:ft;let nt;return"channelsFirst"===we?nt=[re,kn,Vt,Ln,Bt]:"channelsLast"===we&&(nt=[re,Vt,Ln,Bt,kn]),{batchSize:re,dataFormat:we,inDepth:Re,inHeight:Be,inWidth:Pe,inChannels:Ke,outDepth:Vt,outHeight:Ln,outWidth:Bt,outChannels:kn,padInfo:dt,strideDepth:kt,strideHeight:$t,strideWidth:on,filterDepth:Qe,filterHeight:rt,filterWidth:st,effectiveFilterDepth:cn,effectiveFilterHeight:Gr,effectiveFilterWidth:mi,dilationDepth:On,dilationHeight:Cn,dilationWidth:Kt,inShape:Ie,outShape:nt,filterShape:ze}}function W(Ie,ze,et,Te=1){const We=G(ze,Te);return Math.floor((Ie[0]*(et-1)-et+We)/2)}function F(Ie){return"number"==typeof Ie?[Ie,Ie,Ie]:2===Ie.length?[Ie[0],Ie[1],1]:Ie}function U(Ie){return"number"==typeof Ie?[Ie,Ie,Ie]:Ie}function G(Ie,ze){return ze<=1?Ie:Ie+(Ie-1)*(ze-1)}function he(Ie,ze){if(!ze)return Math.trunc(Ie);switch(ze){case"round":return Math.round(Ie);case"ceil":return Math.ceil(Ie);case"floor":return Math.floor(Ie);default:throw new Error(`Unknown roundingMode ${ze}`)}}function ce(Ie){const[ze,et,Te]=F(Ie);return 1===ze&&1===et&&1===Te}function Ae(Ie,ze){return ce(Ie)||ce(ze)}function je(Ie){if("NHWC"===Ie)return"channelsLast";if("NCHW"===Ie)return"channelsFirst";throw new Error(`Unknown dataFormat ${Ie}`)}v.d(ie,{Rf:()=>$,Xw:()=>S,pl:()=>P,Ix:()=>I,jw:()=>N,aO:()=>W,I0:()=>ce,jT:()=>Ae,sl:()=>je})},1588:(be,ie,v)=>{"use strict";v.d(ie,{m:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({cos_:function(R){const F={x:(0,P._1)(R,"x","cos","float32")};return $.BV.runKernel(S.mc,F)}})},3538:(be,ie,v)=>{"use strict";v.d(ie,{f:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({cosh_:function(R){const F={x:(0,P._1)(R,"x","cosh","float32")};return $.BV.runKernel(S.TR,F)}})},5023:(be,ie,v)=>{"use strict";v.d(ie,{z:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({cumsum_:function(R,W=0,F=!1,U=!1){const K={x:(0,P._1)(R,"x","cumsum")};return $.BV.runKernel(S.iH,K,{axis:W,exclusive:F,reverse:U})}})},8663:(be,ie,v)=>{"use strict";v.d(ie,{n:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({depthToSpace_:function(W,F,U="NHWC"){const G=(0,P._1)(W,"x","depthToSpace","float32"),K="NHWC"===U?G.shape[1]:G.shape[2],J="NHWC"===U?G.shape[2]:G.shape[3],he="NHWC"===U?G.shape[3]:G.shape[1];return I.hu(F>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${F}`),I.hu(K*F>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${K} and ${F}  for depthToSpace with input shape\n    ${G.shape}`),I.hu(J*F>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${J} and ${F} for depthToSpace with input shape\n        ${G.shape}`),I.hu(he%(F*F)==0,()=>`Dimension size must be evenly divisible by ${F*F} but is ${he} for depthToSpace with input shape ${G.shape}`),$.BV.runKernel(S.T0,{x:G},{blockSize:F,dataFormat:U})}})},2514:(be,ie,v)=>{"use strict";v.d(ie,{B:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(5948),B=v(3626);const W=(0,N.op)({depthwiseConv2d_:function(F,U,G,K,J="NHWC",he=[1,1],ce){const Ae=(0,P._1)(F,"x","depthwiseConv2d","float32"),je=(0,P._1)(U,"filter","depthwiseConv2d","float32");let Ie=Ae,ze=!1;3===Ae.rank&&(ze=!0,Ie=(0,B.X)(Ae,[1,Ae.shape[0],Ae.shape[1],Ae.shape[2]])),I.hu(4===Ie.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${Ie.rank}.`),I.hu(4===je.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${je.rank}.`),I.hu(Ie.shape[3]===je.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${Ie.shape[3]}) must match the inChannels dimension in filter ${je.shape[2]}.`),null!=ce&&I.hu(I.GN(K),()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${ce} but got pad ${K}.`);const We=$.BV.runKernel(S.ci,{x:Ie,filter:je},{strides:G,pad:K,dataFormat:J,dilations:he,dimRoundingMode:ce});return ze?(0,B.X)(We,[We.shape[1],We.shape[2],We.shape[3]]):We}})},527:(be,ie,v)=>{"use strict";v.d(ie,{z:()=>B});var $=v(6070),S=v(6338),P=v(5948),I=v(3626);const B=(0,P.op)({depthwiseConv2dNativeBackpropFilter_:function(R,W,F,U,G,K=[1,1],J){let he=R;3===R.rank&&(he=(0,I.X)(R,[1,R.shape[0],R.shape[1],R.shape[2]]));let ce=W;return 3===ce.rank&&(ce=(0,I.X)(W,[1,W.shape[0],W.shape[1],W.shape[2]])),$.BV.runKernel(S.sL,{x:he,dy:ce},{strides:U,pad:G,dimRoundingMode:J,dilations:K,filterShape:F})}})},3905:(be,ie,v)=>{"use strict";v.d(ie,{v:()=>B});var $=v(6070),S=v(6338),P=v(5948),I=v(3626);const B=(0,P.op)({depthwiseConv2dNativeBackpropInput_:function(R,W,F,U,G,K=[1,1],J){let he=W,ce=!1;3===W.rank&&(ce=!0,he=(0,I.X)(W,[1,W.shape[0],W.shape[1],W.shape[2]]));const Ie=$.BV.runKernel(S.y7,{dy:he,filter:F},{strides:U,pad:G,dimRoundingMode:J,dilations:K,inputShape:R});return ce?(0,I.X)(Ie,[Ie.shape[1],Ie.shape[2],Ie.shape[3]]):Ie}})},7501:(be,ie,v)=>{"use strict";v.d(ie,{W:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(5948),B=v(3626);const W=(0,N.op)({dilation2d_:function(F,U,G,K,J=[1,1],he="NHWC"){const ce=(0,P._1)(F,"x","dilation2d"),Ae=(0,P._1)(U,"filter","dilation2d");I.hu(3===ce.rank||4===ce.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${ce.rank}.`),I.hu(3===Ae.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${Ae.rank}.`),I.hu("NHWC"===he,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${he}`);let je=ce,Ie=!1;3===ce.rank&&(je=(0,B.X)(ce,[1,ce.shape[0],ce.shape[1],ce.shape[2]]),Ie=!0);const Te=$.BV.runKernel(S.p4,{x:je,filter:Ae},{strides:G,pad:K,dilations:J});return Ie?(0,B.X)(Te,[Te.shape[1],Te.shape[2],Te.shape[3]]):Te}})},8366:(be,ie,v)=>{"use strict";v.d(ie,{h:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(4404);const W=(0,v(5948).op)({div_:function(F,U){let G=(0,I._1)(F,"a","div"),K=(0,I._1)(U,"b","div");return[G,K]=(0,P.makeTypesMatch)(G,K),"int32"===G.dtype&&"int32"===K.dtype?(0,N.q)(G,K):$.BV.runKernel(S.oH,{a:G,b:K},{})}})},8464:(be,ie,v)=>{"use strict";v.d(ie,{N:()=>F});var $=v(7073),S=v(4810),P=v(8366),I=v(5393),N=v(5948),B=v(8793),R=v(9314);const F=(0,N.op)({divNoNan_:function(U,G){let K=(0,S._1)(U,"a","div"),J=(0,S._1)(G,"b","div");[K,J]=(0,$.makeTypesMatch)(K,J);const he=(0,P.h)(K,J),ce=(0,R.P)(he),Ae=(0,I.D)(J,ce);return(0,B.a)(Ae,ce,he)}})},4258:(be,ie,v)=>{"use strict";v.d(ie,{A:()=>R});var $=v(4810),S=v(62),P=v(4291),I=v(5948),N=v(3626);const R=(0,I.op)({dot_:function(W,F){const U=(0,$._1)(W,"t1","dot"),G=(0,$._1)(F,"t2","dot");S.hu(!(1!==U.rank&&2!==U.rank||1!==G.rank&&2!==G.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${U.rank} and ${G.rank}.`);const K=1===U.rank?U.size:U.shape[1],J=1===G.rank?G.size:G.shape[0];if(S.hu(K===J,()=>`Error in dot: inner dimensions of inputs must match, but got ${K} and ${J}.`),1===U.rank&&1===G.rank){const he=(0,N.X)(U,[1,-1]),ce=(0,N.X)(G,[-1,1]),Ae=(0,P.O)(he,ce);return(0,N.X)(Ae,[])}if(1===U.rank&&2===G.rank){const he=(0,N.X)(U,[1,-1]),ce=(0,N.X)(G,[G.shape[0],G.shape[1]]),Ae=(0,P.O)(he,ce);return(0,N.X)(Ae,[Ae.size])}if(2===U.rank&&1===G.rank){const he=(0,N.X)(G,[-1,1]),ce=(0,P.O)(U,he);return(0,N.X)(ce,[ce.size])}{const he=(0,N.X)(G,[G.shape[0],G.shape[1]]);return(0,P.O)(U,he)}}})},6818:(be,ie,v)=>{"use strict";v.d(ie,{p:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({elu_:function(R){const F={x:(0,P._1)(R,"x","elu","float32")};return $.BV.runKernel(S.SX,F)}})},5393:(be,ie,v)=>{"use strict";v.d(ie,{D:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({equal_:function(F,U){let G=(0,I._1)(F,"a","equal","string_or_numeric"),K=(0,I._1)(U,"b","equal","string_or_numeric");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S.hd,{a:G,b:K})}})},450:(be,ie,v)=>{"use strict";v.d(ie,{q:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(4879);const W=(0,v(5948).op)({erf_:function(F){let U=(0,P._1)(F,"x","erf");return I.hu("int32"===U.dtype||"float32"===U.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===U.dtype&&(U=(0,N.p)(U,"float32")),$.BV.runKernel(S.Om,{x:U})}})},835:(be,ie,v)=>{"use strict";v.d(ie,{Q:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({exp_:function(R){const F={x:(0,P._1)(R,"x","exp")};return $.BV.runKernel(S.NE,F)}})},8457:(be,ie,v)=>{"use strict";v.d(ie,{d:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({expandDims_:function(W,F=0){const U=(0,P._1)(W,"x","expandDims","string_or_numeric");return I.hu(F<=U.rank,()=>"Axis must be <= rank of the tensor"),$.BV.runKernel(S.YF,{input:U},{dim:F})}})},5914:(be,ie,v)=>{"use strict";v.d(ie,{t:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({expm1_:function(R){const F={x:(0,P._1)(R,"x","expm1")};return $.BV.runKernel(S.Y0,F)}})},3849:(be,ie,v)=>{"use strict";v.d(ie,{G:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({floor_:function(R){const F={x:(0,P._1)(R,"x","floor","float32")};return $.BV.runKernel(S.OR,F)}})},4404:(be,ie,v)=>{"use strict";v.d(ie,{q:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({floorDiv_:function(W,F){let U=(0,I._1)(W,"a","floorDiv"),G=(0,I._1)(F,"b","floorDiv");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.je,{a:U,b:G})}})},8181:(be,ie,v)=>{"use strict";v.d(ie,{I:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({gather_:function(R,W,F=0,U=0){const G=(0,P._1)(R,"x","gather"),K=(0,P._1)(W,"indices","gather","int32");return $.BV.runKernel(S.qi,{x:G,indices:K},{axis:F,batchDims:U})}})},7844:(be,ie,v)=>{"use strict";v.d(ie,{p:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({greater_:function(F,U){let G=(0,I._1)(F,"a","greater","string_or_numeric"),K=(0,I._1)(U,"b","greater","string_or_numeric");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S.iZ,{a:G,b:K})}})},4239:(be,ie,v)=>{"use strict";v.d(ie,{b:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({greaterEqual_:function(F,U){let G=(0,I._1)(F,"a","greaterEqual","string_or_numeric"),K=(0,I._1)(U,"b","greaterEqual","string_or_numeric");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S.Ac,{a:G,b:K})}})},6308:(be,ie,v)=>{"use strict";v.d(ie,{a:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({imag_:function(R){const F={input:(0,P._1)(R,"input","imag")};return $.BV.runKernel(S.J_,F)}})},4849:(be,ie,v)=>{"use strict";v.d(ie,{I:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(5948),B=v(3626);const W=(0,N.op)({resizeBilinear_:function(F,U,G=!1,K=!1){const J=(0,P._1)(F,"images","resizeBilinear");I.hu(3===J.rank||4===J.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${J.rank}.`),I.hu(2===U.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${U}.`),I.hu(!1===K||!1===G,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let he=J,ce=!1;3===J.rank&&(ce=!0,he=(0,B.X)(J,[1,J.shape[0],J.shape[1],J.shape[2]]));const[]=U,Ie=$.BV.runKernel(S._Y,{images:he},{alignCorners:G,halfPixelCenters:K,size:U});return ce?(0,B.X)(Ie,[Ie.shape[1],Ie.shape[2],Ie.shape[3]]):Ie}})},2653:(be,ie,v)=>{"use strict";v.d(ie,{j:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(5948),B=v(3626);const W=(0,N.op)({resizeNearestNeighbor_:function(F,U,G=!1,K=!1){const J=(0,P._1)(F,"images","resizeNearestNeighbor");I.hu(3===J.rank||4===J.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${J.rank}.`),I.hu(2===U.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${U}.`),I.hu("float32"===J.dtype||"int32"===J.dtype,()=>"`images` must have `int32` or `float32` as dtype"),I.hu(!1===K||!1===G,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let he=J,ce=!1;3===J.rank&&(ce=!0,he=(0,B.X)(J,[1,J.shape[0],J.shape[1],J.shape[2]]));const[]=U,Ie=$.BV.runKernel(S.dp,{images:he},{alignCorners:G,halfPixelCenters:K,size:U});return ce?(0,B.X)(Ie,[Ie.shape[1],Ie.shape[2],Ie.shape[3]]):Ie}})},870:(be,ie,v)=>{"use strict";v.d(ie,{x:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({isFinite_:function(R){const F={x:(0,P._1)(R,"x","isFinite")};return $.BV.runKernel(S.av,F)}})},8620:(be,ie,v)=>{"use strict";v.d(ie,{U:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({isInf_:function(R){const F={x:(0,P._1)(R,"x","isInf")};return $.BV.runKernel(S.iW,F)}})},1491:(be,ie,v)=>{"use strict";v.d(ie,{i:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({isNaN_:function(R){const F={x:(0,P._1)(R,"x","isNaN")};return $.BV.runKernel(S.r7,F)}})},8476:(be,ie,v)=>{"use strict";v.d(ie,{h:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({leakyRelu_:function(R,W=.2){const U={x:(0,P._1)(R,"x","leakyRelu")};return $.BV.runKernel(S.J$,U,{alpha:W})}})},9027:(be,ie,v)=>{"use strict";v.d(ie,{d:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({less_:function(F,U){let G=(0,I._1)(F,"a","less","string_or_numeric"),K=(0,I._1)(U,"b","less","string_or_numeric");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S.vt,{a:G,b:K})}})},521:(be,ie,v)=>{"use strict";v.d(ie,{z:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({lessEqual_:function(F,U){let G=(0,I._1)(F,"a","lessEqual","string_or_numeric"),K=(0,I._1)(U,"b","lessEqual","string_or_numeric");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S.CA,{a:G,b:K})}})},5455:(be,ie,v)=>{"use strict";v.d(ie,{G:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(5948),B=v(3626);const W=(0,N.op)({localResponseNormalization_:function(F,U=5,G=1,K=1,J=.5){const he=(0,P._1)(F,"x","localResponseNormalization");I.hu(4===he.rank||3===he.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${he.rank}.`),I.hu(I.GN(U),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${U}.`);let ce=he,Ae=!1;3===he.rank&&(Ae=!0,ce=(0,B.X)(he,[1,he.shape[0],he.shape[1],he.shape[2]]));const ze=$.BV.runKernel(S.eZ,{x:ce},{depthRadius:U,bias:G,alpha:K,beta:J});return Ae?(0,B.X)(ze,[ze.shape[1],ze.shape[2],ze.shape[3]]):ze}})},8873:(be,ie,v)=>{"use strict";v.d(ie,{c:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({log_:function(R){const F={x:(0,P._1)(R,"x","log","float32")};return $.BV.runKernel(S.Zb,F)}})},657:(be,ie,v)=>{"use strict";v.d(ie,{K:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({log1p_:function(R){const F={x:(0,P._1)(R,"x","log1p")};return $.BV.runKernel(S.kU,F)}})},6071:(be,ie,v)=>{"use strict";v.d(ie,{e:()=>F});var $=v(6921),S=v(4810),P=v(1300),I=v(181),N=v(5948),B=v(4655),R=v(7246);const F=(0,N.op)({logSigmoid_:function(U){const G=(0,S._1)(U,"x","logSigmoid");return(0,$.cb)(J=>({value:(0,I.W)((0,R.W)((0,I.W)(J))),gradFunc:Ae=>(0,P.d)(Ae,(0,B.X)((0,I.W)(J)))}))(G)}})},2803:(be,ie,v)=>{"use strict";v.d(ie,{C:()=>K});var $=v(6921),S=v(4810),P=v(4879),I=v(835),N=v(8873),B=v(8890),R=v(1300),W=v(5948),F=v(3217),U=v(7782);const K=(0,W.op)({logSoftmax_:function(J,he=-1){const ce=(0,S._1)(J,"logits","logSoftmax");if(-1===he&&(he=ce.rank-1),he!==ce.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${ce.rank} and axis was ${he}`);return(0,$.cb)((je,Ie)=>{const et=(0,B.F)(je,he,!0),Te=(0,F.l)(je,et),We=(0,F.l)((0,P.p)(Te,"float32"),(0,N.c)((0,U.S)((0,I.Q)(Te),he,!0)));return Ie([We]),{value:We,gradFunc:(we,Se)=>{const[re]=Se,Be=(0,I.Q)(re);return(0,F.l)(we,(0,R.d)((0,U.S)(we,he,!0),Be))}}})(ce)}})},4494:(be,ie,v)=>{"use strict";v.d(ie,{l:()=>J});var $=v(4810),S=v(62),P=v(319),I=v(2745),N=v(835),B=v(8873),R=v(8890),W=v(5948),F=v(3626),U=v(3217),G=v(7782);const J=(0,W.op)({logSumExp_:function(he,ce=null,Ae=!1){const je=(0,$._1)(he,"x","logSumExp"),Ie=(0,S.EC)(ce,je.shape),ze=(0,R.F)(je,Ie,!0),et=(0,U.l)(je,ze),Te=(0,N.Q)(et),We=(0,G.S)(Te,Ie),ge=(0,B.c)(We),we=(0,P.I)((0,F.X)(ze,ge.shape),ge);if(Ae){const Se=(0,I.rv)(we.shape,Ie);return(0,F.X)(we,Se)}return we}})},7369:(be,ie,v)=>{"use strict";v.d(ie,{H:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(3469);const R=(0,v(5948).op)({logicalAnd_:function(W,F){const U=(0,P._1)(W,"a","logicalAnd","bool"),G=(0,P._1)(F,"b","logicalAnd","bool");return(0,I.$N)(U.shape,G.shape),$.BV.runKernel(S.PY,{a:U,b:G})}})},5280:(be,ie,v)=>{"use strict";v.d(ie,{h:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({logicalNot_:function(R){const F={x:(0,P._1)(R,"x","logicalNot","bool")};return $.BV.runKernel(S.Vf,F)}})},4712:(be,ie,v)=>{"use strict";v.d(ie,{K:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(3469);const R=(0,v(5948).op)({logicalOr_:function(W,F){const U=(0,P._1)(W,"a","logicalOr","bool"),G=(0,P._1)(F,"b","logicalOr","bool");return(0,I.$N)(U.shape,G.shape),$.BV.runKernel(S.MZ,{a:U,b:G})}})},694:(be,ie,v)=>{"use strict";v.d(ie,{e:()=>W});var $=v(4810),S=v(3469),P=v(7369),I=v(5280),N=v(4712);const W=(0,v(5948).op)({logicalXor_:function(F,U){const G=(0,$._1)(F,"a","logicalXor","bool"),K=(0,$._1)(U,"b","logicalXor","bool");return(0,S.$N)(G.shape,K.shape),(0,P.H)((0,N.K)(F,U),(0,I.h)((0,P.H)(F,U)))}})},4291:(be,ie,v)=>{"use strict";v.d(ie,{O:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({matMul_:function(W,F,U=!1,G=!1){let K=(0,I._1)(W,"a","matMul"),J=(0,I._1)(F,"b","matMul");return[K,J]=(0,P.makeTypesMatch)(K,J),$.BV.runKernel(S.XL,{a:K,b:J},{transposeA:U,transposeB:G})}})},8890:(be,ie,v)=>{"use strict";v.d(ie,{F:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({max_:function(R,W=null,F=!1){const G={x:(0,P._1)(R,"x","max")};return $.BV.runKernel(S.Yo,G,{reductionIndices:W,keepDims:F})}})},7542:(be,ie,v)=>{"use strict";v.d(ie,{_:()=>F});var $=v(6070),S=v(6338),P=v(4810),I=v(62),N=v(7202),B=v(5948),R=v(3626);const F=(0,B.op)({maxPool_:function(U,G,K,J,he){const ce=(0,P._1)(U,"x","maxPool");let je=ce,Ie=!1;3===ce.rank&&(Ie=!0,je=(0,R.X)(ce,[1,ce.shape[0],ce.shape[1],ce.shape[2]])),I.hu(4===je.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${je.rank}.`),I.hu(N.jT(K,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${K} and dilations '1'`),null!=he&&I.hu(I.GN(J),()=>`Error in maxPool: pad must be an integer when using, dimRoundingMode ${he} but got pad ${J}.`);const Te=$.BV.runKernel(S.mT,{x:je},{filterSize:G,strides:K,pad:J,dimRoundingMode:he});return Ie?(0,R.X)(Te,[Te.shape[1],Te.shape[2],Te.shape[3]]):Te}})},8060:(be,ie,v)=>{"use strict";v.d(ie,{g:()=>F});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469),B=v(4879);const F=(0,v(5948).op)({maximum_:function(U,G){let K=(0,I._1)(U,"a","maximum"),J=(0,I._1)(G,"b","maximum");return[K,J]=(0,P.makeTypesMatch)(K,J),"bool"===K.dtype&&(K=(0,B.p)(K,"int32"),J=(0,B.p)(J,"int32")),(0,N.$N)(K.shape,J.shape),$.BV.runKernel(S.BM,{a:K,b:J})}})},317:(be,ie,v)=>{"use strict";v.d(ie,{J:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({mean_:function(R,W=null,F=!1){const G={x:(0,P._1)(R,"x","mean")};return $.BV.runKernel(S.q2,G,{axis:W,keepDims:F})}})},2451:(be,ie,v)=>{"use strict";v.d(ie,{V:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({min_:function(R,W=null,F=!1){const G={x:(0,P._1)(R,"x","min")};return $.BV.runKernel(S.c1,G,{axis:W,keepDims:F})}})},1563:(be,ie,v)=>{"use strict";v.d(ie,{L:()=>F});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469),B=v(4879);const F=(0,v(5948).op)({minimum_:function(U,G){let K=(0,I._1)(U,"a","minimum"),J=(0,I._1)(G,"b","minimum");return[K,J]=(0,P.makeTypesMatch)(K,J),"bool"===K.dtype&&(K=(0,B.p)(K,"int32"),J=(0,B.p)(J,"int32")),(0,N.$N)(K.shape,J.shape),$.BV.runKernel(S.q8,{a:K,b:J})}})},4326:(be,ie,v)=>{"use strict";v.d(ie,{V:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({mirrorPad_:function(W,F,U){I.hu("reflect"===U||"symmetric"===U,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${U}.`);const G=(0,P._1)(W,"x","mirrorPad");if(0===G.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");I.hu(F.length===G.rank,()=>`Padding doesn't match input. Must be ${G.rank}. Got ${F.length}.`);const K="reflect"===U?1:0;for(let ce=0;ce<G.rank;ce++)I.hu(2===F[ce].length,()=>"Invalid number of paddings. Must be length of 2 each."),I.hu(F[ce][0]>=0&&F[ce][0]<=G.shape[ce]-K&&F[ce][1]>=0&&F[ce][1]<=G.shape[ce]-K,()=>`Padding in dimension ${ce} cannot be greater than or equal to ${G.shape[ce]-K} or less than 0 for input of shape ${G.shape}`);return $.BV.runKernel(S.jQ,{x:G},{paddings:F,mode:U})}})},3832:(be,ie,v)=>{"use strict";v.d(ie,{w:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({mod_:function(W,F){let U=(0,I._1)(W,"a","mod"),G=(0,I._1)(F,"b","mod");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.Vb,{a:U,b:G})}})},1300:(be,ie,v)=>{"use strict";v.d(ie,{d:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({mul_:function(W,F){let U=(0,I._1)(W,"a","mul"),G=(0,I._1)(F,"b","mul");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.wY,{a:U,b:G})}})},181:(be,ie,v)=>{"use strict";v.d(ie,{W:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({neg_:function(R){const F={x:(0,P._1)(R,"x","neg")};return $.BV.runKernel(S.ku,F)}})},8788:(be,ie,v)=>{"use strict";v.d(ie,{K:()=>Ae});var $=v(4810),S=v(62),P=v(2992),I=v(2745),N=v(8890),B=v(2451),R=v(5948),W=v(2293),F=v(3626),U=v(8153),G=v(6900),K=v(4463),J=v(7782);function ce(je,Ie,ze=null){if(0===je.rank)return(0,P.W)(je);if(1!==je.rank&&null===ze)return ce((0,F.X)(je,[-1]),Ie,ze);if(1===je.rank||"number"==typeof ze||Array.isArray(ze)&&1===ze.length){if(1===Ie)return(0,J.S)((0,P.W)(je),ze);if(Ie===1/0)return(0,N.F)((0,P.W)(je),ze);if(Ie===-1/0)return(0,B.V)((0,P.W)(je),ze);if("euclidean"===Ie||2===Ie)return(0,G._)((0,J.S)((0,W.s)((0,P.W)(je),(0,U.i)(2,"int32")),ze));throw new Error(`Error in norm: invalid ord value: ${Ie}`)}if(Array.isArray(ze)&&2===ze.length){if(1===Ie)return(0,N.F)((0,J.S)((0,P.W)(je),ze[0]),ze[1]-1);if(Ie===1/0)return(0,N.F)((0,J.S)((0,P.W)(je),ze[1]),ze[0]);if(Ie===-1/0)return(0,B.V)((0,J.S)((0,P.W)(je),ze[1]),ze[0]);if("fro"===Ie||"euclidean"===Ie)return(0,G._)((0,J.S)((0,K.h)(je),ze));throw new Error(`Error in norm: invalid ord value: ${Ie}`)}throw new Error(`Error in norm: invalid axis: ${ze}`)}const Ae=(0,R.op)({norm_:function(je,Ie="euclidean",ze=null,et=!1){const Te=ce(je=(0,$._1)(je,"x","norm"),Ie,ze);let We=Te.shape;if(et){const ge=(0,S.EC)(ze,je.shape);We=I.rv(Te.shape,ge)}return(0,F.X)(Te,We)}})},2684:(be,ie,v)=>{"use strict";v.d(ie,{Q:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({notEqual_:function(F,U){let G=(0,I._1)(F,"a","notEqual","string_or_numeric"),K=(0,I._1)(U,"b","notEqual","string_or_numeric");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S.yQ,{a:G,b:K})}})},8598:(be,ie,v)=>{"use strict";v.d(ie,{l:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({oneHot_:function(R,W,F=1,U=0){if(W<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${W}`);const K={indices:(0,P._1)(R,"indices","oneHot","int32")};return $.BV.runKernel(S.we,K,{depth:W,onValue:F,offValue:U})}})},6217:(be,ie,v)=>{"use strict";v.d(ie,{i:()=>N});var $=v(6070),S=v(62),P=v(7401),I=v(7799);function N(B,R="float32"){if("complex64"===R){const F=N(B,"float32"),U=(0,I.l)(B,"float32");return(0,P.P)(F,U)}const W=(0,S.p8)((0,S.NA)(B),R);return $.BV.makeTensor(W,B,R)}},3583:(be,ie,v)=>{"use strict";v.d(ie,{J:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({onesLike_:function(R){const F={x:(0,P._1)(R,"x","onesLike")};return $.BV.runKernel(S.qW,F)}})},5948:(be,ie,v)=>{"use strict";v.d(ie,{z:()=>P,op:()=>I});var $=v(6070),S=v(62);const P="__op";function I(N){const B=Object.keys(N);if(1!==B.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${B.length} keys.`);let R=B[0];const W=N[R];R.endsWith("_")&&(R=R.substring(0,R.length-1)),R+=P;const F=(...U)=>{$.BV.startScope(R);try{const G=W(...U);return(0,S.tI)(G)&&console.error("Cannot return a Promise inside of tidy."),$.BV.endScope(G),G}catch(G){throw $.BV.endScope(null),G}};return Object.defineProperty(F,"name",{value:R,configurable:!0}),F}},1824:(be,ie,v)=>{"use strict";v.d(ie,{v:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({pad_:function(R,W,F=0){const U=(0,P._1)(R,"x","pad");if(0===U.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return $.BV.runKernel(S.ly,{x:U},{paddings:W,constantValue:F})}})},5415:(be,ie,v)=>{"use strict";v.d(ie,{d:()=>J});var $=v(4810),S=v(62),P=v(282),I=v(1601),N=v(7202),B=v(7542),R=v(5948),W=v(3626),F=v(1705);const J=(0,R.op)({pool_:function(he,ce,Ae,je,Ie,ze){null==Ie&&(Ie=[1,1]),null==ze&&(ze=1),0===je&&(je="valid");const et=(0,$._1)(he,"x","maxPool");let Te=et,We=!1;3===et.rank&&(We=!0,Te=(0,W.X)(et,[1,et.shape[0],et.shape[1],et.shape[2]])),S.hu(N.jT(ze,Ie),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${ze} and dilations '${Ie}'`);const ge=N.Xw(Te.shape,ce,ze,Ie,je),we=[ge.dilationHeight,ge.dilationWidth];let Se;Se="same"===je?function(he,ce){const je=he.map((et,Te)=>et+(et-1)*(ce[Te]-1)).map(et=>et-1),Ie=je.map(et=>Math.floor(et/2)),ze=je.map((et,Te)=>et-Ie[Te]);return je.map((et,Te)=>[Ie[Te],ze[Te]])}([ge.filterHeight,ge.filterWidth],we):[[0,0],[0,0]];const re=1===we[0]&&1===we[1],[Re,Be]=function(he,ce,Ae){const je=Ae.map(we=>we[0]),Ie=Ae.map(we=>we[1]),ze=he.concat(je,Ie),et=ce.map((we,Se)=>(we-ze[Se]%we)%we),Te=Ie.map((we,Se)=>we+et[Se]);return[ce.map((we,Se)=>[je[Se],Te[Se]]),ce.map((we,Se)=>[0,et[Se]])]}([ge.inHeight,ge.inWidth],we,Se),Pe=re?je:"valid",Ke=re?Te:(0,F.f)(Te,we,Re),rt=("avg"===Ae?()=>(0,P.w)(Ke,ce,ze,Pe):()=>(0,B._)(Ke,ce,ze,Pe))(),st=re?rt:(0,I.E)(rt,we,Be);return We?(0,W.X)(st,[st.shape[1],st.shape[2],st.shape[3]]):st}})},2293:(be,ie,v)=>{"use strict";v.d(ie,{s:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({pow_:function(W,F){let U=(0,I._1)(W,"base","pow"),G=(0,I._1)(F,"exp","pow");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.pe,{a:U,b:G})}})},4845:(be,ie,v)=>{"use strict";v.d(ie,{A:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({prelu_:function(R,W){const F=(0,P._1)(R,"x","prelu"),U=(0,P._1)(W,"alpha","prelu");return $.BV.runKernel(S.o0,{x:F,alpha:U})}})},9357:(be,ie,v)=>{"use strict";v.d(ie,{W:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(4879);const R=(0,v(5948).op)({prod_:function(W,F=null,U=!1){let G=(0,P._1)(W,"x","prod");return"bool"===G.dtype&&(G=(0,I.p)(G,"int32")),$.BV.runKernel(S.Dl,{x:G},{axis:F,keepDims:U})}})},6656:(be,ie,v)=>{"use strict";v.d(ie,{k:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({real_:function(R){const F={input:(0,P._1)(R,"input","real")};return $.BV.runKernel(S.xJ,F)}})},9372:(be,ie,v)=>{"use strict";v.d(ie,{M:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({reciprocal_:function(R){const F={x:(0,P._1)(R,"x","reciprocal")};return $.BV.runKernel(S.$H,F)}})},2047:(be,ie,v)=>{"use strict";v.d(ie,{U:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({relu_:function(R){const F={x:(0,P._1)(R,"x","relu")};return $.BV.runKernel(S.qk,F)}})},1095:(be,ie,v)=>{"use strict";v.d(ie,{b:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({relu6_:function(R){const F={x:(0,P._1)(R,"x","relu6")};return $.BV.runKernel(S.Sb,F)}})},3626:(be,ie,v)=>{"use strict";v.d(ie,{X:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({reshape_:function(R,W){const U={x:(0,P._1)(R,"x","reshape","string_or_numeric")};return $.BV.runKernel(S.HZ,U,{shape:W})}})},7661:(be,ie,v)=>{"use strict";v.d(ie,{G:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({reverse_:function(R,W){const U={x:(0,P._1)(R,"x","reverse")};return $.BV.runKernel(S.mK,U,{dims:W})}})},2688:(be,ie,v)=>{"use strict";v.d(ie,{N:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({round_:function(R){const F={x:(0,P._1)(R,"x","round")};return $.BV.runKernel(S.e0,F)}})},242:(be,ie,v)=>{"use strict";v.d(ie,{b:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({rsqrt_:function(R){const F={x:(0,P._1)(R,"x","rsqrt","float32")};return $.BV.runKernel(S.bV,F)}})},8153:(be,ie,v)=>{"use strict";v.d(ie,{i:()=>P});var $=v(62),S=v(299);function P(I,N){if(((0,$.fU)(I)&&"string"!==N||Array.isArray(I))&&"complex64"!==N)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===N&&(0,$.fU)(I)&&!(I instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,S.H)(I,[],[],N)}},5484:(be,ie,v)=>{"use strict";v.d(ie,{U:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({selu_:function(R){const F={x:(0,P._1)(R,"x","selu")};return $.BV.runKernel(S.oF,F)}})},287:(be,ie,v)=>{"use strict";v.d(ie,{y:()=>$,$:()=>S});const $=1.7580993408473768,S=1.0507009873554805},6020:(be,ie,v)=>{"use strict";v.d(ie,{U:()=>W});var $=v(4810),S=v(62),P=v(6509),I=v(2514),N=v(5948),B=v(3626);const W=(0,N.op)({separableConv2d_:function(F,U,G,K,J,he=[1,1],ce="NHWC"){const Ae=(0,$._1)(F,"x","separableConv2d"),je=(0,$._1)(U,"depthwiseFilter","separableConv2d"),Ie=(0,$._1)(G,"pointwiseFilter","separableConv2d");let ze=Ae,et=!1;if(3===Ae.rank&&(et=!0,ze=(0,B.X)(Ae,[1,Ae.shape[0],Ae.shape[1],Ae.shape[2]])),"NCHW"===ce)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");S.hu(4===ze.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${ze.rank}.`),S.hu(4===je.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${je.rank}.`),S.hu(4===Ie.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${je.rank}.`),S.hu(1===Ie.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${Ie.shape[0]}.`),S.hu(1===Ie.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${Ie.shape[1]}.`);const Te=je.shape[2],We=je.shape[3];S.hu(Ie.shape[2]===Te*We,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${Te*We}, but got ${Ie.shape[2]}.`);const ge=(0,I.B)(ze,je,K,J,ce,he),Se=(0,P.T)(ge,Ie,1,"valid",ce);return et?(0,B.X)(Se,[Se.shape[1],Se.shape[2],Se.shape[3]]):Se}})},4655:(be,ie,v)=>{"use strict";v.d(ie,{X:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({sigmoid_:function(R){const F={x:(0,P._1)(R,"x","sigmoid","float32")};return $.BV.runKernel(S.a5,F)}})},184:(be,ie,v)=>{"use strict";v.d(ie,{X:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({sign_:function(R){const F={x:(0,P._1)(R,"x","sign")};return $.BV.runKernel(S.i5,F)}})},1969:(be,ie,v)=>{"use strict";v.d(ie,{O:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({sin_:function(R){const F={x:(0,P._1)(R,"x","sin","float32")};return $.BV.runKernel(S.RQ,F)}})},3981:(be,ie,v)=>{"use strict";v.d(ie,{R:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({sinh_:function(R){const F={x:(0,P._1)(R,"x","sinh")};return $.BV.runKernel(S.w3,F)}})},8577:(be,ie,v)=>{"use strict";v.d(ie,{t:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({slice_:function(R,W,F){const U=(0,P._1)(R,"x","slice","string_or_numeric");if(0===U.rank)throw new Error("Slicing scalar is not possible");return $.BV.runKernel(S.p2,{x:U},{begin:W,size:F})}})},4361:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{assertParamsValid:()=>I,maskToAxes:()=>N,computeOutShape:()=>B,stridesWithElidedDims:()=>R,getNormalizedAxes:()=>U,startIndicesWithElidedDims:()=>G,stopIndicesWithElidedDims:()=>K,stridesForAxis:()=>J,startForAxis:()=>he,stopForAxis:()=>ce,isSliceContinous:()=>Ae,computeFlatOffset:()=>je,parseSliceParams:()=>Ie,sliceInfo:()=>ze});var $=v(62);function I(We,ge,we){const Se=We.shape.length;$.hu(Se===ge.length,()=>`Error in slice${Se}D: Length of begin ${ge} must match the rank of the array (${Se}).`),$.hu(Se===we.length,()=>`Error in slice${Se}D: Length of size ${we} must match the rank of the array (${Se}).`);for(let re=0;re<Se;++re)$.hu(ge[re]+we[re]<=We.shape[re],()=>`Error in slice${Se}D: begin[${re}] + size[${re}] (${ge[re]+we[re]}) would overflow input.shape[${re}] (${We.shape[re]})`)}function N(We){const ge=[];let we=0;for(;We>0;)1&We&&ge.push(we),We/=2,we++;return ge}function B(We,ge,we){const Se=[];for(let re=0;re<We.length;re++)Se[re]=Math.ceil((ge[re]-We[re])/we[re]);return Se}function R(We,ge,we,Se){const re=[...We];for(let Re=re.length;Re<Se.length;Re++)re.push(1);for(let Re=0;Re<we;Re++)0===Re?re[ge]=1:(re.splice(ge,0,1),re.pop());return re}function W(We,ge,we){return we<=We?we:we-(ge-1)}function F(We,ge){const we=[];for(let Se=0;Se<We;Se++)we.push(ge+Se);return we}function U(We,ge,we,Se,re,Re,Be,Pe,Ke){const Qe=We.length;let rt=new Array(Qe),st=new Array(Qe),ft=new Array(Qe);if(ge.length&&we>0){const kt=ge[0],$t=we+1;rt=G(Be,kt,$t,Se,We),st=K(Pe,kt,$t,re,We),ft=R(Re,kt,$t,We)}else for(let kt=0;kt<Qe;kt++)rt[kt]=he(Be,Se,Re,We,kt,Ke),st[kt]=ce(Pe,re,Re,We,kt,Ke),ft[kt]=J(Re,kt,Ke);return{begin:rt,end:st,strides:ft}}function G(We,ge,we,Se,re){const Re=[...re],Be=F(we,ge);for(let Pe=0;Pe<Re.length;Pe++)if(Be.indexOf(Pe)>-1)Re[Pe]=0;else{const Ke=W(ge,we,Pe);let Qe=Se[Ke];We&1<<Ke&&(Qe=0),Re[Pe]=Qe}return Re}function K(We,ge,we,Se,re){const Re=[...re],Be=F(we,ge);for(let Pe=0;Pe<Re.length;Pe++)if(Be.indexOf(Pe)>-1)Re[Pe]=Number.MAX_SAFE_INTEGER;else{const Ke=W(ge,we,Pe);let Qe=Se[Ke];We&1<<Ke&&(Qe=Number.MAX_SAFE_INTEGER),Re[Pe]=Qe}for(let Pe=0;Pe<Re.length;Pe++){const Ke=re[Pe];Re[Pe]<0&&(Re[Pe]+=Ke),Re[Pe]=$.uZ(0,Re[Pe],re[Pe])}return Re}function J(We,ge,we){let Se=We[ge];return(we&1<<ge||null==Se)&&(Se=1),Se}function he(We,ge,we,Se,re,Re){let Be=ge[re];(We&1<<re||Re&1<<re||null==Be)&&(Be=(we[re]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const Ke=Se[re];return Be<0&&(Be+=Ke),Be=$.uZ(0,Be,Ke-1),Be}function ce(We,ge,we,Se,re,Re){let Be=ge[re];const Pe=we[re]||1;(We&1<<re||Re&1<<re||null==Be)&&(Be=Pe>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const Ke=Se[re];return Be<0&&(Be+=Ke),Be=Pe>0?$.uZ(0,Be,Ke):$.uZ(-1,Be,Ke-1),Be}function Ae(We,ge,we){let Se=we.length;for(let re=0;re<we.length;re++)if(we[re]>1){Se=re;break}for(let re=Se+1;re<we.length;re++)if(ge[re]>0||we[re]!==We[re])return!1;return!0}function je(We,ge){let we=We.length>0?We[We.length-1]:1;for(let Se=0;Se<We.length-1;Se++)we+=We[Se]*ge[Se];return we}function Ie(We,ge,we){let Se;const re=We.shape.length;let Re;return Se="number"==typeof ge?[ge,...new Array(re-1).fill(0)]:ge.length<re?ge.concat(new Array(re-ge.length).fill(0)):ge.slice(),Se.forEach(Be=>{$.hu(-1!==Be,()=>"slice() does not support negative begin indexing.")}),Re=null==we?new Array(re).fill(-1):"number"==typeof we?[we,...new Array(re-1).fill(-1)]:we.length<re?we.concat(new Array(re-we.length).fill(-1)):we,Re=Re.map((Be,Pe)=>Be>=0?Be:($.hu(-1===Be,()=>`Negative size values should be exactly -1 but got ${Be} for the slice() size at index ${Pe}.`),We.shape[Pe]-Se[Pe])),[Se,Re]}function ze(We,ge,we,Se,re,Re,Be,Pe,Ke){let Qe;if(null==Se?(Qe=new Array(ge.length),Qe.fill(1)):Qe=Se,null!=Be&&0!=(Be&Be-1))throw new Error("Multiple ellipses in slice is not allowed.");let rt=!1;const st={dims:Qe.length,numAddAxisAfterEllipsis:0,begin:ge.slice(),end:we.slice(),strides:Qe.slice(),beginMask:re,endMask:Re,ellipsisMask:Be,newAxisMask:Pe,shrinkAxisMask:Ke};for(let cn=0;cn<st.dims;cn++)rt&&0!=(1<<cn&Pe)&&st.numAddAxisAfterEllipsis++,1<<cn&Be&&(rt=!0);rt||(st.ellipsisMask|=1<<st.dims,st.dims++);const ft={dims:We.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(We,ge){ge.beginMask=0,ge.endMask=0,ge.shrinkAxisMask=0;let we=0;ge.beginValid=null!=We.begin,ge.endValid=null!=We.end,ge.begin=new Array(ge.dims),ge.end=new Array(ge.dims),ge.strides=new Array(ge.dims),ge.finalShapeGatherIndices=[],ge.finalShapeGatherIndicesSparse=[],ge.inputShapeGatherIndicesSparse=new Array(ge.dims);for(let Se=0;Se<We.dims;Se++)if(1<<Se&We.ellipsisMask){const re=Math.min(ge.dims-(We.dims-Se)+1+We.numAddAxisAfterEllipsis,ge.dims);for(;we<re;we++)ge.begin[we]=0,ge.end[we]=0,ge.strides[we]=1,ge.beginMask|=1<<we,ge.endMask|=1<<we,ge.finalShapeGatherIndices.push(we),ge.finalShapeGatherIndicesSparse.push(-1),ge.inputShapeGatherIndicesSparse[we]=Se}else if(1<<Se&We.newAxisMask)ge.finalShapeGatherIndices.push(-2),ge.finalShapeGatherIndicesSparse.push(-1);else{if(we===ge.begin.length)throw Error(`Index out of range using input dim ${we}; input has only ${ge.dims} dims, ${ge.begin.length}.`);null!=We.begin&&(ge.begin[we]=We.begin[Se]),null!=We.end&&(ge.end[we]=We.end[Se]),ge.strides[we]=We.strides[Se],We.beginMask&1<<Se&&(ge.beginMask|=1<<we),We.endMask&1<<Se&&(ge.endMask|=1<<we),We.shrinkAxisMask&1<<Se?(ge.finalShapeGatherIndices.push(-1),ge.finalShapeGatherIndicesSparse.push(-1),ge.shrinkAxisMask|=1<<we):(ge.finalShapeGatherIndices.push(we),ge.finalShapeGatherIndicesSparse.push(Se)),ge.inputShapeGatherIndicesSparse[we]=Se,we++}}(st,ft);let kt=!0,$t=!0,on=!0;const On=[],Cn=[];for(let cn=0;cn<We.length;++cn){if(0===ft.strides[cn])throw Error(`strides[${cn}] must be non-zero`);const Gr=!!(ft.shrinkAxisMask&1<<cn),mi=We[cn];if(-1===mi){On.push(Gr?1:-1);continue}const dt=[ft.beginMask&1<<cn,ft.endMask&1<<cn],Vt=[ft.strides[cn]>0?0:-1,ft.strides[cn]>0?mi:mi-1];if(Gr&&ft.strides[cn]<=0)throw Error("only stride 1 allowed on non-range indexing.");on=on&&1===ft.strides[cn];const Ln=!!(ft.beginMask&1<<cn&&ft.endMask&1<<cn);if(ft.beginValid&&ft.endValid){if(Gr){const Et=ft.begin[cn]<0?mi+ft.begin[cn]:ft.begin[cn];if(ft.begin[cn]=Et,ft.end[cn]=ft.begin[cn]+1,Et<0||Et>=mi)throw Error(`slice index ${ft.begin[cn]} of dimension ${cn} out of bounds.`)}else ft.begin[cn]=Te(ft.begin[cn],0,ft.strides[cn],mi,dt,Vt),ft.end[cn]=Te(ft.end[cn],1,ft.strides[cn],mi,dt,Vt);const nt=1===ft.strides[cn]&&0===ft.begin[cn]&&ft.end[cn]===mi;kt=kt&&nt,$t=$t&&(0===cn&&1===ft.strides[cn]||nt)}else kt=kt&&1===ft.strides[cn]&&Ln,$t=$t&&(0===cn&&1===ft.strides[cn]||Ln);let Bt,kn=!1;if(ft.beginValid&&ft.endValid?(Bt=ft.end[cn]-ft.begin[cn],kn=!0):Gr?(Bt=1,kn=!0):Ln&&mi>=0&&(Bt=ft.strides[cn]<0?-mi:mi,kn=!0),kn){let nt;nt=0===Bt||Bt<0!=ft.strides[cn]<0?0:Math.trunc(Bt/ft.strides[cn])+(Bt%ft.strides[cn]!=0?1:0),On.push(nt)}else On.push(-1)}for(let cn=0;cn<ft.finalShapeGatherIndices.length;++cn){const Gr=ft.finalShapeGatherIndices[cn];Gr>=0?Cn.push(On[Gr]):-2===Gr&&Cn.push(1)}return{finalShapeSparse:Cn.filter((cn,Gr)=>-2!==ft.finalShapeGatherIndices[Gr]),finalShape:Cn,isIdentity:kt,sliceDim0:$t,isSimpleSlice:on,begin:ft.begin,end:ft.end,strides:ft.strides}}function Te(We,ge,we,Se,re,Re){if(re[ge])return we>0?Re[ge]:Re[ge+1&1];{const Be=We<0?Se+We:We;return Be<Re[0]?Re[0]:Be>Re[1]?Re[1]:Be}}},2187:(be,ie,v)=>{"use strict";v.d(ie,{X:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({softmax_:function(R,W=-1){const F=(0,P._1)(R,"logits","softmax","float32");if(-1===W&&(W=F.rank-1),W!==F.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${F.rank} and dim was ${W}`);return $.BV.runKernel(S.Gc,{logits:F},{dim:W})}})},7246:(be,ie,v)=>{"use strict";v.d(ie,{W:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({softplus_:function(R){const F={x:(0,P._1)(R,"x","softplus")};return $.BV.runKernel(S.MR,F)}})},1705:(be,ie,v)=>{"use strict";v.d(ie,{f:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({spaceToBatchND_:function(W,F,U){const G=(0,P._1)(W,"x","spaceToBatchND");return I.hu(G.rank>=1+F.length,()=>`input rank ${G.rank} should be > than [blockShape] ${F.length}`),I.hu(U.length===F.length,()=>`paddings.shape[0] ${U.length} must be equal to [blockShape] ${F.length}`),I.hu(G.shape.reduce((he,ce,Ae)=>Ae>0&&Ae<=F.length?he&&(ce+U[Ae-1][0]+U[Ae-1][1])%F[Ae-1]==0:he,!0),()=>`input spatial dimensions ${G.shape.slice(1)} with paddings ${U.toString()} must be divisible by blockShapes ${F.toString()}`),$.BV.runKernel(S.TQ,{x:G},{blockShape:F,paddings:U})}})},5008:(be,ie,v)=>{"use strict";v.d(ie,{k:()=>B});var $=v(6070),S=v(6338),P=v(62);const B=(0,v(5948).op)({fft_:function(R){return(0,P.hu)("complex64"===R.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${R.dtype}.`),$.BV.runKernel(S.vw,{input:R})}})},1132:(be,ie,v)=>{"use strict";v.d(ie,{S:()=>B});var $=v(6070),S=v(6338),P=v(62);const B=(0,v(5948).op)({ifft_:function(R){return(0,P.hu)("complex64"===R.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${R.dtype}.`),$.BV.runKernel(S.Qg,{input:R})}})},6903:(be,ie,v)=>{"use strict";v.d(ie,{w:()=>J});var $=v(7401),S=v(4664),P=v(6308),I=v(1300),N=v(5948),B=v(6656),R=v(3626),W=v(7661),F=v(8153),U=v(8577),G=v(1132);const J=(0,N.op)({irfft_:function(he){const ce=he.shape[he.shape.length-1],Ae=he.size/ce;let je;if(ce<=2){const Ie=(0,R.X)(he,[Ae,ce]);je=(0,G.S)(Ie)}else{const Ie=[Ae,2*(ce-1)],ze=(0,R.X)((0,B.k)(he),[Ae,ce]),et=(0,R.X)((0,P.a)(he),[Ae,ce]),Te=(0,W.G)((0,U.t)(ze,[0,1],[Ae,ce-2]),1),We=(0,I.d)((0,W.G)((0,U.t)(et,[0,1],[Ae,ce-2]),1),(0,F.i)(-1)),ge=(0,S.z)([ze,Te],1),we=(0,S.z)([et,We],1),Se=(0,R.X)((0,$.P)(ge,we),[Ie[0],Ie[1]]);je=(0,G.S)(Se)}if(je=(0,B.k)(je),3===he.rank&&0!==he.shape[0]){const Ie=je,ze=he.shape[0];je=(0,R.X)(je,[ze,je.shape[0]/ze,je.shape[1]]),Ie.dispose()}return je}})},4636:(be,ie,v)=>{"use strict";v.d(ie,{Q:()=>he});var $=v(62),S=v(7401),P=v(4664),I=v(6308),N=v(5948),B=v(6656),R=v(3626),W=v(8577),F=v(633),U=v(7799),G=v(9314),K=v(5008);const he=(0,N.op)({rfft_:function(ce,Ae){(0,$.hu)("float32"===ce.dtype,()=>`The dtype for rfft() must be real value but got ${ce.dtype}`);let je=ce.shape[ce.shape.length-1];const Ie=ce.size/je;let ze;if(null!=Ae&&Ae<je){const Pe=ce.shape.map(Qe=>0),Ke=ce.shape.map(Qe=>Qe);Ke[ce.shape.length-1]=Ae,ze=(0,W.t)(ce,Pe,Ke),je=Ae}else if(null!=Ae&&Ae>je){const Pe=ce.shape.map(Ke=>Ke);Pe[ce.shape.length-1]=Ae-je,ze=(0,P.z)([ce,(0,U.l)(Pe)],ce.shape.length-1),je=Ae}else ze=ce;const et=(0,G.P)(ze),Te=(0,R.X)((0,S.P)(ze,et),[Ie,je]),We=(0,K.k)(Te),ge=Math.floor(je/2)+1,we=(0,B.k)(We),Se=(0,I.a)(We),re=(0,F.V)(we,[ge,je-ge],we.shape.length-1),Re=(0,F.V)(Se,[ge,je-ge],Se.shape.length-1),Be=ze.shape.slice();return Be[ze.shape.length-1]=ge,(0,R.X)((0,S.P)(re[0],Re[0]),Be)}})},633:(be,ie,v)=>{"use strict";v.d(ie,{V:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({split_:function(R,W,F=0){const G={x:(0,P._1)(R,"x","split")};return $.BV.runKernel(S.L8,G,{numOrSizeSplits:W,axis:F})}})},6900:(be,ie,v)=>{"use strict";v.d(ie,{_:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({sqrt_:function(R){const F={x:(0,P._1)(R,"x","sqrt","float32")};return $.BV.runKernel(S.FK,F)}})},4463:(be,ie,v)=>{"use strict";v.d(ie,{h:()=>N});var $=v(6070),S=v(4810);const N=(0,v(5948).op)({square_:function(B){const R=(0,S._1)(B,"x","square");return $.BV.runKernel("Square",{x:R},{})}})},3629:(be,ie,v)=>{"use strict";v.d(ie,{$:()=>W});var $=v(6070),S=v(6338),P=v(7073),I=v(4810),N=v(3469);const W=(0,v(5948).op)({squaredDifference_:function(F,U){let G=(0,I._1)(F,"a","squaredDifference"),K=(0,I._1)(U,"b","squaredDifference");return[G,K]=(0,P.makeTypesMatch)(G,K),(0,N.$N)(G.shape,K.shape),$.BV.runKernel(S._t,{a:G,b:K},{})}})},6458:(be,ie,v)=>{"use strict";v.d(ie,{L:()=>B});var $=v(4810),S=v(62),P=v(5948),I=v(3626);const B=(0,P.op)({squeeze_:function(R,W){const F=(0,$._1)(R,"x","squeeze");return(0,I.X)(F,(0,S.bp)(F.shape,W).newShape)}})},1440:(be,ie,v)=>{"use strict";v.d(ie,{k:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({stack_:function(W,F=0){const U=(0,P.sI)(W,"tensors","stack","string_or_numeric");return I.hu(U.length>=1,()=>"Pass at least one tensor to tf.stack"),U.length>0&&I.hu(F<=U[0].rank,()=>"Axis must be <= rank of the tensor"),$.BV.runKernel(S.Qi,U,{axis:F})}})},4429:(be,ie,v)=>{"use strict";v.d(ie,{N:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({step_:function(R,W=0){const U={x:(0,P._1)(R,"x","step")};return $.BV.runKernel(S.h8,U,{alpha:W})}})},92:(be,ie,v)=>{"use strict";v.d(ie,{N:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({stridedSlice_:function(R,W,F,U,G=0,K=0,J=0,he=0,ce=0){const je={x:(0,P._1)(R,"x","stridedSlice","string_or_numeric")};return $.BV.runKernel(S.m2,je,{begin:W,end:F,strides:U,beginMask:G,endMask:K,ellipsisMask:J,newAxisMask:he,shrinkAxisMask:ce})}})},3217:(be,ie,v)=>{"use strict";v.d(ie,{l:()=>R});var $=v(6070),S=v(6338),P=v(7073),I=v(4810);const R=(0,v(5948).op)({sub_:function(W,F){let U=(0,I._1)(W,"a","sub"),G=(0,I._1)(F,"b","sub");return[U,G]=(0,P.makeTypesMatch)(U,G),$.BV.runKernel(S.Tr,{a:U,b:G})}})},7782:(be,ie,v)=>{"use strict";v.d(ie,{S:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(4879);const R=(0,v(5948).op)({sum_:function(W,F=null,U=!1){let G=(0,P._1)(W,"x","sum");return"bool"===G.dtype&&(G=(0,I.p)(G,"int32")),$.BV.runKernel(S.GB,{x:G},{axis:F,keepDims:U})}})},3992:(be,ie,v)=>{"use strict";v.d(ie,{O:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({tan_:function(R){const F={x:(0,P._1)(R,"x","tan","float32")};return $.BV.runKernel(S.sE,F)}})},8892:(be,ie,v)=>{"use strict";v.d(ie,{A:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({tanh_:function(R){const F={x:(0,P._1)(R,"x","tanh","float32")};return $.BV.runKernel(S.MI,F)}})},299:(be,ie,v)=>{"use strict";v.d(ie,{H:()=>I});var $=v(6070),S=v(62),P=v(7884);function I(N,B,R,W){if(null==W&&(W=(0,S.D2)(N)),"complex64"===W)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,S.fU)(N)&&!Array.isArray(N)&&"number"!=typeof N&&"boolean"!=typeof N&&"string"!=typeof N)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=B){(0,S.Mu)(B);const F=(0,S.NA)(B),U=(0,S.NA)(R);(0,S.hu)(F===U,()=>`Based on the provided shape, [${B}], the tensor should have ${F} values but has ${U}`);for(let G=0;G<R.length;++G){const K=R[G],J=G!==R.length-1||K!==(0,S.NA)(B.slice(G));(0,S.hu)(R[G]===B[G]||!J,()=>`Error creating a new Tensor. Inferred shape (${R}) does not match the provided shape (${B}). `)}}return!(0,S.fU)(N)&&!Array.isArray(N)&&(N=[N]),B=B||R,N="string"!==W?(0,P.toTypedArray)(N,W):(0,S.xH)(N,[],!0),$.BV.makeTensor(N,B,W)}},3063:(be,ie,v)=>{"use strict";v.d(ie,{G:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({tile_:function(W,F){const U=(0,P._1)(W,"x","tile","string_or_numeric");return I.hu(U.rank===F.length,()=>`Error in transpose: rank of input ${U.rank} must match length of reps ${F}.`),$.BV.runKernel(S.n9,{x:U},{reps:F})}})},3187:(be,ie,v)=>{"use strict";v.d(ie,{h:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({topk_:function(R,W=1,F=!0){const U=(0,P._1)(R,"x","topk");if(0===U.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const G=U.shape[U.shape.length-1];if(W<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${W}`);if(W>G)throw new Error(`'k' passed to topk() must be <= the last dimension (${G}) but got ${W}`);const K={x:U},J={k:W,sorted:F},[he,ce]=$.BV.runKernel(S.cW,K,J);return{values:he,indices:ce}}})},3111:(be,ie,v)=>{"use strict";v.d(ie,{p:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({transpose_:function(W,F){const U=(0,P._1)(W,"x","transpose");return null==F&&(F=U.shape.map((J,he)=>he).reverse()),I.hu(U.rank===F.length,()=>`Error in transpose: rank of input ${U.rank} must match length of perm ${F}.`),F.forEach(J=>{I.hu(J>=0&&J<U.rank,()=>`All entries in 'perm' must be between 0 and ${U.rank-1} but got ${F}`)}),U.rank<=1?U.clone():$.BV.runKernel(S.G3,{x:U},{perm:F})}})},5403:(be,ie,v)=>{"use strict";v.d(ie,{T:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({unique_:function(W,F=0){const U=(0,P._1)(W,"x","unique","string_or_numeric");(0,I.hu)(U.rank>0,()=>"The input tensor must be at least 1D");const G={x:U},K={axis:F},[J,he]=$.BV.runKernel(S.kp,G,K);return{values:J,indices:he}}})},6442:(be,ie,v)=>{"use strict";v.d(ie,{p:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({unsortedSegmentSum_:function(W,F,U){const G=(0,P._1)(W,"x","unsortedSegmentSum"),K=(0,P._1)(F,"segmentIds","unsortedSegmentSum","int32");return(0,I.hu)((0,I.GN)(U),()=>"numSegments must be of dtype int"),$.BV.runKernel(S.Qv,{x:G,segmentIds:K},{numSegments:U})}})},230:(be,ie,v)=>{"use strict";v.d(ie,{H:()=>R});var $=v(6070),S=v(6338),P=v(4810),I=v(62);const R=(0,v(5948).op)({unstack_:function(W,F=0){const U=(0,P._1)(W,"x","unstack","string_or_numeric");return I.hu(F>=-U.shape.length&&F<U.shape.length,()=>`Axis = ${F} is not in [-${U.shape.length}, ${U.shape.length})`),$.BV.runKernel(S.To,{value:U},{axis:F})}})},8793:(be,ie,v)=>{"use strict";v.d(ie,{a:()=>W});var $=v(6070),S=v(6338),P=v(4810),I=v(6172),N=v(3469);const W=(0,v(5948).op)({where_:function(F,U,G){const K=(0,P._1)(U,"a","where"),J=(0,P._1)(G,"b","where"),he=(0,P._1)(F,"condition","where","bool"),ce=(0,N.$N)((0,N.$N)(he.shape,K.shape),J.shape),Ae=(0,I.U)(he,ce),je=(0,I.U)(K,ce),Ie=(0,I.U)(J,ce);return $.BV.runKernel(S.Ph,{condition:Ae,t:je,e:Ie})}})},7799:(be,ie,v)=>{"use strict";v.d(ie,{l:()=>I});var $=v(6070),S=v(62),P=v(7401);function I(N,B="float32"){if("complex64"===B){const W=I(N,"float32"),F=I(N,"float32");return(0,P.P)(W,F)}const R=(0,S.wT)((0,S.NA)(N),B);return $.BV.makeTensor(R,N,B)}},9314:(be,ie,v)=>{"use strict";v.d(ie,{P:()=>B});var $=v(6070),S=v(6338),P=v(4810);const B=(0,v(5948).op)({zerosLike_:function(R){const F={x:(0,P._1)(R,"x","zerosLike")};return $.BV.runKernel(S.Ru,F)}})},925:(be,ie,v)=>{"use strict";v.r(ie);var $=v(2992),S=v(3531);(0,S.t3)().prototype.abs=function(){return this.throwIfDisposed(),(0,$.W)(this)};var P=v(2485);(0,S.t3)().prototype.acos=function(){return this.throwIfDisposed(),(0,P.K)(this)};var I=v(6725);(0,S.t3)().prototype.acosh=function(){return this.throwIfDisposed(),(0,I._)(this)};var N=v(319);(0,S.t3)().prototype.add=function(Oe){return this.throwIfDisposed(),(0,N.I)(this,Oe)};var B=v(4187);(0,S.t3)().prototype.all=function(Oe,ot){return this.throwIfDisposed(),(0,B.$)(this,Oe,ot)};var R=v(2247);(0,S.t3)().prototype.any=function(Oe,ot){return this.throwIfDisposed(),(0,R.Y)(this,Oe,ot)};var W=v(1257);(0,S.t3)().prototype.argMax=function(Oe){return this.throwIfDisposed(),(0,W.N)(this,Oe)};var F=v(1019);(0,S.t3)().prototype.argMin=function(Oe){return this.throwIfDisposed(),(0,F.v)(this,Oe)};var U=v(3626),G=v(62);(0,S.t3)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,G.hu)(1===this.size,()=>"The array must have only 1 element."),(0,U.X)(this,[])};var K=v(4879);(0,S.t3)().prototype.asType=function(Oe){return this.throwIfDisposed(),(0,K.p)(this,Oe)},(0,S.t3)().prototype.as1D=function(){return this.throwIfDisposed(),(0,U.X)(this,[this.size])},(0,S.t3)().prototype.as2D=function(Oe,ot){return this.throwIfDisposed(),(0,U.X)(this,[Oe,ot])},(0,S.t3)().prototype.as3D=function(Oe,ot,Ft){return this.throwIfDisposed(),(0,U.X)(this,[Oe,ot,Ft])},(0,S.t3)().prototype.as4D=function(Oe,ot,Ft,fn){return this.throwIfDisposed(),(0,U.X)(this,[Oe,ot,Ft,fn])},(0,S.t3)().prototype.as5D=function(Oe,ot,Ft,fn,wn){return this.throwIfDisposed(),(0,U.X)(this,[Oe,ot,Ft,fn,wn])};var J=v(7194);(0,S.t3)().prototype.asin=function(){return this.throwIfDisposed(),(0,J.Z)(this)};var he=v(231);(0,S.t3)().prototype.asinh=function(){return this.throwIfDisposed(),(0,he.V)(this)};var ce=v(1282);(0,S.t3)().prototype.atan=function(){return this.throwIfDisposed(),(0,ce.z)(this)};var Ae=v(9851);(0,S.t3)().prototype.atan2=function(Oe){return this.throwIfDisposed(),(0,Ae.f)(this,Oe)};var je=v(9776);(0,S.t3)().prototype.atanh=function(){return this.throwIfDisposed(),(0,je.C)(this)};var Ie=v(282);(0,S.t3)().prototype.avgPool=function(Oe,ot,Ft,fn){return this.throwIfDisposed(),(0,Ie.w)(this,Oe,ot,Ft,fn)};var ze=v(1601);(0,S.t3)().prototype.batchToSpaceND=function(Oe,ot){return this.throwIfDisposed(),(0,ze.E)(this,Oe,ot)};var et=v(6357);(0,S.t3)().prototype.batchNorm=function(Oe,ot,Ft,fn,wn){return this.throwIfDisposed(),(0,et.t)(this,Oe,ot,Ft,fn,wn)};var Te=v(6172);(0,S.t3)().prototype.broadcastTo=function(Oe){return this.throwIfDisposed(),(0,Te.U)(this,Oe)},(0,S.t3)().prototype.cast=function(Oe){return this.throwIfDisposed(),(0,K.p)(this,Oe)};var We=v(9249);(0,S.t3)().prototype.ceil=function(){return this.throwIfDisposed(),(0,We.m)(this)};var ge=v(1935);(0,S.t3)().prototype.clipByValue=function(Oe,ot){return this.throwIfDisposed(),(0,ge.i)(this,Oe,ot)};var we=v(4664);(0,S.t3)().prototype.concat=function(Oe,ot){return this.throwIfDisposed(),Oe instanceof S.es&&(Oe=[Oe]),(0,we.z)([this,...Oe],ot)};var Se=v(7182);(0,S.t3)().prototype.conv1d=function(Oe,ot,Ft,fn,wn,lr){return this.throwIfDisposed(),(0,Se.P)(this,Oe,ot,Ft,fn,wn,lr)};var re=v(9053);(0,S.t3)().prototype.conv2dTranspose=function(Oe,ot,Ft,fn,wn){return this.throwIfDisposed(),(0,re.b)(this,Oe,ot,Ft,fn,wn)};var Re=v(6509);(0,S.t3)().prototype.conv2d=function(Oe,ot,Ft,fn,wn,lr){return this.throwIfDisposed(),(0,Re.T)(this,Oe,ot,Ft,fn,wn,lr)};var Be=v(1588);(0,S.t3)().prototype.cos=function(){return this.throwIfDisposed(),(0,Be.m)(this)};var Pe=v(3538);(0,S.t3)().prototype.cosh=function(){return this.throwIfDisposed(),(0,Pe.f)(this)};var Ke=v(5023);(0,S.t3)().prototype.cumsum=function(Oe,ot,Ft){return this.throwIfDisposed(),(0,Ke.z)(this,Oe,ot,Ft)};var Qe=v(8663);(0,S.t3)().prototype.depthToSpace=function(Oe,ot){return this.throwIfDisposed(),(0,Qe.n)(this,Oe,ot)};var rt=v(2514);(0,S.t3)().prototype.depthwiseConv2d=function(Oe,ot,Ft,fn,wn,lr){return this.throwIfDisposed(),(0,rt.B)(this,Oe,ot,Ft,fn,wn,lr)};var st=v(7501);(0,S.t3)().prototype.dilation2d=function(Oe,ot,Ft,fn,wn){return this.throwIfDisposed(),(0,st.W)(this,Oe,ot,Ft,fn,wn)};var ft=v(8464);(0,S.t3)().prototype.divNoNan=function(Oe){return this.throwIfDisposed(),(0,ft.N)(this,Oe)};var kt=v(8366);(0,S.t3)().prototype.div=function(Oe){return this.throwIfDisposed(),(0,kt.h)(this,Oe)};var $t=v(4258);(0,S.t3)().prototype.dot=function(Oe){return this.throwIfDisposed(),(0,$t.A)(this,Oe)};var on=v(6818);(0,S.t3)().prototype.elu=function(){return this.throwIfDisposed(),(0,on.p)(this)};var On=v(5393);(0,S.t3)().prototype.equal=function(Oe){return this.throwIfDisposed(),(0,On.D)(this,Oe)};var Cn=v(450);(0,S.t3)().prototype.erf=function(){return this.throwIfDisposed(),(0,Cn.q)(this)};var Kt=v(835);(0,S.t3)().prototype.exp=function(){return this.throwIfDisposed(),(0,Kt.Q)(this)};var cn=v(8457);(0,S.t3)().prototype.expandDims=function(Oe){return this.throwIfDisposed(),(0,cn.d)(this,Oe)};var Gr=v(5914);(0,S.t3)().prototype.expm1=function(){return this.throwIfDisposed(),(0,Gr.t)(this)};var mi=v(5008);(0,S.t3)().prototype.fft=function(){return this.throwIfDisposed(),(0,mi.k)(this)},(0,S.t3)().prototype.flatten=function(){return this.throwIfDisposed(),(0,U.X)(this,[this.size])};var dt=v(3849);(0,S.t3)().prototype.floor=function(){return this.throwIfDisposed(),(0,dt.G)(this)};var Vt=v(4404);(0,S.t3)().prototype.floorDiv=function(Oe){return this.throwIfDisposed(),(0,Vt.q)(this,Oe)};var Ln=v(8181);(0,S.t3)().prototype.gather=function(Oe,ot){return this.throwIfDisposed(),(0,Ln.I)(this,Oe,ot)};var Bt=v(4239);(0,S.t3)().prototype.greaterEqual=function(Oe){return this.throwIfDisposed(),(0,Bt.b)(this,Oe)};var kn=v(7844);(0,S.t3)().prototype.greater=function(Oe){return this.throwIfDisposed(),(0,kn.p)(this,Oe)};var nt=v(1132);(0,S.t3)().prototype.ifft=function(){return this.throwIfDisposed(),(0,nt.S)(this)};var Et=v(6903);(0,S.t3)().prototype.irfft=function(){return this.throwIfDisposed(),(0,Et.w)(this)};var zt=v(870);(0,S.t3)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,zt.x)(this)};var an=v(8620);(0,S.t3)().prototype.isInf=function(){return this.throwIfDisposed(),(0,an.U)(this)};var ar=v(1491);(0,S.t3)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,ar.i)(this)};var xr=v(8476);(0,S.t3)().prototype.leakyRelu=function(Oe){return this.throwIfDisposed(),(0,xr.h)(this,Oe)};var Tn=v(521);(0,S.t3)().prototype.lessEqual=function(Oe){return this.throwIfDisposed(),(0,Tn.z)(this,Oe)};var ir=v(9027);(0,S.t3)().prototype.less=function(Oe){return this.throwIfDisposed(),(0,ir.d)(this,Oe)};var Tr=v(5455);(0,S.t3)().prototype.localResponseNormalization=function(Oe,ot,Ft,fn){return this.throwIfDisposed(),(0,Tr.G)(this,Oe,ot,Ft,fn)};var hi=v(6071);(0,S.t3)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,hi.e)(this)};var mr=v(2803);(0,S.t3)().prototype.logSoftmax=function(Oe){return this.throwIfDisposed(),(0,mr.C)(this,Oe)};var ni=v(4494);(0,S.t3)().prototype.logSumExp=function(Oe,ot){return this.throwIfDisposed(),(0,ni.l)(this,Oe,ot)};var Ss=v(8873);(0,S.t3)().prototype.log=function(){return this.throwIfDisposed(),(0,Ss.c)(this)};var Ii=v(657);(0,S.t3)().prototype.log1p=function(){return this.throwIfDisposed(),(0,Ii.K)(this)};var Pt=v(7369);(0,S.t3)().prototype.logicalAnd=function(Oe){return this.throwIfDisposed(),(0,Pt.H)(this,Oe)};var wr=v(5280);(0,S.t3)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,wr.h)(this)};var Ur=v(4712);(0,S.t3)().prototype.logicalOr=function(Oe){return this.throwIfDisposed(),(0,Ur.K)(this,Oe)};var ra=v(694);(0,S.t3)().prototype.logicalXor=function(Oe){return this.throwIfDisposed(),(0,ra.e)(this,Oe)};var vs=v(4291);(0,S.t3)().prototype.matMul=function(Oe,ot,Ft){return this.throwIfDisposed(),(0,vs.O)(this,Oe,ot,Ft)};var or=v(7542);(0,S.t3)().prototype.maxPool=function(Oe,ot,Ft,fn){return this.throwIfDisposed(),(0,or._)(this,Oe,ot,Ft,fn)};var iu=v(8890);(0,S.t3)().prototype.max=function(Oe,ot){return this.throwIfDisposed(),(0,iu.F)(this,Oe,ot)};var Aa=v(8060);(0,S.t3)().prototype.maximum=function(Oe){return this.throwIfDisposed(),(0,Aa.g)(this,Oe)};var ia=v(317);(0,S.t3)().prototype.mean=function(Oe,ot){return this.throwIfDisposed(),(0,ia.J)(this,Oe,ot)};var bl=v(2451);(0,S.t3)().prototype.min=function(Oe,ot){return this.throwIfDisposed(),(0,bl.V)(this,Oe,ot)};var Bl=v(1563);(0,S.t3)().prototype.minimum=function(Oe){return this.throwIfDisposed(),(0,Bl.L)(this,Oe)};var Zu=v(4326);(0,S.t3)().prototype.mirrorPad=function(Oe,ot){return this.throwIfDisposed(),(0,Zu.V)(this,Oe,ot)};var Qi=v(3832);(0,S.t3)().prototype.mod=function(Oe){return this.throwIfDisposed(),(0,Qi.w)(this,Oe)};var Lr=v(1300);(0,S.t3)().prototype.mul=function(Oe){return this.throwIfDisposed(),(0,Lr.d)(this,Oe)};var pi=v(181);(0,S.t3)().prototype.neg=function(){return this.throwIfDisposed(),(0,pi.W)(this)};var wu=v(8788);(0,S.t3)().prototype.norm=function(Oe,ot,Ft){return this.throwIfDisposed(),(0,wu.K)(this,Oe,ot,Ft)};var Sn=v(2684);(0,S.t3)().prototype.notEqual=function(Oe){return this.throwIfDisposed(),(0,Sn.Q)(this,Oe)};var $e=v(8598);(0,S.t3)().prototype.oneHot=function(Oe,ot=1,Ft=0){return this.throwIfDisposed(),(0,$e.l)(this,Oe,ot,Ft)};var ho=v(3583);(0,S.t3)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,ho.J)(this)};var Cr=v(1824);(0,S.t3)().prototype.pad=function(Oe,ot){return this.throwIfDisposed(),(0,Cr.v)(this,Oe,ot)};var vr=v(5415);(0,S.t3)().prototype.pool=function(Oe,ot,Ft,fn,wn){return this.throwIfDisposed(),(0,vr.d)(this,Oe,ot,Ft,fn,wn)};var $u=v(2293);(0,S.t3)().prototype.pow=function(Oe){return this.throwIfDisposed(),(0,$u.s)(this,Oe)};var Kr=v(4845);(0,S.t3)().prototype.prelu=function(Oe){return this.throwIfDisposed(),(0,Kr.A)(this,Oe)};var rs=v(9357);(0,S.t3)().prototype.prod=function(Oe,ot){return this.throwIfDisposed(),(0,rs.W)(this,Oe,ot)};var Cu=v(9372);(0,S.t3)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,Cu.M)(this)};var Hn=v(2047);(0,S.t3)().prototype.relu=function(){return this.throwIfDisposed(),(0,Hn.U)(this)};var Pr=v(1095);(0,S.t3)().prototype.relu6=function(){return this.throwIfDisposed(),(0,Pr.b)(this)},(0,S.t3)().prototype.reshapeAs=function(Oe){return this.throwIfDisposed(),(0,U.X)(this,Oe.shape)},(0,S.t3)().prototype.reshape=function(Oe){return this.throwIfDisposed(),(0,U.X)(this,Oe)};var sa=v(4849);(0,S.t3)().prototype.resizeBilinear=function(Oe,ot,Ft){return this.throwIfDisposed(),(0,sa.I)(this,Oe,ot,Ft)};var Os=v(2653);(0,S.t3)().prototype.resizeNearestNeighbor=function(Oe,ot,Ft){return this.throwIfDisposed(),(0,Os.j)(this,Oe,ot,Ft)};var jo=v(7661);(0,S.t3)().prototype.reverse=function(Oe){return this.throwIfDisposed(),(0,jo.G)(this,Oe)};var Fi=v(4636);(0,S.t3)().prototype.rfft=function(){return this.throwIfDisposed(),(0,Fi.Q)(this)};var Wo=v(2688);(0,S.t3)().prototype.round=function(){return this.throwIfDisposed(),(0,Wo.N)(this)};var Ta=v(242);(0,S.t3)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,Ta.b)(this)};var _s=v(5484);(0,S.t3)().prototype.selu=function(){return this.throwIfDisposed(),(0,_s.U)(this)};var bs=v(6020);(0,S.t3)().prototype.separableConv2d=function(Oe,ot,Ft,fn,wn,lr){return this.throwIfDisposed(),(0,bs.U)(this,Oe,ot,Ft,fn,wn,lr)};var As=v(4655);(0,S.t3)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,As.X)(this)};var Jr=v(184);(0,S.t3)().prototype.sign=function(){return this.throwIfDisposed(),(0,Jr.X)(this)};var ja=v(1969);(0,S.t3)().prototype.sin=function(){return this.throwIfDisposed(),(0,ja.O)(this)};var Ts=v(3981);(0,S.t3)().prototype.sinh=function(){return this.throwIfDisposed(),(0,Ts.R)(this)};var Da=v(8577);(0,S.t3)().prototype.slice=function(Oe,ot){return this.throwIfDisposed(),(0,Da.t)(this,Oe,ot)};var ka=v(2187);(0,S.t3)().prototype.softmax=function(Oe){return this.throwIfDisposed(),(0,ka.X)(this,Oe)};var Mr=v(7246);(0,S.t3)().prototype.softplus=function(){return this.throwIfDisposed(),(0,Mr.W)(this)};var oc=v(1705);(0,S.t3)().prototype.spaceToBatchND=function(Oe,ot){return this.throwIfDisposed(),(0,oc.f)(this,Oe,ot)};var ur=v(633);(0,S.t3)().prototype.split=function(Oe,ot){return this.throwIfDisposed(),(0,ur.V)(this,Oe,ot)};var Ju=v(6900);(0,S.t3)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,Ju._)(this)};var Ws=v(4463);(0,S.t3)().prototype.square=function(){return this.throwIfDisposed(),(0,Ws.h)(this)};var Wi=v(3629);(0,S.t3)().prototype.squaredDifference=function(Oe){return this.throwIfDisposed(),(0,Wi.$)(this,Oe)};var Jc=v(6458);(0,S.t3)().prototype.squeeze=function(Oe){return this.throwIfDisposed(),(0,Jc.L)(this,Oe)};var uc=v(1440);(0,S.t3)().prototype.stack=function(Oe,ot){this.throwIfDisposed();const Ft=Oe instanceof S.es?[this,Oe]:[this,...Oe];return(0,uc.k)(Ft,ot)};var lc=v(4429);(0,S.t3)().prototype.step=function(Oe){return this.throwIfDisposed(),(0,lc.N)(this,Oe)};var Xe=v(92);(0,S.t3)().prototype.stridedSlice=function(Oe,ot,Ft,fn,wn,lr,Vi,xs){return this.throwIfDisposed(),(0,Xe.N)(this,Oe,ot,Ft,fn,wn,lr,Vi,xs)};var Mt=v(3217);(0,S.t3)().prototype.sub=function(Oe){return this.throwIfDisposed(),(0,Mt.l)(this,Oe)};var Nt=v(7782);(0,S.t3)().prototype.sum=function(Oe,ot){return this.throwIfDisposed(),(0,Nt.S)(this,Oe,ot)};var Dn=v(3992);(0,S.t3)().prototype.tan=function(){return this.throwIfDisposed(),(0,Dn.O)(this)};var Vn=v(8892);(0,S.t3)().prototype.tanh=function(){return this.throwIfDisposed(),(0,Vn.A)(this)};var Qn=v(3063);(0,S.t3)().prototype.tile=function(Oe){return this.throwIfDisposed(),(0,Qn.G)(this,Oe)},(0,S.t3)().prototype.toBool=function(){return this.throwIfDisposed(),(0,K.p)(this,"bool")},(0,S.t3)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,K.p)(this,"float32")},(0,S.t3)().prototype.toInt=function(){return this.throwIfDisposed(),(0,K.p)(this,"int32")};var bn=v(3187);(0,S.t3)().prototype.topk=function(Oe,ot){return this.throwIfDisposed(),(0,bn.h)(this,Oe,ot)};var zn=v(3111);(0,S.t3)().prototype.transpose=function(Oe){return this.throwIfDisposed(),(0,zn.p)(this,Oe)};var dr=v(5403);(0,S.t3)().prototype.unique=function(Oe){return this.throwIfDisposed(),(0,dr.T)(this,Oe)};var zr=v(6442);(0,S.t3)().prototype.unsortedSegmentSum=function(Oe,ot){return this.throwIfDisposed(),(0,zr.p)(this,Oe,ot)};var qt=v(230);(0,S.t3)().prototype.unstack=function(Oe){return this.throwIfDisposed(),(0,qt.H)(this,Oe)};var Hs=v(8793);(0,S.t3)().prototype.where=function(Oe,ot){return this.throwIfDisposed(),(0,Hs.a)(Oe,this,ot)};var sr=v(9314);(0,S.t3)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,sr.P)(this)}},3531:(be,ie,v)=>{"use strict";v.d(ie,{es:()=>Te,YD:()=>he,_w:()=>ge,t3:()=>We,FZ:()=>et,Vp:()=>ze,Vi:()=>Ie});var $=v(8239),S=v(3860),P=v(62);function R(we,Se,re,Re){const Be=(0,P.e3)(Se),Pe=function(we,Se,re,Re){const Be=(0,P.NA)(Se),Pe=Re[Re.length-1],Ke=new Array(Pe).fill(0),Qe=Se.length,rt="complex64"===re?K(we):we;if(Qe>1)for(let st=0;st<Be/Pe;st++){const ft=st*Pe;for(let kt=0;kt<Pe;kt++)Ke[kt]=Math.max(Ke[kt],F(rt[ft+kt],0,re).length)}return Ke}(we,Se,re,Be),Ke=Se.length,Qe=G(we,Se,re,Be,Pe),rt=["Tensor"];return Re&&(rt.push(`  dtype: ${re}`),rt.push(`  rank: ${Ke}`),rt.push(`  shape: [${Se}]`),rt.push("  values:")),rt.push(Qe.map(st=>"    "+st).join("\n")),rt.join("\n")}function F(we,Se,re){let Re;return Re=Array.isArray(we)?`${parseFloat(we[0].toFixed(7))} + ${parseFloat(we[1].toFixed(7))}j`:(0,P.HD)(we)?`'${we}'`:"bool"===re?U(we):parseFloat(we.toFixed(7)).toString(),(0,P.oj)(Re,Se)}function U(we){return 0===we?"false":"true"}function G(we,Se,re,Re,Be,Pe=!0){const Ke="complex64"===re?2:1,Qe=Se[0],rt=Se.length;if(0===rt)return"complex64"===re?[F(K(we)[0],0,re)]:"bool"===re?[U(we[0])]:[we[0].toString()];if(1===rt){if(Qe>20){let cn=Array.from(we.slice(0,3*Ke)),Gr=Array.from(we.slice((Qe-3)*Ke,Qe*Ke));return"complex64"===re&&(cn=K(cn),Gr=K(Gr)),["["+cn.map((mi,dt)=>F(mi,Be[dt],re)).join(", ")+", ..., "+Gr.map((mi,dt)=>F(mi,Be[Qe-3+dt],re)).join(", ")+"]"]}return["["+("complex64"===re?K(we):Array.from(we)).map((Kt,cn)=>F(Kt,Be[cn],re)).join(", ")+"]"]}const st=Se.slice(1),ft=Re.slice(1),kt=Re[0]*Ke,$t=[];if(Qe>20){for(let Cn=0;Cn<3;Cn++){const Kt=Cn*kt;$t.push(...G(we.slice(Kt,Kt+kt),st,re,ft,Be,!1))}$t.push("...");for(let Cn=Qe-3;Cn<Qe;Cn++){const Kt=Cn*kt;$t.push(...G(we.slice(Kt,Kt+kt),st,re,ft,Be,Cn===Qe-1))}}else for(let Cn=0;Cn<Qe;Cn++){const Kt=Cn*kt;$t.push(...G(we.slice(Kt,Kt+kt),st,re,ft,Be,Cn===Qe-1))}const on=2===rt?",":"";$t[0]="["+$t[0]+on;for(let Cn=1;Cn<$t.length-1;Cn++)$t[Cn]=" "+$t[Cn]+on;let On=",\n";for(let Cn=2;Cn<rt;Cn++)On+="\n";return $t[$t.length-1]=" "+$t[$t.length-1]+"]"+(Pe?"":On),$t}function K(we){const Se=[];for(let re=0;re<we.length;re+=2)Se.push([we[re],we[re+1]]);return Se}var J=v(7884);class he{constructor(Se,re,Re){if(this.dtype=re,this.shape=Se.slice(),this.size=P.NA(Se),null!=Re){const Be=Re.length;P.hu(Be===this.size,()=>`Length of values '${Be}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===re)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=Re||P.rQ(re,this.size),this.strides=(0,P.e3)(Se)}set(Se,...re){0===re.length&&(re=[0]),P.hu(re.length===this.rank,()=>`The number of provided coordinates (${re.length}) must match the rank (${this.rank})`);const Re=this.locToIndex(re);this.values[Re]=Se}get(...Se){0===Se.length&&(Se=[0]);let re=0;for(const Be of Se){if(Be<0||Be>=this.shape[re])throw new Error(`Requested out of range element at ${Se}.   Buffer shape=${this.shape}`);re++}let Re=Se[Se.length-1];for(let Be=0;Be<Se.length-1;++Be)Re+=this.strides[Be]*Se[Be];return this.values[Re]}locToIndex(Se){if(0===this.rank)return 0;if(1===this.rank)return Se[0];let re=Se[Se.length-1];for(let Re=0;Re<Se.length-1;++Re)re+=this.strides[Re]*Se[Re];return re}indexToLoc(Se){if(0===this.rank)return[];if(1===this.rank)return[Se];const re=new Array(this.shape.length);for(let Re=0;Re<re.length-1;++Re)re[Re]=Math.floor(Se/this.strides[Re]),Se-=re[Re]*this.strides[Re];return re[re.length-1]=Se,re}get rank(){return this.shape.length}toTensor(){return ce().makeTensor(this.values,this.shape,this.dtype)}}let ce=null,Ae=null,je=null;function Ie(we){ce=we}function ze(we){Ae=we}function et(we){je=we}class Te{constructor(Se,re,Re,Be){this.kept=!1,this.isDisposedInternal=!1,this.shape=Se.slice(),this.dtype=re||"float32",this.size=P.NA(Se),this.strides=(0,P.e3)(Se),this.dataId=Re,this.id=Be,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){var Se=this;return(0,$.Z)(function*(){const re=yield Se.data();return Ae.buffer(Se.shape,Se.dtype,re)})()}bufferSync(){return Ae.buffer(this.shape,this.dtype,this.dataSync())}array(){var Se=this;return(0,$.Z)(function*(){const re=yield Se.data();return(0,P.GX)(Se.shape,re,"complex64"===Se.dtype)})()}arraySync(){return(0,P.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}data(){var Se=this;return(0,$.Z)(function*(){Se.throwIfDisposed();const re=ce().read(Se.dataId);if("string"===Se.dtype){const Re=yield re;try{return Re.map(Be=>J.decodeString(Be))}catch(Be){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return re})()}dataSync(){this.throwIfDisposed();const Se=ce().readSync(this.dataId);if("string"===this.dtype)try{return Se.map(re=>J.decodeString(re))}catch(re){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return Se}bytes(){var Se=this;return(0,$.Z)(function*(){Se.throwIfDisposed();const re=yield ce().read(Se.dataId);return"string"===Se.dtype?re:new Uint8Array(re.buffer)})()}dispose(){this.isDisposed||(ce().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(Se=!1){return Ae.print(this,Se)}clone(){return this.throwIfDisposed(),Ae.clone(this)}toString(Se=!1){return R(this.dataSync(),this.shape,this.dtype,Se)}cast(Se){return this.throwIfDisposed(),Ae.cast(this,Se)}variable(Se=!0,re,Re){return this.throwIfDisposed(),ce().makeVariable(this,Se,re,Re)}}function We(){return(0,S.R)("Tensor",()=>Te)}Object.defineProperty(Te,Symbol.hasInstance,{value:we=>!!we&&null!=we.data&&null!=we.dataSync&&null!=we.throwIfDisposed}),We();class ge extends Te{constructor(Se,re,Re,Be){super(Se.shape,Se.dtype,Se.dataId,Be),this.trainable=re,this.name=Re}assign(Se){if(Se.dtype!==this.dtype)throw new Error(`dtype of the new value (${Se.dtype}) and previous value (${this.dtype}) must match`);if(!P.cO(Se.shape,this.shape))throw new Error(`shape of the new value (${Se.shape}) and previous value (${this.shape}) must match`);ce().disposeTensor(this),this.dataId=Se.dataId,ce().incRef(this,null)}dispose(){ce().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(ge,Symbol.hasInstance,{value:we=>we instanceof Te&&null!=we.assign&&we.assign instanceof Function})},7073:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{makeTypesMatch:()=>I,assertTypesMatch:()=>N,isTensorInList:()=>B,getTensorsInContainer:()=>R});var $=v(3531),S=v(6209),P=v(62);function I(U,G){if(U.dtype===G.dtype)return[U,G];const K=(0,S.x8)(U.dtype,G.dtype);return[U.cast(K),G.cast(K)]}function N(U,G){(0,P.hu)(U.dtype===G.dtype,()=>`The dtypes of the first(${U.dtype}) and second(${G.dtype}) input must match`)}function B(U,G){return G.some(K=>K.id===U.id)}function R(U){const G=[];return W(U,G,new Set),G}function W(U,G,K){if(null==U)return;if(U instanceof $.es)return void G.push(U);if(!function(U){return Array.isArray(U)||"object"==typeof U}(U))return;const J=U;for(const he in J){const ce=J[he];K.has(ce)||(K.add(ce),W(ce,G,K))}}},4810:(be,ie,v)=>{"use strict";v.d(ie,{C:()=>B,_1:()=>F,sI:()=>U});var $=v(6070),S=v(2433),P=v(3531),I=v(62),N=v(7884);function B(G,K){let J=G;if((0,I.fU)(G))return"string"===K?[]:[G.length];if(!Array.isArray(G))return[];const he=[];for(;Array.isArray(J)||(0,I.fU)(J)&&"string"!==K;)he.push(J.length),J=J[0];return Array.isArray(G)&&(0,S.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&R(G,he,[]),he}function R(G,K,J){if(J=J||[],!Array.isArray(G)&&!(0,I.fU)(G))return void(0,I.hu)(0===K.length,()=>`Element arr[${J.join("][")}] is a primitive, but should be an array/TypedArray of ${K[0]} elements`);(0,I.hu)(K.length>0,()=>`Element arr[${J.join("][")}] should be a primitive, but is an array of ${G.length} elements`),(0,I.hu)(G.length===K[0],()=>`Element arr[${J.join("][")}] should have ${K[0]} elements, but has ${G.length} elements`);const he=K.slice(1);for(let ce=0;ce<G.length;++ce)R(G[ce],he,J.concat(ce))}function W(G,K,J,he){if("string_or_numeric"!==G){if(null==G)throw new Error("Expected dtype cannot be null.");if("numeric"!==G&&G!==K||"numeric"===G&&"string"===K)throw new Error(`Argument '${J}' passed to '${he}' must be ${G} tensor, but got ${K} tensor`)}}function F(G,K,J,he="numeric"){if(G instanceof P.es)return W(he,G.dtype,K,J),G;let ce=(0,I.D2)(G);if("string"!==ce&&["bool","int32","float32"].indexOf(he)>=0&&(ce=he),W(he,ce,K,J),null==G||!(0,I.fU)(G)&&!Array.isArray(G)&&"number"!=typeof G&&"boolean"!=typeof G&&"string"!=typeof G)throw new Error(`Argument '${K}' passed to '${J}' must be a Tensor or TensorLike, but got '${null==G?"null":G.constructor.name}'`);const Ae=B(G,ce);!(0,I.fU)(G)&&!Array.isArray(G)&&(G=[G]);const Ie="string"!==ce?(0,N.toTypedArray)(G,ce):(0,I.xH)(G,[],!0);return $.BV.makeTensor(Ie,Ae,ce)}function U(G,K,J,he="numeric"){if(!Array.isArray(G))throw new Error(`Argument ${K} passed to ${J} must be a \`Tensor[]\` or \`TensorLike[]\``);return G.map((Ae,je)=>F(Ae,`${K}[${je}]`,J,he))}},6209:(be,ie,v)=>{"use strict";v.d(ie,{yw:()=>$,x8:()=>R,z4:()=>W});var $=(()=>{return(F=$||($={})).R0="R0",F.R1="R1",F.R2="R2",F.R3="R3",F.R4="R4",F.R5="R5",F.R6="R6",$;var F})(),S=(()=>{return(F=S||(S={})).float32="float32",F.int32="int32",F.bool="int32",F.complex64="complex64",S;var F})(),P=(()=>{return(F=P||(P={})).float32="float32",F.int32="int32",F.bool="bool",F.complex64="complex64",P;var F})(),I=(()=>{return(F=I||(I={})).float32="float32",F.int32="float32",F.bool="float32",F.complex64="complex64",I;var F})(),N=(()=>{return(F=N||(N={})).float32="complex64",F.int32="complex64",F.bool="complex64",F.complex64="complex64",N;var F})();const B={float32:I,int32:S,bool:P,complex64:N};function R(F,U){if("string"===F||"string"===U){if("string"===F&&"string"===U)return"string";throw new Error(`Can not upcast ${F} with ${U}`)}return B[F][U]}function W(F){return R(F,"int32")}},7884:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{arraysEqual:()=>S.cO,assert:()=>S.hu,assertNonNegativeIntegerDimensions:()=>S.Mu,assertNonNull:()=>S.Cq,assertShapesMatch:()=>S.k5,bytesFromStringArray:()=>S.Ub,bytesPerElement:()=>S.bT,checkConversionForErrors:()=>S.D5,clamp:()=>S.uZ,computeStrides:()=>S.e3,createScalarValue:()=>We,createShuffledIndices:()=>S.U$,decodeString:()=>Be,distSquared:()=>S.E7,encodeString:()=>Re,fetch:()=>re,fingerPrint64:()=>Te,flatten:()=>S.xH,getArrayFromDType:()=>S.rQ,getTypedArrayFromDType:()=>S.WP,hasEncodingLoss:()=>S.QB,hexToLong:()=>B,indexToLoc:()=>S.NE,inferDtype:()=>S.D2,inferFromImplicitShape:()=>S.JZ,isBoolean:()=>S.jn,isFunction:()=>S.mf,isInt:()=>S.GN,isNumber:()=>S.hj,isPromise:()=>S.tI,isScalarShape:()=>S.N9,isString:()=>S.HD,isTypedArray:()=>S.fU,isValidDtype:()=>S.LP,locToIndex:()=>S.qy,makeOnesTypedArray:()=>S.p8,makeZerosNestedTypedArray:()=>S.l6,makeZerosTypedArray:()=>S.wT,nearestDivisor:()=>S.jP,nearestLargerEven:()=>S.nY,now:()=>Se,parseAxisParam:()=>S.EC,randUniform:()=>S.bj,repeatedTry:()=>S.WD,rightPad:()=>S.oj,shuffle:()=>S.TV,shuffleCombo:()=>S.d7,sizeFromShape:()=>S.NA,sizeToSquarishShape:()=>S.YP,squeezeShape:()=>S.bp,sum:()=>S.Sm,swap:()=>S.LF,tanh:()=>S.AE,toNestedArray:()=>S.GX,toTypedArray:()=>we});var $=v(2433),S=v(62),P=v(7080);const N=v.n(P)()||P;function B(Pe){return N.fromString(Pe,!0,16)}const R=B("c3a5c85c97cb3127"),W=B("b492b66fbe98f273"),F=B("9ae16a3b2f90404f");function U(Pe){return Pe.xor(Pe.shru(47))}function G(Pe,Ke,Qe){const rt=Pe.slice(Ke,Ke+Qe);return N.fromBytes(Array.from(rt),!0,!0)}function K(Pe,Ke){return G(Pe,Ke,8)}function J(Pe,Ke){return G(Pe,Ke,4)}function he(Pe,Ke){return 0===Ke?Pe:Pe.shru(Ke).or(Pe.shl(64-Ke))}function ce(Pe,Ke,Qe=B("9ddfea08eb382d69")){let rt=Pe.xor(Ke).mul(Qe);rt=rt.xor(rt.shru(47));let st=Ke.xor(rt).mul(Qe);return st=st.xor(st.shru(47)),st=st.mul(Qe),st}function je(Pe,Ke,Qe,rt){return function(Pe,Ke,Qe,rt,st,ft){st=st.add(Pe),ft=he(ft.add(st).add(rt),21);const kt=st;return st=(st=st.add(Ke)).add(Qe),ft=ft.add(he(st,44)),[st.add(rt),ft.add(kt)]}(K(Pe,Ke),K(Pe,Ke+8),K(Pe,Ke+16),K(Pe,Ke+24),Qe,rt)}function Te(Pe,Ke=Pe.length){const Qe=N.fromNumber(81,!0);if(Ke<=32)return Ke<=16?function(Pe,Ke=Pe.length){if(Ke>=8){const Qe=F.add(2*Ke),rt=K(Pe,0).add(F),st=K(Pe,Ke-8);return ce(he(st,37).mul(Qe).add(rt),he(rt,25).add(st).mul(Qe),Qe)}if(Ke>=4){const Qe=F.add(2*Ke);return ce(J(Pe,0).shl(3).add(Ke),J(Pe,Ke-4),Qe)}if(Ke>0){const kt=Ke+(Pe[Ke-1]<<2);return U(F.mul(Pe[0]+(Pe[Ke>>1]<<8)).xor(R.mul(kt))).mul(F)}return F}(Pe,Ke):function(Pe,Ke=Pe.length){const Qe=F.add(2*Ke),rt=K(Pe,0).mul(W),st=K(Pe,8),ft=K(Pe,Ke-8).mul(Qe),kt=K(Pe,Ke-16).mul(F);return ce(he(rt.add(st),43).add(he(ft,30)).add(kt),rt.add(he(st.add(F),18)).add(ft),Qe)}(Pe,Ke);if(Ke<=64)return function(Pe,Ke=Pe.length){const Qe=F.add(2*Ke),rt=K(Pe,0).mul(F),st=K(Pe,8),ft=K(Pe,Ke-8).mul(Qe),kt=K(Pe,Ke-16).mul(F),$t=he(rt.add(st),43).add(he(ft,30)).add(kt),on=ce($t,rt.add(he(st.add(F),18)).add(ft),Qe),On=K(Pe,16).mul(Qe),Cn=K(Pe,24),Kt=$t.add(K(Pe,Ke-32)).mul(Qe),cn=on.add(K(Pe,Ke-24)).mul(Qe);return ce(he(On.add(Cn),43).add(he(Kt,30)).add(cn),On.add(he(Cn.add(rt),18)).add(Kt),Qe)}(Pe,Ke);let rt=Qe,st=Qe.mul(W).add(113),ft=U(st.mul(F).add(113)).mul(F),kt=[N.UZERO,N.UZERO],$t=[N.UZERO,N.UZERO];rt=rt.mul(F).add(K(Pe,0));let on=0;const On=64*(Ke-1>>6),Cn=On+(Ke-1&63)-63;do{rt=he(rt.add(st).add(kt[0]).add(K(Pe,on+8)),37).mul(W),st=he(st.add(kt[1]).add(K(Pe,on+48)),42).mul(W),rt=rt.xor($t[1]),st=st.add(kt[0]).add(K(Pe,on+40)),ft=he(ft.add($t[0]),33).mul(W),kt=je(Pe,on,kt[1].mul(W),rt.add($t[0])),$t=je(Pe,on+32,ft.add($t[1]),st.add(K(Pe,on+16))),[ft,rt]=[rt,ft],on+=64}while(on!==On);const Kt=W.add(ft.and(255).shl(1));return on=Cn,$t[0]=$t[0].add(Ke-1&63),kt[0]=kt[0].add($t[0]),$t[0]=$t[0].add(kt[0]),rt=he(rt.add(st).add(kt[0]).add(K(Pe,on+8)),37).mul(Kt),st=he(st.add(kt[1]).add(K(Pe,on+48)),42).mul(Kt),rt=rt.xor($t[1].mul(9)),st=st.add(kt[0].mul(9).add(K(Pe,on+40))),ft=he(ft.add($t[0]),33).mul(Kt),kt=je(Pe,on,kt[1].mul(Kt),rt.add($t[0])),$t=je(Pe,on+32,ft.add($t[1]),st.add(K(Pe,on+16))),[ft,rt]=[rt,ft],ce(ce(kt[0],$t[0],Kt).add(U(st).mul(R)).add(ft),ce(kt[1],$t[1],Kt).add(rt),Kt)}function We(Pe,Ke){return"string"===Ke?Re(Pe):we([Pe],Ke)}function we(Pe,Ke){if("string"===Ke)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(Pe)&&(Pe=S.xH(Pe)),(0,$.OB)().getBool("DEBUG")&&S.D5(Pe,Ke),function(Pe,Ke){return Pe instanceof Float32Array&&"float32"===Ke||Pe instanceof Int32Array&&"int32"===Ke||Pe instanceof Uint8Array&&"bool"===Ke}(Pe,Ke))return Pe;if(null==Ke||"float32"===Ke||"complex64"===Ke)return new Float32Array(Pe);if("int32"===Ke)return new Int32Array(Pe);if("bool"===Ke){const Qe=new Uint8Array(Pe.length);for(let rt=0;rt<Qe.length;++rt)0!==Math.round(Pe[rt])&&(Qe[rt]=1);return Qe}throw new Error(`Unknown data type ${Ke}`)}function Se(){return(0,$.OB)().platform.now()}function re(Pe,Ke){return(0,$.OB)().platform.fetch(Pe,Ke)}function Re(Pe,Ke="utf-8"){return Ke=Ke||"utf-8",(0,$.OB)().platform.encode(Pe,Ke)}function Be(Pe,Ke="utf-8"){return Ke=Ke||"utf-8",(0,$.OB)().platform.decode(Pe,Ke)}},62:(be,ie,v)=>{"use strict";function $(nt){let Et=nt.length,zt=0;for(;Et>0;)zt=Math.random()*Et|0,Et--,N(nt,Et,zt)}function S(nt,Et){if(nt.length!==Et.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${nt.length}Second array length was ${Et.length}`);let zt=nt.length,an=0;for(;zt>0;)an=Math.random()*zt|0,zt--,N(nt,zt,an),N(Et,zt,an)}function P(nt,Et,zt){return Math.max(nt,Math.min(Et,zt))}function I(nt){return nt%2==0?nt:nt+1}function N(nt,Et,zt){const an=nt[Et];nt[Et]=nt[zt],nt[zt]=an}function B(nt){let Et=0;for(let zt=0;zt<nt.length;zt++)Et+=nt[zt];return Et}function R(nt,Et){const zt=Math.random();return Et*zt+(1-zt)*nt}function W(nt,Et){let zt=0;for(let an=0;an<nt.length;an++){const ar=Number(nt[an])-Number(Et[an]);zt+=ar*ar}return zt}function F(nt,Et){if(!nt)throw new Error("string"==typeof Et?Et:Et())}function U(nt,Et,zt=""){F(ce(nt,Et),()=>zt+` Shapes ${nt} and ${Et} must match`)}function G(nt){F(null!=nt,()=>"The input to the tensor constructor must be a non-null value.")}function K(nt,Et=[],zt=!1){if(null==Et&&(Et=[]),Array.isArray(nt)||Ke(nt)&&!zt)for(let an=0;an<nt.length;++an)K(nt[an],Et,zt);else Et.push(nt);return Et}function J(nt){if(0===nt.length)return 1;let Et=nt[0];for(let zt=1;zt<nt.length;zt++)Et*=nt[zt];return Et}function he(nt){return 0===nt.length}function ce(nt,Et){if(nt===Et)return!0;if(null==nt||null==Et||nt.length!==Et.length)return!1;for(let zt=0;zt<nt.length;zt++)if(nt[zt]!==Et[zt])return!1;return!0}function Ae(nt){return nt%1==0}function je(nt){if(null!=Math.tanh)return Math.tanh(nt);if(nt===1/0)return 1;if(nt===-1/0)return-1;{const Et=Math.exp(2*nt);return(Et-1)/(Et+1)}}function Ie(nt){const Et=Math.ceil(Math.sqrt(nt));return[Et,Math.ceil(nt/Et)]}function ze(nt){const Et=new Uint32Array(nt);for(let zt=0;zt<nt;++zt)Et[zt]=zt;return $(Et),Et}function et(nt,Et){return Et<=nt.length?nt:nt+" ".repeat(Et-nt.length)}function Te(nt,Et=(an=>0),zt){return new Promise((an,ar)=>{let xr=0;const Tn=()=>{if(nt())return void an();xr++;const ir=Et(xr);null!=zt&&xr>=zt?ar():setTimeout(Tn,ir)};Tn()})}function We(nt,Et){let zt=1,an=-1;for(let xr=0;xr<nt.length;++xr)if(nt[xr]>=0)zt*=nt[xr];else if(-1===nt[xr]){if(-1!==an)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${an} and dim ${xr}`);an=xr}else if(nt[xr]<0)throw Error(`Shapes can not be < 0. Found ${nt[xr]} at dim ${xr}`);if(-1===an){if(Et>0&&Et!==zt)throw Error(`Size(${Et}) must match the product of shape ${nt}`);return nt}if(0===zt)throw Error(`Cannot infer the missing size in [${nt}] when there are 0 elements`);if(Et%zt!=0)throw Error(`The implicit shape can't be a fractional number. Got ${Et} / ${zt}`);const ar=nt.slice();return ar[an]=Et/zt,ar}function ge(nt,Et){const zt=Et.length;return F((nt=null==nt?Et.map((an,ar)=>ar):[].concat(nt)).every(an=>an>=-zt&&an<zt),()=>`All values in axis param must be in range [-${zt}, ${zt}) but got axis ${nt}`),F(nt.every(an=>Ae(an)),()=>`All values in axis param must be integers but got axis ${nt}`),nt.map(an=>an<0?zt+an:an)}function we(nt,Et){const zt=[],an=[],ar=null!=Et&&Array.isArray(Et)&&0===Et.length,xr=null==Et||ar?null:ge(Et,nt).sort();let Tn=0;for(let ir=0;ir<nt.length;++ir){if(null!=xr){if(xr[Tn]===ir&&1!==nt[ir])throw new Error(`Can't squeeze axis ${ir} since its dim '${nt[ir]}' is not 1`);(null==xr[Tn]||xr[Tn]>ir)&&1===nt[ir]&&(zt.push(nt[ir]),an.push(ir)),xr[Tn]<=ir&&Tn++}1!==nt[ir]&&(zt.push(nt[ir]),an.push(ir))}return{newShape:zt,keptDims:an}}function Se(nt,Et){let zt=null;if(null==nt||"float32"===nt)zt=new Float32Array(Et);else if("int32"===nt)zt=new Int32Array(Et);else{if("bool"!==nt)throw new Error(`Unknown data type ${nt}`);zt=new Uint8Array(Et)}return zt}function re(nt,Et){let zt=null;if(null==nt||"float32"===nt)zt=new Float32Array(Et);else if("int32"===nt)zt=new Int32Array(Et);else if("bool"===nt)zt=new Uint8Array(Et);else{if("string"!==nt)throw new Error(`Unknown data type ${nt}`);zt=new Array(Et)}return zt}function Re(nt,Et){for(let zt=0;zt<nt.length;zt++){const an=nt[zt];if(isNaN(an)||!isFinite(an))throw Error(`A tensor of type ${Et} being uploaded contains ${an}.`)}}function Be(nt){return"bool"===nt||"complex64"===nt||"float32"===nt||"int32"===nt||"string"===nt}function Pe(nt,Et){return!("complex64"===Et||"float32"===Et&&"complex64"!==nt||"int32"===Et&&"float32"!==nt&&"complex64"!==nt||"bool"===Et&&"bool"===nt)}function Ke(nt){return nt instanceof Float32Array||nt instanceof Int32Array||nt instanceof Uint8Array||nt instanceof Uint8ClampedArray}function Qe(nt){if("float32"===nt||"int32"===nt)return 4;if("complex64"===nt)return 8;if("bool"===nt)return 1;throw new Error(`Unknown dtype ${nt}`)}function rt(nt){if(null==nt)return 0;let Et=0;return nt.forEach(zt=>Et+=zt.length),Et}function st(nt){return"string"==typeof nt||nt instanceof String}function ft(nt){return"boolean"==typeof nt}function kt(nt){return"number"==typeof nt}function $t(nt){return Array.isArray(nt)?$t(nt[0]):nt instanceof Float32Array?"float32":nt instanceof Int32Array||nt instanceof Uint8Array||nt instanceof Uint8ClampedArray?"int32":kt(nt)?"float32":st(nt)?"string":ft(nt)?"bool":"float32"}function on(nt){return!!(nt&&nt.constructor&&nt.call&&nt.apply)}function On(nt,Et){for(let zt=Et;zt<nt;++zt)if(nt%zt==0)return zt;return nt}function Cn(nt){const Et=nt.length;if(Et<2)return[];const zt=new Array(Et-1);zt[Et-2]=nt[Et-1];for(let an=Et-3;an>=0;--an)zt[an]=zt[an+1]*nt[an+1];return zt}function Kt(nt,Et,zt,an=!1){const ar=new Array;if(1===Et.length){const xr=Et[0]*(an?2:1);for(let Tn=0;Tn<xr;Tn++)ar[Tn]=zt[nt+Tn]}else{const xr=Et[0],Tn=Et.slice(1),ir=Tn.reduce((Tr,hi)=>Tr*hi)*(an?2:1);for(let Tr=0;Tr<xr;Tr++)ar[Tr]=Kt(nt+Tr*ir,Tn,zt,an)}return ar}function cn(nt,Et,zt=!1){if(0===nt.length)return Et[0];const an=nt.reduce((ar,xr)=>ar*xr)*(zt?2:1);if(0===an)return[];if(an!==Et.length)throw new Error(`[${nt}] does not match the input size ${Et.length}${zt?" for a complex tensor":""}.`);return Kt(0,nt,Et,zt)}function Gr(nt,Et){const zt=mi(nt,Et);for(let an=0;an<zt.length;an++)zt[an]=1;return zt}function mi(nt,Et){if(null==Et||"float32"===Et||"complex64"===Et)return new Float32Array(nt);if("int32"===Et)return new Int32Array(nt);if("bool"===Et)return new Uint8Array(nt);throw new Error(`Unknown data type ${Et}`)}function dt(nt,Et){const zt=nt.reduce((an,ar)=>an*ar,1);if(null==Et||"float32"===Et)return cn(nt,new Float32Array(zt));if("int32"===Et)return cn(nt,new Int32Array(zt));if("bool"===Et)return cn(nt,new Uint8Array(zt));throw new Error(`Unknown data type ${Et}`)}function Vt(nt){nt.forEach(Et=>{F(Number.isInteger(Et)&&Et>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${nt}].`)})}function Ln(nt,Et,zt){if(0===Et)return 0;if(1===Et)return nt[0];let an=nt[nt.length-1];for(let ar=0;ar<nt.length-1;++ar)an+=zt[ar]*nt[ar];return an}function Bt(nt,Et,zt){if(0===Et)return[];if(1===Et)return[nt];const an=new Array(Et);for(let ar=0;ar<an.length-1;++ar)an[ar]=Math.floor(nt/zt[ar]),nt-=an[ar]*zt[ar];return an[an.length-1]=nt,an}function kn(nt){return nt&&nt.then&&"function"==typeof nt.then}v.d(ie,{TV:()=>$,d7:()=>S,uZ:()=>P,nY:()=>I,LF:()=>N,Sm:()=>B,bj:()=>R,E7:()=>W,hu:()=>F,k5:()=>U,Cq:()=>G,xH:()=>K,NA:()=>J,N9:()=>he,cO:()=>ce,GN:()=>Ae,AE:()=>je,YP:()=>Ie,U$:()=>ze,oj:()=>et,WD:()=>Te,JZ:()=>We,EC:()=>ge,bp:()=>we,WP:()=>Se,rQ:()=>re,D5:()=>Re,LP:()=>Be,QB:()=>Pe,fU:()=>Ke,bT:()=>Qe,Ub:()=>rt,HD:()=>st,jn:()=>ft,hj:()=>kt,D2:()=>$t,mf:()=>on,jP:()=>On,e3:()=>Cn,GX:()=>cn,p8:()=>Gr,wT:()=>mi,l6:()=>dt,Mu:()=>Vt,qy:()=>Ln,NE:()=>Bt,tI:()=>kn})},3176:(be,ie,v)=>{var $=v(3367),S=v(6171),P=v(777),I=v(2887),N=v(8843),B=v(2709),R=v(9269);R.alea=$,R.xor128=S,R.xorwow=P,R.xorshift7=I,R.xor4096=N,R.tychei=B,be.exports=R},3367:function(be,ie,v){var $;!function(S,P,I){function N(F){var U=this,G=function(){var F=4022871197;return function(G){G=G.toString();for(var K=0;K<G.length;K++){var J=.02519603282416938*(F+=G.charCodeAt(K));J-=F=J>>>0,F=(J*=F)>>>0,F+=4294967296*(J-=F)}return 2.3283064365386963e-10*(F>>>0)}}();U.next=function(){var K=2091639*U.s0+2.3283064365386963e-10*U.c;return U.s0=U.s1,U.s1=U.s2,U.s2=K-(U.c=0|K)},U.c=1,U.s0=G(" "),U.s1=G(" "),U.s2=G(" "),U.s0-=G(F),U.s0<0&&(U.s0+=1),U.s1-=G(F),U.s1<0&&(U.s1+=1),U.s2-=G(F),U.s2<0&&(U.s2+=1),G=null}function B(F,U){return U.c=F.c,U.s0=F.s0,U.s1=F.s1,U.s2=F.s2,U}function R(F,U){var G=new N(F),K=U&&U.state,J=G.next;return J.int32=function(){return 4294967296*G.next()|0},J.double=function(){return J()+11102230246251565e-32*(2097152*J()|0)},J.quick=J,K&&("object"==typeof K&&B(K,G),J.state=function(){return B(G,{})}),J}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.alea=R}(0,be=v.nmd(be))},2709:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.next=function(){var K=F.b,J=F.c,he=F.d,ce=F.a;return K=K<<25^K>>>7^J,J=J-he|0,he=he<<24^he>>>8^ce,ce=ce-K|0,F.b=K=K<<20^K>>>12^J,F.c=J=J-he|0,F.d=he<<16^J>>>16^ce,F.a=ce-K|0},F.a=0,F.b=0,F.c=-1640531527,F.d=1367130551,W===Math.floor(W)?(F.a=W/4294967296|0,F.b=0|W):U+=W;for(var G=0;G<U.length+20;G++)F.b^=0|U.charCodeAt(G),F.next()}function B(W,F){return F.a=W.a,F.b=W.b,F.c=W.c,F.d=W.d,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.tychei=R}(0,be=v.nmd(be))},6171:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.x=0,F.y=0,F.z=0,F.w=0,F.next=function(){var K=F.x^F.x<<11;return F.x=F.y,F.y=F.z,F.z=F.w,F.w^=F.w>>>19^K^K>>>8},W===(0|W)?F.x=W:U+=W;for(var G=0;G<U.length+64;G++)F.x^=0|U.charCodeAt(G),F.next()}function B(W,F){return F.x=W.x,F.y=W.y,F.z=W.z,F.w=W.w,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xor128=R}(0,be=v.nmd(be))},8843:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this;F.next=function(){var he,ce,G=F.w,K=F.X,J=F.i;return F.w=G=G+1640531527|0,ce=K[J+34&127],he=K[J=J+1&127],ce^=ce<<13,he^=he<<17,ce=K[J]=(ce^=ce>>>15)^(he^=he>>>12),F.i=J,ce+(G^G>>>16)|0},function(G,K){var J,he,ce,Ae,je,Ie=[],ze=128;for(K===(0|K)?(he=K,K=null):(K+="\0",he=0,ze=Math.max(ze,K.length)),ce=0,Ae=-32;Ae<ze;++Ae)K&&(he^=K.charCodeAt((Ae+32)%K.length)),0===Ae&&(je=he),he^=he<<10,he^=he>>>15,he^=he<<4,he^=he>>>13,Ae>=0&&(ce=0==(J=Ie[127&Ae]^=he+(je=je+1640531527|0))?ce+1:0);for(ce>=128&&(Ie[127&(K&&K.length||0)]=-1),ce=127,Ae=512;Ae>0;--Ae)he=Ie[ce+34&127],J=Ie[ce=ce+1&127],he^=he<<13,J^=J<<17,Ie[ce]=(he^=he>>>15)^(J^=J>>>12);G.w=je,G.X=Ie,G.i=ce}(F,W)}function B(W,F){return F.i=W.i,F.w=W.w,F.X=W.X.slice(),F}function R(W,F){null==W&&(W=+new Date);var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&(G.X&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xor4096=R}(0,be=v.nmd(be))},2887:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this;F.next=function(){var J,he,G=F.x,K=F.i;return J=G[K],he=(J^=J>>>7)^J<<24,he^=(J=G[K+1&7])^J>>>10,he^=(J=G[K+3&7])^J>>>3,he^=(J=G[K+4&7])^J<<7,J=G[K+7&7],G[K]=he^=(J^=J<<13)^J<<9,F.i=K+1&7,he},function(G,K){var J,ce=[];if(K===(0|K))ce[0]=K;else for(K=""+K,J=0;J<K.length;++J)ce[7&J]=ce[7&J]<<15^K.charCodeAt(J)+ce[J+1&7]<<13;for(;ce.length<8;)ce.push(0);for(J=0;J<8&&0===ce[J];++J);for(8==J&&(ce[7]=-1),G.x=ce,G.i=0,J=256;J>0;--J)G.next()}(F,W)}function B(W,F){return F.x=W.x.slice(),F.i=W.i,F}function R(W,F){null==W&&(W=+new Date);var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&(G.x&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xorshift7=R}(0,be=v.nmd(be))},777:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.next=function(){var K=F.x^F.x>>>2;return F.x=F.y,F.y=F.z,F.z=F.w,F.w=F.v,(F.d=F.d+362437|0)+(F.v=F.v^F.v<<4^K^K<<1)|0},F.x=0,F.y=0,F.z=0,F.w=0,F.v=0,W===(0|W)?F.x=W:U+=W;for(var G=0;G<U.length+64;G++)F.x^=0|U.charCodeAt(G),G==U.length&&(F.d=F.x<<10^F.x>>>4),F.next()}function B(W,F){return F.x=W.x,F.y=W.y,F.z=W.z,F.w=W.w,F.v=W.v,F.d=W.d,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xorwow=R}(0,be=v.nmd(be))},9269:(be,ie,v)=>{var $;!function(S,P){var J,I=this,N=256,W="random",F=P.pow(N,6),U=P.pow(2,52),G=2*U,K=255;function he(Te,We,ge){var we=[],Se=Ie(je((We=1==We?{entropy:!0}:We||{}).entropy?[Te,et(S)]:null==Te?function(){try{var Te;return J&&(Te=J.randomBytes)?Te=Te(N):(Te=new Uint8Array(N),(I.crypto||I.msCrypto).getRandomValues(Te)),et(Te)}catch(we){var We=I.navigator,ge=We&&We.plugins;return[+new Date,I,ge,I.screen,et(S)]}}():Te,3),we),re=new ce(we),Re=function(){for(var Be=re.g(6),Pe=F,Ke=0;Be<U;)Be=(Be+Ke)*N,Pe*=N,Ke=re.g(1);for(;Be>=G;)Be/=2,Pe/=2,Ke>>>=1;return(Be+Ke)/Pe};return Re.int32=function(){return 0|re.g(4)},Re.quick=function(){return re.g(4)/4294967296},Re.double=Re,Ie(et(re.S),S),(We.pass||ge||function(Be,Pe,Ke,Qe){return Qe&&(Qe.S&&Ae(Qe,re),Be.state=function(){return Ae(re,{})}),Ke?(P[W]=Be,Pe):Be})(Re,Se,"global"in We?We.global:this==P,We.state)}function ce(Te){var We,ge=Te.length,we=this,Se=0,re=we.i=we.j=0,Re=we.S=[];for(ge||(Te=[ge++]);Se<N;)Re[Se]=Se++;for(Se=0;Se<N;Se++)Re[Se]=Re[re=K&re+Te[Se%ge]+(We=Re[Se])],Re[re]=We;(we.g=function(Be){for(var Pe,Ke=0,Qe=we.i,rt=we.j,st=we.S;Be--;)Pe=st[Qe=K&Qe+1],Ke=Ke*N+st[K&(st[Qe]=st[rt=K&rt+Pe])+(st[rt]=Pe)];return we.i=Qe,we.j=rt,Ke})(N)}function Ae(Te,We){return We.i=Te.i,We.j=Te.j,We.S=Te.S.slice(),We}function je(Te,We){var Se,ge=[],we=typeof Te;if(We&&"object"==we)for(Se in Te)try{ge.push(je(Te[Se],We-1))}catch(re){}return ge.length?ge:"string"==we?Te:Te+"\0"}function Ie(Te,We){for(var we,ge=Te+"",Se=0;Se<ge.length;)We[K&Se]=K&(we^=19*We[K&Se])+ge.charCodeAt(Se++);return et(We)}function et(Te){return String.fromCharCode.apply(0,Te)}if(P["seed"+W]=he,Ie(P.random(),S),be.exports){be.exports=he;try{J=v(5778)}catch(Te){}}else void 0!==($=function(){return he}.call(ie,v,ie,be))&&(be.exports=$)}([],Math)},1739:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});const $=v(9606),S=v(5357);ie.SurfaceComponent=(()=>{class I extends $.Component{componentDidMount(){const{name:B,tab:R}=this.props;this.props.registerSurface(B,R,this)}componentDidUpdate(){return!1}render(){const{name:B,visible:R,styles:W}=this.props,F=Object.assign({},I.defaultStyles,W),{width:U,height:G}=F;let{maxHeight:K,maxWidth:J}=F;K=G===I.defaultStyles.height?K:G,J=U===I.defaultStyles.width?J:U;const he=S.css({display:R?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:G,width:U,maxHeight:K,maxWidth:J,overflow:"auto"}),ce=S.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),Ae=S.css({boxSizing:"border-box"});return $.h("div",{className:`${he} tf-surface`,ref:je=>this.container=je,"data-visible":R},$.h("div",{className:`${ce} tf-label`,ref:je=>this.label=je},B),$.h("div",{className:`${Ae} tf-draw-area`,ref:je=>this.drawArea=je}))}}return I.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},I})()},5381:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});const $=v(9606),S=v(5357);ie.Tabs=class extends $.Component{render(){const{tabNames:B,activeTab:R,handleClick:W}=this.props,F=B.length>0?B.map(G=>$.h(I,{key:G,id:G,handleClick:W,isActive:G===R},G)):null,U=S.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return $.h("div",{className:`${U} visor-tabs`},F)}};class I extends $.Component{render(){const{children:B,isActive:R,handleClick:W,id:F}=this.props,U=S.css({borderBottomColor:R?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return $.h("a",{className:`${U} tf-tab`,"data-isactive":R,onClick:()=>W(F)},B)}}},9573:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});const $=v(9606),S=v(5357),P=v(1739),I=v(5381);class N extends $.Component{static render(W,F,U){return $.render($.h(N,Object.assign({},U)),W,F)}constructor(W){super(W),this.surfaces=new Map,this.state={isOpen:null==W.startOpen||W.startOpen,isFullscreen:!1,activeTab:null,tabs:new Set},this.keyHandler=this.keyHandler.bind(this)}close(){this.setState({isOpen:!1})}open(){this.setState({isOpen:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}toggleFullScreen(){this.setState({isFullscreen:!this.state.isFullscreen})}isOpen(){return this.state.isOpen}isFullscreen(){return this.state.isFullscreen}getSurface(W,F){const U=this.surfaceId(W,F);let G;if(!this.surfaces.has(U))throw Error(`Surface not found with id: ${U}`);return G=this.surfaces.get(U),{container:G.container,label:G.label,drawArea:G.drawArea}}bindKeys(){document.addEventListener("keydown",this.keyHandler,!1)}unbindKeys(){document.removeEventListener("keydown",this.keyHandler)}surfaceId(W,F){return W+F}setTabs(W){const F=W.map(K=>K.tab),U=this.state.tabs;let G;for(const K of F)U.has(K)||(U.add(K),G=K);null!=G&&this.setState({tabs:U,activeTab:G})}getTabs(){return this.state.tabs}registerSurface(W,F,U){const G=this.surfaceId(W,F);this.surfaces.set(G,U)}keyHandler(W){192===W.keyCode&&(W.shiftKey?this.toggleFullScreen():this.toggle())}setActiveTab(W){this.setState({activeTab:W})}componentDidMount(){this.bindKeys()}componentWillMount(){this.setTabs(this.props.surfaceList)}componentWillReceiveProps(W){this.setTabs(W.surfaceList)}render(){const{isOpen:W,isFullscreen:F,activeTab:U}=this.state,{surfaceList:G}=this.props,K=Array.from(this.getTabs().values()),ce=F?"90vw":"550px",Ae=S.css({width:ce,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),je=S.css({right:"0"}),Ie=S.css({right:`calc(-${ce} - 10px)`}),ze=W?je:Ie,et=S.css({});return $.h("div",{className:`${Ae} ${ze} visor`,"data-isopen":W,"data-isfullscreen":F},$.h(B,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:F}),$.h(I.Tabs,{tabNames:K,activeTab:U,handleClick:this.setActiveTab.bind(this)}),$.h("div",{className:`${et} visor-surfaces`},G.map(Te=>$.h(P.SurfaceComponent,{key:Te.name+Te.tab,name:Te.name,tab:Te.tab,styles:Te.styles,registerSurface:this.registerSurface.bind(this),visible:U===Te.tab}))))}}function B(R){const{isFullScreen:W,fullScreenHandler:F,closeHandler:U}=R,G=S.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),K=S.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),J=S.css({marginLeft:"auto"});return $.h("div",{className:`${G} visor-controls`},$.h("button",{className:`${K}`,onClick:F},W?"Minimize":"Maximize"),$.h("button",{className:`${K} ${J}`,onClick:U},"Hide"))}ie.VisorComponent=N},8081:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),v(706),v(925);const S=v(2140),P=v(7653),I=v(5621),N=v(4704),B=v(2850),R=v(1578),W=v(989),F=v(7432),U=v(7583),G=v(4196),K=v(6349),J=v(3262),he=v(5419);ie.version_vis=he.version,ie.render={barchart:S.barchart,table:W.table,histogram:N.histogram,linechart:B.linechart,scatterplot:R.scatterplot,confusionMatrix:P.confusionMatrix,heatmap:I.heatmap},ie.metrics={accuracy:J.accuracy,perClassAccuracy:J.perClassAccuracy,confusionMatrix:J.confusionMatrix},ie.show={history:F.history,fitCallbacks:F.fitCallbacks,perClassAccuracy:G.perClassAccuracy,valuesDistribution:K.valuesDistribution,layer:U.layer,modelSummary:U.modelSummary};var Ie=v(3972);ie.visor=Ie.visor,function(ze){for(var et in ze)ie.hasOwnProperty(et)||(ie[et]=ze[et])}(v(9594))},2140:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(F,U,G,K){return new(G||(G=Promise))(function(J,he){function ce(Ie){try{je(K.next(Ie))}catch(ze){he(ze)}}function Ae(Ie){try{je(K.throw(Ie))}catch(ze){he(ze)}}function je(Ie){Ie.done?J(Ie.value):new G(function(ze){ze(Ie.value)}).then(ce,Ae)}je((K=K.apply(F,U||[])).next())})},S=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(ie,"__esModule",{value:!0});const P=S(v(7796)),I=v(9911),N=v(4314);ie.barchart=function(F,U,G={}){return $(this,void 0,void 0,function*(){const K=N.getDrawArea(F),J=U,he=Object.assign({},R,G);if(W.has(K)){const Se=W.get(K);if(N.shallowEquals(he,Se.lastOptions)){yield N.nextFrame();const re=Se.view,Re=re.changeset().remove(()=>!0).insert(J);return void(yield re.change("values",Re).runAsync())}}const{xLabel:ce,yLabel:Ae,xType:je,yType:Ie}=he;let ze=null;null!=ce&&(ze={title:ce});let We,et=null;null!=Ae&&(et={title:Ae}),We=null!=he.color?Array.isArray(he.color)?{field:"index",type:"nominal",scale:{range:he.color}}:{value:he.color}:{value:"#4C78A0"};const ge={width:he.width||I.getDefaultWidth(K),height:he.height||I.getDefaultHeight(K),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:he.fontSize,titleFontSize:he.fontSize},text:{fontSize:he.fontSize},legend:{labelFontSize:he.fontSize,titleFontSize:he.fontSize}},data:{values:J,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:je,axis:ze},y:{field:"value",type:Ie,axis:et},color:We}};yield N.nextFrame();const we=yield P.default(K,ge,{actions:!1,mode:"vega-lite",defaultStyle:!1});W.set(K,{view:we.view,lastOptions:he})})};const R={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},W=new Map},7653:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(W,F,U,G){return new(U||(U=Promise))(function(K,J){function he(je){try{Ae(G.next(je))}catch(Ie){J(Ie)}}function ce(je){try{Ae(G.throw(je))}catch(Ie){J(Ie)}}function Ae(je){je.done?K(je.value):new U(function(Ie){Ie(je.value)}).then(he,ce)}Ae((G=G.apply(W,F||[])).next())})},S=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(ie,"__esModule",{value:!0});const P=S(v(7796)),I=v(9911),N=v(4314);ie.confusionMatrix=function(W,F,U={}){return $(this,void 0,void 0,function*(){const G=Object.assign({},R,U),K=N.getDrawArea(W),J=[],he=F.values,ce=F.tickLabels||[],Ae=0===ce.length;let je=!0;for(let Te=0;Te<he.length;Te++){const We=Ae?`Class ${Te}`:ce[Te];Ae&&ce.push(We);for(let ge=0;ge<he[Te].length;ge++){const we=Ae?`Class ${ge}`:ce[ge],Se=he[Te][ge];Te!==ge||G.shadeDiagonal?(J.push({label:We,prediction:we,count:Se,scaleCount:Se}),0!==Se&&(je=!1)):J.push({label:We,prediction:we,count:Se,noFill:!0})}}if(!G.shadeDiagonal&&je)for(const Te of J)!0===Te.noFill&&(Te.noFill=!1,Te.scaleCount=Te.count);const ze={width:G.width||I.getDefaultWidth(K),height:G.height||I.getDefaultHeight(K),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:G.fontSize,titleFontSize:G.fontSize},text:{fontSize:G.fontSize},legend:{labelFontSize:G.fontSize,titleFontSize:G.fontSize}},data:{values:J},encoding:{x:{field:"prediction",type:"ordinal",title:G.xLabel||"prediction",scale:{domain:ce}},y:{field:"label",type:"ordinal",title:G.yLabel||"label",scale:{domain:ce}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:G.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]};!1===G.shadeDiagonal&&ze.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),G.showTextOverlay&&ze.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}}),ze.layer[0].encoding.color.scale.range="string"==typeof G.colorMap?{scheme:G.colorMap}:G.colorMap,yield P.default(K,ze,{actions:!1,mode:"vega-lite",defaultStyle:!1})})};const R={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]}},5621:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(J,he,ce,Ae){return new(ce||(ce=Promise))(function(je,Ie){function ze(We){try{Te(Ae.next(We))}catch(ge){Ie(ge)}}function et(We){try{Te(Ae.throw(We))}catch(ge){Ie(ge)}}function Te(We){We.done?je(We.value):new ce(function(ge){ge(We.value)}).then(ze,et)}Te((Ae=Ae.apply(J,he||[])).next())})},S=this&&this.__importStar||function(J){if(J&&J.__esModule)return J;var he={};if(null!=J)for(var ce in J)Object.hasOwnProperty.call(J,ce)&&(he[ce]=J[ce]);return he.default=J,he},P=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(ie,"__esModule",{value:!0});const I=S(v(706)),N=P(v(7796)),B=v(9911),R=v(709),W=v(4314);function G(J,he,ce){const Ae=J instanceof I.Tensor?J.shape:[J.length,J[0].length];0===ce?R.assert(Ae[0]===he.length,`Length of xTickLabels (${he.length}) must match number of rows (${Ae[0]})`):1===ce&&R.assert(Ae[1]===he.length,`Length of yTickLabels (${he.length}) must match number of columns (${Ae[1]})`)}ie.heatmap=function(J,he,ce={}){return $(this,void 0,void 0,function*(){const Ae=Object.assign({},K,ce),je=W.getDrawArea(J);let Ie=he.values;Ae.rowMajor&&(Ie=yield function(J){return $(this,void 0,void 0,function*(){let he,ce;J instanceof I.Tensor?(he=J.shape,ce=J.transpose()):(he=[J.length,J[0].length],ce=I.tidy(()=>I.tensor2d(J).transpose())),R.assert(2===ce.rank,"Input to renderHeatmap must be a 2d array or Tensor2d");const Ae=yield ce.array();ce.dispose();const je=[Ae.length,Ae[0].length];return R.assert(he[0]===je[1]&&he[1]===je[0],`Unexpected transposed shape. Original ${he} : Transposed ${je}`),Ae})}(he.values));const{xTickLabels:ze,yTickLabels:et}=he;null!=ze&&G(Ie,ze,0),null!=et&&G(Ie,et,1);const Te="@tfidx@",We=[];if(Ie instanceof I.Tensor){R.assert(2===Ie.rank,"Input to renderHeatmap must be a 2d array or Tensor2d");const Be=yield Ie.data(),[Pe,Ke]=Ie.shape;for(let Qe=0;Qe<Pe;Qe++){const rt=ze?`${ze[Qe]}${Te}${Qe}`:Qe;for(let st=0;st<Ke;st++)We.push({x:rt,y:et?`${et[st]}${Te}${st}`:st,value:Be[Qe*Ke+st]})}}else{const Be=Ie;for(let Pe=0;Pe<Be.length;Pe++){const Ke=ze?`${ze[Pe]}${Te}${Pe}`:Pe;for(let Qe=0;Qe<Be[Pe].length;Qe++)We.push({x:Ke,y:et?`${et[Qe]}${Te}${Qe}`:Qe,value:Be[Pe][Qe]})}}const ge={actions:!1,mode:"vega-lite",defaultStyle:!1},we={width:Ae.width||B.getDefaultWidth(je),height:Ae.height||B.getDefaultHeight(je),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize},text:{fontSize:Ae.fontSize},legend:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:We},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:Ae.xType,title:Ae.xLabel,sort:!1},y:{field:"y",type:Ae.yType,title:Ae.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},Se=`${Te}\\d+$`,re=new RegExp(Se);let Re;switch(ze&&(we.encoding.x.axis={labelExpr:`replace(datum.value, regexp(/${Se}/), '')`}),et&&(we.encoding.y.axis={labelExpr:`replace(datum.value, regexp(/${Se}/), '')`}),(ze||et)&&(ge.tooltip={sanitize:Be=>String(Be).replace(re,"")}),Ae.colorMap){case"blues":Re=["#f7fbff","#4292c6"];break;case"greyscale":Re=["#000000","#ffffff"];break;case"viridis":default:Re="viridis"}if("viridis"!==Re&&(we.encoding.fill.scale={range:Re}),Ae.domain){const Be=we.encoding.fill;Be.scale=null!=Be.scale?Object.assign({},Be.scale,{domain:Ae.domain}):{domain:Ae.domain}}yield N.default(je,we,ge)})};const K={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1}},4704:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(K,J,he,ce){return new(he||(he=Promise))(function(Ae,je){function Ie(Te){try{et(ce.next(Te))}catch(We){je(We)}}function ze(Te){try{et(ce.throw(Te))}catch(We){je(We)}}function et(Te){Te.done?Ae(Te.value):new he(function(We){We(Te.value)}).then(Ie,ze)}et((ce=ce.apply(K,J||[])).next())})},S=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(ie,"__esModule",{value:!0});const P=v(2905),I=S(v(7796)),N=v(9911),B=v(3262),R=v(989),W={maxBins:12,fontSize:11};ie.histogram=function(K,J,he={}){return $(this,void 0,void 0,function*(){const ce=function(K){if(null==K.length)throw new Error("input data must be an array");if(0===K.length)return[];if("object"==typeof K[0]){if(null==K[0].value)throw new Error("input data must have a value field");return K}{const J=Array(K.length);for(let he=0;he<K.length;he++)J[he]={value:K[he]};return J}}(J),Ae=Object.assign({},W,he),Ie=N.subSurface(K,"histogram");if(!1!==he.stats){const Te=N.subSurface(K,"stats",{prepend:!0});let We;We=he.stats?he.stats:B.arrayStats(ce.map(ge=>ge.value)),function(K,J,he){const ce=P.format(",.4~f"),Ae=P.format(".4~p"),je=[],Ie=[];if(null!=K.numVals&&(je.push("Num Vals"),Ie.push(ce(K.numVals))),null!=K.min&&(je.push("Min"),Ie.push(ce(K.min))),null!=K.max&&(je.push("Max"),Ie.push(ce(K.max))),null!=K.numZeros){je.push("# Zeros");let ze="";K.numVals&&(ze=K.numZeros>0?`(${Ae(K.numZeros/K.numVals)})`:""),Ie.push(`${ce(K.numZeros)} ${ze}`)}if(null!=K.numNans){je.push("# NaNs");let ze="";K.numVals&&(ze=K.numNans>0?`(${Ae(K.numNans/K.numVals)})`:""),Ie.push(`${ce(K.numNans)} ${ze}`)}if(null!=K.numInfs){je.push("# Infinity");let ze="";K.numVals&&(ze=K.numInfs>0?`(${Ae(K.numInfs/K.numVals)})`:""),Ie.push(`${ce(K.numInfs)} ${ze}`)}R.table(J,{headers:je,values:[Ie]},he)}(We,Te,{fontSize:Ae.fontSize})}if(0===ce.length)return;const ze=[];for(let Te=0;Te<ce.length;Te++){const We=ce[Te].value;null!=We&&isFinite(We)&&ze.push(ce[Te])}const et={width:Ae.width||N.getDefaultWidth(Ie),height:Ae.height||N.getDefaultHeight(Ie),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:ze},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize},text:{fontSize:Ae.fontSize},legend:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize}},encoding:{x:{bin:{maxbins:Ae.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:Ae.color||"#001B44"}}};return I.default(Ie,et,{actions:!1,mode:"vega-lite",defaultStyle:!1})})}},2850:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(F,U,G,K){return new(G||(G=Promise))(function(J,he){function ce(Ie){try{je(K.next(Ie))}catch(ze){he(ze)}}function Ae(Ie){try{je(K.throw(Ie))}catch(ze){he(ze)}}function je(Ie){Ie.done?J(Ie.value):new G(function(ze){ze(Ie.value)}).then(ce,Ae)}je((K=K.apply(F,U||[])).next())})},S=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(ie,"__esModule",{value:!0});const P=S(v(7796)),I=v(9911),N=v(709),B=v(4314);ie.linechart=function(F,U,G={}){return $(this,void 0,void 0,function*(){const K=Array.isArray(U.values[0])?U.values:[U.values],J=K[0].length,he=U.series?U.series:K.map((we,Se)=>`Series ${Se+1}`);N.assert(he.length===K.length,"Must have an equal number of series labels as there are data series"),null!=G.seriesColors&&N.assert(G.seriesColors.length===K.length,"Must have an equal number of series colors as there are data series");const ce=[];for(let we=0;we<J;we++){const Se={x:we};he.forEach((re,Re)=>{Se[re]=K[Re][we].y,Se[`${re}-name`]=re}),ce.push(Se)}const Ae=Object.assign({},W,G),Ie={x:{field:"x",type:Ae.xType,title:Ae.xLabel},tooltip:[{field:"x",type:"quantitative"},...he.map(we=>({field:we,type:"quantitative"}))]},ze=he.map(we=>({data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:we,type:Ae.yType,title:Ae.yLabel,scale:Ae.zoomToFit?{zero:!1}:null!=Ae.yAxisDomain?{domain:Ae.yAxisDomain}:void 0},color:{field:`${we}-name`,type:"nominal",legend:{values:he,title:null},scale:{range:Ae.seriesColors}}}})),Te=B.getDrawArea(F),We={width:Ae.width||I.getDefaultWidth(Te),height:Ae.height||I.getDefaultHeight(Te),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize},text:{fontSize:Ae.fontSize},legend:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize}},data:{values:ce},encoding:Ie,layer:[...ze,{mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}}]};return yield P.default(Te,We,{actions:!1,mode:"vega-lite",defaultStyle:!1}),Promise.resolve()})};const W={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},4314:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(R,W,F,U){return new(F||(F=Promise))(function(G,K){function J(Ae){try{ce(U.next(Ae))}catch(je){K(je)}}function he(Ae){try{ce(U.throw(Ae))}catch(je){K(je)}}function ce(Ae){Ae.done?G(Ae.value):new F(function(je){je(Ae.value)}).then(J,he)}ce((U=U.apply(R,W||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const S=v(9594),P=v(3972);ie.getDrawArea=function(R){if(R instanceof HTMLElement)return R;if(S.isSurface(R))return R.drawArea;if(S.isSurfaceInfo(R))return P.visor().surface({name:R.name,tab:R.tab,styles:R.styles}).drawArea;throw new Error("Not a drawable")},ie.shallowEquals=function(R,W){const F=Object.getOwnPropertyNames(R),U=Object.getOwnPropertyNames(W);if(F.length!==U.length)return!1;for(let G=0;G<F.length;G++){const K=F[G];if(R[K]!==W[K])return!1}return!0},ie.nextFrame=function(){return $(this,void 0,void 0,function*(){yield new Promise(R=>requestAnimationFrame(R))})}},1578:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(F,U,G,K){return new(G||(G=Promise))(function(J,he){function ce(Ie){try{je(K.next(Ie))}catch(ze){he(ze)}}function Ae(Ie){try{je(K.throw(Ie))}catch(ze){he(ze)}}function je(Ie){Ie.done?J(Ie.value):new G(function(ze){ze(Ie.value)}).then(ce,Ae)}je((K=K.apply(F,U||[])).next())})},S=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(ie,"__esModule",{value:!0});const P=S(v(7796)),I=v(9911),N=v(709),B=v(4314);ie.scatterplot=function(F,U,G={}){return $(this,void 0,void 0,function*(){let K=U.values;const J=null==U.series?[]:U.series;K=Array.isArray(K[0])?K:[K];const he=[];K.forEach((Te,We)=>{const ge=null!=J[We]?J[We]:`Series ${We+1}`,we=Te.map(Se=>Object.assign({},Se,{series:ge}));he.push(...we)}),null!=G.seriesColors&&N.assert(G.seriesColors.length===K.length,"Must have an equal number of series colors as there are data series");const ce=B.getDrawArea(F),Ae=Object.assign({},W,G),et={width:Ae.width||I.getDefaultWidth(ce),height:Ae.height||I.getDefaultHeight(ce),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize},text:{fontSize:Ae.fontSize},legend:{labelFontSize:Ae.fontSize,titleFontSize:Ae.fontSize}},data:{values:he},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:Ae.xType,title:Ae.xLabel,scale:Ae.zoomToFit?{zero:!1}:null!=Ae.xAxisDomain?{domain:Ae.xAxisDomain}:void 0},y:{field:"y",type:Ae.yType,title:Ae.yLabel,scale:Ae.zoomToFit?{zero:!1}:null!=Ae.yAxisDomain?{domain:Ae.yAxisDomain}:void 0},color:{field:"series",type:"nominal",scale:{range:Ae.seriesColors}},shape:{field:"series",type:"nominal"}}};return yield P.default(ce,et,{actions:!1,mode:"vega-lite",defaultStyle:!1}),Promise.resolve()})};const W={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},989:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});const $=v(2905),S=v(3898),P=v(5357),I=v(4314);ie.table=function(R,W,F={}){if(W&&null==W.headers)throw new Error('Data to render must have a "headers" property');if(W&&null==W.values)throw new Error('Data to render must have a "values" property');const U=I.getDrawArea(R),G=Object.assign({},B,F);let K=S.select(U).select("table.tf-table");const J=P.css({fontSize:G.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(0===K.size()&&(K=S.select(U).append("table"),K.attr("class",` ${J} tf-table`),K.append("thead").append("tr"),K.append("tbody")),1!==K.size())throw new Error("Error inserting table");const he=P.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),ce=K.select("thead").select("tr").selectAll("th").data(W.headers),Ae=ce.enter().append("th").attr("class",`${he}`);ce.merge(Ae).html(ge=>ge),ce.exit().remove();const je=$.format(",.4~f"),Ie=K.select("tbody").selectAll("tr").data(W.values),ze=Ie.enter().append("tr"),et=P.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),Te=Ie.merge(ze).selectAll("td").data(ge=>ge),We=Te.enter().append("td").attr("class",`${et}`);Te.merge(We).html(ge=>"number"==typeof ge?je(ge):ge),Te.exit().remove(),Ie.exit().remove()};const B={fontSize:14}},7432:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(U,G,K,J){return new(K||(K=Promise))(function(he,ce){function Ae(ze){try{Ie(J.next(ze))}catch(et){ce(et)}}function je(ze){try{Ie(J.throw(ze))}catch(et){ce(et)}}function Ie(ze){ze.done?he(ze.value):new K(function(et){et(ze.value)}).then(Ae,je)}Ie((J=J.apply(U,G||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const S=v(2850),P=v(4314),I=v(9911);function N(U,G,K,J={}){return $(this,void 0,void 0,function*(){const he=P.getDrawArea(U),ce={};for(const ze of K)if(/val_/.test(ze)){const et=ze.replace("val_","");B(ce,et);const Te=R(G,ze,K.indexOf(ze));ce[et].series.push(ze),ce[et].values.push(Te)}else{const et=R(G,ze,K.indexOf(ze));B(ce,ze),ce[ze].series.push(ze),ce[ze].values.push(et)}const Ae=Object.keys(ce),je=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},J),Ie=[];for(const ze of Ae){const et=I.subSurface(he,ze),Te=ce[ze].series,We=ce[ze].values;Te.every(we=>Boolean(we.match("acc")))&&(je.zoomToFitAccuracy?je.zoomToFit=!0:(je.yAxisDomain=[0,1],delete je.zoomToFit));const ge=S.linechart(et,{values:We,series:Te},je);Ie.push(ge)}yield Promise.all(Ie)})}function B(U,G){null==U[G]&&(U[G]={series:[],values:[]})}function R(U,G,K){if(Array.isArray(U)){const J=Array.isArray(U[0])?U[K]:U,he=[];for(let ce=0;ce<J.length;ce++)he.push({x:ce,y:J[ce][G]});return he}return U.history[G].map((J,he)=>({x:he,y:J}))}function F(U,G,K){return null==U[G]&&(U[G]={}),null==U[G][K]&&(U[G][K]=[]),U[G][K]}ie.history=N,ie.fitCallbacks=function(U,G,K={}){const J={},he=K.callbacks||["onEpochEnd","onBatchEnd"],ce=P.getDrawArea(U),Ae=Object.assign({},K);delete Ae.callbacks;const Ie={};return he.forEach(ze=>{Ie[ze]=function(ze){return(et,Te)=>$(this,void 0,void 0,function*(){/batch/i.test(ze)?Ae.xLabel="Batch":/epoch/i.test(ze)&&(Ae.xLabel="Epoch");const We=[],ge=[];for(const Se of G)if(null!=Te[Se]){ge.push(Se);const re=F(J,ze,Se);re.push({[Se]:Te[Se]}),We.push(re)}N(I.subSurface(ce,ze,{title:ze}),We,ge,Ae),yield P.nextFrame()})}(ze)}),Ie}},7583:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(he,ce,Ae,je){return new(Ae||(Ae=Promise))(function(Ie,ze){function et(ge){try{We(je.next(ge))}catch(we){ze(we)}}function Te(ge){try{We(je.throw(ge))}catch(we){ze(we)}}function We(ge){ge.done?Ie(ge.value):new Ae(function(we){we(ge.value)}).then(et,Te)}We((je=je.apply(he,ce||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const S=v(4704),P=v(4314),I=v(989),N=v(9911),B=v(3262);function U(he){let ce;return ce=Array.isArray(he.outputShape[0])?`[${he.outputShape.map(je=>K(je)).join(", ")}]`:K(he.outputShape),{name:he.name,trainable:he.trainable,parameters:he.countParams(),outputShape:ce}}function K(he){const ce=he.slice();return 0===ce.length?"Scalar":(null===ce[0]&&(ce[0]="batch"),`[${ce.join(",")}]`)}ie.modelSummary=function(he,ce){return $(this,void 0,void 0,function*(){const Ae=P.getDrawArea(he),ze=function(he){return{layers:he.layers.map(U)}}(ce).layers.map(et=>[et.name,et.outputShape,et.parameters,et.trainable]);I.table(Ae,{headers:["Layer Name","Output Shape","# Of Params","Trainable"],values:ze})})},ie.layer=function(he,ce){return $(this,void 0,void 0,function*(){const Ae=P.getDrawArea(he),je=yield function(he){return $(this,void 0,void 0,function*(){const ce=he.getWeights(),Ae=he.weights,je=ce.map(B.tensorStats),Ie=yield Promise.all(je),ze=ce.map(et=>et.shape);return ce.map((et,Te)=>({name:Ae[Te].name,stats:Ie[Te],shape:K(ze[Te]),weight:et}))})}(ce),ze=N.subSurface(Ae,"layer-weights-info"),et=je.map(we=>[we.name,we.shape,we.stats.min,we.stats.max,we.weight.size,we.stats.numZeros,we.stats.numNans,we.stats.numInfs]);I.table(ze,{headers:["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],values:et});const Te=N.subSurface(Ae,"select-layer"),We=N.subSurface(Ae,"param-distribution");!function(he,ce,Ae){const ze=`<div><button>Show Values Distribution for:</button>\n    <select>\n      ${he.map(We=>`<option value=${We}>${We}</option>`)}\n    </select>\n  </div>`;ce.innerHTML=ze;const et=ce.querySelector("button"),Te=ce.querySelector("select");et.addEventListener("click",()=>{Ae(Te.selectedOptions[0].label)})}(je.map(we=>we.name),Te,we=>$(this,void 0,void 0,function*(){const re=yield je.filter(Re=>Re.name===we)[0].weight.data();S.histogram(We,re,{height:150,width:460,stats:!1})}))})}},4196:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(N,B,R,W){return new(R||(R=Promise))(function(F,U){function G(he){try{J(W.next(he))}catch(ce){U(ce)}}function K(he){try{J(W.throw(he))}catch(ce){U(ce)}}function J(he){he.done?F(he.value):new R(function(ce){ce(he.value)}).then(G,K)}J((W=W.apply(N,B||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const S=v(4314),P=v(989);ie.perClassAccuracy=function(N,B,R){return $(this,void 0,void 0,function*(){const W=S.getDrawArea(N),U=[];for(let G=0;G<B.length;G++){const K=R?R[G]:G.toString(),J=B[G];U.push([K,J.accuracy,J.count])}return P.table(W,{headers:["Class","Accuracy","# Samples"],values:U})})}},6349:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(B,R,W,F){return new(W||(W=Promise))(function(U,G){function K(ce){try{he(F.next(ce))}catch(Ae){G(Ae)}}function J(ce){try{he(F.throw(ce))}catch(Ae){G(Ae)}}function he(ce){ce.done?U(ce.value):new W(function(Ae){Ae(ce.value)}).then(K,J)}he((F=F.apply(B,R||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const S=v(4704),P=v(4314),I=v(3262);ie.valuesDistribution=function(B,R){return $(this,void 0,void 0,function*(){const W=P.getDrawArea(B),F=yield I.tensorStats(R),U=yield R.data();S.histogram(W,U,{height:150,stats:F})})}},9594:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.isSurfaceInfo=function(S){return null!=S.name},ie.isSurface=function(S){return S.drawArea instanceof HTMLElement}},9911:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});const $=v(5357),S=v(4314),P={prepend:!1};ie.subSurface=function(R,W,F={}){const U=S.getDrawArea(R),G=$.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),K=$.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),J=Object.assign({},P,F);let he=U.querySelector(`div[data-name=${W}]`);if(!he){if(he=document.createElement("div"),he.setAttribute("class",`${G}`),he.dataset.name=W,J.title){const ce=document.createElement("div");ce.setAttribute("class",`subsurface-title ${K}`),ce.innerText=J.title,he.appendChild(ce)}J.prepend?U.insertBefore(he,U.firstChild):U.appendChild(he)}return he},ie.getDefaultWidth=function(R){let F=0,U=R;for(;U&&0===U.clientWidth;)U=U.parentElement,F=50;return U.clientWidth-F},ie.getDefaultHeight=function(R){return 0===R.clientHeight?200:R.clientHeight}},3262:function(be,ie,v){"use strict";var $=this&&this.__awaiter||function(F,U,G,K){return new(G||(G=Promise))(function(J,he){function ce(Ie){try{je(K.next(Ie))}catch(ze){he(ze)}}function Ae(Ie){try{je(K.throw(Ie))}catch(ze){he(ze)}}function je(Ie){Ie.done?J(Ie.value):new G(function(ze){ze(Ie.value)}).then(ce,Ae)}je((K=K.apply(F,U||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const S=v(706),P=v(709);ie.arrayStats=function(F){if(!Array.isArray(F))throw new Error("input must be an array");if(0===F.length)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};const U=F.length;let G=-1/0,K=1/0,J=0,he=0,ce=0;for(let je=0;je<U;je++){const Ie=F[je];Ie>G&&(G=Ie),Ie<K&&(K=Ie),0===Ie&&(J+=1),isNaN(Ie)?he+=1:isFinite(Ie)||(ce+=1)}const Ae={numVals:U,numZeros:J,numNans:he,max:G,min:K,numInfs:ce};return Ae.max===-1/0&&(Ae.max=NaN),Ae.min===1/0&&(Ae.min=NaN),Ae},ie.tensorStats=function(F){return $(this,void 0,void 0,function*(){const[U,G,K]=S.tidy(()=>{const J=S.scalar(0,F.dtype);return[F.min(),F.max(),F.equal(J).sum()]});return Promise.all([F.data(),U.data(),G.data(),K.data()]).then(([J,he,ce,Ae])=>{const je=J.length;let Ie=0,ze=0;for(let ge=0;ge<je;ge++){const we=J[ge];isNaN(we)?Ie+=1:isFinite(we)||(ze+=1)}let et=he[0],Te=ce[0];return Ie===je&&(et=NaN,Te=NaN),{numVals:je,numZeros:Ae[0],numNans:Ie,min:et,max:Te,numInfs:ze}})})},ie.confusionMatrix=function(F,U,G,K){return $(this,void 0,void 0,function*(){P.assert(1===F.rank,"labels must be a 1D tensor"),P.assert(1===U.rank,"predictions must be a 1D tensor"),P.assert(F.size===U.size,"labels and predictions must be the same length"),null!=K&&P.assert(K.size===U.size,"labels and predictions must be the same length");const J=F.cast("int32"),he=U.cast("int32");null==G&&(G=S.tidy(()=>S.maximum(J.max(),he.max()).cast("int32").dataSync()[0]+1));let ce=Promise.resolve(null);return null!=K&&(ce=K.data()),Promise.all([J.data(),he.data(),ce]).then(([Ae,je,Ie])=>{const ze=Array(G).fill(0);for(let et=0;et<G;et++)ze[et]=Array(G).fill(0);for(let et=0;et<Ae.length;et++){ze[Ae[et]][je[et]]+=null!=Ie?Ie[et]:1}return ze})})},ie.accuracy=function(F,U){return $(this,void 0,void 0,function*(){P.assertShapesMatch(F.shape,U.shape,"Error computing accuracy.");const G=F.equal(U),K=G.mean(),J=(yield K.data())[0];return S.dispose([G,K]),J})},ie.perClassAccuracy=function(F,U,G){return $(this,void 0,void 0,function*(){return P.assert(1===F.rank,"labels must be a 1D tensor"),P.assert(1===U.rank,"predictions must be a 1D tensor"),P.assert(F.size===U.size,"labels and predictions must be the same length"),null==G&&(G=S.tidy(()=>S.maximum(F.max(),U.max()).dataSync()[0]+1)),Promise.all([F.data(),U.data()]).then(([K,J])=>{const he=Array(G).fill(0),ce=Array(G).fill(0);for(let je=0;je<K.length;je++){const Ie=K[je],ze=J[je];he[Ie]+=1,Ie===ze&&(ce[Ie]+=1)}const Ae=[];for(let je=0;je<he.length;je++)Ae.push({count:he[je],accuracy:0===he[je]?0:ce[je]/he[je]});return Ae})})}},709:(be,ie)=>{"use strict";function v(P,I){if(!P)throw new Error("string"==typeof I?I:I())}function S(P,I){if(P.length!==I.length)return!1;for(let N=0;N<P.length;N++)if(P[N]!==I[N])return!1;return!0}Object.defineProperty(ie,"__esModule",{value:!0}),ie.assert=v,ie.assertShapesMatch=function(P,I,N=""){v(S(P,I),N+` Shapes ${P} and ${I} must match`)},ie.arraysEqual=S,ie.DECIMAL_PLACES_TO_CHECK=4},5419:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.version="1.5.1"},3972:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});const $=v(9573);let S;const I="tfjs-visor-container";ie.visor=function(){if("undefined"==typeof document)throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(I)&&null!=S)return S;let W,R=document.getElementById(I);function F(K,J){let he=null;return W=$.VisorComponent.render(K,W,{ref:ce=>he=ce,surfaceList:Array.from(J.values())}),he}null==R&&(R=document.createElement("div"),R.id=I,document.body.appendChild(R));const U=new Map,G=F(R,U);return S=new B(G,R,U,F),S};class B{constructor(W,F,U,G){this.visorComponent=W,this.el=F,this.surfaceList=U,this.renderVisor=G}surface(W){const{name:F}=W,U=null==W.tab?"Visor":W.tab;if(null==F||!("string"==typeof F||F instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");const G=Object.assign({},W,{tab:U}),K=`${F}-${U}`;return this.surfaceList.has(K)||this.surfaceList.set(K,G),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(F,U)}isFullscreen(){return this.visorComponent.isFullscreen()}isOpen(){return this.visorComponent.isOpen()}close(){return this.visorComponent.close()}open(){return this.visorComponent.open()}toggle(){return this.visorComponent.toggle()}toggleFullScreen(){return this.visorComponent.toggleFullScreen()}bindKeys(){return this.visorComponent.bindKeys()}unbindKeys(){return this.visorComponent.unbindKeys()}setActiveTab(W){if(!this.visorComponent.state.tabs.has(W))throw new Error(`Tab '${W}' does not exist`);this.visorComponent.setState({activeTab:W})}}ie.Visor=B},6823:function(be,ie,v){be.exports=function($){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$;var I={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},N=function(g,D){return g(D={exports:{}},D.exports),D.exports}(function(g){var D={};for(var A in I)I.hasOwnProperty(A)&&(D[I[A]]=A);var k=g.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var j in k)if(k.hasOwnProperty(j)){if(!("channels"in k[j]))throw new Error("missing channels property: "+j);if(!("labels"in k[j]))throw new Error("missing channel labels property: "+j);if(k[j].labels.length!==k[j].channels)throw new Error("channel and label counts mismatch: "+j);var ee=k[j].channels,le=k[j].labels;delete k[j].channels,delete k[j].labels,Object.defineProperty(k[j],"channels",{value:ee}),Object.defineProperty(k[j],"labels",{value:le})}function _e(de,ve){return Math.pow(de[0]-ve[0],2)+Math.pow(de[1]-ve[1],2)+Math.pow(de[2]-ve[2],2)}k.rgb.hsl=function(de){var bt,xn,ve=de[0]/255,Ne=de[1]/255,Fe=de[2]/255,Je=Math.min(ve,Ne,Fe),pt=Math.max(ve,Ne,Fe),gt=pt-Je;return pt===Je?bt=0:ve===pt?bt=(Ne-Fe)/gt:Ne===pt?bt=2+(Fe-ve)/gt:Fe===pt&&(bt=4+(ve-Ne)/gt),(bt=Math.min(60*bt,360))<0&&(bt+=360),xn=(Je+pt)/2,[bt,100*(pt===Je?0:xn<=.5?gt/(pt+Je):gt/(2-pt-Je)),100*xn]},k.rgb.hsv=function(de){var ve,Ne,Fe,Je,pt,gt=de[0]/255,bt=de[1]/255,Lt=de[2]/255,xn=Math.max(gt,bt,Lt),cr=xn-Math.min(gt,bt,Lt),br=function(ci){return(xn-ci)/6/cr+.5};return 0===cr?Je=pt=0:(pt=cr/xn,ve=br(gt),Ne=br(bt),Fe=br(Lt),gt===xn?Je=Fe-Ne:bt===xn?Je=1/3+ve-Fe:Lt===xn&&(Je=2/3+Ne-ve),Je<0?Je+=1:Je>1&&(Je-=1)),[360*Je,100*pt,100*xn]},k.rgb.hwb=function(de){var ve=de[0],Ne=de[1],Fe=de[2];return[k.rgb.hsl(de)[0],1/255*Math.min(ve,Math.min(Ne,Fe))*100,100*(Fe=1-1/255*Math.max(ve,Math.max(Ne,Fe)))]},k.rgb.cmyk=function(de){var bt,ve=de[0]/255,Ne=de[1]/255,Fe=de[2]/255;return[100*((1-ve-(bt=Math.min(1-ve,1-Ne,1-Fe)))/(1-bt)||0),100*((1-Ne-bt)/(1-bt)||0),100*((1-Fe-bt)/(1-bt)||0),100*bt]},k.rgb.keyword=function(de){var ve=D[de];if(ve)return ve;var Fe,Ne=1/0;for(var Je in I)if(I.hasOwnProperty(Je)){var gt=_e(de,I[Je]);gt<Ne&&(Ne=gt,Fe=Je)}return Fe},k.keyword.rgb=function(de){return I[de]},k.rgb.xyz=function(de){var ve=de[0]/255,Ne=de[1]/255,Fe=de[2]/255;return[100*(.4124*(ve=ve>.04045?Math.pow((ve+.055)/1.055,2.4):ve/12.92)+.3576*(Ne=Ne>.04045?Math.pow((Ne+.055)/1.055,2.4):Ne/12.92)+.1805*(Fe=Fe>.04045?Math.pow((Fe+.055)/1.055,2.4):Fe/12.92)),100*(.2126*ve+.7152*Ne+.0722*Fe),100*(.0193*ve+.1192*Ne+.9505*Fe)]},k.rgb.lab=function(de){var ve=k.rgb.xyz(de),Ne=ve[0],Fe=ve[1],Je=ve[2];return Fe/=100,Je/=108.883,Ne=(Ne/=95.047)>.008856?Math.pow(Ne,1/3):7.787*Ne+16/116,[116*(Fe=Fe>.008856?Math.pow(Fe,1/3):7.787*Fe+16/116)-16,500*(Ne-Fe),200*(Fe-(Je=Je>.008856?Math.pow(Je,1/3):7.787*Je+16/116))]},k.hsl.rgb=function(de){var Je,pt,gt,bt,Lt,ve=de[0]/360,Ne=de[1]/100,Fe=de[2]/100;if(0===Ne)return[Lt=255*Fe,Lt,Lt];Je=2*Fe-(pt=Fe<.5?Fe*(1+Ne):Fe+Ne-Fe*Ne),bt=[0,0,0];for(var xn=0;xn<3;xn++)(gt=ve+1/3*-(xn-1))<0&&gt++,gt>1&&gt--,bt[xn]=255*(Lt=6*gt<1?Je+6*(pt-Je)*gt:2*gt<1?pt:3*gt<2?Je+(pt-Je)*(2/3-gt)*6:Je);return bt},k.hsl.hsv=function(de){var ve=de[0],Ne=de[1]/100,Fe=de[2]/100,Je=Ne,pt=Math.max(Fe,.01);return Ne*=(Fe*=2)<=1?Fe:2-Fe,Je*=pt<=1?pt:2-pt,[ve,100*(0===Fe?2*Je/(pt+Je):2*Ne/(Fe+Ne)),(Fe+Ne)/2*100]},k.hsv.rgb=function(de){var ve=de[0]/60,Ne=de[1]/100,Fe=de[2]/100,Je=Math.floor(ve)%6,pt=ve-Math.floor(ve),gt=255*Fe*(1-Ne),bt=255*Fe*(1-Ne*pt),Lt=255*Fe*(1-Ne*(1-pt));switch(Fe*=255,Je){case 0:return[Fe,Lt,gt];case 1:return[bt,Fe,gt];case 2:return[gt,Fe,Lt];case 3:return[gt,bt,Fe];case 4:return[Lt,gt,Fe];case 5:return[Fe,gt,bt]}},k.hsv.hsl=function(de){var pt,gt,bt,ve=de[0],Ne=de[1]/100,Fe=de[2]/100,Je=Math.max(Fe,.01);return bt=(2-Ne)*Fe,gt=Ne*Je,[ve,100*(gt=(gt/=(pt=(2-Ne)*Je)<=1?pt:2-pt)||0),100*(bt/=2)]},k.hwb.rgb=function(de){var pt,gt,bt,Lt,xn,cr,br,ve=de[0]/360,Ne=de[1]/100,Fe=de[2]/100,Je=Ne+Fe;switch(Je>1&&(Ne/=Je,Fe/=Je),bt=6*ve-(pt=Math.floor(6*ve)),0!=(1&pt)&&(bt=1-bt),Lt=Ne+bt*((gt=1-Fe)-Ne),pt){default:case 6:case 0:xn=gt,cr=Lt,br=Ne;break;case 1:xn=Lt,cr=gt,br=Ne;break;case 2:xn=Ne,cr=gt,br=Lt;break;case 3:xn=Ne,cr=Lt,br=gt;break;case 4:xn=Lt,cr=Ne,br=gt;break;case 5:xn=gt,cr=Ne,br=Lt}return[255*xn,255*cr,255*br]},k.cmyk.rgb=function(de){var Ne=de[1]/100,Fe=de[2]/100,Je=de[3]/100;return[255*(1-Math.min(1,de[0]/100*(1-Je)+Je)),255*(1-Math.min(1,Ne*(1-Je)+Je)),255*(1-Math.min(1,Fe*(1-Je)+Je))]},k.xyz.rgb=function(de){var Je,pt,gt,ve=de[0]/100,Ne=de[1]/100,Fe=de[2]/100;return pt=-.9689*ve+1.8758*Ne+.0415*Fe,gt=.0557*ve+-.204*Ne+1.057*Fe,Je=(Je=3.2406*ve+-1.5372*Ne+-.4986*Fe)>.0031308?1.055*Math.pow(Je,1/2.4)-.055:12.92*Je,pt=pt>.0031308?1.055*Math.pow(pt,1/2.4)-.055:12.92*pt,gt=gt>.0031308?1.055*Math.pow(gt,1/2.4)-.055:12.92*gt,[255*(Je=Math.min(Math.max(0,Je),1)),255*(pt=Math.min(Math.max(0,pt),1)),255*(gt=Math.min(Math.max(0,gt),1))]},k.xyz.lab=function(de){var ve=de[0],Ne=de[1],Fe=de[2];return Ne/=100,Fe/=108.883,ve=(ve/=95.047)>.008856?Math.pow(ve,1/3):7.787*ve+16/116,[116*(Ne=Ne>.008856?Math.pow(Ne,1/3):7.787*Ne+16/116)-16,500*(ve-Ne),200*(Ne-(Fe=Fe>.008856?Math.pow(Fe,1/3):7.787*Fe+16/116))]},k.lab.xyz=function(de){var Je,pt,gt;Je=de[1]/500+(pt=(de[0]+16)/116),gt=pt-de[2]/200;var bt=Math.pow(pt,3),Lt=Math.pow(Je,3),xn=Math.pow(gt,3);return pt=bt>.008856?bt:(pt-16/116)/7.787,Je=Lt>.008856?Lt:(Je-16/116)/7.787,gt=xn>.008856?xn:(gt-16/116)/7.787,[Je*=95.047,pt*=100,gt*=108.883]},k.lab.lch=function(de){var pt,ve=de[0],Ne=de[1],Fe=de[2];return(pt=360*Math.atan2(Fe,Ne)/2/Math.PI)<0&&(pt+=360),[ve,Math.sqrt(Ne*Ne+Fe*Fe),pt]},k.lch.lab=function(de){var gt,Ne=de[1];return gt=de[2]/360*2*Math.PI,[de[0],Ne*Math.cos(gt),Ne*Math.sin(gt)]},k.rgb.ansi16=function(de){var ve=de[0],Ne=de[1],Fe=de[2],Je=1 in arguments?arguments[1]:k.rgb.hsv(de)[2];if(0===(Je=Math.round(Je/50)))return 30;var pt=30+(Math.round(Fe/255)<<2|Math.round(Ne/255)<<1|Math.round(ve/255));return 2===Je&&(pt+=60),pt},k.hsv.ansi16=function(de){return k.rgb.ansi16(k.hsv.rgb(de),de[2])},k.rgb.ansi256=function(de){var ve=de[0],Ne=de[1],Fe=de[2];return ve===Ne&&Ne===Fe?ve<8?16:ve>248?231:Math.round((ve-8)/247*24)+232:16+36*Math.round(ve/255*5)+6*Math.round(Ne/255*5)+Math.round(Fe/255*5)},k.ansi16.rgb=function(de){var ve=de%10;if(0===ve||7===ve)return de>50&&(ve+=3.5),[ve=ve/10.5*255,ve,ve];var Ne=.5*(1+~~(de>50));return[(1&ve)*Ne*255,(ve>>1&1)*Ne*255,(ve>>2&1)*Ne*255]},k.ansi256.rgb=function(de){if(de>=232){var ve=10*(de-232)+8;return[ve,ve,ve]}var Ne;return de-=16,[Math.floor(de/36)/5*255,Math.floor((Ne=de%36)/6)/5*255,Ne%6/5*255]},k.rgb.hex=function(de){var Ne=(((255&Math.round(de[0]))<<16)+((255&Math.round(de[1]))<<8)+(255&Math.round(de[2]))).toString(16).toUpperCase();return"000000".substring(Ne.length)+Ne},k.hex.rgb=function(de){var ve=de.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!ve)return[0,0,0];var Ne=ve[0];3===ve[0].length&&(Ne=Ne.split("").map(function(bt){return bt+bt}).join(""));var Fe=parseInt(Ne,16);return[Fe>>16&255,Fe>>8&255,255&Fe]},k.rgb.hcg=function(de){var Lt,ve=de[0]/255,Ne=de[1]/255,Fe=de[2]/255,Je=Math.max(Math.max(ve,Ne),Fe),pt=Math.min(Math.min(ve,Ne),Fe),gt=Je-pt;return Lt=gt<=0?0:Je===ve?(Ne-Fe)/gt%6:Je===Ne?2+(Fe-ve)/gt:4+(ve-Ne)/gt+4,Lt/=6,[360*(Lt%=1),100*gt,100*(gt<1?pt/(1-gt):0)]},k.hsl.hcg=function(de){var Fe,ve=de[1]/100,Ne=de[2]/100,Je=0;return(Fe=Ne<.5?2*ve*Ne:2*ve*(1-Ne))<1&&(Je=(Ne-.5*Fe)/(1-Fe)),[de[0],100*Fe,100*Je]},k.hsv.hcg=function(de){var Ne=de[2]/100,Fe=de[1]/100*Ne,Je=0;return Fe<1&&(Je=(Ne-Fe)/(1-Fe)),[de[0],100*Fe,100*Je]},k.hcg.rgb=function(de){var Ne=de[1]/100,Fe=de[2]/100;if(0===Ne)return[255*Fe,255*Fe,255*Fe];var Lt,Je=[0,0,0],pt=de[0]/360%1*6,gt=pt%1,bt=1-gt;switch(Math.floor(pt)){case 0:Je[0]=1,Je[1]=gt,Je[2]=0;break;case 1:Je[0]=bt,Je[1]=1,Je[2]=0;break;case 2:Je[0]=0,Je[1]=1,Je[2]=gt;break;case 3:Je[0]=0,Je[1]=bt,Je[2]=1;break;case 4:Je[0]=gt,Je[1]=0,Je[2]=1;break;default:Je[0]=1,Je[1]=0,Je[2]=bt}return[255*(Ne*Je[0]+(Lt=(1-Ne)*Fe)),255*(Ne*Je[1]+Lt),255*(Ne*Je[2]+Lt)]},k.hcg.hsv=function(de){var ve=de[1]/100,Fe=ve+de[2]/100*(1-ve),Je=0;return Fe>0&&(Je=ve/Fe),[de[0],100*Je,100*Fe]},k.hcg.hsl=function(de){var ve=de[1]/100,Fe=de[2]/100*(1-ve)+.5*ve,Je=0;return Fe>0&&Fe<.5?Je=ve/(2*Fe):Fe>=.5&&Fe<1&&(Je=ve/(2*(1-Fe))),[de[0],100*Je,100*Fe]},k.hcg.hwb=function(de){var ve=de[1]/100,Fe=ve+de[2]/100*(1-ve);return[de[0],100*(Fe-ve),100*(1-Fe)]},k.hwb.hcg=function(de){var Fe=1-de[2]/100,Je=Fe-de[1]/100,pt=0;return Je<1&&(pt=(Fe-Je)/(1-Je)),[de[0],100*Je,100*pt]},k.apple.rgb=function(de){return[de[0]/65535*255,de[1]/65535*255,de[2]/65535*255]},k.rgb.apple=function(de){return[de[0]/255*65535,de[1]/255*65535,de[2]/255*65535]},k.gray.rgb=function(de){return[de[0]/100*255,de[0]/100*255,de[0]/100*255]},k.gray.hsl=k.gray.hsv=function(de){return[0,0,de[0]]},k.gray.hwb=function(de){return[0,100,de[0]]},k.gray.cmyk=function(de){return[0,0,0,de[0]]},k.gray.lab=function(de){return[de[0],0,0]},k.gray.hex=function(de){var ve=255&Math.round(de[0]/100*255),Fe=((ve<<16)+(ve<<8)+ve).toString(16).toUpperCase();return"000000".substring(Fe.length)+Fe},k.rgb.gray=function(de){return[(de[0]+de[1]+de[2])/3/255*100]}});function We(g){var D=function(){for(var g={},D=Object.keys(N),A=D.length,k=0;k<A;k++)g[D[k]]={distance:-1,parent:null};return g}(),A=[g];for(D[g].distance=0;A.length;)for(var k=A.pop(),j=Object.keys(N[k]),ee=j.length,le=0;le<ee;le++){var _e=j[le],de=D[_e];-1===de.distance&&(de.distance=D[k].distance+1,de.parent=k,A.unshift(_e))}return D}function ge(g,D){return function(A){return D(g(A))}}function we(g,D){for(var A=[D[g].parent,g],k=N[D[g].parent][g],j=D[g].parent;D[j].parent;)A.unshift(D[j].parent),k=ge(N[D[j].parent][j],k),j=D[j].parent;return k.conversion=A,k}var re={};Object.keys(N).forEach(function(g){re[g]={},Object.defineProperty(re[g],"channels",{value:N[g].channels}),Object.defineProperty(re[g],"labels",{value:N[g].labels});var D=function(g){for(var D=We(g),A={},k=Object.keys(D),j=k.length,ee=0;ee<j;ee++){var le=k[ee];null!==D[le].parent&&(A[le]=we(le,D))}return A}(g);Object.keys(D).forEach(function(k){var j=D[k];re[g][k]=function(g){var D=function(A){if(null==A)return A;arguments.length>1&&(A=Array.prototype.slice.call(arguments));var k=g(A);if("object"==typeof k)for(var j=k.length,ee=0;ee<j;ee++)k[ee]=Math.round(k[ee]);return k};return"conversion"in g&&(D.conversion=g.conversion),D}(j),re[g][k].raw=function(g){var D=function(A){return null==A?A:(arguments.length>1&&(A=Array.prototype.slice.call(arguments)),g(A))};return"conversion"in g&&(D.conversion=g.conversion),D}(j)})});var Ke=re,Qe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rt={getRgba:st,getHsla:ft,getRgb:function(g){var D=st(g);return D&&D.slice(0,3)},getHsl:function(g){var D=ft(g);return D&&D.slice(0,3)},getHwb:kt,getAlpha:function(g){var D=st(g);return D||(D=ft(g))||(D=kt(g))?D[3]:void 0},hexString:function(g,D){return D=void 0!==D&&3===g.length?D:g[3],"#"+nt(g[0])+nt(g[1])+nt(g[2])+(D>=0&&D<1?nt(Math.round(255*D)):"")},rgbString:function(g,D){return D<1||g[3]&&g[3]<1?cn(g,D):"rgb("+g[0]+", "+g[1]+", "+g[2]+")"},rgbaString:cn,percentString:function(g,D){return D<1||g[3]&&g[3]<1?mi(g,D):"rgb("+Math.round(g[0]/255*100)+"%, "+Math.round(g[1]/255*100)+"%, "+Math.round(g[2]/255*100)+"%)"},percentaString:mi,hslString:function(g,D){return D<1||g[3]&&g[3]<1?Vt(g,D):"hsl("+g[0]+", "+g[1]+"%, "+g[2]+"%)"},hslaString:Vt,hwbString:function(g,D){return void 0===D&&(D=void 0!==g[3]?g[3]:1),"hwb("+g[0]+", "+g[1]+"%, "+g[2]+"%"+(void 0!==D&&1!==D?", "+D:"")+")"},keyword:function(g){return Et[g.slice(0,3)]}};function st(g){if(g){var le=[0,0,0],_e=1,de=g.match(/^#([a-fA-F0-9]{3,4})$/i),ve="";if(de){ve=(de=de[1])[3];for(var Ne=0;Ne<le.length;Ne++)le[Ne]=parseInt(de[Ne]+de[Ne],16);ve&&(_e=Math.round(parseInt(ve+ve,16)/255*100)/100)}else if(de=g.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(ve=de[2],de=de[1],Ne=0;Ne<le.length;Ne++)le[Ne]=parseInt(de.slice(2*Ne,2*Ne+2),16);ve&&(_e=Math.round(parseInt(ve,16)/255*100)/100)}else if(de=g.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(Ne=0;Ne<le.length;Ne++)le[Ne]=parseInt(de[Ne+1]);_e=parseFloat(de[4])}else if(de=g.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(Ne=0;Ne<le.length;Ne++)le[Ne]=Math.round(2.55*parseFloat(de[Ne+1]));_e=parseFloat(de[4])}else if(de=g.match(/(\w+)/)){if("transparent"==de[1])return[0,0,0,0];if(!(le=Qe[de[1]]))return}for(Ne=0;Ne<le.length;Ne++)le[Ne]=kn(le[Ne],0,255);return _e=_e||0==_e?kn(_e,0,1):1,le[3]=_e,le}}function ft(g){if(g){var A=g.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(A){var k=parseFloat(A[4]);return[kn(parseInt(A[1]),0,360),kn(parseFloat(A[2]),0,100),kn(parseFloat(A[3]),0,100),kn(isNaN(k)?1:k,0,1)]}}}function kt(g){if(g){var A=g.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(A){var k=parseFloat(A[4]);return[kn(parseInt(A[1]),0,360),kn(parseFloat(A[2]),0,100),kn(parseFloat(A[3]),0,100),kn(isNaN(k)?1:k,0,1)]}}}function cn(g,D){return void 0===D&&(D=void 0!==g[3]?g[3]:1),"rgba("+g[0]+", "+g[1]+", "+g[2]+", "+D+")"}function mi(g,D){return"rgba("+Math.round(g[0]/255*100)+"%, "+Math.round(g[1]/255*100)+"%, "+Math.round(g[2]/255*100)+"%, "+(D||g[3]||1)+")"}function Vt(g,D){return void 0===D&&(D=void 0!==g[3]?g[3]:1),"hsla("+g[0]+", "+g[1]+"%, "+g[2]+"%, "+D+")"}function kn(g,D,A){return Math.min(Math.max(D,g),A)}function nt(g){var D=g.toString(16).toUpperCase();return D.length<2?"0"+D:D}var Et={};for(var zt in Qe)Et[Qe[zt]]=zt;var an=function(g){return g instanceof an?g:this instanceof an?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof g?(D=rt.getRgba(g))?this.setValues("rgb",D):(D=rt.getHsla(g))?this.setValues("hsl",D):(D=rt.getHwb(g))&&this.setValues("hwb",D):"object"==typeof g&&(void 0!==(D=g).r||void 0!==D.red?this.setValues("rgb",D):void 0!==D.l||void 0!==D.lightness?this.setValues("hsl",D):void 0!==D.v||void 0!==D.value?this.setValues("hsv",D):void 0!==D.w||void 0!==D.whiteness?this.setValues("hwb",D):(void 0!==D.c||void 0!==D.cyan)&&this.setValues("cmyk",D)))):new an(g);var D};an.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var g=this.values;return 1!==g.alpha?g.hwb.concat([g.alpha]):g.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var g=this.values;return g.rgb.concat([g.alpha])},hslaArray:function(){var g=this.values;return g.hsl.concat([g.alpha])},alpha:function(g){return void 0===g?this.values.alpha:(this.setValues("alpha",g),this)},red:function(g){return this.setChannel("rgb",0,g)},green:function(g){return this.setChannel("rgb",1,g)},blue:function(g){return this.setChannel("rgb",2,g)},hue:function(g){return g&&(g=(g%=360)<0?360+g:g),this.setChannel("hsl",0,g)},saturation:function(g){return this.setChannel("hsl",1,g)},lightness:function(g){return this.setChannel("hsl",2,g)},saturationv:function(g){return this.setChannel("hsv",1,g)},whiteness:function(g){return this.setChannel("hwb",1,g)},blackness:function(g){return this.setChannel("hwb",2,g)},value:function(g){return this.setChannel("hsv",2,g)},cyan:function(g){return this.setChannel("cmyk",0,g)},magenta:function(g){return this.setChannel("cmyk",1,g)},yellow:function(g){return this.setChannel("cmyk",2,g)},black:function(g){return this.setChannel("cmyk",3,g)},hexString:function(){return rt.hexString(this.values.rgb)},rgbString:function(){return rt.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return rt.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return rt.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return rt.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return rt.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return rt.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return rt.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var g=this.values.rgb;return g[0]<<16|g[1]<<8|g[2]},luminosity:function(){for(var g=this.values.rgb,D=[],A=0;A<g.length;A++){var k=g[A]/255;D[A]=k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4)}return.2126*D[0]+.7152*D[1]+.0722*D[2]},contrast:function(g){var D=this.luminosity(),A=g.luminosity();return D>A?(D+.05)/(A+.05):(A+.05)/(D+.05)},level:function(g){var D=this.contrast(g);return D>=7.1?"AAA":D>=4.5?"AA":""},dark:function(){var g=this.values.rgb;return(299*g[0]+587*g[1]+114*g[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var g=[],D=0;D<3;D++)g[D]=255-this.values.rgb[D];return this.setValues("rgb",g),this},lighten:function(g){var D=this.values.hsl;return D[2]+=D[2]*g,this.setValues("hsl",D),this},darken:function(g){var D=this.values.hsl;return D[2]-=D[2]*g,this.setValues("hsl",D),this},saturate:function(g){var D=this.values.hsl;return D[1]+=D[1]*g,this.setValues("hsl",D),this},desaturate:function(g){var D=this.values.hsl;return D[1]-=D[1]*g,this.setValues("hsl",D),this},whiten:function(g){var D=this.values.hwb;return D[1]+=D[1]*g,this.setValues("hwb",D),this},blacken:function(g){var D=this.values.hwb;return D[2]+=D[2]*g,this.setValues("hwb",D),this},greyscale:function(){var g=this.values.rgb,D=.3*g[0]+.59*g[1]+.11*g[2];return this.setValues("rgb",[D,D,D]),this},clearer:function(g){var D=this.values.alpha;return this.setValues("alpha",D-D*g),this},opaquer:function(g){var D=this.values.alpha;return this.setValues("alpha",D+D*g),this},rotate:function(g){var D=this.values.hsl,A=(D[0]+g)%360;return D[0]=A<0?360+A:A,this.setValues("hsl",D),this},mix:function(g,D){var A=this,k=g,j=void 0===D?.5:D,ee=2*j-1,le=A.alpha()-k.alpha(),_e=((ee*le==-1?ee:(ee+le)/(1+ee*le))+1)/2,de=1-_e;return this.rgb(_e*A.red()+de*k.red(),_e*A.green()+de*k.green(),_e*A.blue()+de*k.blue()).alpha(A.alpha()*j+k.alpha()*(1-j))},toJSON:function(){return this.rgb()},clone:function(){var k,j,g=new an,D=this.values,A=g.values;for(var ee in D)D.hasOwnProperty(ee)&&("[object Array]"===(j={}.toString.call(k=D[ee]))?A[ee]=k.slice(0):"[object Number]"===j?A[ee]=k:console.error("unexpected color value:",k));return g}},an.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},an.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},an.prototype.getValues=function(g){for(var D=this.values,A={},k=0;k<g.length;k++)A[g.charAt(k)]=D[g][k];return 1!==D.alpha&&(A.a=D.alpha),A},an.prototype.setValues=function(g,D){var le,de,A=this.values,k=this.spaces,j=this.maxes,ee=1;if(this.valid=!0,"alpha"===g)ee=D;else if(D.length)A[g]=D.slice(0,g.length),ee=D[g.length];else if(void 0!==D[g.charAt(0)]){for(le=0;le<g.length;le++)A[g][le]=D[g.charAt(le)];ee=D.a}else if(void 0!==D[k[g][0]]){var _e=k[g];for(le=0;le<g.length;le++)A[g][le]=D[_e[le]];ee=D.alpha}if(A.alpha=Math.max(0,Math.min(1,void 0===ee?A.alpha:ee)),"alpha"===g)return!1;for(le=0;le<g.length;le++)de=Math.max(0,Math.min(j[g][le],A[g][le])),A[g][le]=Math.round(de);for(var ve in k)ve!==g&&(A[ve]=Ke[g][ve](A[g]));return!0},an.prototype.setSpace=function(g,D){var A=D[0];return void 0===A?this.getValues(g):("number"==typeof A&&(A=Array.prototype.slice.call(D)),this.setValues(g,A),this)},an.prototype.setChannel=function(g,D,A){var k=this.values[g];return void 0===A?k[D]:(A===k[D]||(k[D]=A,this.setValues(g,k)),this)},"undefined"!=typeof window&&(window.Color=an);var ar=an;function xr(g){return-1===["__proto__","prototype","constructor"].indexOf(g)}var g,Tn={noop:function(){},uid:(g=0,function(){return g++}),isNullOrUndef:function(g){return null==g},isArray:function(g){if(Array.isArray&&Array.isArray(g))return!0;var D=Object.prototype.toString.call(g);return"[object"===D.substr(0,7)&&"Array]"===D.substr(-6)},isObject:function(g){return null!==g&&"[object Object]"===Object.prototype.toString.call(g)},isFinite:function(g){return("number"==typeof g||g instanceof Number)&&isFinite(g)},valueOrDefault:function(g,D){return void 0===g?D:g},valueAtIndexOrDefault:function(g,D,A){return Tn.valueOrDefault(Tn.isArray(g)?g[D]:g,A)},callback:function(g,D,A){if(g&&"function"==typeof g.call)return g.apply(A,D)},each:function(g,D,A,k){var j,ee,le;if(Tn.isArray(g))if(ee=g.length,k)for(j=ee-1;j>=0;j--)D.call(A,g[j],j);else for(j=0;j<ee;j++)D.call(A,g[j],j);else if(Tn.isObject(g))for(ee=(le=Object.keys(g)).length,j=0;j<ee;j++)D.call(A,g[le[j]],le[j])},arrayEquals:function(g,D){var A,k,j,ee;if(!g||!D||g.length!==D.length)return!1;for(A=0,k=g.length;A<k;++A)if(ee=D[A],(j=g[A])instanceof Array&&ee instanceof Array){if(!Tn.arrayEquals(j,ee))return!1}else if(j!==ee)return!1;return!0},clone:function(g){if(Tn.isArray(g))return g.map(Tn.clone);if(Tn.isObject(g)){for(var D=Object.create(g),A=Object.keys(g),k=A.length,j=0;j<k;++j)D[A[j]]=Tn.clone(g[A[j]]);return D}return g},_merger:function(g,D,A,k){if(xr(g)){var j=D[g],ee=A[g];Tn.isObject(j)&&Tn.isObject(ee)?Tn.merge(j,ee,k):D[g]=Tn.clone(ee)}},_mergerIf:function(g,D,A){if(xr(g)){var k=D[g],j=A[g];Tn.isObject(k)&&Tn.isObject(j)?Tn.mergeIf(k,j):D.hasOwnProperty(g)||(D[g]=Tn.clone(j))}},merge:function(g,D,A){var ee,le,_e,de,ve,k=Tn.isArray(D)?D:[D],j=k.length;if(!Tn.isObject(g))return g;for(ee=(A=A||{}).merger||Tn._merger,le=0;le<j;++le)if(Tn.isObject(D=k[le]))for(ve=0,de=(_e=Object.keys(D)).length;ve<de;++ve)ee(_e[ve],g,D,A);return g},mergeIf:function(g,D){return Tn.merge(g,D,{merger:Tn._mergerIf})},extend:Object.assign||function(g){return Tn.merge(g,[].slice.call(arguments,1),{merger:function(D,A,k){A[D]=k[D]}})},inherits:function(g){var D=this,A=g&&g.hasOwnProperty("constructor")?g.constructor:function(){return D.apply(this,arguments)},k=function(){this.constructor=A};return k.prototype=D.prototype,A.prototype=new k,A.extend=Tn.inherits,g&&Tn.extend(A.prototype,g),A.__super__=D.prototype,A},_deprecated:function(g,D,A,k){void 0!==D&&console.warn(g+': "'+A+'" is deprecated. Please use "'+k+'" instead')}},ir=Tn;Tn.callCallback=Tn.callback,Tn.indexOf=function(g,D,A){return Array.prototype.indexOf.call(g,D,A)},Tn.getValueOrDefault=Tn.valueOrDefault,Tn.getValueAtIndexOrDefault=Tn.valueAtIndexOrDefault;var Tr={linear:function(g){return g},easeInQuad:function(g){return g*g},easeOutQuad:function(g){return-g*(g-2)},easeInOutQuad:function(g){return(g/=.5)<1?.5*g*g:-.5*(--g*(g-2)-1)},easeInCubic:function(g){return g*g*g},easeOutCubic:function(g){return(g-=1)*g*g+1},easeInOutCubic:function(g){return(g/=.5)<1?.5*g*g*g:.5*((g-=2)*g*g+2)},easeInQuart:function(g){return g*g*g*g},easeOutQuart:function(g){return-((g-=1)*g*g*g-1)},easeInOutQuart:function(g){return(g/=.5)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2)},easeInQuint:function(g){return g*g*g*g*g},easeOutQuint:function(g){return(g-=1)*g*g*g*g+1},easeInOutQuint:function(g){return(g/=.5)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2)},easeInSine:function(g){return 1-Math.cos(g*(Math.PI/2))},easeOutSine:function(g){return Math.sin(g*(Math.PI/2))},easeInOutSine:function(g){return-.5*(Math.cos(Math.PI*g)-1)},easeInExpo:function(g){return 0===g?0:Math.pow(2,10*(g-1))},easeOutExpo:function(g){return 1===g?1:1-Math.pow(2,-10*g)},easeInOutExpo:function(g){return 0===g?0:1===g?1:(g/=.5)<1?.5*Math.pow(2,10*(g-1)):.5*(2-Math.pow(2,-10*--g))},easeInCirc:function(g){return g>=1?g:-(Math.sqrt(1-g*g)-1)},easeOutCirc:function(g){return Math.sqrt(1-(g-=1)*g)},easeInOutCirc:function(g){return(g/=.5)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1)},easeInElastic:function(g){var D=1.70158,A=0,k=1;return 0===g?0:1===g?1:(A||(A=.3),k<1?(k=1,D=A/4):D=A/(2*Math.PI)*Math.asin(1/k),-k*Math.pow(2,10*(g-=1))*Math.sin((g-D)*(2*Math.PI)/A))},easeOutElastic:function(g){var D=1.70158,A=0,k=1;return 0===g?0:1===g?1:(A||(A=.3),k<1?(k=1,D=A/4):D=A/(2*Math.PI)*Math.asin(1/k),k*Math.pow(2,-10*g)*Math.sin((g-D)*(2*Math.PI)/A)+1)},easeInOutElastic:function(g){var D=1.70158,A=0,k=1;return 0===g?0:2==(g/=.5)?1:(A||(A=.45),k<1?(k=1,D=A/4):D=A/(2*Math.PI)*Math.asin(1/k),g<1?k*Math.pow(2,10*(g-=1))*Math.sin((g-D)*(2*Math.PI)/A)*-.5:k*Math.pow(2,-10*(g-=1))*Math.sin((g-D)*(2*Math.PI)/A)*.5+1)},easeInBack:function(g){var D=1.70158;return g*g*((D+1)*g-D)},easeOutBack:function(g){var D=1.70158;return(g-=1)*g*((D+1)*g+D)+1},easeInOutBack:function(g){var D=1.70158;return(g/=.5)<1?g*g*((1+(D*=1.525))*g-D)*.5:.5*((g-=2)*g*((1+(D*=1.525))*g+D)+2)},easeInBounce:function(g){return 1-Tr.easeOutBounce(1-g)},easeOutBounce:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375},easeInOutBounce:function(g){return g<.5?.5*Tr.easeInBounce(2*g):.5*Tr.easeOutBounce(2*g-1)+.5}},hi={effects:Tr};ir.easingEffects=Tr;var mr=Math.PI,ni=mr/180,Ss=2*mr,Ii=mr/2,Pt=mr/4,wr=2*mr/3,Ur={clear:function(g){g.ctx.clearRect(0,0,g.width,g.height)},roundedRect:function(g,D,A,k,j,ee){if(ee){var le=Math.min(ee,j/2,k/2),_e=D+le,de=A+le,ve=D+k-le,Ne=A+j-le;g.moveTo(D,de),_e<ve&&de<Ne?(g.arc(_e,de,le,-mr,-Ii),g.arc(ve,de,le,-Ii,0),g.arc(ve,Ne,le,0,Ii),g.arc(_e,Ne,le,Ii,mr)):_e<ve?(g.moveTo(_e,A),g.arc(ve,de,le,-Ii,Ii),g.arc(_e,de,le,Ii,mr+Ii)):de<Ne?(g.arc(_e,de,le,-mr,0),g.arc(_e,Ne,le,0,mr)):g.arc(_e,de,le,-mr,mr),g.closePath(),g.moveTo(D,A)}else g.rect(D,A,k,j)},drawPoint:function(g,D,A,k,j,ee){var le,_e,de,ve,Ne,Fe=(ee||0)*ni;if(D&&"object"==typeof D&&("[object HTMLImageElement]"===(le=D.toString())||"[object HTMLCanvasElement]"===le))return g.save(),g.translate(k,j),g.rotate(Fe),g.drawImage(D,-D.width/2,-D.height/2,D.width,D.height),void g.restore();if(!(isNaN(A)||A<=0)){switch(g.beginPath(),D){default:g.arc(k,j,A,0,Ss),g.closePath();break;case"triangle":g.moveTo(k+Math.sin(Fe)*A,j-Math.cos(Fe)*A),Fe+=wr,g.lineTo(k+Math.sin(Fe)*A,j-Math.cos(Fe)*A),Fe+=wr,g.lineTo(k+Math.sin(Fe)*A,j-Math.cos(Fe)*A),g.closePath();break;case"rectRounded":ve=A-(Ne=.516*A),_e=Math.cos(Fe+Pt)*ve,de=Math.sin(Fe+Pt)*ve,g.arc(k-_e,j-de,Ne,Fe-mr,Fe-Ii),g.arc(k+de,j-_e,Ne,Fe-Ii,Fe),g.arc(k+_e,j+de,Ne,Fe,Fe+Ii),g.arc(k-de,j+_e,Ne,Fe+Ii,Fe+mr),g.closePath();break;case"rect":if(!ee){ve=Math.SQRT1_2*A,g.rect(k-ve,j-ve,2*ve,2*ve);break}Fe+=Pt;case"rectRot":_e=Math.cos(Fe)*A,de=Math.sin(Fe)*A,g.moveTo(k-_e,j-de),g.lineTo(k+de,j-_e),g.lineTo(k+_e,j+de),g.lineTo(k-de,j+_e),g.closePath();break;case"crossRot":Fe+=Pt;case"cross":_e=Math.cos(Fe)*A,de=Math.sin(Fe)*A,g.moveTo(k-_e,j-de),g.lineTo(k+_e,j+de),g.moveTo(k+de,j-_e),g.lineTo(k-de,j+_e);break;case"star":_e=Math.cos(Fe)*A,de=Math.sin(Fe)*A,g.moveTo(k-_e,j-de),g.lineTo(k+_e,j+de),g.moveTo(k+de,j-_e),g.lineTo(k-de,j+_e),Fe+=Pt,_e=Math.cos(Fe)*A,de=Math.sin(Fe)*A,g.moveTo(k-_e,j-de),g.lineTo(k+_e,j+de),g.moveTo(k+de,j-_e),g.lineTo(k-de,j+_e);break;case"line":_e=Math.cos(Fe)*A,de=Math.sin(Fe)*A,g.moveTo(k-_e,j-de),g.lineTo(k+_e,j+de);break;case"dash":g.moveTo(k,j),g.lineTo(k+Math.cos(Fe)*A,j+Math.sin(Fe)*A)}g.fill(),g.stroke()}},_isPointInArea:function(g,D){var A=1e-6;return g.x>D.left-A&&g.x<D.right+A&&g.y>D.top-A&&g.y<D.bottom+A},clipArea:function(g,D){g.save(),g.beginPath(),g.rect(D.left,D.top,D.right-D.left,D.bottom-D.top),g.clip()},unclipArea:function(g){g.restore()},lineTo:function(g,D,A,k){var j=A.steppedLine;if(j){if("middle"===j){var ee=(D.x+A.x)/2;g.lineTo(ee,k?A.y:D.y),g.lineTo(ee,k?D.y:A.y)}else"after"===j&&!k||"after"!==j&&k?g.lineTo(D.x,A.y):g.lineTo(A.x,D.y);g.lineTo(A.x,A.y)}else A.tension?g.bezierCurveTo(k?D.controlPointPreviousX:D.controlPointNextX,k?D.controlPointPreviousY:D.controlPointNextY,k?A.controlPointNextX:A.controlPointPreviousX,k?A.controlPointNextY:A.controlPointPreviousY,A.x,A.y):g.lineTo(A.x,A.y)}},ra=Ur;ir.clear=Ur.clear,ir.drawRoundedRectangle=function(g){g.beginPath(),Ur.roundedRect.apply(Ur,arguments)};var vs={_set:function(g,D){return ir.merge(this[g]||(this[g]={}),D)}};vs._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var or=vs,iu=ir.valueOrDefault;var ia={toLineHeight:function(g,D){var A=(""+g).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!A||"normal"===A[1])return 1.2*D;switch(g=+A[2],A[3]){case"px":return g;case"%":g/=100}return D*g},toPadding:function(g){var D,A,k,j;return ir.isObject(g)?(D=+g.top||0,A=+g.right||0,k=+g.bottom||0,j=+g.left||0):D=A=k=j=+g||0,{top:D,right:A,bottom:k,left:j,height:D+k,width:j+A}},_parseFont:function(g){var D=or.global,A=iu(g.fontSize,D.defaultFontSize),k={family:iu(g.fontFamily,D.defaultFontFamily),lineHeight:ir.options.toLineHeight(iu(g.lineHeight,D.defaultLineHeight),A),size:A,style:iu(g.fontStyle,D.defaultFontStyle),weight:null,string:""};return k.string=function(g){return!g||ir.isNullOrUndef(g.size)||ir.isNullOrUndef(g.family)?null:(g.style?g.style+" ":"")+(g.weight?g.weight+" ":"")+g.size+"px "+g.family}(k),k},resolve:function(g,D,A,k){var ee,le,_e,j=!0;for(ee=0,le=g.length;ee<le;++ee)if(void 0!==(_e=g[ee])&&(void 0!==D&&"function"==typeof _e&&(_e=_e(D),j=!1),void 0!==A&&ir.isArray(_e)&&(_e=_e[A],j=!1),void 0!==_e))return k&&!j&&(k.cacheable=!1),_e}},bl={_factorize:function(g){var k,D=[],A=Math.sqrt(g);for(k=1;k<A;k++)g%k==0&&(D.push(k),D.push(g/k));return A===(0|A)&&D.push(A),D.sort(function(j,ee){return j-ee}).pop(),D},log10:Math.log10||function(g){var D=Math.log(g)*Math.LOG10E,A=Math.round(D);return g===Math.pow(10,A)?A:D}},Bl=bl;ir.log10=bl.log10;var $e=ir,Cr=ra,vr=ia,$u=Bl,Kr={getRtlAdapter:function(g,D,A){return g?function(g,D){return{x:function(A){return g+g+D-A},setWidth:function(A){D=A},textAlign:function(A){return"center"===A?A:"right"===A?"left":"right"},xPlus:function(A,k){return A-k},leftForLtr:function(A,k){return A-k}}}(D,A):{x:function(g){return g},setWidth:function(g){},textAlign:function(g){return g},xPlus:function(g,D){return g+D},leftForLtr:function(g,D){return g}}},overrideTextDirection:function(g,D){var A,k;("ltr"===D||"rtl"===D)&&(k=[(A=g.canvas.style).getPropertyValue("direction"),A.getPropertyPriority("direction")],A.setProperty("direction",D,"important"),g.prevTextDirection=k)},restoreTextDirection:function(g){var D=g.prevTextDirection;void 0!==D&&(delete g.prevTextDirection,g.canvas.style.setProperty("direction",D[0],D[1]))}};$e.easing=hi,$e.canvas=Cr,$e.options=vr,$e.math=$u,$e.rtl=Kr;var Cu=function(g){$e.extend(this,g),this.initialize.apply(this,arguments)};$e.extend(Cu.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var g=this;return g._view||(g._view=$e.extend({},g._model)),g._start={},g},transition:function(g){var D=this,A=D._model,k=D._start,j=D._view;return A&&1!==g?(j||(j=D._view={}),k||(k=D._start={}),function(g,D,A,k){var ee,le,_e,de,ve,Ne,Fe,Je,pt,j=Object.keys(A);for(ee=0,le=j.length;ee<le;++ee)if(Ne=A[_e=j[ee]],D.hasOwnProperty(_e)||(D[_e]=Ne),(de=D[_e])!==Ne&&"_"!==_e[0]){if(g.hasOwnProperty(_e)||(g[_e]=de),(Fe=typeof Ne)==typeof(ve=g[_e]))if("string"===Fe){if((Je=ar(ve)).valid&&(pt=ar(Ne)).valid){D[_e]=pt.mix(Je,k).rgbString();continue}}else if($e.isFinite(ve)&&$e.isFinite(Ne)){D[_e]=ve+(Ne-ve)*k;continue}D[_e]=Ne}}(k,j,A,g),D):(D._view=$e.extend({},A),D._start=null,D)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return $e.isNumber(this._model.x)&&$e.isNumber(this._model.y)}}),Cu.extend=$e.inherits;var Hn=Cu,Pr=Hn.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),sa=Pr;Object.defineProperty(Pr.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Pr.prototype,"chartInstance",{get:function(){return this.chart},set:function(g){this.chart=g}}),or._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:$e.noop,onComplete:$e.noop}});var Os={animations:[],request:null,addAnimation:function(g,D,A,k){var ee,le,j=this.animations;for(D.chart=g,D.startTime=Date.now(),D.duration=A,k||(g.animating=!0),ee=0,le=j.length;ee<le;++ee)if(j[ee].chart===g)return void(j[ee]=D);j.push(D),1===j.length&&this.requestAnimationFrame()},cancelAnimation:function(g){var D=$e.findIndex(this.animations,function(A){return A.chart===g});-1!==D&&(this.animations.splice(D,1),g.animating=!1)},requestAnimationFrame:function(){var g=this;null===g.request&&(g.request=$e.requestAnimFrame.call(window,function(){g.request=null,g.startDigest()}))},startDigest:function(){var g=this;g.advance(),g.animations.length>0&&g.requestAnimationFrame()},advance:function(){for(var D,A,k,j,g=this.animations,ee=0;ee<g.length;)A=(D=g[ee]).chart,k=D.numSteps,j=Math.floor((Date.now()-D.startTime)/D.duration*k)+1,D.currentStep=Math.min(j,k),$e.callback(D.render,[A,D],A),$e.callback(D.onAnimationProgress,[D],A),D.currentStep>=k?($e.callback(D.onAnimationComplete,[D],A),A.animating=!1,g.splice(ee,1)):++ee}},jo=$e.options.resolve,Fi=["push","pop","shift","splice","unshift"];function Ta(g,D){var A=g._chartjs;if(A){var k=A.listeners,j=k.indexOf(D);-1!==j&&k.splice(j,1),!(k.length>0)&&(Fi.forEach(function(ee){delete g[ee]}),delete g._chartjs)}}var _s=function(g,D){this.initialize(g,D)};$e.extend(_s.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(g,D){var A=this;A.chart=g,A.index=D,A.linkScales(),A.addElements(),A._type=A.getMeta().type},updateIndex:function(g){this.index=g},linkScales:function(){var g=this,D=g.getMeta(),A=g.chart,k=A.scales,j=g.getDataset(),ee=A.options.scales;(null===D.xAxisID||!(D.xAxisID in k)||j.xAxisID)&&(D.xAxisID=j.xAxisID||ee.xAxes[0].id),(null===D.yAxisID||!(D.yAxisID in k)||j.yAxisID)&&(D.yAxisID=j.yAxisID||ee.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(g){return this.chart.scales[g]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Ta(this._data,this)},createMetaDataset:function(){var g=this,D=g.datasetElementType;return D&&new D({_chart:g.chart,_datasetIndex:g.index})},createMetaData:function(g){var D=this,A=D.dataElementType;return A&&new A({_chart:D.chart,_datasetIndex:D.index,_index:g})},addElements:function(){var j,ee,g=this,D=g.getMeta(),A=g.getDataset().data||[],k=D.data;for(j=0,ee=A.length;j<ee;++j)k[j]=k[j]||g.createMetaData(j);D.dataset=D.dataset||g.createMetaDataset()},addElementAndReset:function(g){var D=this.createMetaData(g);this.getMeta().data.splice(g,0,D),this.updateElement(D,g,!0)},buildOrUpdateElements:function(){var g=this,D=g.getDataset(),A=D.data||(D.data=[]);g._data!==A&&(g._data&&Ta(g._data,g),A&&Object.isExtensible(A)&&function(g,D){g._chartjs?g._chartjs.listeners.push(D):(Object.defineProperty(g,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[D]}}),Fi.forEach(function(A){var k="onData"+A.charAt(0).toUpperCase()+A.slice(1),j=g[A];Object.defineProperty(g,A,{configurable:!0,enumerable:!1,value:function(){var ee=Array.prototype.slice.call(arguments),le=j.apply(this,ee);return $e.each(g._chartjs.listeners,function(_e){"function"==typeof _e[k]&&_e[k].apply(_e,ee)}),le}})}))}(A,g),g._data=A),g.resyncElements()},_configure:function(){var g=this;g._config=$e.merge(Object.create(null),[g.chart.options.datasets[g._type],g.getDataset()],{merger:function(D,A,k){"_meta"!==D&&"data"!==D&&$e._merger(D,A,k)}})},_update:function(g){var D=this;D._configure(),D._cachedDataOpts=null,D.update(g)},update:$e.noop,transition:function(g){for(var D=this.getMeta(),A=D.data||[],k=A.length,j=0;j<k;++j)A[j].transition(g);D.dataset&&D.dataset.transition(g)},draw:function(){var g=this.getMeta(),D=g.data||[],A=D.length,k=0;for(g.dataset&&g.dataset.draw();k<A;++k)D[k].draw()},getStyle:function(g){var j,D=this,A=D.getMeta(),k=A.dataset;return D._configure(),(!1===(j=k&&void 0===g?D._resolveDatasetElementOptions(k||{}):D._resolveDataElementOptions(A.data[g=g||0]||{},g)).fill||null===j.fill)&&(j.backgroundColor=j.borderColor),j},_resolveDatasetElementOptions:function(g,D){var ve,Ne,Fe,Je,A=this,k=A.chart,j=A._config,ee=g.custom||{},le=k.options.elements[A.datasetElementType.prototype._type]||{},_e=A._datasetElementOptions,de={},pt={chart:k,dataset:A.getDataset(),datasetIndex:A.index,hover:D};for(ve=0,Ne=_e.length;ve<Ne;++ve)Fe=_e[ve],Je=D?"hover"+Fe.charAt(0).toUpperCase()+Fe.slice(1):Fe,de[Fe]=jo([ee[Je],j[Je],le[Je]],pt);return de},_resolveDataElementOptions:function(g,D){var A=this,k=g&&g.custom,j=A._cachedDataOpts;if(j&&!k)return j;var Je,pt,gt,bt,ee=A.chart,le=A._config,_e=ee.options.elements[A.dataElementType.prototype._type]||{},de=A._dataElementOptions,ve={},Ne={chart:ee,dataIndex:D,dataset:A.getDataset(),datasetIndex:A.index},Fe={cacheable:!k};if(k=k||{},$e.isArray(de))for(pt=0,gt=de.length;pt<gt;++pt)ve[bt=de[pt]]=jo([k[bt],le[bt],_e[bt]],Ne,D,Fe);else for(pt=0,gt=(Je=Object.keys(de)).length;pt<gt;++pt)ve[bt=Je[pt]]=jo([k[bt],le[de[bt]],le[bt],_e[bt]],Ne,D,Fe);return Fe.cacheable&&(A._cachedDataOpts=Object.freeze(ve)),ve},removeHoverStyle:function(g){$e.merge(g._model,g.$previousStyle||{}),delete g.$previousStyle},setHoverStyle:function(g){var D=this.chart.data.datasets[g._datasetIndex],A=g._index,k=g.custom||{},j=g._model,ee=$e.getHoverColor;g.$previousStyle={backgroundColor:j.backgroundColor,borderColor:j.borderColor,borderWidth:j.borderWidth},j.backgroundColor=jo([k.hoverBackgroundColor,D.hoverBackgroundColor,ee(j.backgroundColor)],void 0,A),j.borderColor=jo([k.hoverBorderColor,D.hoverBorderColor,ee(j.borderColor)],void 0,A),j.borderWidth=jo([k.hoverBorderWidth,D.hoverBorderWidth,j.borderWidth],void 0,A)},_removeDatasetHoverStyle:function(){var g=this.getMeta().dataset;g&&this.removeHoverStyle(g)},_setDatasetHoverStyle:function(){var A,k,j,ee,le,_e,g=this.getMeta().dataset,D={};if(g){for(_e=g._model,le=this._resolveDatasetElementOptions(g,!0),A=0,k=(ee=Object.keys(le)).length;A<k;++A)D[j=ee[A]]=_e[j],_e[j]=le[j];g.$previousStyle=D}},resyncElements:function(){var g=this,D=g.getMeta(),A=g.getDataset().data,k=D.data.length,j=A.length;j<k?D.data.splice(j,k-j):j>k&&g.insertElements(k,j-k)},insertElements:function(g,D){for(var A=0;A<D;++A)this.addElementAndReset(g+A)},onDataPush:function(){var g=arguments.length;this.insertElements(this.getDataset().data.length-g,g)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(g,D){this.getMeta().data.splice(g,D),this.insertElements(g,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),_s.extend=$e.inherits;var bs=_s,As=2*Math.PI;function Jr(g,D){var A=D.startAngle,k=D.endAngle,j=D.pixelMargin,ee=j/D.outerRadius,le=D.x,_e=D.y;g.beginPath(),g.arc(le,_e,D.outerRadius,A-ee,k+ee),D.innerRadius>j?g.arc(le,_e,D.innerRadius-j,k+(ee=j/D.innerRadius),A-ee,!0):g.arc(le,_e,j,k+Math.PI/2,A-Math.PI/2),g.closePath(),g.clip()}function Ts(g,D,A){var k="inner"===D.borderAlign;k?(g.lineWidth=2*D.borderWidth,g.lineJoin="round"):(g.lineWidth=D.borderWidth,g.lineJoin="bevel"),A.fullCircles&&function(g,D,A,k){var ee,j=A.endAngle;for(k&&(A.endAngle=A.startAngle+As,Jr(g,A),A.endAngle=j,A.endAngle===A.startAngle&&A.fullCircles&&(A.endAngle+=As,A.fullCircles--)),g.beginPath(),g.arc(A.x,A.y,A.innerRadius,A.startAngle+As,A.startAngle,!0),ee=0;ee<A.fullCircles;++ee)g.stroke();for(g.beginPath(),g.arc(A.x,A.y,D.outerRadius,A.startAngle,A.startAngle+As),ee=0;ee<A.fullCircles;++ee)g.stroke()}(g,D,A,k),k&&Jr(g,A),g.beginPath(),g.arc(A.x,A.y,D.outerRadius,A.startAngle,A.endAngle),g.arc(A.x,A.y,A.innerRadius,A.endAngle,A.startAngle,!0),g.closePath(),g.stroke()}or._set("global",{elements:{arc:{backgroundColor:or.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Da=Hn.extend({_type:"arc",inLabelRange:function(g){var D=this._view;return!!D&&Math.pow(g-D.x,2)<Math.pow(D.radius+D.hoverRadius,2)},inRange:function(g,D){var A=this._view;if(A){for(var k=$e.getAngleFromPoint(A,{x:g,y:D}),j=k.angle,ee=k.distance,le=A.startAngle,_e=A.endAngle;_e<le;)_e+=As;for(;j>_e;)j-=As;for(;j<le;)j+=As;return j>=le&&j<=_e&&ee>=A.innerRadius&&ee<=A.outerRadius}return!1},getCenterPoint:function(){var g=this._view,D=(g.startAngle+g.endAngle)/2,A=(g.innerRadius+g.outerRadius)/2;return{x:g.x+Math.cos(D)*A,y:g.y+Math.sin(D)*A}},getArea:function(){var g=this._view;return Math.PI*((g.endAngle-g.startAngle)/(2*Math.PI))*(Math.pow(g.outerRadius,2)-Math.pow(g.innerRadius,2))},tooltipPosition:function(){var g=this._view,D=g.startAngle+(g.endAngle-g.startAngle)/2,A=(g.outerRadius-g.innerRadius)/2+g.innerRadius;return{x:g.x+Math.cos(D)*A,y:g.y+Math.sin(D)*A}},draw:function(){var j,g=this._chart.ctx,D=this._view,A="inner"===D.borderAlign?.33:0,k={x:D.x,y:D.y,innerRadius:D.innerRadius,outerRadius:Math.max(D.outerRadius-A,0),pixelMargin:A,startAngle:D.startAngle,endAngle:D.endAngle,fullCircles:Math.floor(D.circumference/As)};if(g.save(),g.fillStyle=D.backgroundColor,g.strokeStyle=D.borderColor,k.fullCircles){for(k.endAngle=k.startAngle+As,g.beginPath(),g.arc(k.x,k.y,k.outerRadius,k.startAngle,k.endAngle),g.arc(k.x,k.y,k.innerRadius,k.endAngle,k.startAngle,!0),g.closePath(),j=0;j<k.fullCircles;++j)g.fill();k.endAngle=k.startAngle+D.circumference%As}g.beginPath(),g.arc(k.x,k.y,k.outerRadius,k.startAngle,k.endAngle),g.arc(k.x,k.y,k.innerRadius,k.endAngle,k.startAngle,!0),g.closePath(),g.fill(),D.borderWidth&&Ts(g,D,k),g.restore()}}),ka=$e.valueOrDefault,Mr=or.global.defaultColor;or._set("global",{elements:{line:{tension:.4,backgroundColor:Mr,borderWidth:3,borderColor:Mr,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var oc=Hn.extend({_type:"line",draw:function(){var ve,Ne,Fe,g=this,D=g._view,A=g._chart.ctx,k=D.spanGaps,j=g._children.slice(),ee=or.global,le=ee.elements.line,_e=-1,de=g._loop;if(j.length){if(g._loop){for(ve=0;ve<j.length;++ve)if(Ne=$e.previousItem(j,ve),!j[ve]._view.skip&&Ne._view.skip){j=j.slice(ve).concat(j.slice(0,ve)),de=k;break}de&&j.push(j[0])}for(A.save(),A.lineCap=D.borderCapStyle||le.borderCapStyle,A.setLineDash&&A.setLineDash(D.borderDash||le.borderDash),A.lineDashOffset=ka(D.borderDashOffset,le.borderDashOffset),A.lineJoin=D.borderJoinStyle||le.borderJoinStyle,A.lineWidth=ka(D.borderWidth,le.borderWidth),A.strokeStyle=D.borderColor||ee.defaultColor,A.beginPath(),(Fe=j[0]._view).skip||(A.moveTo(Fe.x,Fe.y),_e=0),ve=1;ve<j.length;++ve)Fe=j[ve]._view,Ne=-1===_e?$e.previousItem(j,ve):j[_e],Fe.skip||(_e!==ve-1&&!k||-1===_e?A.moveTo(Fe.x,Fe.y):$e.canvas.lineTo(A,Ne._view,Fe),_e=ve);de&&A.closePath(),A.stroke(),A.restore()}}}),ur=$e.valueOrDefault,Ju=or.global.defaultColor;function Ws(g){var D=this._view;return!!D&&Math.abs(g-D.x)<D.radius+D.hitRadius}or._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Ju,borderColor:Ju,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Jc=Hn.extend({_type:"point",inRange:function(g,D){var A=this._view;return!!A&&Math.pow(g-A.x,2)+Math.pow(D-A.y,2)<Math.pow(A.hitRadius+A.radius,2)},inLabelRange:Ws,inXRange:Ws,inYRange:function(g){var D=this._view;return!!D&&Math.abs(g-D.y)<D.radius+D.hitRadius},getCenterPoint:function(){var g=this._view;return{x:g.x,y:g.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var g=this._view;return{x:g.x,y:g.y,padding:g.radius+g.borderWidth}},draw:function(g){var D=this._view,A=this._chart.ctx,k=D.pointStyle,j=D.rotation,ee=D.radius,le=D.x,_e=D.y,de=or.global,ve=de.defaultColor;D.skip||(void 0===g||$e.canvas._isPointInArea(D,g))&&(A.strokeStyle=D.borderColor||ve,A.lineWidth=ur(D.borderWidth,de.elements.point.borderWidth),A.fillStyle=D.backgroundColor||ve,$e.canvas.drawPoint(A,k,ee,le,_e,j))}}),uc=or.global.defaultColor;function lc(g){return g&&void 0!==g.width}function Xe(g){var D,A,k,j,ee;return lc(g)?(D=g.x-(ee=g.width/2),A=g.x+ee,k=Math.min(g.y,g.base),j=Math.max(g.y,g.base)):(ee=g.height/2,D=Math.min(g.x,g.base),A=Math.max(g.x,g.base),k=g.y-ee,j=g.y+ee),{left:D,top:k,right:A,bottom:j}}function Mt(g,D,A){return g===D?A:g===A?D:g}function Dn(g,D,A){var ee,le,_e,de,k=g.borderWidth,j=function(g){var D=g.borderSkipped,A={};return D&&(g.horizontal?g.base>g.x&&(D=Mt(D,"left","right")):g.base<g.y&&(D=Mt(D,"bottom","top")),A[D]=!0),A}(g);return $e.isObject(k)?(ee=+k.top||0,le=+k.right||0,_e=+k.bottom||0,de=+k.left||0):ee=le=_e=de=+k||0,{t:j.top||ee<0?0:ee>A?A:ee,r:j.right||le<0?0:le>D?D:le,b:j.bottom||_e<0?0:_e>A?A:_e,l:j.left||de<0?0:de>D?D:de}}function Qn(g,D,A){var k=null===D,j=null===A,ee=!(!g||k&&j)&&Xe(g);return ee&&(k||D>=ee.left&&D<=ee.right)&&(j||A>=ee.top&&A<=ee.bottom)}or._set("global",{elements:{rectangle:{backgroundColor:uc,borderColor:uc,borderSkipped:"bottom",borderWidth:0}}});var bn=Hn.extend({_type:"rectangle",draw:function(){var g=this._chart.ctx,D=this._view,A=function(g){var D=Xe(g),A=D.right-D.left,k=D.bottom-D.top,j=Dn(g,A/2,k/2);return{outer:{x:D.left,y:D.top,w:A,h:k},inner:{x:D.left+j.l,y:D.top+j.t,w:A-j.l-j.r,h:k-j.t-j.b}}}(D),k=A.outer,j=A.inner;g.fillStyle=D.backgroundColor,g.fillRect(k.x,k.y,k.w,k.h),(k.w!==j.w||k.h!==j.h)&&(g.save(),g.beginPath(),g.rect(k.x,k.y,k.w,k.h),g.clip(),g.fillStyle=D.borderColor,g.rect(j.x,j.y,j.w,j.h),g.fill("evenodd"),g.restore())},height:function(){var g=this._view;return g.base-g.y},inRange:function(g,D){return Qn(this._view,g,D)},inLabelRange:function(g,D){var A=this._view;return lc(A)?Qn(A,g,null):Qn(A,null,D)},inXRange:function(g){return Qn(this._view,g,null)},inYRange:function(g){return Qn(this._view,null,g)},getCenterPoint:function(){var D,A,g=this._view;return lc(g)?(D=g.x,A=(g.y+g.base)/2):(D=(g.x+g.base)/2,A=g.y),{x:D,y:A}},getArea:function(){var g=this._view;return lc(g)?g.width*Math.abs(g.y-g.base):g.height*Math.abs(g.x-g.base)},tooltipPosition:function(){var g=this._view;return{x:g.x,y:g.y}}}),zn={},zr=oc,qt=Jc,Hs=bn;zn.Arc=Da,zn.Line=zr,zn.Point=qt,zn.Rectangle=Hs;var sr=$e._deprecated,Oe=$e.valueOrDefault;function Ft(g,D,A){var _e,de,k=A.barThickness,j=D.stackCount,ee=D.pixels[g],le=$e.isNullOrUndef(k)?function(g,D){var k,j,ee,le,A=g._length;for(ee=1,le=D.length;ee<le;++ee)A=Math.min(A,Math.abs(D[ee]-D[ee-1]));for(ee=0,le=g.getTicks().length;ee<le;++ee)j=g.getPixelForTick(ee),A=ee>0?Math.min(A,Math.abs(j-k)):A,k=j;return A}(D.scale,D.pixels):-1;return $e.isNullOrUndef(k)?(_e=le*A.categoryPercentage,de=A.barPercentage):(_e=k*j,de=1),{chunk:_e/j,ratio:de,start:ee-_e/2}}or._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),or._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var wn=bs.extend({dataElementType:zn.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var D,A,g=this;bs.prototype.initialize.apply(g,arguments),(D=g.getMeta()).stack=g.getDataset().stack,D.bar=!0,A=g._getIndexScale().options,sr("bar chart",A.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),sr("bar chart",A.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),sr("bar chart",A.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),sr("bar chart",g._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),sr("bar chart",A.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(g){var k,j,D=this,A=D.getMeta().data;for(D._ruler=D.getRuler(),k=0,j=A.length;k<j;++k)D.updateElement(A[k],k,g)},updateElement:function(g,D,A){var k=this,j=k.getMeta(),ee=k.getDataset(),le=k._resolveDataElementOptions(g,D);g._xScale=k.getScaleForId(j.xAxisID),g._yScale=k.getScaleForId(j.yAxisID),g._datasetIndex=k.index,g._index=D,g._model={backgroundColor:le.backgroundColor,borderColor:le.borderColor,borderSkipped:le.borderSkipped,borderWidth:le.borderWidth,datasetLabel:ee.label,label:k.chart.data.labels[D]},$e.isArray(ee.data[D])&&(g._model.borderSkipped=null),k._updateElementGeometry(g,D,A,le),g.pivot()},_updateElementGeometry:function(g,D,A,k){var j=this,ee=g._model,le=j._getValueScale(),_e=le.getBasePixel(),de=le.isHorizontal(),ve=j._ruler||j.getRuler(),Ne=j.calculateBarValuePixels(j.index,D,k),Fe=j.calculateBarIndexPixels(j.index,D,ve,k);ee.horizontal=de,ee.base=A?_e:Ne.base,ee.x=de?A?_e:Ne.head:Fe.center,ee.y=de?Fe.center:A?_e:Ne.head,ee.height=de?Fe.size:void 0,ee.width=de?void 0:Fe.size},_getStacks:function(g){var _e,de,A=this._getIndexScale(),k=A._getMatchingVisibleMetas(this._type),j=A.options.stacked,ee=k.length,le=[];for(_e=0;_e<ee&&(de=k[_e],(!1===j||-1===le.indexOf(de.stack)||void 0===j&&void 0===de.stack)&&le.push(de.stack),de.index!==g);++_e);return le},getStackCount:function(){return this._getStacks().length},getStackIndex:function(g,D){var A=this._getStacks(g),k=void 0!==D?A.indexOf(D):-1;return-1===k?A.length-1:k},getRuler:function(){var k,j,g=this,D=g._getIndexScale(),A=[];for(k=0,j=g.getMeta().data.length;k<j;++k)A.push(D.getPixelForValue(null,k,g.index));return{pixels:A,start:D._startPixel,end:D._endPixel,stackCount:g.getStackCount(),scale:D}},calculateBarValuePixels:function(g,D,A){var Lt,xn,cr,br,ci,si,ss,k=this,j=k.chart,ee=k._getValueScale(),le=ee.isHorizontal(),_e=j.data.datasets,de=ee._getMatchingVisibleMetas(k._type),ve=ee._parseValue(_e[g].data[D]),Ne=A.minBarLength,Fe=ee.options.stacked,Je=k.getMeta().stack,pt=void 0===ve.start?0:ve.max>=0&&ve.min>=0?ve.min:ve.max,gt=void 0===ve.start?ve.end:ve.max>=0&&ve.min>=0?ve.max-ve.min:ve.min-ve.max,bt=de.length;if(Fe||void 0===Fe&&void 0!==Je)for(Lt=0;Lt<bt&&(xn=de[Lt]).index!==g;++Lt)xn.stack===Je&&(cr=void 0===(ss=ee._parseValue(_e[xn.index].data[D])).start?ss.end:ss.min>=0&&ss.max>=0?ss.max:ss.min,(ve.min<0&&cr<0||ve.max>=0&&cr>0)&&(pt+=cr));return br=ee.getPixelForValue(pt),si=(ci=ee.getPixelForValue(pt+gt))-br,void 0!==Ne&&Math.abs(si)<Ne&&(si=Ne,ci=gt>=0&&!le||gt<0&&le?br-Ne:br+Ne),{size:si,base:br,head:ci,center:ci+si/2}},calculateBarIndexPixels:function(g,D,A,k){var ee="flex"===k.barThickness?function(g,D,A){var de,k=D.pixels,j=k[g],ee=g>0?k[g-1]:null,le=g<k.length-1?k[g+1]:null,_e=A.categoryPercentage;return null===ee&&(ee=j-(null===le?D.end-D.start:le-j)),null===le&&(le=j+j-ee),de=j-(j-Math.min(ee,le))/2*_e,{chunk:Math.abs(le-ee)/2*_e/D.stackCount,ratio:A.barPercentage,start:de}}(D,A,k):Ft(D,A,k),le=this.getStackIndex(g,this.getMeta().stack),_e=ee.start+ee.chunk*le+ee.chunk/2,de=Math.min(Oe(k.maxBarThickness,1/0),ee.chunk*ee.ratio);return{base:_e-de/2,head:_e+de/2,center:_e,size:de}},draw:function(){var g=this,D=g.chart,A=g._getValueScale(),k=g.getMeta().data,j=g.getDataset(),ee=k.length,le=0;for($e.canvas.clipArea(D.ctx,D.chartArea);le<ee;++le){var _e=A._parseValue(j.data[le]);!isNaN(_e.min)&&!isNaN(_e.max)&&k[le].draw()}$e.canvas.unclipArea(D.ctx)},_resolveDataElementOptions:function(){var g=this,D=$e.extend({},bs.prototype._resolveDataElementOptions.apply(g,arguments)),A=g._getIndexScale().options,k=g._getValueScale().options;return D.barPercentage=Oe(A.barPercentage,D.barPercentage),D.barThickness=Oe(A.barThickness,D.barThickness),D.categoryPercentage=Oe(A.categoryPercentage,D.categoryPercentage),D.maxBarThickness=Oe(A.maxBarThickness,D.maxBarThickness),D.minBarLength=Oe(k.minBarLength,D.minBarLength),D}}),lr=$e.valueOrDefault,Vi=$e.options.resolve;or._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(g,D){return(D.datasets[g.datasetIndex].label||"")+": ("+g.xLabel+", "+g.yLabel+", "+D.datasets[g.datasetIndex].data[g.index].r+")"}}}});var xs=bs.extend({dataElementType:zn.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(g){var D=this,A=D.getMeta();$e.each(A.data,function(j,ee){D.updateElement(j,ee,g)})},updateElement:function(g,D,A){var k=this,j=k.getMeta(),ee=g.custom||{},le=k.getScaleForId(j.xAxisID),_e=k.getScaleForId(j.yAxisID),de=k._resolveDataElementOptions(g,D),ve=k.getDataset().data[D],Ne=k.index,Fe=A?le.getPixelForDecimal(.5):le.getPixelForValue("object"==typeof ve?ve:NaN,D,Ne),Je=A?_e.getBasePixel():_e.getPixelForValue(ve,D,Ne);g._xScale=le,g._yScale=_e,g._options=de,g._datasetIndex=Ne,g._index=D,g._model={backgroundColor:de.backgroundColor,borderColor:de.borderColor,borderWidth:de.borderWidth,hitRadius:de.hitRadius,pointStyle:de.pointStyle,rotation:de.rotation,radius:A?0:de.radius,skip:ee.skip||isNaN(Fe)||isNaN(Je),x:Fe,y:Je},g.pivot()},setHoverStyle:function(g){var D=g._model,A=g._options,k=$e.getHoverColor;g.$previousStyle={backgroundColor:D.backgroundColor,borderColor:D.borderColor,borderWidth:D.borderWidth,radius:D.radius},D.backgroundColor=lr(A.hoverBackgroundColor,k(A.backgroundColor)),D.borderColor=lr(A.hoverBorderColor,k(A.borderColor)),D.borderWidth=lr(A.hoverBorderWidth,A.borderWidth),D.radius=A.radius+A.hoverRadius},_resolveDataElementOptions:function(g,D){var A=this,k=A.chart,j=A.getDataset(),ee=g.custom||{},le=j.data[D]||{},_e=bs.prototype._resolveDataElementOptions.apply(A,arguments),de={chart:k,dataIndex:D,dataset:j,datasetIndex:A.index};return A._cachedDataOpts===_e&&(_e=$e.extend({},_e)),_e.radius=Vi([ee.radius,le.r,A._config.radius,k.options.elements.point.radius],de,D),_e}}),Ni=$e.valueOrDefault,Oi=Math.PI,vn=2*Oi,Eu=Oi/2;or._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(g){var ee,le,_e,D=document.createElement("ul"),A=g.data,k=A.datasets,j=A.labels;if(D.setAttribute("class",g.id+"-legend"),k.length)for(ee=0,le=k[0].data.length;ee<le;++ee)(_e=D.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=k[0].backgroundColor[ee],j[ee]&&_e.appendChild(document.createTextNode(j[ee]));return D.outerHTML},legend:{labels:{generateLabels:function(g){var D=g.data;return D.labels.length&&D.datasets.length?D.labels.map(function(A,k){var j=g.getDatasetMeta(0),ee=j.controller.getStyle(k);return{text:A,fillStyle:ee.backgroundColor,strokeStyle:ee.borderColor,lineWidth:ee.borderWidth,hidden:isNaN(D.datasets[0].data[k])||j.data[k].hidden,index:k}}):[]}},onClick:function(g,D){var j,ee,le,A=D.index,k=this.chart;for(j=0,ee=(k.data.datasets||[]).length;j<ee;++j)(le=k.getDatasetMeta(j)).data[A]&&(le.data[A].hidden=!le.data[A].hidden);k.update()}},cutoutPercentage:50,rotation:-Eu,circumference:vn,tooltips:{callbacks:{title:function(){return""},label:function(g,D){var A=D.labels[g.index],k=": "+D.datasets[g.datasetIndex].data[g.index];return $e.isArray(A)?(A=A.slice())[0]+=k:A+=k,A}}}});var ma=bs.extend({dataElementType:zn.Arc,linkScales:$e.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(g){for(var D=0,A=0;A<g;++A)this.chart.isDatasetVisible(A)&&++D;return D},update:function(g){var Lt,xn,D=this,A=D.chart,k=A.chartArea,j=A.options,ee=1,le=1,_e=0,de=0,ve=D.getMeta(),Ne=ve.data,Fe=j.cutoutPercentage/100||0,Je=j.circumference,pt=D._getRingWeight(D.index);if(Je<vn){var cr=j.rotation%vn,br=(cr+=cr>=Oi?-vn:cr<-Oi?vn:0)+Je,ci=Math.cos(cr),si=Math.sin(cr),ss=Math.cos(br),ai=Math.sin(br),os=cr<=0&&br>=0||br>=vn,Cs=cr<=Eu&&br>=Eu||br>=vn+Eu,Ko=cr<=-Eu&&br>=-Eu||br>=Oi+Eu,Pa=cr===-Oi||br>=Oi?-1:Math.min(ci,ci*Fe,ss,ss*Fe),Xr=Ko?-1:Math.min(si,si*Fe,ai,ai*Fe),bc=os?1:Math.max(ci,ci*Fe,ss,ss*Fe),Yl=Cs?1:Math.max(si,si*Fe,ai,ai*Fe);ee=(bc-Pa)/2,le=(Yl-Xr)/2,_e=-(bc+Pa)/2,de=-(Yl+Xr)/2}for(Lt=0,xn=Ne.length;Lt<xn;++Lt)Ne[Lt]._options=D._resolveDataElementOptions(Ne[Lt],Lt);for(A.borderWidth=D.getMaxBorderWidth(),A.outerRadius=Math.max(Math.min((k.right-k.left-A.borderWidth)/ee,(k.bottom-k.top-A.borderWidth)/le)/2,0),A.innerRadius=Math.max(A.outerRadius*Fe,0),A.radiusLength=(A.outerRadius-A.innerRadius)/(D._getVisibleDatasetWeightTotal()||1),A.offsetX=_e*A.outerRadius,A.offsetY=de*A.outerRadius,ve.total=D.calculateTotal(),D.outerRadius=A.outerRadius-A.radiusLength*D._getRingWeightOffset(D.index),D.innerRadius=Math.max(D.outerRadius-A.radiusLength*pt,0),Lt=0,xn=Ne.length;Lt<xn;++Lt)D.updateElement(Ne[Lt],Lt,g)},updateElement:function(g,D,A){var k=this,j=k.chart,ee=j.chartArea,le=j.options,_e=le.animation,de=(ee.left+ee.right)/2,ve=(ee.top+ee.bottom)/2,Ne=le.rotation,Fe=le.rotation,Je=k.getDataset(),pt=A&&_e.animateRotate||g.hidden?0:k.calculateCircumference(Je.data[D])*(le.circumference/vn),Lt=g._options||{};$e.extend(g,{_datasetIndex:k.index,_index:D,_model:{backgroundColor:Lt.backgroundColor,borderColor:Lt.borderColor,borderWidth:Lt.borderWidth,borderAlign:Lt.borderAlign,x:de+j.offsetX,y:ve+j.offsetY,startAngle:Ne,endAngle:Fe,circumference:pt,outerRadius:A&&_e.animateScale?0:k.outerRadius,innerRadius:A&&_e.animateScale?0:k.innerRadius,label:$e.valueAtIndexOrDefault(Je.label,D,j.data.labels[D])}});var xn=g._model;(!A||!_e.animateRotate)&&(xn.startAngle=0===D?le.rotation:k.getMeta().data[D-1]._model.endAngle,xn.endAngle=xn.startAngle+xn.circumference),g.pivot()},calculateTotal:function(){var k,g=this.getDataset(),D=this.getMeta(),A=0;return $e.each(D.data,function(j,ee){k=g.data[ee],!isNaN(k)&&!j.hidden&&(A+=Math.abs(k))}),A},calculateCircumference:function(g){var D=this.getMeta().total;return D>0&&!isNaN(g)?vn*(Math.abs(g)/D):0},getMaxBorderWidth:function(g){var j,ee,le,_e,de,ve,Ne,Fe,A=0,k=this.chart;if(!g)for(j=0,ee=k.data.datasets.length;j<ee;++j)if(k.isDatasetVisible(j)){g=(le=k.getDatasetMeta(j)).data,j!==this.index&&(de=le.controller);break}if(!g)return 0;for(j=0,ee=g.length;j<ee;++j)_e=g[j],de?(de._configure(),ve=de._resolveDataElementOptions(_e,j)):ve=_e._options,"inner"!==ve.borderAlign&&(A=(Fe=ve.hoverBorderWidth)>(A=(Ne=ve.borderWidth)>A?Ne:A)?Fe:A);return A},setHoverStyle:function(g){var D=g._model,A=g._options,k=$e.getHoverColor;g.$previousStyle={backgroundColor:D.backgroundColor,borderColor:D.borderColor,borderWidth:D.borderWidth},D.backgroundColor=Ni(A.hoverBackgroundColor,k(A.backgroundColor)),D.borderColor=Ni(A.hoverBorderColor,k(A.borderColor)),D.borderWidth=Ni(A.hoverBorderWidth,A.borderWidth)},_getRingWeightOffset:function(g){for(var D=0,A=0;A<g;++A)this.chart.isDatasetVisible(A)&&(D+=this._getRingWeight(A));return D},_getRingWeight:function(g){return Math.max(Ni(this.chart.data.datasets[g].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});or._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),or._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var gr=wn.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ht=$e.valueOrDefault,Qc=$e.options.resolve,ff=$e.canvas._isPointInArea;function su(g,D){var A=g&&g.options.ticks||{},k=A.reverse,j=void 0===A.min?D:0,ee=void 0===A.max?D:0;return{start:k?ee:j,end:k?j:ee}}function Di(g,D,A){var k=A/2,j=su(g,k),ee=su(D,k);return{top:ee.end,right:j.end,bottom:ee.start,left:j.start}}function th(g){var D,A,k,j;return $e.isObject(g)?(D=g.top,A=g.right,k=g.bottom,j=g.left):D=A=k=j=g,{top:D,right:A,bottom:k,left:j}}or._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var xl=bs.extend({datasetElementType:zn.Line,dataElementType:zn.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(g){var de,ve,D=this,A=D.getMeta(),k=A.dataset,j=A.data||[],le=D._config,_e=D._showLine=ht(le.showLine,D.chart.options.showLines);for(D._xScale=D.getScaleForId(A.xAxisID),D._yScale=D.getScaleForId(A.yAxisID),_e&&(void 0!==le.tension&&void 0===le.lineTension&&(le.lineTension=le.tension),k._scale=D._yScale,k._datasetIndex=D.index,k._children=j,k._model=D._resolveDatasetElementOptions(k),k.pivot()),de=0,ve=j.length;de<ve;++de)D.updateElement(j[de],de,g);for(_e&&0!==k._model.tension&&D.updateBezierControlPoints(),de=0,ve=j.length;de<ve;++de)j[de].pivot()},updateElement:function(g,D,A){var Je,pt,k=this,j=k.getMeta(),ee=g.custom||{},le=k.getDataset(),_e=k.index,de=le.data[D],ve=k._xScale,Ne=k._yScale,Fe=j.dataset._model,gt=k._resolveDataElementOptions(g,D);Je=ve.getPixelForValue("object"==typeof de?de:NaN,D,_e),pt=A?Ne.getBasePixel():k.calculatePointY(de,D,_e),g._xScale=ve,g._yScale=Ne,g._options=gt,g._datasetIndex=_e,g._index=D,g._model={x:Je,y:pt,skip:ee.skip||isNaN(Je)||isNaN(pt),radius:gt.radius,pointStyle:gt.pointStyle,rotation:gt.rotation,backgroundColor:gt.backgroundColor,borderColor:gt.borderColor,borderWidth:gt.borderWidth,tension:ht(ee.tension,Fe?Fe.tension:0),steppedLine:!!Fe&&Fe.steppedLine,hitRadius:gt.hitRadius}},_resolveDatasetElementOptions:function(g){var D=this,A=D._config,k=g.custom||{},j=D.chart.options,ee=j.elements.line,le=bs.prototype._resolveDatasetElementOptions.apply(D,arguments);return le.spanGaps=ht(A.spanGaps,j.spanGaps),le.tension=ht(A.lineTension,ee.tension),le.steppedLine=Qc([k.steppedLine,A.steppedLine,ee.stepped]),le.clip=th(ht(A.clip,Di(D._xScale,D._yScale,le.borderWidth))),le},calculatePointY:function(g,D,A){var de,Ne,Fe,Je,pt,gt,j=this.chart,ee=this._yScale,le=0,_e=0;if(ee.options.stacked){for(Je=+ee.getRightValue(g),gt=(pt=j._getSortedVisibleDatasetMetas()).length,de=0;de<gt&&(Ne=pt[de]).index!==A;++de)"line"===Ne.type&&Ne.yAxisID===ee.id&&((Fe=+ee.getRightValue(j.data.datasets[Ne.index].data[D]))<0?_e+=Fe||0:le+=Fe||0);return ee.getPixelForValue(Je<0?_e+Je:le+Je)}return ee.getPixelForValue(g)},updateBezierControlPoints:function(){var le,_e,de,ve,D=this.chart,A=this.getMeta(),k=A.dataset._model,j=D.chartArea,ee=A.data||[];function Ne(Fe,Je,pt){return Math.max(Math.min(Fe,pt),Je)}if(k.spanGaps&&(ee=ee.filter(function(Fe){return!Fe._model.skip})),"monotone"===k.cubicInterpolationMode)$e.splineCurveMonotone(ee);else for(le=0,_e=ee.length;le<_e;++le)de=ee[le]._model,ve=$e.splineCurve($e.previousItem(ee,le)._model,de,$e.nextItem(ee,le)._model,k.tension),de.controlPointPreviousX=ve.previous.x,de.controlPointPreviousY=ve.previous.y,de.controlPointNextX=ve.next.x,de.controlPointNextY=ve.next.y;if(D.options.elements.line.capBezierPoints)for(le=0,_e=ee.length;le<_e;++le)ff(de=ee[le]._model,j)&&(le>0&&ff(ee[le-1]._model,j)&&(de.controlPointPreviousX=Ne(de.controlPointPreviousX,j.left,j.right),de.controlPointPreviousY=Ne(de.controlPointPreviousY,j.top,j.bottom)),le<ee.length-1&&ff(ee[le+1]._model,j)&&(de.controlPointNextX=Ne(de.controlPointNextX,j.left,j.right),de.controlPointNextY=Ne(de.controlPointNextY,j.top,j.bottom)))},draw:function(){var de,g=this,D=g.chart,A=g.getMeta(),k=A.data||[],j=D.chartArea,ee=D.canvas,le=0,_e=k.length;for(g._showLine&&($e.canvas.clipArea(D.ctx,{left:!1===(de=A.dataset._model.clip).left?0:j.left-de.left,right:!1===de.right?ee.width:j.right+de.right,top:!1===de.top?0:j.top-de.top,bottom:!1===de.bottom?ee.height:j.bottom+de.bottom}),A.dataset.draw(),$e.canvas.unclipArea(D.ctx));le<_e;++le)k[le].draw(j)},setHoverStyle:function(g){var D=g._model,A=g._options,k=$e.getHoverColor;g.$previousStyle={backgroundColor:D.backgroundColor,borderColor:D.borderColor,borderWidth:D.borderWidth,radius:D.radius},D.backgroundColor=ht(A.hoverBackgroundColor,k(A.backgroundColor)),D.borderColor=ht(A.hoverBorderColor,k(A.borderColor)),D.borderWidth=ht(A.hoverBorderWidth,A.borderWidth),D.radius=ht(A.hoverRadius,A.radius)}}),Mo=$e.options.resolve;or._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(g){var ee,le,_e,D=document.createElement("ul"),A=g.data,k=A.datasets,j=A.labels;if(D.setAttribute("class",g.id+"-legend"),k.length)for(ee=0,le=k[0].data.length;ee<le;++ee)(_e=D.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=k[0].backgroundColor[ee],j[ee]&&_e.appendChild(document.createTextNode(j[ee]));return D.outerHTML},legend:{labels:{generateLabels:function(g){var D=g.data;return D.labels.length&&D.datasets.length?D.labels.map(function(A,k){var j=g.getDatasetMeta(0),ee=j.controller.getStyle(k);return{text:A,fillStyle:ee.backgroundColor,strokeStyle:ee.borderColor,lineWidth:ee.borderWidth,hidden:isNaN(D.datasets[0].data[k])||j.data[k].hidden,index:k}}):[]}},onClick:function(g,D){var j,ee,le,A=D.index,k=this.chart;for(j=0,ee=(k.data.datasets||[]).length;j<ee;++j)(le=k.getDatasetMeta(j)).data[A].hidden=!le.data[A].hidden;k.update()}},tooltips:{callbacks:{title:function(){return""},label:function(g,D){return D.labels[g.index]+": "+g.yLabel}}}});var zp=bs.extend({dataElementType:zn.Arc,linkScales:$e.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(g){var de,ve,Ne,D=this,A=D.getDataset(),k=D.getMeta(),j=D.chart.options.startAngle||0,ee=D._starts=[],le=D._angles=[],_e=k.data;for(D._updateRadius(),k.count=D.countVisibleElements(),de=0,ve=A.data.length;de<ve;de++)ee[de]=j,Ne=D._computeAngle(de),le[de]=Ne,j+=Ne;for(de=0,ve=_e.length;de<ve;++de)_e[de]._options=D._resolveDataElementOptions(_e[de],de),D.updateElement(_e[de],de,g)},_updateRadius:function(){var g=this,D=g.chart,A=D.chartArea,k=D.options,j=Math.min(A.right-A.left,A.bottom-A.top);D.outerRadius=Math.max(j/2,0),D.innerRadius=Math.max(k.cutoutPercentage?D.outerRadius/100*k.cutoutPercentage:1,0),D.radiusLength=(D.outerRadius-D.innerRadius)/D.getVisibleDatasetCount(),g.outerRadius=D.outerRadius-D.radiusLength*g.index,g.innerRadius=g.outerRadius-D.radiusLength},updateElement:function(g,D,A){var k=this,j=k.chart,ee=k.getDataset(),le=j.options,_e=le.animation,de=j.scale,ve=j.data.labels,Ne=de.xCenter,Fe=de.yCenter,Je=le.startAngle,pt=g.hidden?0:de.getDistanceFromCenterForValue(ee.data[D]),gt=k._starts[D],bt=gt+(g.hidden?0:k._angles[D]),Lt=_e.animateScale?0:de.getDistanceFromCenterForValue(ee.data[D]),xn=g._options||{};$e.extend(g,{_datasetIndex:k.index,_index:D,_scale:de,_model:{backgroundColor:xn.backgroundColor,borderColor:xn.borderColor,borderWidth:xn.borderWidth,borderAlign:xn.borderAlign,x:Ne,y:Fe,innerRadius:0,outerRadius:A?Lt:pt,startAngle:A&&_e.animateRotate?Je:gt,endAngle:A&&_e.animateRotate?Je:bt,label:$e.valueAtIndexOrDefault(ve,D,ve[D])}}),g.pivot()},countVisibleElements:function(){var g=this.getDataset(),D=this.getMeta(),A=0;return $e.each(D.data,function(k,j){!isNaN(g.data[j])&&!k.hidden&&A++}),A},setHoverStyle:function(g){var D=g._model,A=g._options,k=$e.getHoverColor,j=$e.valueOrDefault;g.$previousStyle={backgroundColor:D.backgroundColor,borderColor:D.borderColor,borderWidth:D.borderWidth},D.backgroundColor=j(A.hoverBackgroundColor,k(A.backgroundColor)),D.borderColor=j(A.hoverBorderColor,k(A.borderColor)),D.borderWidth=j(A.hoverBorderWidth,A.borderWidth)},_computeAngle:function(g){var D=this,A=this.getMeta().count,k=D.getDataset(),j=D.getMeta();return isNaN(k.data[g])||j.data[g].hidden?0:Mo([D.chart.options.elements.arc.angle,2*Math.PI/A],{chart:D.chart,dataIndex:g,dataset:k,datasetIndex:D.index},g)}});or._set("pie",$e.clone(or.doughnut)),or._set("pie",{cutoutPercentage:0});var jp=ma,so=$e.valueOrDefault;or._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var cc=bs.extend({datasetElementType:zn.Line,dataElementType:zn.Point,linkScales:$e.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(g){var _e,de,D=this,A=D.getMeta(),k=A.dataset,j=A.data||[],ee=D.chart.scale,le=D._config;for(void 0!==le.tension&&void 0===le.lineTension&&(le.lineTension=le.tension),k._scale=ee,k._datasetIndex=D.index,k._children=j,k._loop=!0,k._model=D._resolveDatasetElementOptions(k),k.pivot(),_e=0,de=j.length;_e<de;++_e)D.updateElement(j[_e],_e,g);for(D.updateBezierControlPoints(),_e=0,de=j.length;_e<de;++_e)j[_e].pivot()},updateElement:function(g,D,A){var k=this,j=g.custom||{},ee=k.getDataset(),le=k.chart.scale,_e=le.getPointPositionForValue(D,ee.data[D]),de=k._resolveDataElementOptions(g,D),ve=k.getMeta().dataset._model,Ne=A?le.xCenter:_e.x,Fe=A?le.yCenter:_e.y;g._scale=le,g._options=de,g._datasetIndex=k.index,g._index=D,g._model={x:Ne,y:Fe,skip:j.skip||isNaN(Ne)||isNaN(Fe),radius:de.radius,pointStyle:de.pointStyle,rotation:de.rotation,backgroundColor:de.backgroundColor,borderColor:de.borderColor,borderWidth:de.borderWidth,tension:so(j.tension,ve?ve.tension:0),hitRadius:de.hitRadius}},_resolveDatasetElementOptions:function(){var g=this,D=g._config,A=g.chart.options,k=bs.prototype._resolveDatasetElementOptions.apply(g,arguments);return k.spanGaps=so(D.spanGaps,A.spanGaps),k.tension=so(D.lineTension,A.elements.line.tension),k},updateBezierControlPoints:function(){var j,ee,le,_e,D=this.getMeta(),A=this.chart.chartArea,k=D.data||[];function de(ve,Ne,Fe){return Math.max(Math.min(ve,Fe),Ne)}for(D.dataset._model.spanGaps&&(k=k.filter(function(ve){return!ve._model.skip})),j=0,ee=k.length;j<ee;++j)le=k[j]._model,_e=$e.splineCurve($e.previousItem(k,j,!0)._model,le,$e.nextItem(k,j,!0)._model,le.tension),le.controlPointPreviousX=de(_e.previous.x,A.left,A.right),le.controlPointPreviousY=de(_e.previous.y,A.top,A.bottom),le.controlPointNextX=de(_e.next.x,A.left,A.right),le.controlPointNextY=de(_e.next.y,A.top,A.bottom)},setHoverStyle:function(g){var D=g._model,A=g._options,k=$e.getHoverColor;g.$previousStyle={backgroundColor:D.backgroundColor,borderColor:D.borderColor,borderWidth:D.borderWidth,radius:D.radius},D.backgroundColor=so(A.hoverBackgroundColor,k(A.backgroundColor)),D.borderColor=so(A.hoverBorderColor,k(A.borderColor)),D.borderWidth=so(A.hoverBorderWidth,A.borderWidth),D.radius=so(A.hoverRadius,A.radius)}});or._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(g){return"("+g.xLabel+", "+g.yLabel+")"}}}}),or._set("global",{datasets:{scatter:{showLine:!1}}});var Us={bar:wn,bubble:xs,doughnut:ma,horizontalBar:gr,line:xl,polarArea:zp,pie:jp,radar:cc,scatter:xl};function qc(g,D){return g.native?{x:g.x,y:g.y}:$e.getRelativePosition(g,D)}function dc(g,D){var k,j,ee,le,_e,de,A=g._getSortedVisibleDatasetMetas();for(j=0,le=A.length;j<le;++j)for(ee=0,_e=(k=A[j].data).length;ee<_e;++ee)(de=k[ee])._view.skip||D(de)}function ao(g,D){var A=[];return dc(g,function(k){k.inRange(D.x,D.y)&&A.push(k)}),A}function rh(g,D,A,k){var j=Number.POSITIVE_INFINITY,ee=[];return dc(g,function(le){if(!A||le.inRange(D.x,D.y)){var _e=le.getCenterPoint(),de=k(D,_e);de<j?(ee=[le],j=de):de===j&&ee.push(le)}}),ee}function qi(g){var D=-1!==g.indexOf("x"),A=-1!==g.indexOf("y");return function(k,j){var ee=D?Math.abs(k.x-j.x):0,le=A?Math.abs(k.y-j.y):0;return Math.sqrt(Math.pow(ee,2)+Math.pow(le,2))}}function hf(g,D,A){var k=qc(D,g);A.axis=A.axis||"x";var j=qi(A.axis),ee=A.intersect?ao(g,k):rh(g,k,!1,j),le=[];return ee.length?(g._getSortedVisibleDatasetMetas().forEach(function(_e){var de=_e.data[ee[0]._index];de&&!de._view.skip&&le.push(de)}),le):[]}var Mu={modes:{single:function(g,D){var A=qc(D,g),k=[];return dc(g,function(j){if(j.inRange(A.x,A.y))return k.push(j),k}),k.slice(0,1)},label:hf,index:hf,dataset:function(g,D,A){var k=qc(D,g);A.axis=A.axis||"xy";var j=qi(A.axis),ee=A.intersect?ao(g,k):rh(g,k,!1,j);return ee.length>0&&(ee=g.getDatasetMeta(ee[0]._datasetIndex).data),ee},"x-axis":function(g,D){return hf(g,D,{intersect:!1})},point:function(g,D){return ao(g,qc(D,g))},nearest:function(g,D,A){var k=qc(D,g);A.axis=A.axis||"xy";var j=qi(A.axis);return rh(g,k,A.intersect,j)},x:function(g,D,A){var k=qc(D,g),j=[],ee=!1;return dc(g,function(le){le.inXRange(k.x)&&j.push(le),le.inRange(k.x,k.y)&&(ee=!0)}),A.intersect&&!ee&&(j=[]),j},y:function(g,D,A){var k=qc(D,g),j=[],ee=!1;return dc(g,function(le){le.inYRange(k.y)&&j.push(le),le.inRange(k.x,k.y)&&(ee=!0)}),A.intersect&&!ee&&(j=[]),j}}},Bn=$e.extend;function Ys(g,D){return $e.where(g,function(A){return A.pos===D})}function Ia(g,D){return g.sort(function(A,k){var j=D?k:A,ee=D?A:k;return j.weight===ee.weight?j.index-ee.index:j.weight-ee.weight})}function ih(g,D,A,k){return Math.max(g[A],D[A])+Math.max(g[k],D[k])}function Hi(g,D,A){var ee,le,k=A.box,j=g.maxPadding;if(A.size&&(g[A.pos]-=A.size),A.size=A.horizontal?k.height:k.width,g[A.pos]+=A.size,k.getPadding){var _e=k.getPadding();j.top=Math.max(j.top,_e.top),j.left=Math.max(j.left,_e.left),j.bottom=Math.max(j.bottom,_e.bottom),j.right=Math.max(j.right,_e.right)}if(ee=D.outerWidth-ih(j,g,"left","right"),le=D.outerHeight-ih(j,g,"top","bottom"),ee!==g.w||le!==g.h){g.w=ee,g.h=le;var de=A.horizontal?[ee,g.w]:[le,g.h];return!(de[0]===de[1]||isNaN(de[0])&&isNaN(de[1]))}}function yi(g,D){var ee,A=D.maxPadding;return ee={left:0,top:0,right:0,bottom:0},(g?["left","right"]:["top","bottom"]).forEach(function(le){ee[le]=Math.max(D[le],A[le])}),ee}function ks(g,D,A){var j,ee,le,_e,de,ve,k=[];for(j=0,ee=g.length;j<ee;++j)(_e=(le=g[j]).box).update(le.width||D.w,le.height||D.h,yi(le.horizontal,D)),Hi(D,A,le)&&(ve=!0,k.length&&(de=!0)),_e.fullWidth||k.push(le);return de&&ks(k,D,A)||ve}function So(g,D,A){var le,_e,de,ve,k=A.padding,j=D.x,ee=D.y;for(le=0,_e=g.length;le<_e;++le)ve=(de=g[le]).box,de.horizontal?(ve.left=ve.fullWidth?k.left:D.left,ve.right=ve.fullWidth?A.outerWidth-k.right:D.left+D.w,ve.top=ee,ve.bottom=ee+ve.height,ve.width=ve.right-ve.left,ee=ve.bottom):(ve.left=j,ve.right=j+ve.width,ve.top=D.top,ve.bottom=D.top+D.h,ve.height=ve.bottom-ve.top,j=ve.right);D.x=j,D.y=ee}or._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var po={defaults:{},addBox:function(g,D){g.boxes||(g.boxes=[]),D.fullWidth=D.fullWidth||!1,D.position=D.position||"top",D.weight=D.weight||0,D._layers=D._layers||function(){return[{z:0,draw:function(){D.draw.apply(D,arguments)}}]},g.boxes.push(D)},removeBox:function(g,D){var A=g.boxes?g.boxes.indexOf(D):-1;-1!==A&&g.boxes.splice(A,1)},configure:function(g,D,A){for(var le,k=["fullWidth","position","weight"],j=k.length,ee=0;ee<j;++ee)A.hasOwnProperty(le=k[ee])&&(D[le]=A[le])},update:function(g,D,A){if(g){var j=$e.options.toPadding((g.options.layout||{}).padding),ee=D-j.width,le=A-j.height,_e=function(g){var D=function(g){var A,k,j,D=[];for(A=0,k=(g||[]).length;A<k;++A)D.push({index:A,box:j=g[A],pos:j.position,horizontal:j.isHorizontal(),weight:j.weight});return D}(g),A=Ia(Ys(D,"left"),!0),k=Ia(Ys(D,"right")),j=Ia(Ys(D,"top"),!0),ee=Ia(Ys(D,"bottom"));return{leftAndTop:A.concat(j),rightAndBottom:k.concat(ee),chartArea:Ys(D,"chartArea"),vertical:A.concat(k),horizontal:j.concat(ee)}}(g.boxes),de=_e.vertical,ve=_e.horizontal,Ne=Object.freeze({outerWidth:D,outerHeight:A,padding:j,availableWidth:ee,vBoxMaxWidth:ee/2/de.length,hBoxMaxHeight:le/2}),Fe=Bn({maxPadding:Bn({},j),w:ee,h:le,x:j.left,y:j.top},j);(function(g,D){var A,k,j;for(A=0,k=g.length;A<k;++A)(j=g[A]).width=j.horizontal?j.box.fullWidth&&D.availableWidth:D.vBoxMaxWidth,j.height=j.horizontal&&D.hBoxMaxHeight})(de.concat(ve),Ne),ks(de,Fe,Ne),ks(ve,Fe,Ne)&&ks(de,Fe,Ne),function(g){var D=g.maxPadding;function A(k){var j=Math.max(D[k]-g[k],0);return g[k]+=j,j}g.y+=A("top"),g.x+=A("left"),A("right"),A("bottom")}(Fe),So(_e.leftAndTop,Fe,Ne),Fe.x+=Fe.w,Fe.y+=Fe.h,So(_e.rightAndBottom,Fe,Ne),g.chartArea={left:Fe.left,top:Fe.top,right:Fe.left+Fe.w,bottom:Fe.top+Fe.h},$e.each(_e.chartArea,function(Je){var pt=Je.box;Bn(pt,g.chartArea),pt.update(Fe.w,Fe.h)})}}},Ad=function(g){return g&&g.default||g}(Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"})),Ds="$chartjs",wi="chartjs-",$l=wi+"size-monitor",Vl=wi+"render-monitor",sh=["animationstart","webkitAnimationStart"],au={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Gs(g,D){var A=$e.getStyle(g,D),k=A&&A.match(/^(\d+)(\.\d+)?px$/);return k?Number(k[1]):void 0}var Ls=!!function(){var g=!1;try{var D=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("e",null,D)}catch(A){}return g}()&&{passive:!0};function Xh(g,D,A){g.addEventListener(D,A,Ls)}function tg(g,D,A){g.removeEventListener(D,A,Ls)}function ah(g,D,A,k,j){return{type:g,chart:D,native:j||null,x:void 0!==A?A:null,y:void 0!==k?k:null}}function Td(g){var D=document.createElement("div");return D.className=g||"",D}function Rr(g,D,A){var k=g[Ds]||(g[Ds]={}),j=k.resizer=function(g){var D=1e6,A=Td($l),k=Td($l+"-expand"),j=Td($l+"-shrink");k.appendChild(Td()),j.appendChild(Td()),A.appendChild(k),A.appendChild(j),A._reset=function(){k.scrollLeft=D,k.scrollTop=D,j.scrollLeft=D,j.scrollTop=D};var ee=function(){A._reset(),g()};return Xh(k,"scroll",ee.bind(k,"expand")),Xh(j,"scroll",ee.bind(j,"shrink")),A}(function(g,D){var A=!1,k=[];return function(){k=Array.prototype.slice.call(arguments),D=D||this,A||(A=!0,$e.requestAnimFrame.call(window,function(){A=!1,g.apply(D,k)}))}}(function(){if(k.resizer){var ee=A.options.maintainAspectRatio&&g.parentNode,le=ee?ee.clientWidth:0;D(ah("resize",A)),ee&&ee.clientWidth<le&&A.canvas&&D(ah("resize",A))}}));!function(g,D){var A=g[Ds]||(g[Ds]={}),k=A.renderProxy=function(j){"chartjs-render-animation"===j.animationName&&D()};$e.each(sh,function(j){Xh(g,j,k)}),A.reflow=!!g.offsetParent,g.classList.add(Vl)}(g,function(){if(k.resizer){var ee=g.parentNode;ee&&ee!==j.parentNode&&ee.insertBefore(j,ee.firstChild),j._reset()}})}function Ui(g){var D=g[Ds]||{},A=D.resizer;delete D.resizer,function(g){var D=g[Ds]||{},A=D.renderProxy;A&&($e.each(sh,function(k){tg(g,k,A)}),delete D.renderProxy),g.classList.remove(Vl)}(g),A&&A.parentNode&&A.parentNode.removeChild(A)}var Vu={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(g){if(!this.disableCSSInjection){var D=g.getRootNode?g.getRootNode():document;!function(g,D){var A=g[Ds]||(g[Ds]={});if(!A.containsStyles){A.containsStyles=!0,D="/* Chart.js */\n"+D;var k=document.createElement("style");k.setAttribute("type","text/css"),k.appendChild(document.createTextNode(D)),g.appendChild(k)}}(D.host?D:document.head,Ad)}},acquireContext:function(g,D){"string"==typeof g?g=document.getElementById(g):g.length&&(g=g[0]),g&&g.canvas&&(g=g.canvas);var A=g&&g.getContext&&g.getContext("2d");return A&&A.canvas===g?(this._ensureLoaded(g),function(g,D){var A=g.style,k=g.getAttribute("height"),j=g.getAttribute("width");if(g[Ds]={initial:{height:k,width:j,style:{display:A.display,height:A.height,width:A.width}}},A.display=A.display||"block",null===j||""===j){var ee=Gs(g,"width");void 0!==ee&&(g.width=ee)}if(null===k||""===k)if(""===g.style.height)g.height=g.width/(D.options.aspectRatio||2);else{var le=Gs(g,"height");void 0!==ee&&(g.height=le)}}(g,D),A):null},releaseContext:function(g){var D=g.canvas;if(D[Ds]){var A=D[Ds].initial;["height","width"].forEach(function(k){var j=A[k];$e.isNullOrUndef(j)?D.removeAttribute(k):D.setAttribute(k,j)}),$e.each(A.style||{},function(k,j){D.style[j]=k}),D.width=D.width,delete D[Ds]}},addEventListener:function(g,D,A){var k=g.canvas;if("resize"!==D){var j=A[Ds]||(A[Ds]={});Xh(k,D,(j.proxies||(j.proxies={}))[g.id+"_"+D]=function(_e){A(function(g,D){var A=au[g.type]||g.type,k=$e.getRelativePosition(g,D);return ah(A,D,k.x,k.y,g)}(_e,g))})}else Rr(k,A,g)},removeEventListener:function(g,D,A){var k=g.canvas;if("resize"!==D){var le=((A[Ds]||{}).proxies||{})[g.id+"_"+D];!le||tg(k,D,le)}else Ui(k)}};$e.addEvent=Xh,$e.removeEvent=tg;var is=$e.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Vu._enabled?Vu:{acquireContext:function(g){return g&&g.canvas&&(g=g.canvas),g&&g.getContext("2d")||null}});or._set("global",{plugins:{}});var Qr={_plugins:[],_cacheId:0,register:function(g){var D=this._plugins;[].concat(g).forEach(function(A){-1===D.indexOf(A)&&D.push(A)}),this._cacheId++},unregister:function(g){var D=this._plugins;[].concat(g).forEach(function(A){var k=D.indexOf(A);-1!==k&&D.splice(k,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(g,D,A){var ee,le,_e,de,ve,k=this.descriptors(g),j=k.length;for(ee=0;ee<j;++ee)if("function"==typeof(ve=(_e=(le=k[ee]).plugin)[D])&&((de=[g].concat(A||[])).push(le.options),!1===ve.apply(_e,de)))return!1;return!0},descriptors:function(g){var D=g.$plugins||(g.$plugins={});if(D.id===this._cacheId)return D.descriptors;var A=[],k=[],j=g&&g.config||{},ee=j.options&&j.options.plugins||{};return this._plugins.concat(j.plugins||[]).forEach(function(le){if(-1===A.indexOf(le)){var de=le.id,ve=ee[de];!1!==ve&&(!0===ve&&(ve=$e.clone(or.global.plugins[de])),A.push(le),k.push({plugin:le,options:ve||{}}))}}),D.descriptors=k,D.id=this._cacheId,k},_invalidate:function(g){delete g.$plugins}},Pi={constructors:{},defaults:{},registerScaleType:function(g,D,A){this.constructors[g]=D,this.defaults[g]=$e.clone(A)},getScaleConstructor:function(g){return this.constructors.hasOwnProperty(g)?this.constructors[g]:void 0},getScaleDefaults:function(g){return this.defaults.hasOwnProperty(g)?$e.merge(Object.create(null),[or.scale,this.defaults[g]]):{}},updateScaleDefaults:function(g,D){var A=this;A.defaults.hasOwnProperty(g)&&(A.defaults[g]=$e.extend(A.defaults[g],D))},addScalesToLayout:function(g){$e.each(g.scales,function(D){D.fullWidth=D.options.fullWidth,D.position=D.options.position,D.weight=D.options.weight,po.addBox(g,D)})}},Oa=$e.valueOrDefault,pf=$e.rtl.getRtlAdapter;or._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:$e.noop,title:function(g,D){var A="",k=D.labels,j=k?k.length:0;if(g.length>0){var ee=g[0];ee.label?A=ee.label:ee.xLabel?A=ee.xLabel:j>0&&ee.index<j&&(A=k[ee.index])}return A},afterTitle:$e.noop,beforeBody:$e.noop,beforeLabel:$e.noop,label:function(g,D){var A=D.datasets[g.datasetIndex].label||"";return A&&(A+=": "),$e.isNullOrUndef(g.value)?A+=g.yLabel:A+=g.value,A},labelColor:function(g,D){var j=D.getDatasetMeta(g.datasetIndex).data[g.index]._view;return{borderColor:j.borderColor,backgroundColor:j.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:$e.noop,afterBody:$e.noop,beforeFooter:$e.noop,footer:$e.noop,afterFooter:$e.noop}}});var Jh={average:function(g){if(!g.length)return!1;var D,A,k=0,j=0,ee=0;for(D=0,A=g.length;D<A;++D){var le=g[D];if(le&&le.hasValue()){var _e=le.tooltipPosition();k+=_e.x,j+=_e.y,++ee}}return{x:k/ee,y:j/ee}},nearest:function(g,D){var ee,le,_e,A=D.x,k=D.y,j=Number.POSITIVE_INFINITY;for(ee=0,le=g.length;ee<le;++ee){var de=g[ee];if(de&&de.hasValue()){var ve=de.getCenterPoint(),Ne=$e.distanceBetweenPoints(D,ve);Ne<j&&(j=Ne,_e=de)}}if(_e){var Fe=_e.tooltipPosition();A=Fe.x,k=Fe.y}return{x:A,y:k}}};function zi(g,D){return D&&($e.isArray(D)?Array.prototype.push.apply(g,D):g.push(D)),g}function jl(g){return("string"==typeof g||g instanceof String)&&g.indexOf("\n")>-1?g.split("\n"):g}function Ai(g){var D=g._xScale,A=g._yScale||g._scale,k=g._index,j=g._datasetIndex,ee=g._chart.getDatasetMeta(j).controller,le=ee._getIndexScale(),_e=ee._getValueScale();return{xLabel:D?D.getLabelForIndex(k,j):"",yLabel:A?A.getLabelForIndex(k,j):"",label:le?""+le.getLabelForIndex(k,j):"",value:_e?""+_e.getLabelForIndex(k,j):"",index:k,datasetIndex:j,x:g._model.x,y:g._model.y}}function rg(g){var D=or.global;return{xPadding:g.xPadding,yPadding:g.yPadding,xAlign:g.xAlign,yAlign:g.yAlign,rtl:g.rtl,textDirection:g.textDirection,bodyFontColor:g.bodyFontColor,_bodyFontFamily:Oa(g.bodyFontFamily,D.defaultFontFamily),_bodyFontStyle:Oa(g.bodyFontStyle,D.defaultFontStyle),_bodyAlign:g.bodyAlign,bodyFontSize:Oa(g.bodyFontSize,D.defaultFontSize),bodySpacing:g.bodySpacing,titleFontColor:g.titleFontColor,_titleFontFamily:Oa(g.titleFontFamily,D.defaultFontFamily),_titleFontStyle:Oa(g.titleFontStyle,D.defaultFontStyle),titleFontSize:Oa(g.titleFontSize,D.defaultFontSize),_titleAlign:g.titleAlign,titleSpacing:g.titleSpacing,titleMarginBottom:g.titleMarginBottom,footerFontColor:g.footerFontColor,_footerFontFamily:Oa(g.footerFontFamily,D.defaultFontFamily),_footerFontStyle:Oa(g.footerFontStyle,D.defaultFontStyle),footerFontSize:Oa(g.footerFontSize,D.defaultFontSize),_footerAlign:g.footerAlign,footerSpacing:g.footerSpacing,footerMarginTop:g.footerMarginTop,caretSize:g.caretSize,cornerRadius:g.cornerRadius,backgroundColor:g.backgroundColor,opacity:0,legendColorBackground:g.multiKeyBackground,displayColors:g.displayColors,borderColor:g.borderColor,borderWidth:g.borderWidth}}function pc(g,D){return"center"===D?g.x+g.width/2:"right"===D?g.x+g.width-g.xPadding:g.x+g.xPadding}function ig(g){return zi([],jl(g))}var gf=Hn.extend({initialize:function(){this._model=rg(this._options),this._lastActive=[]},getTitle:function(){var g=this,A=g._options.callbacks,k=A.beforeTitle.apply(g,arguments),j=A.title.apply(g,arguments),ee=A.afterTitle.apply(g,arguments),le=[];return le=zi(le,jl(k)),le=zi(le,jl(j)),zi(le,jl(ee))},getBeforeBody:function(){return ig(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(g,D){var A=this,k=A._options.callbacks,j=[];return $e.each(g,function(ee){var le={before:[],lines:[],after:[]};zi(le.before,jl(k.beforeLabel.call(A,ee,D))),zi(le.lines,k.label.call(A,ee,D)),zi(le.after,jl(k.afterLabel.call(A,ee,D))),j.push(le)}),j},getAfterBody:function(){return ig(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var g=this,D=g._options.callbacks,A=D.beforeFooter.apply(g,arguments),k=D.footer.apply(g,arguments),j=D.afterFooter.apply(g,arguments),ee=[];return ee=zi(ee,jl(A)),ee=zi(ee,jl(k)),zi(ee,jl(j))},update:function(g){var Fe,Je,D=this,A=D._options,k=D._model,j=D._model=rg(A),ee=D._active,le=D._data,_e={xAlign:k.xAlign,yAlign:k.yAlign},de={x:k.x,y:k.y},ve={width:k.width,height:k.height},Ne={x:k.caretX,y:k.caretY};if(ee.length){j.opacity=1;var pt=[],gt=[];Ne=Jh[A.position].call(D,ee,D._eventPosition);var bt=[];for(Fe=0,Je=ee.length;Fe<Je;++Fe)bt.push(Ai(ee[Fe]));A.filter&&(bt=bt.filter(function(Lt){return A.filter(Lt,le)})),A.itemSort&&(bt=bt.sort(function(Lt,xn){return A.itemSort(Lt,xn,le)})),$e.each(bt,function(Lt){pt.push(A.callbacks.labelColor.call(D,Lt,D._chart)),gt.push(A.callbacks.labelTextColor.call(D,Lt,D._chart))}),j.title=D.getTitle(bt,le),j.beforeBody=D.getBeforeBody(bt,le),j.body=D.getBody(bt,le),j.afterBody=D.getAfterBody(bt,le),j.footer=D.getFooter(bt,le),j.x=Ne.x,j.y=Ne.y,j.caretPadding=A.caretPadding,j.labelColors=pt,j.labelTextColors=gt,j.dataPoints=bt,de=function(g,D,A,k){var j=g.x,ee=g.y,_e=g.caretPadding,ve=A.xAlign,Ne=A.yAlign,Fe=g.caretSize+_e,Je=g.cornerRadius+_e;return"right"===ve?j-=D.width:"center"===ve&&((j-=D.width/2)+D.width>k.width&&(j=k.width-D.width),j<0&&(j=0)),"top"===Ne?ee+=Fe:ee-="bottom"===Ne?D.height+Fe:D.height/2,"center"===Ne?"left"===ve?j+=Fe:"right"===ve&&(j-=Fe):"left"===ve?j-=Je:"right"===ve&&(j+=Je),{x:j,y:ee}}(j,ve=function(g,D){var A=g._chart.ctx,k=2*D.yPadding,j=0,ee=D.body,le=ee.reduce(function(gt,bt){return gt+bt.before.length+bt.lines.length+bt.after.length},0),_e=D.title.length,de=D.footer.length,ve=D.titleFontSize,Ne=D.bodyFontSize,Fe=D.footerFontSize;k+=_e*ve,k+=_e?(_e-1)*D.titleSpacing:0,k+=_e?D.titleMarginBottom:0,k+=(le+=D.beforeBody.length+D.afterBody.length)*Ne,k+=le?(le-1)*D.bodySpacing:0,k+=de?D.footerMarginTop:0,k+=de*Fe,k+=de?(de-1)*D.footerSpacing:0;var Je=0,pt=function(gt){j=Math.max(j,A.measureText(gt).width+Je)};return A.font=$e.fontString(ve,D._titleFontStyle,D._titleFontFamily),$e.each(D.title,pt),A.font=$e.fontString(Ne,D._bodyFontStyle,D._bodyFontFamily),$e.each(D.beforeBody.concat(D.afterBody),pt),Je=D.displayColors?Ne+2:0,$e.each(ee,function(gt){$e.each(gt.before,pt),$e.each(gt.lines,pt),$e.each(gt.after,pt)}),Je=0,A.font=$e.fontString(Fe,D._footerFontStyle,D._footerFontFamily),$e.each(D.footer,pt),{width:j+=2*D.xPadding,height:k}}(this,j),_e=function(g,D){var A=g._model,k=g._chart,j=g._chart.chartArea,ee="center",le="center";A.y<D.height?le="top":A.y>k.height-D.height&&(le="bottom");var _e,de,ve,Ne,Fe,Je=(j.left+j.right)/2,pt=(j.top+j.bottom)/2;"center"===le?(_e=function(bt){return bt<=Je},de=function(bt){return bt>Je}):(_e=function(bt){return bt<=D.width/2},de=function(bt){return bt>=k.width-D.width/2}),ve=function(bt){return bt+D.width+A.caretSize+A.caretPadding>k.width},Ne=function(bt){return bt-D.width-A.caretSize-A.caretPadding<0},Fe=function(bt){return bt<=pt?"top":"bottom"},_e(A.x)?(ee="left",ve(A.x)&&(ee="center",le=Fe(A.y))):de(A.x)&&(ee="right",Ne(A.x)&&(ee="center",le=Fe(A.y)));var gt=g._options;return{xAlign:gt.xAlign?gt.xAlign:ee,yAlign:gt.yAlign?gt.yAlign:le}}(this,ve),D._chart)}else j.opacity=0;return j.xAlign=_e.xAlign,j.yAlign=_e.yAlign,j.x=de.x,j.y=de.y,j.width=ve.width,j.height=ve.height,j.caretX=Ne.x,j.caretY=Ne.y,D._model=j,g&&A.custom&&A.custom.call(D,j),D},drawCaret:function(g,D){var A=this._chart.ctx,j=this.getCaretPosition(g,D,this._view);A.lineTo(j.x1,j.y1),A.lineTo(j.x2,j.y2),A.lineTo(j.x3,j.y3)},getCaretPosition:function(g,D,A){var k,j,ee,le,_e,de,ve=A.caretSize,Ne=A.cornerRadius,Fe=A.xAlign,Je=A.yAlign,pt=g.x,gt=g.y,bt=D.width,Lt=D.height;if("center"===Je)_e=gt+Lt/2,"left"===Fe?(j=(k=pt)-ve,ee=k,le=_e+ve,de=_e-ve):(j=(k=pt+bt)+ve,ee=k,le=_e-ve,de=_e+ve);else if("left"===Fe?(k=(j=pt+Ne+ve)-ve,ee=j+ve):"right"===Fe?(k=(j=pt+bt-Ne-ve)-ve,ee=j+ve):(k=(j=A.caretX)-ve,ee=j+ve),"top"===Je)_e=(le=gt)-ve,de=le;else{_e=(le=gt+Lt)+ve,de=le;var xn=ee;ee=k,k=xn}return{x1:k,x2:j,x3:ee,y1:le,y2:_e,y3:de}},drawTitle:function(g,D,A){var ee,le,_e,k=D.title,j=k.length;if(j){var de=pf(D.rtl,D.x,D.width);for(g.x=pc(D,D._titleAlign),A.textAlign=de.textAlign(D._titleAlign),A.textBaseline="middle",ee=D.titleFontSize,le=D.titleSpacing,A.fillStyle=D.titleFontColor,A.font=$e.fontString(ee,D._titleFontStyle,D._titleFontFamily),_e=0;_e<j;++_e)A.fillText(k[_e],de.x(g.x),g.y+ee/2),g.y+=ee+le,_e+1===j&&(g.y+=D.titleMarginBottom-le)}},drawBody:function(g,D,A){var Je,pt,gt,bt,Lt,xn,cr,br,k=D.bodyFontSize,j=D.bodySpacing,ee=D._bodyAlign,le=D.body,_e=D.displayColors,de=0,ve=_e?pc(D,"left"):0,Ne=pf(D.rtl,D.x,D.width),Fe=function(ss){A.fillText(ss,Ne.x(g.x+de),g.y+k/2),g.y+=k+j},ci=Ne.textAlign(ee);for(A.textAlign=ee,A.textBaseline="middle",A.font=$e.fontString(k,D._bodyFontStyle,D._bodyFontFamily),g.x=pc(D,ci),A.fillStyle=D.bodyFontColor,$e.each(D.beforeBody,Fe),de=_e&&"right"!==ci?"center"===ee?k/2+1:k+2:0,Lt=0,cr=le.length;Lt<cr;++Lt){for(Je=le[Lt],gt=D.labelColors[Lt],A.fillStyle=pt=D.labelTextColors[Lt],$e.each(Je.before,Fe),xn=0,br=(bt=Je.lines).length;xn<br;++xn){if(_e){var si=Ne.x(ve);A.fillStyle=D.legendColorBackground,A.fillRect(Ne.leftForLtr(si,k),g.y,k,k),A.lineWidth=1,A.strokeStyle=gt.borderColor,A.strokeRect(Ne.leftForLtr(si,k),g.y,k,k),A.fillStyle=gt.backgroundColor,A.fillRect(Ne.leftForLtr(Ne.xPlus(si,1),k-2),g.y+1,k-2,k-2),A.fillStyle=pt}Fe(bt[xn])}$e.each(Je.after,Fe)}de=0,$e.each(D.afterBody,Fe),g.y-=j},drawFooter:function(g,D,A){var ee,le,k=D.footer,j=k.length;if(j){var _e=pf(D.rtl,D.x,D.width);for(g.x=pc(D,D._footerAlign),g.y+=D.footerMarginTop,A.textAlign=_e.textAlign(D._footerAlign),A.textBaseline="middle",ee=D.footerFontSize,A.fillStyle=D.footerFontColor,A.font=$e.fontString(ee,D._footerFontStyle,D._footerFontFamily),le=0;le<j;++le)A.fillText(k[le],_e.x(g.x),g.y+ee/2),g.y+=ee+D.footerSpacing}},drawBackground:function(g,D,A,k){A.fillStyle=D.backgroundColor,A.strokeStyle=D.borderColor,A.lineWidth=D.borderWidth;var j=D.xAlign,ee=D.yAlign,le=g.x,_e=g.y,de=k.width,ve=k.height,Ne=D.cornerRadius;A.beginPath(),A.moveTo(le+Ne,_e),"top"===ee&&this.drawCaret(g,k),A.lineTo(le+de-Ne,_e),A.quadraticCurveTo(le+de,_e,le+de,_e+Ne),"center"===ee&&"right"===j&&this.drawCaret(g,k),A.lineTo(le+de,_e+ve-Ne),A.quadraticCurveTo(le+de,_e+ve,le+de-Ne,_e+ve),"bottom"===ee&&this.drawCaret(g,k),A.lineTo(le+Ne,_e+ve),A.quadraticCurveTo(le,_e+ve,le,_e+ve-Ne),"center"===ee&&"left"===j&&this.drawCaret(g,k),A.lineTo(le,_e+Ne),A.quadraticCurveTo(le,_e,le+Ne,_e),A.closePath(),A.fill(),D.borderWidth>0&&A.stroke()},draw:function(){var g=this._chart.ctx,D=this._view;if(0!==D.opacity){var A={width:D.width,height:D.height},k={x:D.x,y:D.y},j=Math.abs(D.opacity<.001)?0:D.opacity;this._options.enabled&&(D.title.length||D.beforeBody.length||D.body.length||D.afterBody.length||D.footer.length)&&(g.save(),g.globalAlpha=j,this.drawBackground(k,D,g,A),k.y+=D.yPadding,$e.rtl.overrideTextDirection(g,D.textDirection),this.drawTitle(k,D,g),this.drawBody(k,D,g),this.drawFooter(k,D,g),$e.rtl.restoreTextDirection(g,D.textDirection),g.restore())}},handleEvent:function(g){var k,D=this,A=D._options;return D._lastActive=D._lastActive||[],"mouseout"===g.type?D._active=[]:(D._active=D._chart.getElementsAtEventForMode(g,A.mode,A),A.reverse&&D._active.reverse()),(k=!$e.arrayEquals(D._active,D._lastActive))&&(D._lastActive=D._active,(A.enabled||A.custom)&&(D._eventPosition={x:g.x,y:g.y},D.update(!0),D.pivot())),k}});gf.positioners=Jh;var sg=$e.valueOrDefault;function ag(){return $e.merge(Object.create(null),[].slice.call(arguments),{merger:function(g,D,A,k){if("xAxes"===g||"yAxes"===g){var ee,le,_e,j=A[g].length;for(D[g]||(D[g]=[]),ee=0;ee<j;++ee)le=sg((_e=A[g][ee]).type,"xAxes"===g?"category":"linear"),ee>=D[g].length&&D[g].push({}),$e.merge(D[g][ee],!D[g][ee].type||_e.type&&_e.type!==D[g][ee].type?[Pi.getScaleDefaults(le),_e]:_e)}else $e._merger(g,D,A,k)}})}function og(){return $e.merge(Object.create(null),[].slice.call(arguments),{merger:function(g,D,A,k){var j=D[g]||Object.create(null),ee=A[g];"scales"===g?D[g]=ag(j,ee):"scale"===g?D[g]=$e.merge(j,[Pi.getScaleDefaults(ee.type),ee]):$e._merger(g,D,A,k)}})}function VC(g){var D=g.options;$e.each(g.scales,function(A){po.removeBox(g,A)}),D=og(or.global,or[g.config.type],D),g.options=g.config.options=D,g.ensureScalesHaveIDs(),g.buildOrUpdateScales(),g.tooltip._options=D.tooltips,g.tooltip.initialize()}function sy(g,D,A){var k,j=function(ee){return ee.id===k};do{k=D+A++}while($e.findIndex(g,j)>=0);return k}function Id(g){return"top"===g||"bottom"===g}function ep(g,D){return function(A,k){return A[g]===k[g]?A[D]-k[D]:A[g]-k[g]}}or._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Ei=function(g,D){return this.construct(g,D),this};$e.extend(Ei.prototype,{construct:function(g,D){var A=this;D=function(g){var D=(g=g||Object.create(null)).data=g.data||{};return D.datasets=D.datasets||[],D.labels=D.labels||[],g.options=og(or.global,or[g.type],g.options||{}),g}(D);var k=is.acquireContext(g,D),j=k&&k.canvas,ee=j&&j.height,le=j&&j.width;A.id=$e.uid(),A.ctx=k,A.canvas=j,A.config=D,A.width=le,A.height=ee,A.aspectRatio=ee?le/ee:null,A.options=D.options,A._bufferedRender=!1,A._layers=[],A.chart=A,A.controller=A,Ei.instances[A.id]=A,Object.defineProperty(A,"data",{get:function(){return A.config.data},set:function(_e){A.config.data=_e}}),k&&j?(A.initialize(),A.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var g=this;return Qr.notify(g,"beforeInit"),$e.retinaScale(g,g.options.devicePixelRatio),g.bindEvents(),g.options.responsive&&g.resize(!0),g.initToolTip(),Qr.notify(g,"afterInit"),g},clear:function(){return $e.canvas.clear(this),this},stop:function(){return Os.cancelAnimation(this),this},resize:function(g){var D=this,A=D.options,k=D.canvas,j=A.maintainAspectRatio&&D.aspectRatio||null,ee=Math.max(0,Math.floor($e.getMaximumWidth(k))),le=Math.max(0,Math.floor(j?ee/j:$e.getMaximumHeight(k)));if((D.width!==ee||D.height!==le)&&(k.width=D.width=ee,k.height=D.height=le,k.style.width=ee+"px",k.style.height=le+"px",$e.retinaScale(D,A.devicePixelRatio),!g)){var _e={width:ee,height:le};Qr.notify(D,"resize",[_e]),A.onResize&&A.onResize(D,_e),D.stop(),D.update({duration:A.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var g=this.options,D=g.scales||{},A=g.scale;$e.each(D.xAxes,function(k,j){k.id||(k.id=sy(D.xAxes,"x-axis-",j))}),$e.each(D.yAxes,function(k,j){k.id||(k.id=sy(D.yAxes,"y-axis-",j))}),A&&(A.id=A.id||"scale")},buildOrUpdateScales:function(){var g=this,D=g.options,A=g.scales||{},k=[],j=Object.keys(A).reduce(function(ee,le){return ee[le]=!1,ee},{});D.scales&&(k=k.concat((D.scales.xAxes||[]).map(function(ee){return{options:ee,dtype:"category",dposition:"bottom"}}),(D.scales.yAxes||[]).map(function(ee){return{options:ee,dtype:"linear",dposition:"left"}}))),D.scale&&k.push({options:D.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),$e.each(k,function(ee){var le=ee.options,_e=le.id,de=sg(le.type,ee.dtype);Id(le.position)!==Id(ee.dposition)&&(le.position=ee.dposition),j[_e]=!0;var ve=null;if(_e in A&&A[_e].type===de)(ve=A[_e]).options=le,ve.ctx=g.ctx,ve.chart=g;else{var Ne=Pi.getScaleConstructor(de);if(!Ne)return;ve=new Ne({id:_e,type:de,options:le,ctx:g.ctx,chart:g}),A[ve.id]=ve}ve.mergeTicksOptions(),ee.isDefault&&(g.scale=ve)}),$e.each(j,function(ee,le){ee||delete A[le]}),g.scales=A,Pi.addScalesToLayout(this)},buildOrUpdateControllers:function(){var k,j,g=this,D=[],A=g.data.datasets;for(k=0,j=A.length;k<j;k++){var ee=A[k],le=g.getDatasetMeta(k),_e=ee.type||g.config.type;if(le.type&&le.type!==_e&&(g.destroyDatasetMeta(k),le=g.getDatasetMeta(k)),le.type=_e,le.order=ee.order||0,le.index=k,le.controller)le.controller.updateIndex(k),le.controller.linkScales();else{var de=Us[le.type];if(void 0===de)throw new Error('"'+le.type+'" is not a chart type.');le.controller=new de(g,k),D.push(le.controller)}}return D},resetElements:function(){var g=this;$e.each(g.data.datasets,function(D,A){g.getDatasetMeta(A).controller.reset()},g)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(g){var A,k,D=this;if((!g||"object"!=typeof g)&&(g={duration:g,lazy:arguments[1]}),VC(D),Qr._invalidate(D),!1!==Qr.notify(D,"beforeUpdate")){D.tooltip._data=D.data;var j=D.buildOrUpdateControllers();for(A=0,k=D.data.datasets.length;A<k;A++)D.getDatasetMeta(A).controller.buildOrUpdateElements();D.updateLayout(),D.options.animation&&D.options.animation.duration&&$e.each(j,function(ee){ee.reset()}),D.updateDatasets(),D.tooltip.initialize(),D.lastActive=[],Qr.notify(D,"afterUpdate"),D._layers.sort(ep("z","_idx")),D._bufferedRender?D._bufferedRequest={duration:g.duration,easing:g.easing,lazy:g.lazy}:D.render(g)}},updateLayout:function(){var g=this;!1!==Qr.notify(g,"beforeLayout")&&(po.update(this,this.width,this.height),g._layers=[],$e.each(g.boxes,function(D){D._configure&&D._configure(),g._layers.push.apply(g._layers,D._layers())},g),g._layers.forEach(function(D,A){D._idx=A}),Qr.notify(g,"afterScaleUpdate"),Qr.notify(g,"afterLayout"))},updateDatasets:function(){var g=this;if(!1!==Qr.notify(g,"beforeDatasetsUpdate")){for(var D=0,A=g.data.datasets.length;D<A;++D)g.updateDataset(D);Qr.notify(g,"afterDatasetsUpdate")}},updateDataset:function(g){var D=this,A=D.getDatasetMeta(g),k={meta:A,index:g};!1!==Qr.notify(D,"beforeDatasetUpdate",[k])&&(A.controller._update(),Qr.notify(D,"afterDatasetUpdate",[k]))},render:function(g){var D=this;(!g||"object"!=typeof g)&&(g={duration:g,lazy:arguments[1]});var A=D.options.animation,k=sg(g.duration,A&&A.duration),j=g.lazy;if(!1!==Qr.notify(D,"beforeRender")){var ee=function(_e){Qr.notify(D,"afterRender"),$e.callback(A&&A.onComplete,[_e],D)};if(A&&k){var le=new sa({numSteps:k/16.66,easing:g.easing||A.easing,render:function(_e,de){var Ne=de.currentStep,Fe=Ne/de.numSteps;_e.draw((0,$e.easing.effects[de.easing])(Fe),Fe,Ne)},onAnimationProgress:A.onProgress,onAnimationComplete:ee});Os.addAnimation(D,le,k,j)}else D.draw(),ee(new sa({numSteps:0,chart:D}));return D}},draw:function(g){var A,k,D=this;if(D.clear(),$e.isNullOrUndef(g)&&(g=1),D.transition(g),!(D.width<=0||D.height<=0)&&!1!==Qr.notify(D,"beforeDraw",[g])){for(k=D._layers,A=0;A<k.length&&k[A].z<=0;++A)k[A].draw(D.chartArea);for(D.drawDatasets(g);A<k.length;++A)k[A].draw(D.chartArea);D._drawTooltip(g),Qr.notify(D,"afterDraw",[g])}},transition:function(g){for(var D=this,A=0,k=(D.data.datasets||[]).length;A<k;++A)D.isDatasetVisible(A)&&D.getDatasetMeta(A).controller.transition(g);D.tooltip.transition(g)},_getSortedDatasetMetas:function(g){var j,ee,D=this,k=[];for(j=0,ee=(D.data.datasets||[]).length;j<ee;++j)(!g||D.isDatasetVisible(j))&&k.push(D.getDatasetMeta(j));return k.sort(ep("order","index")),k},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(g){var A,k,D=this;if(!1!==Qr.notify(D,"beforeDatasetsDraw",[g])){for(k=(A=D._getSortedVisibleDatasetMetas()).length-1;k>=0;--k)D.drawDataset(A[k],g);Qr.notify(D,"afterDatasetsDraw",[g])}},drawDataset:function(g,D){var k={meta:g,index:g.index,easingValue:D};!1!==Qr.notify(this,"beforeDatasetDraw",[k])&&(g.controller.draw(D),Qr.notify(this,"afterDatasetDraw",[k]))},_drawTooltip:function(g){var D=this,A=D.tooltip,k={tooltip:A,easingValue:g};!1!==Qr.notify(D,"beforeTooltipDraw",[k])&&(A.draw(),Qr.notify(D,"afterTooltipDraw",[k]))},getElementAtEvent:function(g){return Mu.modes.single(this,g)},getElementsAtEvent:function(g){return Mu.modes.label(this,g,{intersect:!0})},getElementsAtXAxis:function(g){return Mu.modes["x-axis"](this,g,{intersect:!0})},getElementsAtEventForMode:function(g,D,A){var k=Mu.modes[D];return"function"==typeof k?k(this,g,A):[]},getDatasetAtEvent:function(g){return Mu.modes.dataset(this,g,{intersect:!0})},getDatasetMeta:function(g){var D=this,A=D.data.datasets[g];A._meta||(A._meta={});var k=A._meta[D.id];return k||(k=A._meta[D.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:A.order||0,index:g}),k},getVisibleDatasetCount:function(){for(var g=0,D=0,A=this.data.datasets.length;D<A;++D)this.isDatasetVisible(D)&&g++;return g},isDatasetVisible:function(g){var D=this.getDatasetMeta(g);return"boolean"==typeof D.hidden?!D.hidden:!this.data.datasets[g].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(g){var D=this.id,A=this.data.datasets[g],k=A._meta&&A._meta[D];k&&(k.controller.destroy(),delete A._meta[D])},destroy:function(){var A,k,g=this,D=g.canvas;for(g.stop(),A=0,k=g.data.datasets.length;A<k;++A)g.destroyDatasetMeta(A);D&&(g.unbindEvents(),$e.canvas.clear(g),is.releaseContext(g.ctx),g.canvas=null,g.ctx=null),Qr.notify(g,"destroy"),delete Ei.instances[g.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var g=this;g.tooltip=new gf({_chart:g,_chartInstance:g,_data:g.data,_options:g.options.tooltips},g)},bindEvents:function(){var g=this,D=g._listeners={},A=function(){g.eventHandler.apply(g,arguments)};$e.each(g.options.events,function(k){is.addEventListener(g,k,A),D[k]=A}),g.options.responsive&&(A=function(){g.resize()},is.addEventListener(g,"resize",A),D.resize=A)},unbindEvents:function(){var g=this,D=g._listeners;!D||(delete g._listeners,$e.each(D,function(A,k){is.removeEventListener(g,k,A)}))},updateHoverStyle:function(g,D,A){var j,ee,le,k=A?"set":"remove";for(ee=0,le=g.length;ee<le;++ee)(j=g[ee])&&this.getDatasetMeta(j._datasetIndex).controller[k+"HoverStyle"](j);"dataset"===D&&this.getDatasetMeta(g[0]._datasetIndex).controller["_"+k+"DatasetHoverStyle"]()},eventHandler:function(g){var D=this,A=D.tooltip;if(!1!==Qr.notify(D,"beforeEvent",[g])){D._bufferedRender=!0,D._bufferedRequest=null;var k=D.handleEvent(g);A&&(k=A._start?A.handleEvent(g):k|A.handleEvent(g)),Qr.notify(D,"afterEvent",[g]);var j=D._bufferedRequest;return j?D.render(j):k&&!D.animating&&(D.stop(),D.render({duration:D.options.hover.animationDuration,lazy:!0})),D._bufferedRender=!1,D._bufferedRequest=null,D}},handleEvent:function(g){var j,D=this,A=D.options||{},k=A.hover;return D.lastActive=D.lastActive||[],D.active="mouseout"===g.type?[]:D.getElementsAtEventForMode(g,k.mode,k),$e.callback(A.onHover||A.hover.onHover,[g.native,D.active],D),("mouseup"===g.type||"click"===g.type)&&A.onClick&&A.onClick.call(D,g.native,D.active),D.lastActive.length&&D.updateHoverStyle(D.lastActive,k.mode,!1),D.active.length&&k.mode&&D.updateHoverStyle(D.active,k.mode,!0),j=!$e.arrayEquals(D.active,D.lastActive),D.lastActive=D.active,j}}),Ei.instances={};var Li=Ei;Ei.Controller=Ei,Ei.types={},$e.configMerge=og,$e.scaleMerge=ag;function Wl(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function _f(g){this.options=g||{}}$e.extend(_f.prototype,{formats:Wl,parse:Wl,format:Wl,add:Wl,diff:Wl,startOf:Wl,endOf:Wl,_create:function(g){return g}}),_f.override=function(g){$e.extend(_f.prototype,g)};var vi={_date:_f},Hl={formatters:{values:function(g){return $e.isArray(g)?g:""+g},linear:function(g,D,A){var k=A.length>3?A[2]-A[1]:A[1]-A[0];Math.abs(k)>1&&g!==Math.floor(g)&&(k=g-Math.floor(g));var j=$e.log10(Math.abs(k)),ee="";if(0!==g)if(Math.max(Math.abs(A[0]),Math.abs(A[A.length-1]))<1e-4){var _e=$e.log10(Math.abs(g)),de=Math.floor(_e)-Math.floor(j);de=Math.max(Math.min(de,20),0),ee=g.toExponential(de)}else{var ve=-1*Math.floor(j);ve=Math.max(Math.min(ve,20),0),ee=g.toFixed(ve)}else ee="0";return ee},logarithmic:function(g,D,A){var k=g/Math.pow(10,Math.floor($e.log10(g)));return 0===g?"0":1===k||2===k||5===k||0===D||D===A.length-1?g.toExponential():""}}},ch=$e.isArray,aa=$e.isNullOrUndef,Ul=$e.valueOrDefault,Ks=$e.valueAtIndexOrDefault;function td(g,D,A){var ve,k=g.getTicks().length,j=Math.min(D,k-1),ee=g.getPixelForTick(j),le=g._startPixel,_e=g._endPixel;if(!(A&&(ve=1===k?Math.max(ee-le,_e-ee):0===D?(g.getPixelForTick(1)-ee)/2:(ee-g.getPixelForTick(j-1))/2,ee+=j<D?ve:-ve,ee<le-1e-6||ee>_e+1e-6)))return ee}function Kx(g,D,A,k){var Ne,Fe,Je,pt,gt,bt,Lt,xn,cr,br,ci,si,ss,j=A.length,ee=[],le=[],_e=[],de=0,ve=0;for(Ne=0;Ne<j;++Ne){if(pt=A[Ne].label,g.font=bt=(gt=A[Ne].major?D.major:D.minor).string,Lt=k[bt]=k[bt]||{data:{},gc:[]},xn=gt.lineHeight,cr=br=0,aa(pt)||ch(pt)){if(ch(pt))for(Fe=0,Je=pt.length;Fe<Je;++Fe)!aa(ci=pt[Fe])&&!ch(ci)&&(cr=$e.measureText(g,Lt.data,Lt.gc,cr,ci),br+=xn)}else cr=$e.measureText(g,Lt.data,Lt.gc,cr,pt),br=xn;ee.push(cr),le.push(br),_e.push(xn/2),de=Math.max(cr,de),ve=Math.max(br,ve)}function ai(os){return{width:ee[os]||0,height:le[os]||0,offset:_e[os]||0}}return function(g,D){$e.each(g,function(A){var ee,k=A.gc,j=k.length/2;if(j>D){for(ee=0;ee<j;++ee)delete A.data[k[ee]];k.splice(0,j)}})}(k,j),si=ee.indexOf(de),ss=le.indexOf(ve),{first:ai(0),last:ai(j-1),widest:ai(si),highest:ai(ss)}}function Fs(g){return g.drawTicks?g.tickMarkLength:0}function Wp(g){var D,A;return g.display?(D=$e.options._parseFont(g),A=$e.options.toPadding(g.padding),D.lineHeight+A.height):0}function mc(g,D){return $e.extend($e.options._parseFont({fontFamily:Ul(D.fontFamily,g.fontFamily),fontSize:Ul(D.fontSize,g.fontSize),fontStyle:Ul(D.fontStyle,g.fontStyle),lineHeight:Ul(D.lineHeight,g.lineHeight)}),{color:$e.options.resolve([D.fontColor,g.fontColor,or.global.defaultFontColor])})}function oy(g){var D=mc(g,g.minor);return{minor:D,major:g.major.enabled?mc(g,g.major):D}}function La(g){var A,k,j,D=[];for(k=0,j=g.length;k<j;++k)void 0!==(A=g[k])._index&&D.push(A);return D}function A0(g,D,A,k){var _e,de,ve,Ne,j=Ul(A,0),ee=Math.min(Ul(k,g.length),g.length),le=0;for(D=Math.ceil(D),k&&(D=(_e=k-A)/Math.floor(_e/D)),Ne=j;Ne<0;)le++,Ne=Math.round(j+le*D);for(de=Math.max(j,0);de<ee;de++)ve=g[de],de===Ne?(ve._index=de,le++,Ne=Math.round(j+le*D)):delete ve.label}or._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Hl.formatters.values,minor:{},major:{}}});var tp=Hn.extend({zeroLineIndex:0,getPadding:function(){var g=this;return{left:g.paddingLeft||0,top:g.paddingTop||0,right:g.paddingRight||0,bottom:g.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var g=this.chart.data;return this.options.labels||(this.isHorizontal()?g.xLabels:g.yLabels)||g.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){$e.callback(this.options.beforeUpdate,[this])},update:function(g,D,A){var le,_e,de,ve,Ne,k=this,j=k.options.ticks,ee=j.sampleSize;if(k.beforeUpdate(),k.maxWidth=g,k.maxHeight=D,k.margins=$e.extend({left:0,right:0,top:0,bottom:0},A),k._ticks=null,k.ticks=null,k._labelSizes=null,k._maxLabelLines=0,k.longestLabelWidth=0,k.longestTextCache=k.longestTextCache||{},k._gridLineItems=null,k._labelItems=null,k.beforeSetDimensions(),k.setDimensions(),k.afterSetDimensions(),k.beforeDataLimits(),k.determineDataLimits(),k.afterDataLimits(),k.beforeBuildTicks(),ve=k.buildTicks()||[],(!(ve=k.afterBuildTicks(ve)||ve)||!ve.length)&&k.ticks)for(ve=[],le=0,_e=k.ticks.length;le<_e;++le)ve.push({value:k.ticks[le],major:!1});return k._ticks=ve,de=k._convertTicksToLabels((Ne=ee<ve.length)?function(g,D){for(var A=[],k=g.length/D,j=0,ee=g.length;j<ee;j+=k)A.push(g[Math.floor(j)]);return A}(ve,ee):ve),k._configure(),k.beforeCalculateTickRotation(),k.calculateTickRotation(),k.afterCalculateTickRotation(),k.beforeFit(),k.fit(),k.afterFit(),k._ticksToDraw=j.display&&(j.autoSkip||"auto"===j.source)?k._autoSkip(ve):ve,Ne&&(de=k._convertTicksToLabels(k._ticksToDraw)),k.ticks=de,k.afterUpdate(),k.minSize},_configure:function(){var A,k,g=this,D=g.options.ticks.reverse;g.isHorizontal()?(A=g.left,k=g.right):(A=g.top,k=g.bottom,D=!D),g._startPixel=A,g._endPixel=k,g._reversePixels=D,g._length=k-A},afterUpdate:function(){$e.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){$e.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var g=this;g.isHorizontal()?(g.width=g.maxWidth,g.left=0,g.right=g.width):(g.height=g.maxHeight,g.top=0,g.bottom=g.height),g.paddingLeft=0,g.paddingTop=0,g.paddingRight=0,g.paddingBottom=0},afterSetDimensions:function(){$e.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){$e.callback(this.options.beforeDataLimits,[this])},determineDataLimits:$e.noop,afterDataLimits:function(){$e.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){$e.callback(this.options.beforeBuildTicks,[this])},buildTicks:$e.noop,afterBuildTicks:function(g){var D=this;return ch(g)&&g.length?$e.callback(D.options.afterBuildTicks,[D,g]):(D.ticks=$e.callback(D.options.afterBuildTicks,[D,D.ticks])||D.ticks,g)},beforeTickToLabelConversion:function(){$e.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var g=this,D=g.options.ticks;g.ticks=g.ticks.map(D.userCallback||D.callback,this)},afterTickToLabelConversion:function(){$e.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){$e.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var _e,de,ve,Ne,Fe,Je,pt,g=this,D=g.options,A=D.ticks,k=g.getTicks().length,j=A.minRotation||0,ee=A.maxRotation,le=j;!g._isVisible()||!A.display||j>=ee||k<=1||!g.isHorizontal()?g.labelRotation=j:(de=(_e=g._getLabelSizes()).widest.width,ve=_e.highest.height-_e.highest.offset,Ne=Math.min(g.maxWidth,g.chart.width-de),de+6>(Fe=D.offset?g.maxWidth/k:Ne/(k-1))&&(Fe=Ne/(k-(D.offset?.5:1)),Je=g.maxHeight-Fs(D.gridLines)-A.padding-Wp(D.scaleLabel),pt=Math.sqrt(de*de+ve*ve),le=$e.toDegrees(Math.min(Math.asin(Math.min((_e.highest.height+6)/Fe,1)),Math.asin(Math.min(Je/pt,1))-Math.asin(ve/pt))),le=Math.max(j,Math.min(ee,le))),g.labelRotation=le)},afterCalculateTickRotation:function(){$e.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){$e.callback(this.options.beforeFit,[this])},fit:function(){var g=this,D=g.minSize={width:0,height:0},A=g.chart,k=g.options,j=k.ticks,ee=k.scaleLabel,le=k.gridLines,_e=g._isVisible(),de="bottom"===k.position,ve=g.isHorizontal();if(ve?D.width=g.maxWidth:_e&&(D.width=Fs(le)+Wp(ee)),ve?_e&&(D.height=Fs(le)+Wp(ee)):D.height=g.maxHeight,j.display&&_e){var Ne=oy(j),Fe=g._getLabelSizes(),Je=Fe.first,pt=Fe.last,gt=Fe.widest,bt=Fe.highest,Lt=.4*Ne.minor.lineHeight,xn=j.padding;if(ve){var cr=0!==g.labelRotation,br=$e.toRadians(g.labelRotation),ci=Math.cos(br),si=Math.sin(br);D.height=Math.min(g.maxHeight,D.height+(si*gt.width+ci*(bt.height-(cr?bt.offset:0))+(cr?0:Lt))+xn);var Cs,Go,ai=g.getPixelForTick(0)-g.left,os=g.right-g.getPixelForTick(g.getTicks().length-1);cr?(Cs=de?ci*Je.width+si*Je.offset:si*(Je.height-Je.offset),Go=de?si*(pt.height-pt.offset):ci*pt.width+si*pt.offset):(Cs=Je.width/2,Go=pt.width/2),g.paddingLeft=Math.max((Cs-ai)*g.width/(g.width-ai),0)+3,g.paddingRight=Math.max((Go-os)*g.width/(g.width-os),0)+3}else D.width=Math.min(g.maxWidth,D.width+(j.mirror?0:gt.width+xn+Lt)),g.paddingTop=Je.height/2,g.paddingBottom=pt.height/2}g.handleMargins(),ve?(g.width=g._length=A.width-g.margins.left-g.margins.right,g.height=D.height):(g.width=D.width,g.height=g._length=A.height-g.margins.top-g.margins.bottom)},handleMargins:function(){var g=this;g.margins&&(g.margins.left=Math.max(g.paddingLeft,g.margins.left),g.margins.top=Math.max(g.paddingTop,g.margins.top),g.margins.right=Math.max(g.paddingRight,g.margins.right),g.margins.bottom=Math.max(g.paddingBottom,g.margins.bottom))},afterFit:function(){$e.callback(this.options.afterFit,[this])},isHorizontal:function(){var g=this.options.position;return"top"===g||"bottom"===g},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(g){if(aa(g))return NaN;if(("number"==typeof g||g instanceof Number)&&!isFinite(g))return NaN;if(g)if(this.isHorizontal()){if(void 0!==g.x)return this.getRightValue(g.x)}else if(void 0!==g.y)return this.getRightValue(g.y);return g},_convertTicksToLabels:function(g){var A,k,j,D=this;for(D.ticks=g.map(function(ee){return ee.value}),D.beforeTickToLabelConversion(),A=D.convertTicksToLabels(g)||D.ticks,D.afterTickToLabelConversion(),k=0,j=g.length;k<j;++k)g[k].label=A[k];return A},_getLabelSizes:function(){var g=this,D=g._labelSizes;return D||(g._labelSizes=D=Kx(g.ctx,oy(g.options.ticks),g.getTicks(),g.longestTextCache),g.longestLabelWidth=D.widest.width),D},_parseValue:function(g){var D,A,k,j;return ch(g)?(D=+this.getRightValue(g[0]),A=+this.getRightValue(g[1]),k=Math.min(D,A),j=Math.max(D,A)):(D=void 0,A=g=+this.getRightValue(g),k=g,j=g),{min:k,max:j,start:D,end:A}},_getScaleLabel:function(g){var D=this._parseValue(g);return void 0!==D.start?"["+D.start+", "+D.end+"]":+this.getRightValue(g)},getLabelForIndex:$e.noop,getPixelForValue:$e.noop,getValueForPixel:$e.noop,getPixelForTick:function(g){var D=this,A=D.options.offset,k=D._ticks.length,j=1/Math.max(k-(A?0:1),1);return g<0||g>k-1?null:D.getPixelForDecimal(g*j+(A?j/2:0))},getPixelForDecimal:function(g){var D=this;return D._reversePixels&&(g=1-g),D._startPixel+g*D._length},getDecimalForPixel:function(g){var D=(g-this._startPixel)/this._length;return this._reversePixels?1-D:D},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var g=this,D=g.min,A=g.max;return g.beginAtZero?0:D<0&&A<0?A:D>0&&A>0?D:0},_autoSkip:function(g){var ve,Ne,Fe,Je,D=this,A=D.options.ticks,k=D._length,j=A.maxTicksLimit||k/D._tickSize()+1,ee=A.major.enabled?function(g){var A,k,D=[];for(A=0,k=g.length;A<k;A++)g[A].major&&D.push(A);return D}(g):[],le=ee.length,_e=ee[0],de=ee[le-1];if(le>j)return function(g,D,A){var ee,le,k=0,j=D[0];for(A=Math.ceil(A),ee=0;ee<g.length;ee++)le=g[ee],ee===j?(le._index=ee,j=D[++k*A]):delete le.label}(g,ee,le/j),La(g);if(Fe=function(g,D,A,k){var le,_e,de,ve,j=function(g){var A,k,D=g.length;if(D<2)return!1;for(k=g[0],A=1;A<D;++A)if(g[A]-g[A-1]!==k)return!1;return k}(g),ee=(D.length-1)/k;if(!j)return Math.max(ee,1);for(de=0,ve=(le=$e.math._factorize(j)).length-1;de<ve;de++)if((_e=le[de])>ee)return _e;return Math.max(ee,1)}(ee,g,0,j),le>0){for(ve=0,Ne=le-1;ve<Ne;ve++)A0(g,Fe,ee[ve],ee[ve+1]);return A0(g,Fe,$e.isNullOrUndef(Je=le>1?(de-_e)/(le-1):null)?0:_e-Je,_e),A0(g,Fe,de,$e.isNullOrUndef(Je)?g.length:de+Je),La(g)}return A0(g,Fe),La(g)},_tickSize:function(){var g=this,D=g.options.ticks,A=$e.toRadians(g.labelRotation),k=Math.abs(Math.cos(A)),j=Math.abs(Math.sin(A)),ee=g._getLabelSizes(),le=D.autoSkipPadding||0,_e=ee?ee.widest.width+le:0,de=ee?ee.highest.height+le:0;return g.isHorizontal()?de*k>_e*j?_e/k:de/j:de*j<_e*k?de/k:_e/j},_isVisible:function(){var k,j,ee,g=this,D=g.chart,A=g.options.display;if("auto"!==A)return!!A;for(k=0,j=D.data.datasets.length;k<j;++k)if(D.isDatasetVisible(k)&&((ee=D.getDatasetMeta(k)).xAxisID===g.id||ee.yAxisID===g.id))return!0;return!1},_computeGridLineItems:function(g){var Lt,xn,cr,br,ci,si,ss,ai,os,Cs,Go,Ko,Pa,Xr,bc,Yl,Qp,D=this,A=D.chart,k=D.options,j=k.gridLines,ee=k.position,le=j.offsetGridLines,_e=D.isHorizontal(),de=D._ticksToDraw,ve=de.length+(le?1:0),Ne=Fs(j),Fe=[],Je=j.drawBorder?Ks(j.lineWidth,0,0):0,pt=Je/2,gt=$e._alignPixel,bt=function(us){return gt(A,us,Je)};for("top"===ee?(Lt=bt(D.bottom),ss=D.bottom-Ne,os=Lt-pt,Go=bt(g.top)+pt,Pa=g.bottom):"bottom"===ee?(Lt=bt(D.top),Go=g.top,Pa=bt(g.bottom)-pt,ss=Lt+pt,os=D.top+Ne):"left"===ee?(Lt=bt(D.right),si=D.right-Ne,ai=Lt-pt,Cs=bt(g.left)+pt,Ko=g.right):(Lt=bt(D.left),Cs=g.left,Ko=bt(g.right)-pt,si=Lt+pt,ai=D.left+Ne),xn=0;xn<ve;++xn)!(aa((cr=de[xn]||{}).label)&&xn<de.length)&&(xn===D.zeroLineIndex&&k.offset===le?(Xr=j.zeroLineWidth,bc=j.zeroLineColor,Yl=j.zeroLineBorderDash||[],Qp=j.zeroLineBorderDashOffset||0):(Xr=Ks(j.lineWidth,xn,1),bc=Ks(j.color,xn,"rgba(0,0,0,0.1)"),Yl=j.borderDash||[],Qp=j.borderDashOffset||0),void 0!==(br=td(D,cr._index||xn,le))&&(ci=gt(A,br,Xr),_e?si=ai=Cs=Ko=ci:ss=os=Go=Pa=ci,Fe.push({tx1:si,ty1:ss,tx2:ai,ty2:os,x1:Cs,y1:Go,x2:Ko,y2:Pa,width:Xr,color:bc,borderDash:Yl,borderDashOffset:Qp})));return Fe.ticksLength=ve,Fe.borderValue=Lt,Fe},_computeLabelItems:function(){var Je,pt,gt,bt,Lt,xn,cr,br,ci,si,ss,ai,g=this,D=g.options,A=D.ticks,k=D.position,j=A.mirror,ee=g.isHorizontal(),le=g._ticksToDraw,_e=oy(A),de=A.padding,ve=Fs(D.gridLines),Ne=-$e.toRadians(g.labelRotation),Fe=[];for("top"===k?(xn=g.bottom-ve-de,cr=Ne?"left":"center"):"bottom"===k?(xn=g.top+ve+de,cr=Ne?"right":"center"):"left"===k?(Lt=g.right-(j?0:ve)-de,cr=j?"left":"right"):(Lt=g.left+(j?0:ve)+de,cr=j?"right":"left"),Je=0,pt=le.length;Je<pt;++Je)!aa(bt=(gt=le[Je]).label)&&(br=g.getPixelForTick(gt._index||Je)+A.labelOffset,si=(ci=gt.major?_e.major:_e.minor).lineHeight,ss=ch(bt)?bt.length:1,ee?(Lt=br,ai="top"===k?((Ne?1:.5)-ss)*si:(Ne?0:.5)*si):(xn=br,ai=(1-ss)*si/2),Fe.push({x:Lt,y:xn,rotation:Ne,label:bt,font:ci,textOffset:ai,textAlign:cr}));return Fe},_drawGrid:function(g){var D=this,A=D.options.gridLines;if(A.display){var de,ve,Ne,Fe,Je,k=D.ctx,j=D.chart,ee=$e._alignPixel,le=A.drawBorder?Ks(A.lineWidth,0,0):0,_e=D._gridLineItems||(D._gridLineItems=D._computeGridLineItems(g));for(Ne=0,Fe=_e.length;Ne<Fe;++Ne)ve=(Je=_e[Ne]).color,(de=Je.width)&&ve&&(k.save(),k.lineWidth=de,k.strokeStyle=ve,k.setLineDash&&(k.setLineDash(Je.borderDash),k.lineDashOffset=Je.borderDashOffset),k.beginPath(),A.drawTicks&&(k.moveTo(Je.tx1,Je.ty1),k.lineTo(Je.tx2,Je.ty2)),A.drawOnChartArea&&(k.moveTo(Je.x1,Je.y1),k.lineTo(Je.x2,Je.y2)),k.stroke(),k.restore());if(le){var Lt,xn,cr,br,pt=le,gt=Ks(A.lineWidth,_e.ticksLength-1,1),bt=_e.borderValue;D.isHorizontal()?(Lt=ee(j,D.left,pt)-pt/2,xn=ee(j,D.right,gt)+gt/2,cr=br=bt):(cr=ee(j,D.top,pt)-pt/2,br=ee(j,D.bottom,gt)+gt/2,Lt=xn=bt),k.lineWidth=le,k.strokeStyle=Ks(A.color,0),k.beginPath(),k.moveTo(Lt,cr),k.lineTo(xn,br),k.stroke()}}},_drawLabels:function(){var g=this;if(g.options.ticks.display){var j,ee,le,_e,de,ve,Ne,Fe,A=g.ctx,k=g._labelItems||(g._labelItems=g._computeLabelItems());for(j=0,le=k.length;j<le;++j){if(ve=(de=k[j]).font,A.save(),A.translate(de.x,de.y),A.rotate(de.rotation),A.font=ve.string,A.fillStyle=ve.color,A.textBaseline="middle",A.textAlign=de.textAlign,Fe=de.textOffset,ch(Ne=de.label))for(ee=0,_e=Ne.length;ee<_e;++ee)A.fillText(""+Ne[ee],0,Fe),Fe+=ve.lineHeight;else A.fillText(Ne,0,Fe);A.restore()}}},_drawTitle:function(){var g=this,D=g.ctx,A=g.options,k=A.scaleLabel;if(k.display){var Ne,Fe,j=Ul(k.fontColor,or.global.defaultFontColor),ee=$e.options._parseFont(k),le=$e.options.toPadding(k.padding),_e=ee.lineHeight/2,de=A.position,ve=0;if(g.isHorizontal())Ne=g.left+g.width/2,Fe="bottom"===de?g.bottom-_e-le.bottom:g.top+_e+le.top;else{var Je="left"===de;Ne=Je?g.left+_e+le.top:g.right-_e-le.top,Fe=g.top+g.height/2,ve=Je?-.5*Math.PI:.5*Math.PI}D.save(),D.translate(Ne,Fe),D.rotate(ve),D.textAlign="center",D.textBaseline="middle",D.fillStyle=j,D.font=ee.string,D.fillText(k.labelString,0,0),D.restore()}},draw:function(g){var D=this;!D._isVisible()||(D._drawGrid(g),D._drawTitle(),D._drawLabels())},_layers:function(){var g=this,D=g.options,A=D.ticks&&D.ticks.z||0,k=D.gridLines&&D.gridLines.z||0;return g._isVisible()&&A!==k&&g.draw===g._draw?[{z:k,draw:function(){g._drawGrid.apply(g,arguments),g._drawTitle.apply(g,arguments)}},{z:A,draw:function(){g._drawLabels.apply(g,arguments)}}]:[{z:A,draw:function(){g.draw.apply(g,arguments)}}]},_getMatchingVisibleMetas:function(g){var D=this,A=D.isHorizontal();return D.chart._getSortedVisibleDatasetMetas().filter(function(k){return(!g||k.type===g)&&(A?k.xAxisID===D.id:k.yAxisID===D.id)})}});tp.prototype._draw=tp.prototype.draw;var oo=tp,qu=$e.isNullOrUndef,gc=oo.extend({determineDataLimits:function(){var _e,g=this,D=g._getLabels(),A=g.options.ticks,k=A.min,j=A.max,ee=0,le=D.length-1;void 0!==k&&(_e=D.indexOf(k))>=0&&(ee=_e),void 0!==j&&(_e=D.indexOf(j))>=0&&(le=_e),g.minIndex=ee,g.maxIndex=le,g.min=D[ee],g.max=D[le]},buildTicks:function(){var g=this,D=g._getLabels(),A=g.minIndex,k=g.maxIndex;g.ticks=0===A&&k===D.length-1?D:D.slice(A,k+1)},getLabelForIndex:function(g,D){var A=this,k=A.chart;return k.getDatasetMeta(D).controller._getValueScaleId()===A.id?A.getRightValue(k.data.datasets[D].data[g]):A._getLabels()[g]},_configure:function(){var g=this,D=g.options.offset,A=g.ticks;oo.prototype._configure.call(g),g.isHorizontal()||(g._reversePixels=!g._reversePixels),A&&(g._startValue=g.minIndex-(D?.5:0),g._valueRange=Math.max(A.length-(D?0:1),1))},getPixelForValue:function(g,D,A){var j,ee,le,k=this;return!qu(D)&&!qu(A)&&(g=k.chart.data.datasets[A].data[D]),qu(g)||(j=k.isHorizontal()?g.x:g.y),(void 0!==j||void 0!==g&&isNaN(D))&&(ee=k._getLabels(),g=$e.valueOrDefault(j,g),D=-1!==(le=ee.indexOf(g))?le:D,isNaN(D)&&(D=g)),k.getPixelForDecimal((D-k._startValue)/k._valueRange)},getPixelForTick:function(g){var D=this.ticks;return g<0||g>D.length-1?null:this.getPixelForValue(D[g],g+this.minIndex)},getValueForPixel:function(g){var D=this,A=Math.round(D._startValue+D.getDecimalForPixel(g)*D._valueRange);return Math.min(Math.max(A,0),D.ticks.length-1)},getBasePixel:function(){return this.bottom}});gc._defaults={position:"bottom"};var nd=$e.isNullOrUndef;var qr=oo.extend({getRightValue:function(g){return"string"==typeof g?+g:oo.prototype.getRightValue.call(this,g)},handleTickRangeOptions:function(){var g=this,A=g.options.ticks;if(A.beginAtZero){var k=$e.sign(g.min),j=$e.sign(g.max);k<0&&j<0?g.max=0:k>0&&j>0&&(g.min=0)}var ee=void 0!==A.min||void 0!==A.suggestedMin,le=void 0!==A.max||void 0!==A.suggestedMax;void 0!==A.min?g.min=A.min:void 0!==A.suggestedMin&&(g.min=null===g.min?A.suggestedMin:Math.min(g.min,A.suggestedMin)),void 0!==A.max?g.max=A.max:void 0!==A.suggestedMax&&(g.max=null===g.max?A.suggestedMax:Math.max(g.max,A.suggestedMax)),ee!==le&&g.min>=g.max&&(ee?g.max=g.min+1:g.min=g.max-1),g.min===g.max&&(g.max++,A.beginAtZero||g.min--)},getTickLimit:function(){var j,g=this,D=g.options.ticks,A=D.stepSize,k=D.maxTicksLimit;return A?j=Math.ceil(g.max/A)-Math.floor(g.min/A)+1:(j=g._computeTickLimit(),k=k||11),k&&(j=Math.min(k,j)),j},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:$e.noop,buildTicks:function(){var g=this,A=g.options.ticks,k=g.getTickLimit(),j={maxTicks:k=Math.max(2,k),min:A.min,max:A.max,precision:A.precision,stepSize:$e.valueOrDefault(A.fixedStepSize,A.stepSize)},ee=g.ticks=function(g,D){var pt,gt,bt,Lt,A=[],j=g.stepSize,ee=j||1,le=g.maxTicks-1,_e=g.min,de=g.max,ve=g.precision,Ne=D.min,Fe=D.max,Je=$e.niceNum((Fe-Ne)/le/ee)*ee;if(Je<1e-14&&nd(_e)&&nd(de))return[Ne,Fe];(Lt=Math.ceil(Fe/Je)-Math.floor(Ne/Je))>le&&(Je=$e.niceNum(Lt*Je/le/ee)*ee),j||nd(ve)?pt=Math.pow(10,$e._decimalPlaces(Je)):(pt=Math.pow(10,ve),Je=Math.ceil(Je*pt)/pt),gt=Math.floor(Ne/Je)*Je,bt=Math.ceil(Fe/Je)*Je,j&&(!nd(_e)&&$e.almostWhole(_e/Je,Je/1e3)&&(gt=_e),!nd(de)&&$e.almostWhole(de/Je,Je/1e3)&&(bt=de)),Lt=$e.almostEquals(Lt=(bt-gt)/Je,Math.round(Lt),Je/1e3)?Math.round(Lt):Math.ceil(Lt),gt=Math.round(gt*pt)/pt,bt=Math.round(bt*pt)/pt,A.push(nd(_e)?gt:_e);for(var xn=1;xn<Lt;++xn)A.push(Math.round((gt+xn*Je)*pt)/pt);return A.push(nd(de)?bt:de),A}(j,g);g.handleDirectionalChanges(),g.max=$e.max(ee),g.min=$e.min(ee),A.reverse?(ee.reverse(),g.start=g.max,g.end=g.min):(g.start=g.min,g.end=g.max)},convertTicksToLabels:function(){var g=this;g.ticksAsNumbers=g.ticks.slice(),g.zeroLineIndex=g.ticks.indexOf(0),oo.prototype.convertTicksToLabels.call(g)},_configure:function(){var j,g=this,D=g.getTicks(),A=g.min,k=g.max;oo.prototype._configure.call(g),g.options.offset&&D.length&&(A-=j=(k-A)/Math.max(D.length-1,1)/2,k+=j),g._startValue=A,g._endValue=k,g._valueRange=k-A}}),rd={position:"left",ticks:{callback:Hl.formatters.linear}};function q1(g,D,A,k){var Ne,Fe,j=g.options,le=function(g,D,A){var k=[A.type,void 0===D&&void 0===A.stack?A.index:"",A.stack].join(".");return void 0===g[k]&&(g[k]={pos:[],neg:[]}),g[k]}(D,j.stacked,A),_e=le.pos,de=le.neg,ve=k.length;for(Ne=0;Ne<ve;++Ne)Fe=g._parseValue(k[Ne]),!(isNaN(Fe.min)||isNaN(Fe.max)||A.data[Ne].hidden)&&(_e[Ne]=_e[Ne]||0,de[Ne]=de[Ne]||0,j.relativePoints?_e[Ne]=100:Fe.min<0||Fe.max<0?de[Ne]+=Fe.min:_e[Ne]+=Fe.max)}function ou(g,D,A){var j,ee,k=A.length;for(j=0;j<k;++j)ee=g._parseValue(A[j]),!(isNaN(ee.min)||isNaN(ee.max)||D.data[j].hidden)&&(g.min=Math.min(g.min,ee.min),g.max=Math.max(g.max,ee.max))}var lg=qr.extend({determineDataLimits:function(){var de,ve,Ne,Fe,g=this,D=g.options,k=g.chart.data.datasets,j=g._getMatchingVisibleMetas(),ee=D.stacked,le={},_e=j.length;if(g.min=Number.POSITIVE_INFINITY,g.max=Number.NEGATIVE_INFINITY,void 0===ee)for(de=0;!ee&&de<_e;++de)ee=void 0!==(ve=j[de]).stack;for(de=0;de<_e;++de)Ne=k[(ve=j[de]).index].data,ee?q1(g,le,ve,Ne):ou(g,ve,Ne);$e.each(le,function(Je){Fe=Je.pos.concat(Je.neg),g.min=Math.min(g.min,$e.min(Fe)),g.max=Math.max(g.max,$e.max(Fe))}),g.min=$e.isFinite(g.min)&&!isNaN(g.min)?g.min:0,g.max=$e.isFinite(g.max)&&!isNaN(g.max)?g.max:1,g.handleTickRangeOptions()},_computeTickLimit:function(){var D,g=this;return g.isHorizontal()?Math.ceil(g.width/40):(D=$e.options._parseFont(g.options.ticks),Math.ceil(g.height/D.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(g,D){return this._getScaleLabel(this.chart.data.datasets[D].data[g])},getPixelForValue:function(g){var D=this;return D.getPixelForDecimal((+D.getRightValue(g)-D._startValue)/D._valueRange)},getValueForPixel:function(g){return this._startValue+this.getDecimalForPixel(g)*this._valueRange},getPixelForTick:function(g){var D=this.ticksAsNumbers;return g<0||g>D.length-1?null:this.getPixelForValue(D[g])}});lg._defaults=rd;var Yi=$e.valueOrDefault,fr=$e.math.log10;var vf={position:"left",ticks:{callback:Hl.formatters.logarithmic}};function ju(g,D){return $e.isFinite(g)&&g>=0?g:D}var Su=oo.extend({determineDataLimits:function(){var le,_e,de,ve,Ne,Fe,g=this,D=g.options,A=g.chart,k=A.data.datasets,j=g.isHorizontal();function ee(Lt){return j?Lt.xAxisID===g.id:Lt.yAxisID===g.id}g.min=Number.POSITIVE_INFINITY,g.max=Number.NEGATIVE_INFINITY,g.minNotZero=Number.POSITIVE_INFINITY;var Je=D.stacked;if(void 0===Je)for(le=0;le<k.length;le++)if(_e=A.getDatasetMeta(le),A.isDatasetVisible(le)&&ee(_e)&&void 0!==_e.stack){Je=!0;break}if(D.stacked||Je){var pt={};for(le=0;le<k.length;le++){var gt=[(_e=A.getDatasetMeta(le)).type,void 0===D.stacked&&void 0===_e.stack?le:"",_e.stack].join(".");if(A.isDatasetVisible(le)&&ee(_e))for(void 0===pt[gt]&&(pt[gt]=[]),Ne=0,Fe=(ve=k[le].data).length;Ne<Fe;Ne++){var bt=pt[gt];de=g._parseValue(ve[Ne]),!(isNaN(de.min)||isNaN(de.max)||_e.data[Ne].hidden||de.min<0||de.max<0)&&(bt[Ne]=bt[Ne]||0,bt[Ne]+=de.max)}}$e.each(pt,function(Lt){if(Lt.length>0){var xn=$e.min(Lt),cr=$e.max(Lt);g.min=Math.min(g.min,xn),g.max=Math.max(g.max,cr)}})}else for(le=0;le<k.length;le++)if(_e=A.getDatasetMeta(le),A.isDatasetVisible(le)&&ee(_e))for(Ne=0,Fe=(ve=k[le].data).length;Ne<Fe;Ne++)de=g._parseValue(ve[Ne]),!(isNaN(de.min)||isNaN(de.max)||_e.data[Ne].hidden||de.min<0||de.max<0)&&(g.min=Math.min(de.min,g.min),g.max=Math.max(de.max,g.max),0!==de.min&&(g.minNotZero=Math.min(de.min,g.minNotZero)));g.min=$e.isFinite(g.min)?g.min:null,g.max=$e.isFinite(g.max)?g.max:null,g.minNotZero=$e.isFinite(g.minNotZero)?g.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var g=this,D=g.options.ticks;g.min=ju(D.min,g.min),g.max=ju(D.max,g.max),g.min===g.max&&(0!==g.min&&null!==g.min?(g.min=Math.pow(10,Math.floor(fr(g.min))-1),g.max=Math.pow(10,Math.floor(fr(g.max))+1)):(g.min=1,g.max=10)),null===g.min&&(g.min=Math.pow(10,Math.floor(fr(g.max))-1)),null===g.max&&(g.max=0!==g.min?Math.pow(10,Math.floor(fr(g.min))+1):10),null===g.minNotZero&&(g.minNotZero=g.min>0?g.min:g.max<1?Math.pow(10,Math.floor(fr(g.max))):1)},buildTicks:function(){var g=this,D=g.options.ticks,A=!g.isHorizontal(),k={min:ju(D.min),max:ju(D.max)},j=g.ticks=function(g,D){var le,_e,A=[],k=Yi(g.min,Math.pow(10,Math.floor(fr(D.min)))),j=Math.floor(fr(D.max)),ee=Math.ceil(D.max/Math.pow(10,j));0===k?(le=Math.floor(fr(D.minNotZero)),_e=Math.floor(D.minNotZero/Math.pow(10,le)),A.push(k),k=_e*Math.pow(10,le)):(le=Math.floor(fr(k)),_e=Math.floor(k/Math.pow(10,le)));var de=le<0?Math.pow(10,Math.abs(le)):1;do{A.push(k),10==++_e&&(_e=1,de=++le>=0?1:de),k=Math.round(_e*Math.pow(10,le)*de)/de}while(le<j||le===j&&_e<ee);var ve=Yi(g.max,k);return A.push(ve),A}(k,g);g.max=$e.max(j),g.min=$e.min(j),D.reverse?(A=!A,g.start=g.max,g.end=g.min):(g.start=g.min,g.end=g.max),A&&j.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),oo.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(g,D){return this._getScaleLabel(this.chart.data.datasets[D].data[g])},getPixelForTick:function(g){var D=this.tickValues;return g<0||g>D.length-1?null:this.getPixelForValue(D[g])},_getFirstTickValue:function(g){var D=Math.floor(fr(g));return Math.floor(g/Math.pow(10,D))*Math.pow(10,D)},_configure:function(){var g=this,D=g.min,A=0;oo.prototype._configure.call(g),0===D&&(D=g._getFirstTickValue(g.minNotZero),A=Yi(g.options.ticks.fontSize,or.global.defaultFontSize)/g._length),g._startValue=fr(D),g._valueOffset=A,g._valueRange=(fr(g.max)-fr(D))/(1-A)},getPixelForValue:function(g){var D=this,A=0;return(g=+D.getRightValue(g))>D.min&&g>0&&(A=(fr(g)-D._startValue)/D._valueRange+D._valueOffset),D.getPixelForDecimal(A)},getValueForPixel:function(g){var D=this,A=D.getDecimalForPixel(g);return 0===A&&0===D.min?0:Math.pow(10,D._startValue+(A-D._valueOffset)*D._valueRange)}});Su._defaults=vf;var go=$e.valueOrDefault,Ya=$e.valueAtIndexOrDefault,Ga=$e.options.resolve,Ho={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Hl.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(g){return g}}};function uo(g){var D=g.ticks;return D.display&&g.display?go(D.fontSize,or.global.defaultFontSize)+2*D.backdropPaddingY:0}function wa(g,D,A){return $e.isArray(A)?{w:$e.longestText(g,g.font,A),h:A.length*D}:{w:g.measureText(A).width,h:D}}function Fa(g,D,A,k,j){return g===k||g===j?{start:D-A/2,end:D+A/2}:g<k||g>j?{start:D-A,end:D}:{start:D,end:D+A}}function uu(g){return 0===g||180===g?"center":g<180?"left":"right"}function ko(g,D,A,k){var ee,le,j=A.y+k/2;if($e.isArray(D))for(ee=0,le=D.length;ee<le;++ee)g.fillText(D[ee],A.x,j),j+=k;else g.fillText(D,A.x,j)}function cg(g,D,A){90===g||270===g?A.y-=D.h/2:(g>270||g<90)&&(A.y-=D.h)}function dh(g){return $e.isNumber(g)?g:0}var yc=qr.extend({setDimensions:function(){var g=this;g.width=g.maxWidth,g.height=g.maxHeight,g.paddingTop=uo(g.options)/2,g.xCenter=Math.floor(g.width/2),g.yCenter=Math.floor((g.height-g.paddingTop)/2),g.drawingArea=Math.min(g.height-g.paddingTop,g.width)/2},determineDataLimits:function(){var g=this,D=g.chart,A=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;$e.each(D.data.datasets,function(j,ee){if(D.isDatasetVisible(ee)){var le=D.getDatasetMeta(ee);$e.each(j.data,function(_e,de){var ve=+g.getRightValue(_e);isNaN(ve)||le.data[de].hidden||(A=Math.min(ve,A),k=Math.max(ve,k))})}}),g.min=A===Number.POSITIVE_INFINITY?0:A,g.max=k===Number.NEGATIVE_INFINITY?0:k,g.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/uo(this.options))},convertTicksToLabels:function(){var g=this;qr.prototype.convertTicksToLabels.call(g),g.pointLabels=g.chart.data.labels.map(function(){var D=$e.callback(g.options.pointLabels.callback,arguments,g);return D||0===D?D:""})},getLabelForIndex:function(g,D){return+this.getRightValue(this.chart.data.datasets[D].data[g])},fit:function(){var g=this,D=g.options;D.display&&D.pointLabels.display?function(g){var j,ee,le,D=$e.options._parseFont(g.options.pointLabels),A={l:0,r:g.width,t:0,b:g.height-g.paddingTop},k={};g.ctx.font=D.string,g._pointLabelSizes=[];var _e=g.chart.data.labels.length;for(j=0;j<_e;j++){le=g.getPointPosition(j,g.drawingArea+5),ee=wa(g.ctx,D.lineHeight,g.pointLabels[j]),g._pointLabelSizes[j]=ee;var de=g.getIndexAngle(j),ve=$e.toDegrees(de)%360,Ne=Fa(ve,le.x,ee.w,0,180),Fe=Fa(ve,le.y,ee.h,90,270);Ne.start<A.l&&(A.l=Ne.start,k.l=de),Ne.end>A.r&&(A.r=Ne.end,k.r=de),Fe.start<A.t&&(A.t=Fe.start,k.t=de),Fe.end>A.b&&(A.b=Fe.end,k.b=de)}g.setReductions(g.drawingArea,A,k)}(g):g.setCenterPoint(0,0,0,0)},setReductions:function(g,D,A){var k=this,j=D.l/Math.sin(A.l),ee=Math.max(D.r-k.width,0)/Math.sin(A.r),le=-D.t/Math.cos(A.t),_e=-Math.max(D.b-(k.height-k.paddingTop),0)/Math.cos(A.b);j=dh(j),ee=dh(ee),le=dh(le),_e=dh(_e),k.drawingArea=Math.min(Math.floor(g-(j+ee)/2),Math.floor(g-(le+_e)/2)),k.setCenterPoint(j,ee,le,_e)},setCenterPoint:function(g,D,A,k){var j=this,_e=A+j.drawingArea,de=j.height-j.paddingTop-k-j.drawingArea;j.xCenter=Math.floor((g+j.drawingArea+(j.width-D-j.drawingArea))/2+j.left),j.yCenter=Math.floor((_e+de)/2+j.top+j.paddingTop)},getIndexAngle:function(g){var D=this.chart,ee=(g*(360/D.data.labels.length)+((D.options||{}).startAngle||0))%360;return(ee<0?ee+360:ee)*Math.PI*2/360},getDistanceFromCenterForValue:function(g){var D=this;if($e.isNullOrUndef(g))return NaN;var A=D.drawingArea/(D.max-D.min);return D.options.ticks.reverse?(D.max-g)*A:(g-D.min)*A},getPointPosition:function(g,D){var A=this,k=A.getIndexAngle(g)-Math.PI/2;return{x:Math.cos(k)*D+A.xCenter,y:Math.sin(k)*D+A.yCenter}},getPointPositionForValue:function(g,D){return this.getPointPosition(g,this.getDistanceFromCenterForValue(D))},getBasePosition:function(g){var D=this,A=D.min,k=D.max;return D.getPointPositionForValue(g||0,D.beginAtZero?0:A<0&&k<0?k:A>0&&k>0?A:0)},_drawGrid:function(){var _e,de,ve,g=this,D=g.ctx,A=g.options,k=A.gridLines,j=A.angleLines,ee=go(j.lineWidth,k.lineWidth),le=go(j.color,k.color);if(A.pointLabels.display&&function(g){var D=g.ctx,A=g.options,k=A.pointLabels,j=uo(A),ee=g.getDistanceFromCenterForValue(A.ticks.reverse?g.min:g.max),le=$e.options._parseFont(k);D.save(),D.font=le.string,D.textBaseline="middle";for(var _e=g.chart.data.labels.length-1;_e>=0;_e--){var ve=g.getPointPosition(_e,ee+(0===_e?j/2:0)+5),Ne=Ya(k.fontColor,_e,or.global.defaultFontColor);D.fillStyle=Ne;var Fe=g.getIndexAngle(_e),Je=$e.toDegrees(Fe);D.textAlign=uu(Je),cg(Je,g._pointLabelSizes[_e],ve),ko(D,g.pointLabels[_e],ve,le.lineHeight)}D.restore()}(g),k.display&&$e.each(g.ticks,function(Ne,Fe){0!==Fe&&(de=g.getDistanceFromCenterForValue(g.ticksAsNumbers[Fe]),function(g,D,A,k){var ve,j=g.ctx,ee=D.circular,le=g.chart.data.labels.length,_e=Ya(D.color,k-1),de=Ya(D.lineWidth,k-1);if((ee||le)&&_e&&de){if(j.save(),j.strokeStyle=_e,j.lineWidth=de,j.setLineDash&&(j.setLineDash(D.borderDash||[]),j.lineDashOffset=D.borderDashOffset||0),j.beginPath(),ee)j.arc(g.xCenter,g.yCenter,A,0,2*Math.PI);else{ve=g.getPointPosition(0,A),j.moveTo(ve.x,ve.y);for(var Ne=1;Ne<le;Ne++)ve=g.getPointPosition(Ne,A),j.lineTo(ve.x,ve.y)}j.closePath(),j.stroke(),j.restore()}}(g,k,de,Fe))}),j.display&&ee&&le){for(D.save(),D.lineWidth=ee,D.strokeStyle=le,D.setLineDash&&(D.setLineDash(Ga([j.borderDash,k.borderDash,[]])),D.lineDashOffset=Ga([j.borderDashOffset,k.borderDashOffset,0])),_e=g.chart.data.labels.length-1;_e>=0;_e--)de=g.getDistanceFromCenterForValue(A.ticks.reverse?g.min:g.max),ve=g.getPointPosition(_e,de),D.beginPath(),D.moveTo(g.xCenter,g.yCenter),D.lineTo(ve.x,ve.y),D.stroke();D.restore()}},_drawLabels:function(){var g=this,D=g.ctx,k=g.options.ticks;if(k.display){var _e,de,j=g.getIndexAngle(0),ee=$e.options._parseFont(k),le=go(k.fontColor,or.global.defaultFontColor);D.save(),D.font=ee.string,D.translate(g.xCenter,g.yCenter),D.rotate(j),D.textAlign="center",D.textBaseline="middle",$e.each(g.ticks,function(ve,Ne){0===Ne&&!k.reverse||(_e=g.getDistanceFromCenterForValue(g.ticksAsNumbers[Ne]),k.showLabelBackdrop&&(de=D.measureText(ve).width,D.fillStyle=k.backdropColor,D.fillRect(-de/2-k.backdropPaddingX,-_e-ee.size/2-k.backdropPaddingY,de+2*k.backdropPaddingX,ee.size+2*k.backdropPaddingY)),D.fillStyle=le,D.fillText(ve,0,-_e))}),D.restore()}},_drawTitle:$e.noop});yc._defaults=Ho;var id=$e._deprecated,Gp=$e.options.resolve,I0=$e.valueOrDefault,Kp=Number.MIN_SAFE_INTEGER||-9007199254740991,bf=Number.MAX_SAFE_INTEGER||9007199254740991,xf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Uo=Object.keys(xf);function Xp(g,D){return g-D}function np(g){return $e.valueOrDefault(g.time.min,g.ticks.min)}function rp(g){return $e.valueOrDefault(g.time.max,g.ticks.max)}function tl(g,D,A,k){var j=function(g,D,A){for(var ee,le,_e,k=0,j=g.length-1;k>=0&&k<=j;){if(_e=g[ee=k+j>>1],!(le=g[ee-1]||null))return{lo:null,hi:_e};if(_e[D]<A)k=ee+1;else{if(!(le[D]>A))return{lo:le,hi:_e};j=ee-1}}return{lo:_e,hi:null}}(g,D,A),ee=j.lo?j.hi?j.lo:g[g.length-2]:g[0],le=j.lo?j.hi?j.hi:g[g.length-1]:g[1],_e=le[D]-ee[D];return ee[k]+(le[k]-ee[k])*(_e?(A-ee[D])/_e:0)}function Ps(g,D){var A=g._adapter,k=g.options.time,j=k.parser,ee=j||k.format,le=D;return"function"==typeof j&&(le=j(le)),$e.isFinite(le)||(le="string"==typeof ee?A.parse(le,ee):A.parse(le)),null!==le?+le:(!j&&"function"==typeof ee&&(le=ee(D),$e.isFinite(le)||(le=A.parse(le))),le)}function Wu(g,D){if($e.isNullOrUndef(D))return null;var A=g.options.time,k=Ps(g,g.getRightValue(D));return null===k||A.round&&(k=+g._adapter.startOf(k,A.round)),k}function cy(g,D,A,k){var ee,le,j=Uo.length;for(ee=Uo.indexOf(g);ee<j-1;++ee)if((le=xf[Uo[ee]]).common&&Math.ceil((A-D)/((le.steps?le.steps:bf)*le.size))<=k)return Uo[ee];return Uo[j-1]}function fh(g,D,A){var le,_e,k=[],j={},ee=D.length;for(le=0;le<ee;++le)j[_e=D[le]]=le,k.push({value:_e,major:!1});return 0!==ee&&A?function(g,D,A,k){var _e,de,j=g._adapter,ee=+j.startOf(D[0].value,k),le=D[D.length-1].value;for(_e=ee;_e<=le;_e=+j.add(_e,1,k))(de=A[_e])>=0&&(D[de].major=!0);return D}(g,k,j,A):k}var Od=oo.extend({initialize:function(){this.mergeTicksOptions(),oo.prototype.initialize.call(this)},update:function(){var g=this,D=g.options,A=D.time||(D.time={}),k=g._adapter=new vi._date(D.adapters.date);return id("time scale",A.format,"time.format","time.parser"),id("time scale",A.min,"time.min","ticks.min"),id("time scale",A.max,"time.max","ticks.max"),$e.mergeIf(A.displayFormats,k.formats()),oo.prototype.update.apply(g,arguments)},getRightValue:function(g){return g&&void 0!==g.t&&(g=g.t),oo.prototype.getRightValue.call(this,g)},determineDataLimits:function(){var Ne,Fe,Je,pt,gt,bt,Lt,g=this,D=g.chart,A=g._adapter,k=g.options,j=k.time.unit||"day",ee=bf,le=Kp,_e=[],de=[],ve=[],xn=g._getLabels();for(Ne=0,Je=xn.length;Ne<Je;++Ne)ve.push(Wu(g,xn[Ne]));for(Ne=0,Je=(D.data.datasets||[]).length;Ne<Je;++Ne)if(D.isDatasetVisible(Ne))if($e.isObject((gt=D.data.datasets[Ne].data)[0]))for(de[Ne]=[],Fe=0,pt=gt.length;Fe<pt;++Fe)bt=Wu(g,gt[Fe]),_e.push(bt),de[Ne][Fe]=bt;else de[Ne]=ve.slice(0),Lt||(_e=_e.concat(ve),Lt=!0);else de[Ne]=[];ve.length&&(ee=Math.min(ee,ve[0]),le=Math.max(le,ve[ve.length-1])),_e.length&&(_e=Je>1?function(g){var k,j,ee,D={},A=[];for(k=0,j=g.length;k<j;++k)D[ee=g[k]]||(D[ee]=!0,A.push(ee));return A}(_e).sort(Xp):_e.sort(Xp),ee=Math.min(ee,_e[0]),le=Math.max(le,_e[_e.length-1])),ee=Wu(g,np(k))||ee,le=Wu(g,rp(k))||le,ee=ee===bf?+A.startOf(Date.now(),j):ee,le=le===Kp?+A.endOf(Date.now(),j)+1:le,g.min=Math.min(ee,le),g.max=Math.max(ee+1,le),g._table=[],g._timestamps={data:_e,datasets:de,labels:ve}},buildTicks:function(){var Fe,Je,pt,g=this,D=g.min,A=g.max,k=g.options,j=k.ticks,ee=k.time,le=g._timestamps,_e=[],de=g.getLabelCapacity(D),ve=j.source,Ne=k.distribution;for(le="data"===ve||"auto"===ve&&"series"===Ne?le.data:"labels"===ve?le.labels:function(g,D,A,k){var Je,j=g._adapter,ee=g.options,le=ee.time,_e=le.unit||cy(le.minUnit,D,A,k),de=Gp([le.stepSize,le.unitStepSize,1]),ve="week"===_e&&le.isoWeekday,Ne=D,Fe=[];if(ve&&(Ne=+j.startOf(Ne,"isoWeek",ve)),Ne=+j.startOf(Ne,ve?"day":_e),j.diff(A,D,_e)>1e5*de)throw D+" and "+A+" are too far apart with stepSize of "+de+" "+_e;for(Je=Ne;Je<A;Je=+j.add(Je,de,_e))Fe.push(Je);return(Je===A||"ticks"===ee.bounds)&&Fe.push(Je),Fe}(g,D,A,de),"ticks"===k.bounds&&le.length&&(D=le[0],A=le[le.length-1]),D=Wu(g,np(k))||D,A=Wu(g,rp(k))||A,Fe=0,Je=le.length;Fe<Je;++Fe)(pt=le[Fe])>=D&&pt<=A&&_e.push(pt);return g.min=D,g.max=A,g._unit=ee.unit||(j.autoSkip?cy(ee.minUnit,g.min,g.max,de):function(g,D,A,k,j){var ee,le;for(ee=Uo.length-1;ee>=Uo.indexOf(A);ee--)if(xf[le=Uo[ee]].common&&g._adapter.diff(j,k,le)>=D-1)return le;return Uo[A?Uo.indexOf(A):0]}(g,_e.length,ee.minUnit,g.min,g.max)),g._majorUnit=j.major.enabled&&"year"!==g._unit?function(g){for(var D=Uo.indexOf(g)+1,A=Uo.length;D<A;++D)if(xf[Uo[D]].common)return Uo[D]}(g._unit):void 0,g._table=function(g,D,A,k){if("linear"===k||!g.length)return[{time:D,pos:0},{time:A,pos:1}];var le,_e,de,ve,Ne,j=[],ee=[D];for(le=0,_e=g.length;le<_e;++le)(ve=g[le])>D&&ve<A&&ee.push(ve);for(ee.push(A),le=0,_e=ee.length;le<_e;++le)Ne=ee[le+1],ve=ee[le],(void 0===(de=ee[le-1])||void 0===Ne||Math.round((Ne+de)/2)!==ve)&&j.push({time:ve,pos:le/(_e-1)});return j}(g._timestamps.data,D,A,Ne),g._offsets=function(g,D,A,k,j){var _e,de,ee=0,le=0;return j.offset&&D.length&&(_e=tl(g,"time",D[0],"pos"),ee=1===D.length?1-_e:(tl(g,"time",D[1],"pos")-_e)/2,de=tl(g,"time",D[D.length-1],"pos"),le=1===D.length?de:(de-tl(g,"time",D[D.length-2],"pos"))/2),{start:ee,end:le,factor:1/(ee+1+le)}}(g._table,_e,0,0,k),j.reverse&&_e.reverse(),fh(g,_e,g._majorUnit)},getLabelForIndex:function(g,D){var A=this,k=A._adapter,j=A.chart.data,ee=A.options.time,le=j.labels&&g<j.labels.length?j.labels[g]:"",_e=j.datasets[D].data[g];return $e.isObject(_e)&&(le=A.getRightValue(_e)),ee.tooltipFormat?k.format(Ps(A,le),ee.tooltipFormat):"string"==typeof le?le:k.format(Ps(A,le),ee.displayFormats.datetime)},tickFormatFunction:function(g,D,A,k){var j=this,le=j.options,_e=le.time.displayFormats,ve=j._majorUnit,Ne=_e[ve],Fe=A[D],Je=le.ticks,pt=ve&&Ne&&Fe&&Fe.major,gt=j._adapter.format(g,k||(pt?Ne:_e[j._unit])),bt=pt?Je.major:Je.minor,Lt=Gp([bt.callback,bt.userCallback,Je.callback,Je.userCallback]);return Lt?Lt(gt,D,A):gt},convertTicksToLabels:function(g){var A,k,D=[];for(A=0,k=g.length;A<k;++A)D.push(this.tickFormatFunction(g[A].value,A,g));return D},getPixelForOffset:function(g){var D=this,A=D._offsets,k=tl(D._table,"time",g,"pos");return D.getPixelForDecimal((A.start+k)*A.factor)},getPixelForValue:function(g,D,A){var k=this,j=null;if(void 0!==D&&void 0!==A&&(j=k._timestamps.datasets[A][D]),null===j&&(j=Wu(k,g)),null!==j)return k.getPixelForOffset(j)},getPixelForTick:function(g){var D=this.getTicks();return g>=0&&g<D.length?this.getPixelForOffset(D[g].value):null},getValueForPixel:function(g){var D=this,A=D._offsets,k=D.getDecimalForPixel(g)/A.factor-A.end,j=tl(D._table,"pos",k,"time");return D._adapter._create(j)},_getLabelSize:function(g){var D=this,A=D.options.ticks,k=D.ctx.measureText(g).width,j=$e.toRadians(D.isHorizontal()?A.maxRotation:A.minRotation),ee=Math.cos(j),le=Math.sin(j),_e=I0(A.fontSize,or.global.defaultFontSize);return{w:k*ee+_e*le,h:k*le+_e*ee}},getLabelWidth:function(g){return this._getLabelSize(g).w},getLabelCapacity:function(g){var D=this,A=D.options.time,k=A.displayFormats,j=k[A.unit]||k.millisecond,ee=D.tickFormatFunction(g,0,fh(D,[g],D._majorUnit),j),le=D._getLabelSize(ee),_e=Math.floor(D.isHorizontal()?D.width/le.w:D.height/le.h);return D.options.offset&&_e--,_e>0?_e:1}});Od._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var dy={category:gc,linear:lg,logarithmic:Su,radialLinear:yc,time:Od},Ld={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};vi._date.override("function"==typeof $?{_id:"moment",formats:function(){return Ld},parse:function(g,D){return"string"==typeof g&&"string"==typeof D?g=$(g,D):g instanceof $||(g=$(g)),g.isValid()?g.valueOf():null},format:function(g,D){return $(g).format(D)},add:function(g,D,A){return $(g).add(D,A).valueOf()},diff:function(g,D,A){return $(g).diff($(D),A)},startOf:function(g,D,A){return g=$(g),"isoWeek"===D?g.isoWeekday(A).valueOf():g.startOf(D).valueOf()},endOf:function(g,D){return $(g).endOf(D).valueOf()},_create:function(g){return $(g)}}:{}),or._set("global",{plugins:{filler:{propagate:!0}}});var sp={dataset:function(g){var D=g.fill,A=g.chart,k=A.getDatasetMeta(D),ee=k&&A.isDatasetVisible(D)&&k.dataset._children||[],le=ee.length||0;return le?function(_e,de){return de<le&&ee[de]._view||null}:null},boundary:function(g){var D=g.boundary,A=D?D.x:null,k=D?D.y:null;return $e.isArray(D)?function(j,ee){return D[ee]}:function(j){return{x:null===A?j.x:A,y:null===k?j.y:k}}}};function Fd(g,D,A){var ee,k=g._model||{},j=k.fill;if(void 0===j&&(j=!!k.backgroundColor),!1===j||null===j)return!1;if(!0===j)return"origin";if(ee=parseFloat(j,10),isFinite(ee)&&Math.floor(ee)===ee)return("-"===j[0]||"+"===j[0])&&(ee=D+ee),!(ee===D||ee<0||ee>=A)&&ee;switch(j){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return j;default:return!1}}function sd(g){return(g.el._scale||{}).getPointPositionForValue?function(g){var le,_e,de,ve,Ne,D=g.el._scale,A=D.options,k=D.chart.data.labels.length,j=g.fill,ee=[];if(!k)return null;for(_e=A.ticks.reverse?D.min:D.max,de=D.getPointPositionForValue(0,le=A.ticks.reverse?D.max:D.min),ve=0;ve<k;++ve)Ne="start"===j||"end"===j?D.getPointPositionForValue(ve,"start"===j?le:_e):D.getBasePosition(ve),A.gridLines.circular&&(Ne.cx=de.x,Ne.cy=de.y,Ne.angle=D.getIndexAngle(ve)-Math.PI/2),ee.push(Ne);return ee}(g):function(g){var ee,D=g.el._model||{},A=g.el._scale||{},k=g.fill,j=null;if(isFinite(k))return null;if("start"===k?j=void 0===D.scaleBottom?A.bottom:D.scaleBottom:"end"===k?j=void 0===D.scaleTop?A.top:D.scaleTop:void 0!==D.scaleZero?j=D.scaleZero:A.getBasePixel&&(j=A.getBasePixel()),null!=j){if(void 0!==j.x&&void 0!==j.y)return j;if($e.isFinite(j))return{x:(ee=A.isHorizontal())?j:null,y:ee?null:j}}return null}(g)}function ad(g,D,A){var le,j=g[D].fill,ee=[D];if(!A)return j;for(;!1!==j&&-1===ee.indexOf(j);){if(!isFinite(j))return j;if(!(le=g[j]))return!1;if(le.visible)return j;ee.push(j),j=le.fill}return!1}function Rn(g){var D=g.fill,A="dataset";return!1===D?null:(isFinite(D)||(A="boundary"),sp[A](g))}function hg(g){return g&&!g.skip}function fy(g,D,A,k,j){var ee,le,_e,de;if(k&&j){for(g.moveTo(D[0].x,D[0].y),ee=1;ee<k;++ee)$e.canvas.lineTo(g,D[ee-1],D[ee]);if(void 0!==A[0].angle){for(le=A[0].cx,_e=A[0].cy,de=Math.sqrt(Math.pow(A[0].x-le,2)+Math.pow(A[0].y-_e,2)),ee=j-1;ee>0;--ee)g.arc(le,_e,de,A[ee].angle,A[ee-1].angle,!0);return}for(g.lineTo(A[j-1].x,A[j-1].y),ee=j-1;ee>0;--ee)$e.canvas.lineTo(g,A[ee],A[ee-1],!0)}}function op(g,D,A,k,j,ee){var Je,pt,gt,bt,Lt,xn,cr,br,le=D.length,_e=k.spanGaps,de=[],ve=[],Ne=0,Fe=0;for(g.beginPath(),Je=0,pt=le;Je<pt;++Je)Lt=A(bt=D[gt=Je%le]._view,gt,k),xn=hg(bt),cr=hg(Lt),ee&&void 0===br&&xn&&(pt=le+(br=Je+1)),xn&&cr?(Ne=de.push(bt),Fe=ve.push(Lt)):Ne&&Fe&&(_e?(xn&&de.push(bt),cr&&ve.push(Lt)):(fy(g,de,ve,Ne,Fe),Ne=Fe=0,de=[],ve=[]));fy(g,de,ve,Ne,Fe),g.closePath(),g.fillStyle=j,g.fill()}var es={id:"filler",afterDatasetsUpdate:function(g,D){var ee,le,_e,de,A=(g.data.datasets||[]).length,k=D.propagate,j=[];for(le=0;le<A;++le)de=null,(_e=(ee=g.getDatasetMeta(le)).dataset)&&_e._model&&_e instanceof zn.Line&&(de={visible:g.isDatasetVisible(le),fill:Fd(_e,le,A),chart:g,el:_e}),ee.$filler=de,j.push(de);for(le=0;le<A;++le)(de=j[le])&&(de.fill=ad(j,le,k),de.boundary=sd(de),de.mapper=Rn(de))},beforeDatasetsDraw:function(g){var k,j,ee,le,_e,de,ve,D=g._getSortedVisibleDatasetMetas(),A=g.ctx;for(j=D.length-1;j>=0;--j)(k=D[j].$filler)&&k.visible&&(_e=(ee=k.el)._children||[],ve=(le=ee._view).backgroundColor||or.global.defaultColor,(de=k.mapper)&&ve&&_e.length&&($e.canvas.clipArea(A,g.chartArea),op(A,_e,de,le,ve,ee._loop),$e.canvas.unclipArea(A)))}},Tu=$e.rtl.getRtlAdapter,ku=$e.noop,Hu=$e.valueOrDefault;function wf(g,D){return g.usePointStyle&&g.boxWidth>D?D:g.boxWidth}or._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(g,D){var A=D.datasetIndex,k=this.chart,j=k.getDatasetMeta(A);j.hidden=null===j.hidden?!k.data.datasets[A].hidden:null,k.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(g){var D=g.data.datasets,A=g.options.legend||{},k=A.labels&&A.labels.usePointStyle;return g._getSortedDatasetMetas().map(function(j){var ee=j.controller.getStyle(k?0:void 0);return{text:D[j.index].label,fillStyle:ee.backgroundColor,hidden:!g.isDatasetVisible(j.index),lineCap:ee.borderCapStyle,lineDash:ee.borderDash,lineDashOffset:ee.borderDashOffset,lineJoin:ee.borderJoinStyle,lineWidth:ee.borderWidth,strokeStyle:ee.borderColor,pointStyle:ee.pointStyle,rotation:ee.rotation,datasetIndex:j.index}},this)}}},legendCallback:function(g){var k,j,ee,D=document.createElement("ul"),A=g.data.datasets;for(D.setAttribute("class",g.id+"-legend"),k=0,j=A.length;k<j;k++)(ee=D.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=A[k].backgroundColor,A[k].label&&ee.appendChild(document.createTextNode(A[k].label));return D.outerHTML}});var hh=Hn.extend({initialize:function(g){var D=this;$e.extend(D,g),D.legendHitBoxes=[],D._hoveredItem=null,D.doughnutMode=!1},beforeUpdate:ku,update:function(g,D,A){var k=this;return k.beforeUpdate(),k.maxWidth=g,k.maxHeight=D,k.margins=A,k.beforeSetDimensions(),k.setDimensions(),k.afterSetDimensions(),k.beforeBuildLabels(),k.buildLabels(),k.afterBuildLabels(),k.beforeFit(),k.fit(),k.afterFit(),k.afterUpdate(),k.minSize},afterUpdate:ku,beforeSetDimensions:ku,setDimensions:function(){var g=this;g.isHorizontal()?(g.width=g.maxWidth,g.left=0,g.right=g.width):(g.height=g.maxHeight,g.top=0,g.bottom=g.height),g.paddingLeft=0,g.paddingTop=0,g.paddingRight=0,g.paddingBottom=0,g.minSize={width:0,height:0}},afterSetDimensions:ku,beforeBuildLabels:ku,buildLabels:function(){var g=this,D=g.options.labels||{},A=$e.callback(D.generateLabels,[g.chart],g)||[];D.filter&&(A=A.filter(function(k){return D.filter(k,g.chart.data)})),g.options.reverse&&A.reverse(),g.legendItems=A},afterBuildLabels:ku,beforeFit:ku,fit:function(){var g=this,D=g.options,A=D.labels,k=D.display,j=g.ctx,ee=$e.options._parseFont(A),le=ee.size,_e=g.legendHitBoxes=[],de=g.minSize,ve=g.isHorizontal();if(ve?(de.width=g.maxWidth,de.height=k?10:0):(de.width=k?10:0,de.height=g.maxHeight),k){if(j.font=ee.string,ve){var Ne=g.lineWidths=[0],Fe=0;j.textAlign="left",j.textBaseline="middle",$e.each(g.legendItems,function(cr,br){var si=wf(A,le)+le/2+j.measureText(cr.text).width;(0===br||Ne[Ne.length-1]+si+2*A.padding>de.width)&&(Fe+=le+A.padding,Ne[Ne.length-(br>0?0:1)]=0),_e[br]={left:0,top:0,width:si,height:le},Ne[Ne.length-1]+=si+A.padding}),de.height+=Fe}else{var Je=A.padding,pt=g.columnWidths=[],gt=g.columnHeights=[],bt=A.padding,Lt=0,xn=0;$e.each(g.legendItems,function(cr,br){var si=wf(A,le)+le/2+j.measureText(cr.text).width;br>0&&xn+le+2*Je>de.height&&(bt+=Lt+A.padding,pt.push(Lt),gt.push(xn),Lt=0,xn=0),Lt=Math.max(Lt,si),xn+=le+Je,_e[br]={left:0,top:0,width:si,height:le}}),bt+=Lt,pt.push(Lt),gt.push(xn),de.width+=bt}g.width=de.width,g.height=de.height}else g.width=de.width=g.height=de.height=0},afterFit:ku,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var g=this,D=g.options,A=D.labels,k=or.global,j=k.defaultColor,ee=k.elements.line,le=g.height,_e=g.columnHeights,de=g.width,ve=g.lineWidths;if(D.display){var bt,Ne=Tu(D.rtl,g.left,g.minSize.width),Fe=g.ctx,Je=Hu(A.fontColor,k.defaultFontColor),pt=$e.options._parseFont(A),gt=pt.size;Fe.textAlign=Ne.textAlign("left"),Fe.textBaseline="middle",Fe.lineWidth=.5,Fe.strokeStyle=Je,Fe.fillStyle=Je,Fe.font=pt.string;var Lt=wf(A,gt),xn=g.legendHitBoxes,ci=function(ai,os){switch(D.align){case"start":return A.padding;case"end":return ai-os;default:return(ai-os+A.padding)/2}},si=g.isHorizontal();bt=si?{x:g.left+ci(de,ve[0]),y:g.top+A.padding,line:0}:{x:g.left+A.padding,y:g.top+ci(le,_e[0]),line:0},$e.rtl.overrideTextDirection(g.ctx,D.textDirection);var ss=gt+A.padding;$e.each(g.legendItems,function(ai,os){var Cs=Fe.measureText(ai.text).width,Go=Lt+gt/2+Cs,Ko=bt.x,Pa=bt.y;Ne.setWidth(g.minSize.width),si?os>0&&Ko+Go+A.padding>g.left+g.minSize.width&&(Pa=bt.y+=ss,bt.line++,Ko=bt.x=g.left+ci(de,ve[bt.line])):os>0&&Pa+ss>g.top+g.minSize.height&&(Ko=bt.x=Ko+g.columnWidths[bt.line]+A.padding,bt.line++,Pa=bt.y=g.top+ci(le,_e[bt.line]));var Xr=Ne.x(Ko);(function(ai,os,Cs){if(!(isNaN(Lt)||Lt<=0)){Fe.save();var Go=Hu(Cs.lineWidth,ee.borderWidth);if(Fe.fillStyle=Hu(Cs.fillStyle,j),Fe.lineCap=Hu(Cs.lineCap,ee.borderCapStyle),Fe.lineDashOffset=Hu(Cs.lineDashOffset,ee.borderDashOffset),Fe.lineJoin=Hu(Cs.lineJoin,ee.borderJoinStyle),Fe.lineWidth=Go,Fe.strokeStyle=Hu(Cs.strokeStyle,j),Fe.setLineDash&&Fe.setLineDash(Hu(Cs.lineDash,ee.borderDash)),A&&A.usePointStyle){var Ko=Lt*Math.SQRT2/2,Pa=Ne.xPlus(ai,Lt/2);$e.canvas.drawPoint(Fe,Cs.pointStyle,Ko,Pa,os+gt/2,Cs.rotation)}else Fe.fillRect(Ne.leftForLtr(ai,Lt),os,Lt,gt),0!==Go&&Fe.strokeRect(Ne.leftForLtr(ai,Lt),os,Lt,gt);Fe.restore()}})(Xr,Pa,ai),xn[os].left=Ne.leftForLtr(Xr,xn[os].width),xn[os].top=Pa,function(ai,os,Cs,Go){var Ko=gt/2,Pa=Ne.xPlus(ai,Lt+Ko),Xr=os+Ko;Fe.fillText(Cs.text,Pa,Xr),Cs.hidden&&(Fe.beginPath(),Fe.lineWidth=2,Fe.moveTo(Pa,Xr),Fe.lineTo(Ne.xPlus(Pa,Go),Xr),Fe.stroke())}(Xr,Pa,ai,Cs),si?bt.x+=Go+A.padding:bt.y+=ss}),$e.rtl.restoreTextDirection(g.ctx,D.textDirection)}},_getLegendItemAt:function(g,D){var k,j,ee,A=this;if(g>=A.left&&g<=A.right&&D>=A.top&&D<=A.bottom)for(ee=A.legendHitBoxes,k=0;k<ee.length;++k)if(g>=(j=ee[k]).left&&g<=j.left+j.width&&D>=j.top&&D<=j.top+j.height)return A.legendItems[k];return null},handleEvent:function(g){var j,D=this,A=D.options,k="mouseup"===g.type?"click":g.type;if("mousemove"===k){if(!A.onHover&&!A.onLeave)return}else{if("click"!==k)return;if(!A.onClick)return}j=D._getLegendItemAt(g.x,g.y),"click"===k?j&&A.onClick&&A.onClick.call(D,g.native,j):(A.onLeave&&j!==D._hoveredItem&&(D._hoveredItem&&A.onLeave.call(D,g.native,D._hoveredItem),D._hoveredItem=j),A.onHover&&j&&A.onHover.call(D,g.native,j))}});function hy(g,D){var A=new hh({ctx:g.ctx,options:D,chart:g});po.configure(g,A,D),po.addBox(g,A),g.legend=A}var ph={id:"legend",_element:hh,beforeInit:function(g){var D=g.options.legend;D&&hy(g,D)},beforeUpdate:function(g){var D=g.options.legend,A=g.legend;D?($e.mergeIf(D,or.global.legend),A?(po.configure(g,A,D),A.options=D):hy(g,D)):A&&(po.removeBox(g,A),delete g.legend)},afterEvent:function(g,D){var A=g.legend;A&&A.handleEvent(D)}},Iu=$e.noop;or._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Yo=Hn.extend({initialize:function(g){$e.extend(this,g),this.legendHitBoxes=[]},beforeUpdate:Iu,update:function(g,D,A){var k=this;return k.beforeUpdate(),k.maxWidth=g,k.maxHeight=D,k.margins=A,k.beforeSetDimensions(),k.setDimensions(),k.afterSetDimensions(),k.beforeBuildLabels(),k.buildLabels(),k.afterBuildLabels(),k.beforeFit(),k.fit(),k.afterFit(),k.afterUpdate(),k.minSize},afterUpdate:Iu,beforeSetDimensions:Iu,setDimensions:function(){var g=this;g.isHorizontal()?(g.width=g.maxWidth,g.left=0,g.right=g.width):(g.height=g.maxHeight,g.top=0,g.bottom=g.height),g.paddingLeft=0,g.paddingTop=0,g.paddingRight=0,g.paddingBottom=0,g.minSize={width:0,height:0}},afterSetDimensions:Iu,beforeBuildLabels:Iu,buildLabels:Iu,afterBuildLabels:Iu,beforeFit:Iu,fit:function(){var ee,g=this,D=g.options,A=g.minSize={},k=g.isHorizontal();D.display?(ee=($e.isArray(D.text)?D.text.length:1)*$e.options._parseFont(D).lineHeight+2*D.padding,g.width=A.width=k?g.maxWidth:ee,g.height=A.height=k?ee:g.maxHeight):g.width=A.width=g.height=A.height=0},afterFit:Iu,isHorizontal:function(){var g=this.options.position;return"top"===g||"bottom"===g},draw:function(){var g=this,D=g.ctx,A=g.options;if(A.display){var Fe,Je,pt,k=$e.options._parseFont(A),j=k.lineHeight,ee=j/2+A.padding,le=0,_e=g.top,de=g.left,ve=g.bottom,Ne=g.right;D.fillStyle=$e.valueOrDefault(A.fontColor,or.global.defaultFontColor),D.font=k.string,g.isHorizontal()?(Je=de+(Ne-de)/2,pt=_e+ee,Fe=Ne-de):(Je="left"===A.position?de+ee:Ne-ee,pt=_e+(ve-_e)/2,Fe=ve-_e,le=Math.PI*("left"===A.position?-.5:.5)),D.save(),D.translate(Je,pt),D.rotate(le),D.textAlign="center",D.textBaseline="middle";var gt=A.text;if($e.isArray(gt))for(var bt=0,Lt=0;Lt<gt.length;++Lt)D.fillText(gt[Lt],0,bt,Fe),bt+=j;else D.fillText(gt,0,0,Fe);D.restore()}}});function py(g,D){var A=new Yo({ctx:g.ctx,options:D,chart:g});po.configure(g,A,D),po.addBox(g,A),g.titleBlock=A}var vc={},Pd=es,R0=ph,up={id:"title",_element:Yo,beforeInit:function(g){var D=g.options.title;D&&py(g,D)},beforeUpdate:function(g){var D=g.options.title,A=g.titleBlock;D?($e.mergeIf(D,or.global.title),A?(po.configure(g,A,D),A.options=D):py(g,D)):A&&(po.removeBox(g,A),delete g.titleBlock)}};for(var Ka in vc.filler=Pd,vc.legend=R0,vc.title=up,Li.helpers=$e,function(){function g(k,j,ee){var le;return"string"==typeof k?(le=parseInt(k,10),-1!==k.indexOf("%")&&(le=le/100*j.parentNode[ee])):le=k,le}function D(k){return null!=k&&"none"!==k}function A(k,j,ee){var le=document.defaultView,_e=$e._getParentNode(k),de=le.getComputedStyle(k)[j],ve=le.getComputedStyle(_e)[j],Ne=D(de),Fe=D(ve),Je=Number.POSITIVE_INFINITY;return Ne||Fe?Math.min(Ne?g(de,k,ee):Je,Fe?g(ve,_e,ee):Je):"none"}$e.where=function(k,j){if($e.isArray(k)&&Array.prototype.filter)return k.filter(j);var ee=[];return $e.each(k,function(le){j(le)&&ee.push(le)}),ee},$e.findIndex=Array.prototype.findIndex?function(k,j,ee){return k.findIndex(j,ee)}:function(k,j,ee){ee=void 0===ee?k:ee;for(var le=0,_e=k.length;le<_e;++le)if(j.call(ee,k[le],le,k))return le;return-1},$e.findNextWhere=function(k,j,ee){$e.isNullOrUndef(ee)&&(ee=-1);for(var le=ee+1;le<k.length;le++){var _e=k[le];if(j(_e))return _e}},$e.findPreviousWhere=function(k,j,ee){$e.isNullOrUndef(ee)&&(ee=k.length);for(var le=ee-1;le>=0;le--){var _e=k[le];if(j(_e))return _e}},$e.isNumber=function(k){return!isNaN(parseFloat(k))&&isFinite(k)},$e.almostEquals=function(k,j,ee){return Math.abs(k-j)<ee},$e.almostWhole=function(k,j){var ee=Math.round(k);return ee-j<=k&&ee+j>=k},$e.max=function(k){return k.reduce(function(j,ee){return isNaN(ee)?j:Math.max(j,ee)},Number.NEGATIVE_INFINITY)},$e.min=function(k){return k.reduce(function(j,ee){return isNaN(ee)?j:Math.min(j,ee)},Number.POSITIVE_INFINITY)},$e.sign=Math.sign?function(k){return Math.sign(k)}:function(k){return 0==(k=+k)||isNaN(k)?k:k>0?1:-1},$e.toRadians=function(k){return k*(Math.PI/180)},$e.toDegrees=function(k){return k*(180/Math.PI)},$e._decimalPlaces=function(k){if($e.isFinite(k)){for(var j=1,ee=0;Math.round(k*j)/j!==k;)j*=10,ee++;return ee}},$e.getAngleFromPoint=function(k,j){var ee=j.x-k.x,le=j.y-k.y,_e=Math.sqrt(ee*ee+le*le),de=Math.atan2(le,ee);return de<-.5*Math.PI&&(de+=2*Math.PI),{angle:de,distance:_e}},$e.distanceBetweenPoints=function(k,j){return Math.sqrt(Math.pow(j.x-k.x,2)+Math.pow(j.y-k.y,2))},$e.aliasPixel=function(k){return k%2==0?0:.5},$e._alignPixel=function(k,j,ee){var le=k.currentDevicePixelRatio,_e=ee/2;return Math.round((j-_e)*le)/le+_e},$e.splineCurve=function(k,j,ee,le){var _e=k.skip?j:k,de=j,ve=ee.skip?j:ee,Ne=Math.sqrt(Math.pow(de.x-_e.x,2)+Math.pow(de.y-_e.y,2)),Fe=Math.sqrt(Math.pow(ve.x-de.x,2)+Math.pow(ve.y-de.y,2)),Je=Ne/(Ne+Fe),pt=Fe/(Ne+Fe),gt=le*(Je=isNaN(Je)?0:Je),bt=le*(pt=isNaN(pt)?0:pt);return{previous:{x:de.x-gt*(ve.x-_e.x),y:de.y-gt*(ve.y-_e.y)},next:{x:de.x+bt*(ve.x-_e.x),y:de.y+bt*(ve.y-_e.y)}}},$e.EPSILON=Number.EPSILON||1e-14,$e.splineCurveMonotone=function(k){var le,_e,de,ve,Fe,Je,pt,gt,bt,j=(k||[]).map(function(Lt){return{model:Lt._model,deltaK:0,mK:0}}),ee=j.length;for(le=0;le<ee;++le)if(!(de=j[le]).model.skip){if(_e=le>0?j[le-1]:null,(ve=le<ee-1?j[le+1]:null)&&!ve.model.skip){var Ne=ve.model.x-de.model.x;de.deltaK=0!==Ne?(ve.model.y-de.model.y)/Ne:0}de.mK=!_e||_e.model.skip?de.deltaK:!ve||ve.model.skip?_e.deltaK:this.sign(_e.deltaK)!==this.sign(de.deltaK)?0:(_e.deltaK+de.deltaK)/2}for(le=0;le<ee-1;++le)if(ve=j[le+1],!(de=j[le]).model.skip&&!ve.model.skip){if($e.almostEquals(de.deltaK,0,this.EPSILON)){de.mK=ve.mK=0;continue}Fe=de.mK/de.deltaK,Je=ve.mK/de.deltaK,!((gt=Math.pow(Fe,2)+Math.pow(Je,2))<=9)&&(pt=3/Math.sqrt(gt),de.mK=Fe*pt*de.deltaK,ve.mK=Je*pt*de.deltaK)}for(le=0;le<ee;++le)!(de=j[le]).model.skip&&(ve=le<ee-1?j[le+1]:null,(_e=le>0?j[le-1]:null)&&!_e.model.skip&&(de.model.controlPointPreviousX=de.model.x-(bt=(de.model.x-_e.model.x)/3),de.model.controlPointPreviousY=de.model.y-bt*de.mK),ve&&!ve.model.skip&&(de.model.controlPointNextX=de.model.x+(bt=(ve.model.x-de.model.x)/3),de.model.controlPointNextY=de.model.y+bt*de.mK))},$e.nextItem=function(k,j,ee){return ee?j>=k.length-1?k[0]:k[j+1]:j>=k.length-1?k[k.length-1]:k[j+1]},$e.previousItem=function(k,j,ee){return ee?j<=0?k[k.length-1]:k[j-1]:j<=0?k[0]:k[j-1]},$e.niceNum=function(k,j){var ee=Math.floor($e.log10(k)),le=k/Math.pow(10,ee);return(j?le<1.5?1:le<3?2:le<7?5:10:le<=1?1:le<=2?2:le<=5?5:10)*Math.pow(10,ee)},$e.requestAnimFrame="undefined"==typeof window?function(k){k()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(k){return window.setTimeout(k,1e3/60)},$e.getRelativePosition=function(k,j){var ee,le,_e=k.originalEvent||k,de=k.target||k.srcElement,ve=de.getBoundingClientRect(),Ne=_e.touches;Ne&&Ne.length>0?(ee=Ne[0].clientX,le=Ne[0].clientY):(ee=_e.clientX,le=_e.clientY);var Fe=parseFloat($e.getStyle(de,"padding-left")),Je=parseFloat($e.getStyle(de,"padding-top")),pt=parseFloat($e.getStyle(de,"padding-right")),gt=parseFloat($e.getStyle(de,"padding-bottom")),Lt=ve.bottom-ve.top-Je-gt;return{x:ee=Math.round((ee-ve.left-Fe)/(ve.right-ve.left-Fe-pt)*de.width/j.currentDevicePixelRatio),y:le=Math.round((le-ve.top-Je)/Lt*de.height/j.currentDevicePixelRatio)}},$e.getConstraintWidth=function(k){return A(k,"max-width","clientWidth")},$e.getConstraintHeight=function(k){return A(k,"max-height","clientHeight")},$e._calculatePadding=function(k,j,ee){return(j=$e.getStyle(k,j)).indexOf("%")>-1?ee*parseInt(j,10)/100:parseInt(j,10)},$e._getParentNode=function(k){var j=k.parentNode;return j&&"[object ShadowRoot]"===j.toString()&&(j=j.host),j},$e.getMaximumWidth=function(k){var j=$e._getParentNode(k);if(!j)return k.clientWidth;var ee=j.clientWidth,de=ee-$e._calculatePadding(j,"padding-left",ee)-$e._calculatePadding(j,"padding-right",ee),ve=$e.getConstraintWidth(k);return isNaN(ve)?de:Math.min(de,ve)},$e.getMaximumHeight=function(k){var j=$e._getParentNode(k);if(!j)return k.clientHeight;var ee=j.clientHeight,de=ee-$e._calculatePadding(j,"padding-top",ee)-$e._calculatePadding(j,"padding-bottom",ee),ve=$e.getConstraintHeight(k);return isNaN(ve)?de:Math.min(de,ve)},$e.getStyle=function(k,j){return k.currentStyle?k.currentStyle[j]:document.defaultView.getComputedStyle(k,null).getPropertyValue(j)},$e.retinaScale=function(k,j){var ee=k.currentDevicePixelRatio=j||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==ee){var le=k.canvas,_e=k.height,de=k.width;le.height=_e*ee,le.width=de*ee,k.ctx.scale(ee,ee),!le.style.height&&!le.style.width&&(le.style.height=_e+"px",le.style.width=de+"px")}},$e.fontString=function(k,j,ee){return j+" "+k+"px "+ee},$e.longestText=function(k,j,ee,le){var _e=(le=le||{}).data=le.data||{},de=le.garbageCollect=le.garbageCollect||[];le.font!==j&&(_e=le.data={},de=le.garbageCollect=[],le.font=j),k.font=j;var Fe,Je,pt,gt,bt,ve=0,Ne=ee.length;for(Fe=0;Fe<Ne;Fe++)if(null!=(gt=ee[Fe])&&!0!==$e.isArray(gt))ve=$e.measureText(k,_e,de,ve,gt);else if($e.isArray(gt))for(Je=0,pt=gt.length;Je<pt;Je++)null!=(bt=gt[Je])&&!$e.isArray(bt)&&(ve=$e.measureText(k,_e,de,ve,bt));var Lt=de.length/2;if(Lt>ee.length){for(Fe=0;Fe<Lt;Fe++)delete _e[de[Fe]];de.splice(0,Lt)}return ve},$e.measureText=function(k,j,ee,le,_e){var de=j[_e];return de||(de=j[_e]=k.measureText(_e).width,ee.push(_e)),de>le&&(le=de),le},$e.numberOfLabelLines=function(k){var j=1;return $e.each(k,function(ee){$e.isArray(ee)&&ee.length>j&&(j=ee.length)}),j},$e.color=ar?function(k){return k instanceof CanvasGradient&&(k=or.global.defaultColor),ar(k)}:function(k){return console.error("Color.js not found!"),k},$e.getHoverColor=function(k){return k instanceof CanvasPattern||k instanceof CanvasGradient?k:$e.color(k).saturate(.5).darken(.1).rgbString()}}(),Li._adapters=vi,Li.Animation=sa,Li.animationService=Os,Li.controllers=Us,Li.DatasetController=bs,Li.defaults=or,Li.Element=Hn,Li.elements=zn,Li.Interaction=Mu,Li.layouts=po,Li.platform=is,Li.plugins=Qr,Li.Scale=oo,Li.scaleService=Pi,Li.Ticks=Hl,Li.Tooltip=gf,Li.helpers.each(dy,function(g,D){Li.scaleService.registerScaleType(D,g,g._defaults)}),vc)vc.hasOwnProperty(Ka)&&Li.plugins.register(vc[Ka]);Li.platform.initialize();var Jp=Li;return"undefined"!=typeof window&&(window.Chart=Li),Li.Chart=Li,Li.Legend=vc.legend._element,Li.Title=vc.title._element,Li.pluginService=Li.plugins,Li.PluginBase=Li.Element.extend({}),Li.canvasHelpers=Li.helpers.canvas,Li.layoutService=Li.layouts,Li.LinearScaleBase=qr,Li.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(g){Li[g]=function(D,A){return new Li(D,Li.helpers.merge(A||{},{type:g.charAt(0).toLowerCase()+g.slice(1)}))}}),Jp}(function(){try{return v(6738)}catch(P){}}())},1580:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(N){return(0,S.default)(N)};var N,S=(N=v(8005))&&N.__esModule?N:{default:N};be.exports=ie.default},9797:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(S){return"string"==typeof S&&v.test(S)};var v=/-webkit-|-moz-|-ms-/;be.exports=ie.default},2905:(be,ie,v)=>{"use strict";function $(ge,we){if((Se=(ge=we?ge.toExponential(we-1):ge.toExponential()).indexOf("e"))<0)return null;var Se,re=ge.slice(0,Se);return[re.length>1?re[0]+re.slice(2):re,+ge.slice(Se+1)]}function S(ge){return(ge=$(Math.abs(ge)))?ge[1]:NaN}v.r(ie),v.d(ie,{format:()=>je,formatDefaultLocale:()=>ze,formatLocale:()=>ce,formatPrefix:()=>Ie,formatSpecifier:()=>B,precisionFixed:()=>et,precisionPrefix:()=>Te,precisionRound:()=>We});var F,N=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function B(ge){return new R(ge)}function R(ge){if(!(we=N.exec(ge)))throw new Error("invalid format: "+ge);var we;this.fill=we[1]||" ",this.align=we[2]||">",this.sign=we[3]||"-",this.symbol=we[4]||"",this.zero=!!we[5],this.width=we[6]&&+we[6],this.comma=!!we[7],this.precision=we[8]&&+we[8].slice(1),this.trim=!!we[9],this.type=we[10]||""}function G(ge,we){var Se=$(ge,we);if(!Se)return ge+"";var re=Se[0],Re=Se[1];return Re<0?"0."+new Array(-Re).join("0")+re:re.length>Re+1?re.slice(0,Re+1)+"."+re.slice(Re+1):re+new Array(Re-re.length+2).join("0")}B.prototype=R.prototype,R.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const K={"%":function(ge,we){return(100*ge).toFixed(we)},b:function(ge){return Math.round(ge).toString(2)},c:function(ge){return ge+""},d:function(ge){return Math.round(ge).toString(10)},e:function(ge,we){return ge.toExponential(we)},f:function(ge,we){return ge.toFixed(we)},g:function(ge,we){return ge.toPrecision(we)},o:function(ge){return Math.round(ge).toString(8)},p:function(ge,we){return G(100*ge,we)},r:G,s:function(ge,we){var Se=$(ge,we);if(!Se)return ge+"";var re=Se[0],Re=Se[1],Be=Re-(F=3*Math.max(-8,Math.min(8,Math.floor(Re/3))))+1,Pe=re.length;return Be===Pe?re:Be>Pe?re+new Array(Be-Pe+1).join("0"):Be>0?re.slice(0,Be)+"."+re.slice(Be):"0."+new Array(1-Be).join("0")+$(ge,Math.max(0,we+Be-1))[0]},X:function(ge){return Math.round(ge).toString(16).toUpperCase()},x:function(ge){return Math.round(ge).toString(16)}};function J(ge){return ge}var Ae,je,Ie,he=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ce(ge){var we=ge.grouping&&ge.thousands?function(ge,we){return function(Se,re){for(var Re=Se.length,Be=[],Pe=0,Ke=ge[0],Qe=0;Re>0&&Ke>0&&(Qe+Ke+1>re&&(Ke=Math.max(1,re-Qe)),Be.push(Se.substring(Re-=Ke,Re+Ke)),!((Qe+=Ke+1)>re));)Ke=ge[Pe=(Pe+1)%ge.length];return Be.reverse().join(we)}}(ge.grouping,ge.thousands):J,Se=ge.currency,re=ge.decimal,Re=ge.numerals?function(ge){return function(we){return we.replace(/[0-9]/g,function(Se){return ge[+Se]})}}(ge.numerals):J,Be=ge.percent||"%";function Pe(Qe){var rt=(Qe=B(Qe)).fill,st=Qe.align,ft=Qe.sign,kt=Qe.symbol,$t=Qe.zero,on=Qe.width,On=Qe.comma,Cn=Qe.precision,Kt=Qe.trim,cn=Qe.type;"n"===cn?(On=!0,cn="g"):K[cn]||(null==Cn&&(Cn=12),Kt=!0,cn="g"),($t||"0"===rt&&"="===st)&&($t=!0,rt="0",st="=");var Gr="$"===kt?Se[0]:"#"===kt&&/[boxX]/.test(cn)?"0"+cn.toLowerCase():"",mi="$"===kt?Se[1]:/[%p]/.test(cn)?Be:"",dt=K[cn],Vt=/[defgprs%]/.test(cn);function Ln(Bt){var Et,zt,an,kn=Gr,nt=mi;if("c"===cn)nt=dt(Bt)+nt,Bt="";else{var ar=(Bt=+Bt)<0;if(Bt=dt(Math.abs(Bt),Cn),Kt&&(Bt=function(ge){e:for(var Re,we=ge.length,Se=1,re=-1;Se<we;++Se)switch(ge[Se]){case".":re=Re=Se;break;case"0":0===re&&(re=Se),Re=Se;break;default:if(re>0){if(!+ge[Se])break e;re=0}}return re>0?ge.slice(0,re)+ge.slice(Re+1):ge}(Bt)),ar&&0==+Bt&&(ar=!1),kn=(ar?"("===ft?ft:"-":"-"===ft||"("===ft?"":ft)+kn,nt=("s"===cn?he[8+F/3]:"")+nt+(ar&&"("===ft?")":""),Vt)for(Et=-1,zt=Bt.length;++Et<zt;)if(48>(an=Bt.charCodeAt(Et))||an>57){nt=(46===an?re+Bt.slice(Et+1):Bt.slice(Et))+nt,Bt=Bt.slice(0,Et);break}}On&&!$t&&(Bt=we(Bt,1/0));var xr=kn.length+Bt.length+nt.length,Tn=xr<on?new Array(on-xr+1).join(rt):"";switch(On&&$t&&(Bt=we(Tn+Bt,Tn.length?on-nt.length:1/0),Tn=""),st){case"<":Bt=kn+Bt+nt+Tn;break;case"=":Bt=kn+Tn+Bt+nt;break;case"^":Bt=Tn.slice(0,xr=Tn.length>>1)+kn+Bt+nt+Tn.slice(xr);break;default:Bt=Tn+kn+Bt+nt}return Re(Bt)}return Cn=null==Cn?6:/[gprs]/.test(cn)?Math.max(1,Math.min(21,Cn)):Math.max(0,Math.min(20,Cn)),Ln.toString=function(){return Qe+""},Ln}return{format:Pe,formatPrefix:function(Qe,rt){var st=Pe(((Qe=B(Qe)).type="f",Qe)),ft=3*Math.max(-8,Math.min(8,Math.floor(S(rt)/3))),kt=Math.pow(10,-ft),$t=he[8+ft/3];return function(on){return st(kt*on)+$t}}}}function ze(ge){return Ae=ce(ge),je=Ae.format,Ie=Ae.formatPrefix,Ae}function et(ge){return Math.max(0,-S(Math.abs(ge)))}function Te(ge,we){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(S(we)/3)))-S(Math.abs(ge)))}function We(ge,we){return ge=Math.abs(ge),we=Math.abs(we)-ge,Math.max(0,S(we)-S(ge))+1}ze({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},3898:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{clientPoint:()=>Ws,create:()=>ka,creator:()=>B,customEvent:()=>Fi,event:()=>Kr,local:()=>oc,matcher:()=>Ae,mouse:()=>Wi,namespace:()=>P,namespaces:()=>S,select:()=>Da,selectAll:()=>Jc,selection:()=>Ts,selector:()=>W,selectorAll:()=>G,style:()=>nt,touch:()=>uc,touches:()=>lc,window:()=>dt});var $="http://www.w3.org/1999/xhtml";const S={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function P(Xe){var Mt=Xe+="",Nt=Mt.indexOf(":");return Nt>=0&&"xmlns"!==(Mt=Xe.slice(0,Nt))&&(Xe=Xe.slice(Nt+1)),S.hasOwnProperty(Mt)?{space:S[Mt],local:Xe}:Xe}function I(Xe){return function(){var Mt=this.ownerDocument,Nt=this.namespaceURI;return Nt===$&&Mt.documentElement.namespaceURI===$?Mt.createElement(Xe):Mt.createElementNS(Nt,Xe)}}function N(Xe){return function(){return this.ownerDocument.createElementNS(Xe.space,Xe.local)}}function B(Xe){var Mt=P(Xe);return(Mt.local?N:I)(Mt)}function R(){}function W(Xe){return null==Xe?R:function(){return this.querySelector(Xe)}}function U(){return[]}function G(Xe){return null==Xe?U:function(){return this.querySelectorAll(Xe)}}var J=function(Xe){return function(){return this.matches(Xe)}};if("undefined"!=typeof document){var he=document.documentElement;if(!he.matches){var ce=he.webkitMatchesSelector||he.msMatchesSelector||he.mozMatchesSelector||he.oMatchesSelector;J=function(Xe){return function(){return ce.call(this,Xe)}}}}const Ae=J;function Ie(Xe){return new Array(Xe.length)}function et(Xe,Mt){this.ownerDocument=Xe.ownerDocument,this.namespaceURI=Xe.namespaceURI,this._next=null,this._parent=Xe,this.__data__=Mt}function ge(Xe,Mt,Nt,Dn,Vn,Qn){for(var zn,bn=0,dr=Mt.length,zr=Qn.length;bn<zr;++bn)(zn=Mt[bn])?(zn.__data__=Qn[bn],Dn[bn]=zn):Nt[bn]=new et(Xe,Qn[bn]);for(;bn<dr;++bn)(zn=Mt[bn])&&(Vn[bn]=zn)}function we(Xe,Mt,Nt,Dn,Vn,Qn,bn){var zn,dr,Oe,zr={},qt=Mt.length,Hs=Qn.length,sr=new Array(qt);for(zn=0;zn<qt;++zn)(dr=Mt[zn])&&(sr[zn]=Oe="$"+bn.call(dr,dr.__data__,zn,Mt),Oe in zr?Vn[zn]=dr:zr[Oe]=dr);for(zn=0;zn<Hs;++zn)(dr=zr[Oe="$"+bn.call(Xe,Qn[zn],zn,Qn)])?(Dn[zn]=dr,dr.__data__=Qn[zn],zr[Oe]=null):Nt[zn]=new et(Xe,Qn[zn]);for(zn=0;zn<qt;++zn)(dr=Mt[zn])&&zr[sr[zn]]===dr&&(Vn[zn]=dr)}function Ke(Xe,Mt){return Xe<Mt?-1:Xe>Mt?1:Xe>=Mt?0:NaN}function on(Xe){return function(){this.removeAttribute(Xe)}}function On(Xe){return function(){this.removeAttributeNS(Xe.space,Xe.local)}}function Cn(Xe,Mt){return function(){this.setAttribute(Xe,Mt)}}function Kt(Xe,Mt){return function(){this.setAttributeNS(Xe.space,Xe.local,Mt)}}function cn(Xe,Mt){return function(){var Nt=Mt.apply(this,arguments);null==Nt?this.removeAttribute(Xe):this.setAttribute(Xe,Nt)}}function Gr(Xe,Mt){return function(){var Nt=Mt.apply(this,arguments);null==Nt?this.removeAttributeNS(Xe.space,Xe.local):this.setAttributeNS(Xe.space,Xe.local,Nt)}}function dt(Xe){return Xe.ownerDocument&&Xe.ownerDocument.defaultView||Xe.document&&Xe||Xe.defaultView}function Vt(Xe){return function(){this.style.removeProperty(Xe)}}function Ln(Xe,Mt,Nt){return function(){this.style.setProperty(Xe,Mt,Nt)}}function Bt(Xe,Mt,Nt){return function(){var Dn=Mt.apply(this,arguments);null==Dn?this.style.removeProperty(Xe):this.style.setProperty(Xe,Dn,Nt)}}function nt(Xe,Mt){return Xe.style.getPropertyValue(Mt)||dt(Xe).getComputedStyle(Xe,null).getPropertyValue(Mt)}function Et(Xe){return function(){delete this[Xe]}}function zt(Xe,Mt){return function(){this[Xe]=Mt}}function an(Xe,Mt){return function(){var Nt=Mt.apply(this,arguments);null==Nt?delete this[Xe]:this[Xe]=Nt}}function xr(Xe){return Xe.trim().split(/^|\s+/)}function Tn(Xe){return Xe.classList||new ir(Xe)}function ir(Xe){this._node=Xe,this._names=xr(Xe.getAttribute("class")||"")}function Tr(Xe,Mt){for(var Nt=Tn(Xe),Dn=-1,Vn=Mt.length;++Dn<Vn;)Nt.add(Mt[Dn])}function hi(Xe,Mt){for(var Nt=Tn(Xe),Dn=-1,Vn=Mt.length;++Dn<Vn;)Nt.remove(Mt[Dn])}function mr(Xe){return function(){Tr(this,Xe)}}function ni(Xe){return function(){hi(this,Xe)}}function Ss(Xe,Mt){return function(){(Mt.apply(this,arguments)?Tr:hi)(this,Xe)}}function Pt(){this.textContent=""}function wr(Xe){return function(){this.textContent=Xe}}function Ur(Xe){return function(){var Mt=Xe.apply(this,arguments);this.textContent=null==Mt?"":Mt}}function vs(){this.innerHTML=""}function or(Xe){return function(){this.innerHTML=Xe}}function iu(Xe){return function(){var Mt=Xe.apply(this,arguments);this.innerHTML=null==Mt?"":Mt}}function ia(){this.nextSibling&&this.parentNode.appendChild(this)}function Bl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lr(){return null}function wu(){var Xe=this.parentNode;Xe&&Xe.removeChild(this)}function $e(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ho(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}et.prototype={constructor:et,appendChild:function(Xe){return this._parent.insertBefore(Xe,this._next)},insertBefore:function(Xe,Mt){return this._parent.insertBefore(Xe,Mt)},querySelector:function(Xe){return this._parent.querySelector(Xe)},querySelectorAll:function(Xe){return this._parent.querySelectorAll(Xe)}},ir.prototype={add:function(Xe){this._names.indexOf(Xe)<0&&(this._names.push(Xe),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Xe){var Mt=this._names.indexOf(Xe);Mt>=0&&(this._names.splice(Mt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Xe){return this._names.indexOf(Xe)>=0}};var $u={},Kr=null;function Cu(Xe,Mt,Nt){return Xe=Hn(Xe,Mt,Nt),function(Dn){var Vn=Dn.relatedTarget;(!Vn||Vn!==this&&!(8&Vn.compareDocumentPosition(this)))&&Xe.call(this,Dn)}}function Hn(Xe,Mt,Nt){return function(Dn){var Vn=Kr;Kr=Dn;try{Xe.call(this,this.__data__,Mt,Nt)}finally{Kr=Vn}}}function Pr(Xe){return Xe.trim().split(/^|\s+/).map(function(Mt){var Nt="",Dn=Mt.indexOf(".");return Dn>=0&&(Nt=Mt.slice(Dn+1),Mt=Mt.slice(0,Dn)),{type:Mt,name:Nt}})}function sa(Xe){return function(){var Mt=this.__on;if(Mt){for(var Qn,Nt=0,Dn=-1,Vn=Mt.length;Nt<Vn;++Nt)Qn=Mt[Nt],Xe.type&&Qn.type!==Xe.type||Qn.name!==Xe.name?Mt[++Dn]=Qn:this.removeEventListener(Qn.type,Qn.listener,Qn.capture);++Dn?Mt.length=Dn:delete this.__on}}}function Os(Xe,Mt,Nt){var Dn=$u.hasOwnProperty(Xe.type)?Cu:Hn;return function(Vn,Qn,bn){var dr,zn=this.__on,zr=Dn(Mt,Qn,bn);if(zn)for(var qt=0,Hs=zn.length;qt<Hs;++qt)if((dr=zn[qt]).type===Xe.type&&dr.name===Xe.name)return this.removeEventListener(dr.type,dr.listener,dr.capture),this.addEventListener(dr.type,dr.listener=zr,dr.capture=Nt),void(dr.value=Mt);this.addEventListener(Xe.type,zr,Nt),dr={type:Xe.type,name:Xe.name,value:Mt,listener:zr,capture:Nt},zn?zn.push(dr):this.__on=[dr]}}function Fi(Xe,Mt,Nt,Dn){var Vn=Kr;Xe.sourceEvent=Kr,Kr=Xe;try{return Mt.apply(Nt,Dn)}finally{Kr=Vn}}function Wo(Xe,Mt,Nt){var Dn=dt(Xe),Vn=Dn.CustomEvent;"function"==typeof Vn?Vn=new Vn(Mt,Nt):(Vn=Dn.document.createEvent("Event"),Nt?(Vn.initEvent(Mt,Nt.bubbles,Nt.cancelable),Vn.detail=Nt.detail):Vn.initEvent(Mt,!1,!1)),Xe.dispatchEvent(Vn)}function Ta(Xe,Mt){return function(){return Wo(this,Xe,Mt)}}function _s(Xe,Mt){return function(){return Wo(this,Xe,Mt.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||($u={mouseenter:"mouseover",mouseleave:"mouseout"}));var As=[null];function Jr(Xe,Mt){this._groups=Xe,this._parents=Mt}function ja(){return new Jr([[document.documentElement]],As)}Jr.prototype=ja.prototype={constructor:Jr,select:function(Xe){"function"!=typeof Xe&&(Xe=W(Xe));for(var Mt=this._groups,Nt=Mt.length,Dn=new Array(Nt),Vn=0;Vn<Nt;++Vn)for(var dr,zr,Qn=Mt[Vn],bn=Qn.length,zn=Dn[Vn]=new Array(bn),qt=0;qt<bn;++qt)(dr=Qn[qt])&&(zr=Xe.call(dr,dr.__data__,qt,Qn))&&("__data__"in dr&&(zr.__data__=dr.__data__),zn[qt]=zr);return new Jr(Dn,this._parents)},selectAll:function(Xe){"function"!=typeof Xe&&(Xe=G(Xe));for(var Mt=this._groups,Nt=Mt.length,Dn=[],Vn=[],Qn=0;Qn<Nt;++Qn)for(var dr,bn=Mt[Qn],zn=bn.length,zr=0;zr<zn;++zr)(dr=bn[zr])&&(Dn.push(Xe.call(dr,dr.__data__,zr,bn)),Vn.push(dr));return new Jr(Dn,Vn)},filter:function(Xe){"function"!=typeof Xe&&(Xe=Ae(Xe));for(var Mt=this._groups,Nt=Mt.length,Dn=new Array(Nt),Vn=0;Vn<Nt;++Vn)for(var dr,Qn=Mt[Vn],bn=Qn.length,zn=Dn[Vn]=[],zr=0;zr<bn;++zr)(dr=Qn[zr])&&Xe.call(dr,dr.__data__,zr,Qn)&&zn.push(dr);return new Jr(Dn,this._parents)},data:function(Xe,Mt){if(!Xe)return Oe=new Array(this.size()),zr=-1,this.each(function(Oi){Oe[++zr]=Oi}),Oe;var Nt=Mt?we:ge,Dn=this._parents,Vn=this._groups;"function"!=typeof Xe&&(Xe=function(Xe){return function(){return Xe}}(Xe));for(var Qn=Vn.length,bn=new Array(Qn),zn=new Array(Qn),dr=new Array(Qn),zr=0;zr<Qn;++zr){var qt=Dn[zr],Hs=Vn[zr],sr=Hs.length,Oe=Xe.call(qt,qt&&qt.__data__,zr,Dn),ot=Oe.length,Ft=zn[zr]=new Array(ot),fn=bn[zr]=new Array(ot);Nt(qt,Hs,Ft,fn,dr[zr]=new Array(sr),Oe,Mt);for(var xs,Ni,lr=0,Vi=0;lr<ot;++lr)if(xs=Ft[lr]){for(lr>=Vi&&(Vi=lr+1);!(Ni=fn[Vi])&&++Vi<ot;);xs._next=Ni||null}}return(bn=new Jr(bn,Dn))._enter=zn,bn._exit=dr,bn},enter:function(){return new Jr(this._enter||this._groups.map(Ie),this._parents)},exit:function(){return new Jr(this._exit||this._groups.map(Ie),this._parents)},merge:function(Xe){for(var Mt=this._groups,Nt=Xe._groups,Dn=Mt.length,Qn=Math.min(Dn,Nt.length),bn=new Array(Dn),zn=0;zn<Qn;++zn)for(var sr,dr=Mt[zn],zr=Nt[zn],qt=dr.length,Hs=bn[zn]=new Array(qt),Oe=0;Oe<qt;++Oe)(sr=dr[Oe]||zr[Oe])&&(Hs[Oe]=sr);for(;zn<Dn;++zn)bn[zn]=Mt[zn];return new Jr(bn,this._parents)},order:function(){for(var Xe=this._groups,Mt=-1,Nt=Xe.length;++Mt<Nt;)for(var bn,Dn=Xe[Mt],Vn=Dn.length-1,Qn=Dn[Vn];--Vn>=0;)(bn=Dn[Vn])&&(Qn&&Qn!==bn.nextSibling&&Qn.parentNode.insertBefore(bn,Qn),Qn=bn);return this},sort:function(Xe){function Mt(Hs,sr){return Hs&&sr?Xe(Hs.__data__,sr.__data__):!Hs-!sr}Xe||(Xe=Ke);for(var Nt=this._groups,Dn=Nt.length,Vn=new Array(Dn),Qn=0;Qn<Dn;++Qn){for(var zr,bn=Nt[Qn],zn=bn.length,dr=Vn[Qn]=new Array(zn),qt=0;qt<zn;++qt)(zr=bn[qt])&&(dr[qt]=zr);dr.sort(Mt)}return new Jr(Vn,this._parents).order()},call:function(){var Xe=arguments[0];return arguments[0]=this,Xe.apply(null,arguments),this},nodes:function(){var Xe=new Array(this.size()),Mt=-1;return this.each(function(){Xe[++Mt]=this}),Xe},node:function(){for(var Xe=this._groups,Mt=0,Nt=Xe.length;Mt<Nt;++Mt)for(var Dn=Xe[Mt],Vn=0,Qn=Dn.length;Vn<Qn;++Vn){var bn=Dn[Vn];if(bn)return bn}return null},size:function(){var Xe=0;return this.each(function(){++Xe}),Xe},empty:function(){return!this.node()},each:function(Xe){for(var Mt=this._groups,Nt=0,Dn=Mt.length;Nt<Dn;++Nt)for(var zn,Vn=Mt[Nt],Qn=0,bn=Vn.length;Qn<bn;++Qn)(zn=Vn[Qn])&&Xe.call(zn,zn.__data__,Qn,Vn);return this},attr:function(Xe,Mt){var Nt=P(Xe);if(arguments.length<2){var Dn=this.node();return Nt.local?Dn.getAttributeNS(Nt.space,Nt.local):Dn.getAttribute(Nt)}return this.each((null==Mt?Nt.local?On:on:"function"==typeof Mt?Nt.local?Gr:cn:Nt.local?Kt:Cn)(Nt,Mt))},style:function(Xe,Mt,Nt){return arguments.length>1?this.each((null==Mt?Vt:"function"==typeof Mt?Bt:Ln)(Xe,Mt,null==Nt?"":Nt)):nt(this.node(),Xe)},property:function(Xe,Mt){return arguments.length>1?this.each((null==Mt?Et:"function"==typeof Mt?an:zt)(Xe,Mt)):this.node()[Xe]},classed:function(Xe,Mt){var Nt=xr(Xe+"");if(arguments.length<2){for(var Dn=Tn(this.node()),Vn=-1,Qn=Nt.length;++Vn<Qn;)if(!Dn.contains(Nt[Vn]))return!1;return!0}return this.each(("function"==typeof Mt?Ss:Mt?mr:ni)(Nt,Mt))},text:function(Xe){return arguments.length?this.each(null==Xe?Pt:("function"==typeof Xe?Ur:wr)(Xe)):this.node().textContent},html:function(Xe){return arguments.length?this.each(null==Xe?vs:("function"==typeof Xe?iu:or)(Xe)):this.node().innerHTML},raise:function(){return this.each(ia)},lower:function(){return this.each(Bl)},append:function(Xe){var Mt="function"==typeof Xe?Xe:B(Xe);return this.select(function(){return this.appendChild(Mt.apply(this,arguments))})},insert:function(Xe,Mt){var Nt="function"==typeof Xe?Xe:B(Xe),Dn=null==Mt?Lr:"function"==typeof Mt?Mt:W(Mt);return this.select(function(){return this.insertBefore(Nt.apply(this,arguments),Dn.apply(this,arguments)||null)})},remove:function(){return this.each(wu)},clone:function(Xe){return this.select(Xe?ho:$e)},datum:function(Xe){return arguments.length?this.property("__data__",Xe):this.node().__data__},on:function(Xe,Mt,Nt){var Vn,bn,Dn=Pr(Xe+""),Qn=Dn.length;if(!(arguments.length<2)){for(zn=Mt?Os:sa,null==Nt&&(Nt=!1),Vn=0;Vn<Qn;++Vn)this.each(zn(Dn[Vn],Mt,Nt));return this}var zn=this.node().__on;if(zn)for(var qt,dr=0,zr=zn.length;dr<zr;++dr)for(Vn=0,qt=zn[dr];Vn<Qn;++Vn)if((bn=Dn[Vn]).type===qt.type&&bn.name===qt.name)return qt.value},dispatch:function(Xe,Mt){return this.each(("function"==typeof Mt?_s:Ta)(Xe,Mt))}};const Ts=ja;function Da(Xe){return"string"==typeof Xe?new Jr([[document.querySelector(Xe)]],[document.documentElement]):new Jr([[Xe]],As)}function ka(Xe){return Da(B(Xe).call(document.documentElement))}var Mr=0;function oc(){return new ur}function ur(){this._="@"+(++Mr).toString(36)}function Ju(){for(var Mt,Xe=Kr;Mt=Xe.sourceEvent;)Xe=Mt;return Xe}function Ws(Xe,Mt){var Nt=Xe.ownerSVGElement||Xe;if(Nt.createSVGPoint){var Dn=Nt.createSVGPoint();return Dn.x=Mt.clientX,Dn.y=Mt.clientY,[(Dn=Dn.matrixTransform(Xe.getScreenCTM().inverse())).x,Dn.y]}var Vn=Xe.getBoundingClientRect();return[Mt.clientX-Vn.left-Xe.clientLeft,Mt.clientY-Vn.top-Xe.clientTop]}function Wi(Xe){var Mt=Ju();return Mt.changedTouches&&(Mt=Mt.changedTouches[0]),Ws(Xe,Mt)}function Jc(Xe){return"string"==typeof Xe?new Jr([document.querySelectorAll(Xe)],[document.documentElement]):new Jr([null==Xe?[]:Xe],As)}function uc(Xe,Mt,Nt){arguments.length<3&&(Nt=Mt,Mt=Ju().changedTouches);for(var Qn,Dn=0,Vn=Mt?Mt.length:0;Dn<Vn;++Dn)if((Qn=Mt[Dn]).identifier===Nt)return Ws(Xe,Qn);return null}function lc(Xe,Mt){null==Mt&&(Mt=Ju().touches);for(var Nt=0,Dn=Mt?Mt.length:0,Vn=new Array(Dn);Nt<Dn;++Nt)Vn[Nt]=Ws(Xe,Mt[Nt]);return Vn}ur.prototype=oc.prototype={constructor:ur,get:function(Xe){for(var Mt=this._;!(Mt in Xe);)if(!(Xe=Xe.parentNode))return;return Xe[Mt]},set:function(Xe,Mt){return Xe[this._]=Mt},remove:function(Xe){return this._ in Xe&&delete Xe[this._]},toString:function(){return this._}}},5439:be=>{"use strict";be.exports=function ie(v,$){if(v===$)return!0;if(v&&$&&"object"==typeof v&&"object"==typeof $){if(v.constructor!==$.constructor)return!1;var S,P,I;if(Array.isArray(v)){if((S=v.length)!=$.length)return!1;for(P=S;0!=P--;)if(!ie(v[P],$[P]))return!1;return!0}if(v.constructor===RegExp)return v.source===$.source&&v.flags===$.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===$.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===$.toString();if((S=(I=Object.keys(v)).length)!==Object.keys($).length)return!1;for(P=S;0!=P--;)if(!Object.prototype.hasOwnProperty.call($,I[P]))return!1;for(P=S;0!=P--;){var N=I[P];if(!ie(v[N],$[N]))return!1}return!0}return v!=v&&$!=$}},3324:be=>{"use strict";be.exports=function(ie,v){v||(v={}),"function"==typeof v&&(v={cmp:v});var I,$="boolean"==typeof v.cycles&&v.cycles,S=v.cmp&&(I=v.cmp,function(N){return function(B,R){return I({key:B,value:N[B]},{key:R,value:N[R]})}}),P=[];return function I(N){if(N&&N.toJSON&&"function"==typeof N.toJSON&&(N=N.toJSON()),void 0!==N){if("number"==typeof N)return isFinite(N)?""+N:"null";if("object"!=typeof N)return JSON.stringify(N);var B,R;if(Array.isArray(N)){for(R="[",B=0;B<N.length;B++)B&&(R+=","),R+=I(N[B])||"null";return R+"]"}if(null===N)return"null";if(-1!==P.indexOf(N)){if($)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var W=P.push(N)-1,F=Object.keys(N).sort(S&&S(N));for(R="",B=0;B<F.length;B++){var U=F[B],G=I(N[U]);!G||(R&&(R+=","),R+=JSON.stringify(U)+":"+G)}return P.splice(W,1),"{"+R+"}"}}(ie)}},391:be=>{"use strict";var ie=/-(.)/g;be.exports=function($){return $.replace(ie,function(S,P){return P.toUpperCase()})}},5476:(be,ie,v)=>{"use strict";var $=v(391),S=/^-ms-/;be.exports=function(I){return $(I.replace(S,"ms-"))}},2409:be=>{"use strict";function ie($){return function(){return $}}var v=function(){};v.thatReturns=ie,v.thatReturnsFalse=ie(!1),v.thatReturnsTrue=ie(!0),v.thatReturnsNull=ie(null),v.thatReturnsThis=function(){return this},v.thatReturnsArgument=function($){return $},be.exports=v},2757:be=>{"use strict";var ie=/([A-Z])/g;be.exports=function($){return $.replace(ie,"-$1").toLowerCase()}},4064:(be,ie,v)=>{"use strict";var $=v(2757),S=/^ms-/;be.exports=function(I){return $(I).replace(S,"-ms-")}},2246:be=>{"use strict";be.exports=function(v){var $={};return function(S){return $.hasOwnProperty(S)||($[S]=v.call(this,S)),$[S]}}},3743:(be,ie,v)=>{"use strict";var $=v(2409);be.exports=$},6404:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});var v={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S=["Webkit","ms","Moz","O"];Object.keys(v).forEach(function(N){S.forEach(function(B){v[function(N,B){return N+B.charAt(0).toUpperCase()+B.substring(1)}(B,N)]=v[N]})}),ie.default={isUnitlessNumber:v,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},5728:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});var S=N(v(6404));function N(F){return F&&F.__esModule?F:{default:F}}N(v(3743));var B=S.default.isUnitlessNumber;ie.default=function(F,U,G){return null==U||"boolean"==typeof U||""===U?"":isNaN(U)||0===U||B.hasOwnProperty(F)&&B[F]?""+U:("string"==typeof U&&(U=U.trim()),U+"px")}},7554:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.processStyleName=void 0,ie.createMarkupForStyles=function(Se,re){var Re="";for(var Be in Se){var Pe=0===Be.indexOf("--");if(Se.hasOwnProperty(Be)&&"label"!==Be){var Ke=Se[Be];null!=Ke&&(Pe?Re+=Be+":"+Ke+";":(Re+=K(Be)+":",Re+=(0,I.default)(Be,Ke,re)+";"))}}return Re||null},G(v(5476));var I=G(v(5728)),B=G(v(4064)),W=G(v(2246));function G(Se){return Se&&Se.__esModule?Se:{default:Se}}G(v(3743));var K=ie.processStyleName=(0,W.default)(B.default)},1305:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};function I(N){return Array.isArray(N)?function(N){var B=!1,R=[];return N.forEach(function(W){var F=I(W);(null===F||F!==W)&&(B=!0),null!==F&&R.push(F)}),0==R.length?null:B?R:N}(N):function(N){if(function(N){return null==N||!1===N||"object"===(void 0===N?"undefined":v(N))&&0===Object.keys(N).length}(N))return null;if("object"!==(void 0===N?"undefined":v(N)))return N;for(var B={},R=Object.keys(N),W=!1,F=0;F<R.length;F++){var U=N[R[F]],G=I(U);(null===G||G!==U)&&(W=!0),null!==G&&(B[R[F]]=G)}return 0===Object.keys(B).length?null:W?B:N}(N)}ie.default=I},7480:(be,ie)=>{"use strict";function $(I,N){return I.charCodeAt(N++)+(I.charCodeAt(N++)<<8)+(I.charCodeAt(N++)<<16)+(I.charCodeAt(N)<<24)}function S(I,N){return I.charCodeAt(N++)+(I.charCodeAt(N++)<<8)}function P(I,N){return(65535&(I|=0))*(N|=0)+(((I>>>16)*N&65535)<<16)|0}Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(I,N){for(var B=1540483477,W=N^I.length,F=I.length,U=0;F>=4;){var G=$(I,U);G=P(G,B),G=P(G^=G>>>24,B),W=P(W,B),W^=G,U+=4,F-=4}switch(F){case 3:W^=S(I,U),W=P(W^=I.charCodeAt(U+2)<<16,B);break;case 2:W=P(W^=S(I,U),B);break;case 1:W=P(W^=I.charCodeAt(U),B)}return W=P(W^=W>>>13,B),(W^=W>>>15)>>>0}},5357:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.compose=ie.merge=ie.$=ie.style=ie.presets=ie.keyframes=ie.fontFace=ie.insertGlobal=ie.insertRule=ie.plugins=ie.styleSheet=void 0,ie.speedy=function(Oe){return J.speedy(Oe)},ie.simulations=function(){var Oe=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ze=!!Oe},ie.simulate=function(){for(var Oe=arguments.length,ot=Array(Oe),Ft=0;Ft<Oe;Ft++)ot[Ft]=arguments[Ft];return(ot=(0,B.default)(ot))?ze?ot.reduce(function(fn,wn){return fn["data-simulate-"+re(wn)]="",fn},{}):(et||(console.warn("can't simulate without once calling simulations(true)"),et=!0),!Te&&(console.warn("don't use simulation outside dev"),Te=!0),{}):{}},ie.cssLabels=function(Oe){we=!!Oe},ie.isLikeRule=Be,ie.idFor=Pe,ie.css=mr,ie.rehydrate=function(Oe){(0,S.default)($t,Oe.reduce(function(ot,Ft){return ot[Ft]=!0,ot},{}))},ie.flush=function(){$t=J.inserted={},On=J.registered={},cn={},J.flush(),J.inject()},ie.select=Aa,ie.parent=function(Oe){for(var ot=arguments.length,Ft=Array(ot>1?ot-1:0),fn=1;fn<ot;fn++)Ft[fn-1]=arguments[fn];return mr(K({},Oe+" &",Ft))},ie.media=function(Oe){for(var ot=arguments.length,Ft=Array(ot>1?ot-1:0),fn=1;fn<ot;fn++)Ft[fn-1]=arguments[fn];return mr(K({},"@media "+Oe,Ft))},ie.pseudo=Lr,ie.active=function(Oe){return Lr(":active",Oe)},ie.any=function(Oe){return Lr(":any",Oe)},ie.checked=function(Oe){return Lr(":checked",Oe)},ie.disabled=function(Oe){return Lr(":disabled",Oe)},ie.empty=function(Oe){return Lr(":empty",Oe)},ie.enabled=function(Oe){return Lr(":enabled",Oe)},ie._default=function(Oe){return Lr(":default",Oe)},ie.first=function(Oe){return Lr(":first",Oe)},ie.firstChild=function(Oe){return Lr(":first-child",Oe)},ie.firstOfType=function(Oe){return Lr(":first-of-type",Oe)},ie.fullscreen=function(Oe){return Lr(":fullscreen",Oe)},ie.focus=function(Oe){return Lr(":focus",Oe)},ie.hover=function(Oe){return Lr(":hover",Oe)},ie.indeterminate=function(Oe){return Lr(":indeterminate",Oe)},ie.inRange=function(Oe){return Lr(":in-range",Oe)},ie.invalid=function(Oe){return Lr(":invalid",Oe)},ie.lastChild=function(Oe){return Lr(":last-child",Oe)},ie.lastOfType=function(Oe){return Lr(":last-of-type",Oe)},ie.left=function(Oe){return Lr(":left",Oe)},ie.link=function(Oe){return Lr(":link",Oe)},ie.onlyChild=function(Oe){return Lr(":only-child",Oe)},ie.onlyOfType=function(Oe){return Lr(":only-of-type",Oe)},ie.optional=function(Oe){return Lr(":optional",Oe)},ie.outOfRange=function(Oe){return Lr(":out-of-range",Oe)},ie.readOnly=function(Oe){return Lr(":read-only",Oe)},ie.readWrite=function(Oe){return Lr(":read-write",Oe)},ie.required=function(Oe){return Lr(":required",Oe)},ie.right=function(Oe){return Lr(":right",Oe)},ie.root=function(Oe){return Lr(":root",Oe)},ie.scope=function(Oe){return Lr(":scope",Oe)},ie.target=function(Oe){return Lr(":target",Oe)},ie.valid=function(Oe){return Lr(":valid",Oe)},ie.visited=function(Oe){return Lr(":visited",Oe)},ie.dir=function(Oe,ot){return Lr(":dir("+Oe+")",ot)},ie.lang=function(Oe,ot){return Lr(":lang("+Oe+")",ot)},ie.not=function(Oe,ot){var Ft=Oe.split(",").map(function(fn){return fn.trim()}).map(function(fn){return":not("+fn+")"});return 1===Ft.length?Lr(":not("+Oe+")",ot):Aa(Ft.join(""),ot)},ie.nthChild=function(Oe,ot){return Lr(":nth-child("+Oe+")",ot)},ie.nthLastChild=function(Oe,ot){return Lr(":nth-last-child("+Oe+")",ot)},ie.nthLastOfType=function(Oe,ot){return Lr(":nth-last-of-type("+Oe+")",ot)},ie.nthOfType=function(Oe,ot){return Lr(":nth-of-type("+Oe+")",ot)},ie.after=function(Oe){return Lr("::after",Oe)},ie.before=function(Oe){return Lr("::before",Oe)},ie.firstLetter=function(Oe){return Lr("::first-letter",Oe)},ie.firstLine=function(Oe){return Lr("::first-line",Oe)},ie.selection=function(Oe){return Lr("::selection",Oe)},ie.backdrop=function(Oe){return Lr("::backdrop",Oe)},ie.placeholder=function(Oe){return mr({"::placeholder":Oe})},ie.cssFor=function(){for(var Oe=arguments.length,ot=Array(Oe),Ft=0;Ft<Oe;Ft++)ot[Ft]=arguments[Ft];return(ot=(0,B.default)(ot))?ot.map(function(fn){var wn={label:[]};return an(wn,{src:fn}),kt(Re(wn),ft(wn)).join("")}).join(""):""},ie.attribsFor=function(){for(var Oe=arguments.length,ot=Array(Oe),Ft=0;Ft<Oe;Ft++)ot[Ft]=arguments[Ft];var fn=(ot=(0,B.default)(ot))?ot.map(function(wn){Pe(wn);var lr=Object.keys(wn)[0];return lr+'="'+(wn[lr]||"")+'"'}).join(" "):"";return fn};var S=U(v(8228)),P=v(1420),I=v(7554),B=U(v(1305)),R=v(8701),F=U(v(7480));function U(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}function K(Oe,ot,Ft){return ot in Oe?Object.defineProperty(Oe,ot,{value:Ft,enumerable:!0,configurable:!0,writable:!0}):Oe[ot]=Ft,Oe}var J=ie.styleSheet=new P.StyleSheet;J.inject();var ce=ie.plugins=J.plugins=new R.PluginSet([R.prefixes,R.contentWrap,R.fallbacks]);ce.media=new R.PluginSet,ce.fontFace=new R.PluginSet,ce.keyframes=new R.PluginSet([R.prefixes,R.fallbacks]);var Ie="undefined"!=typeof window,ze=false,et=!1,Te=!1,we=false;function re(Oe){var ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Oe.toLowerCase().replace(/[^a-z0-9]/g,ot)}function Re(Oe){var ot=JSON.stringify(Oe);return(0,F.default)(ot).toString(36)}function Be(Oe){var ot=Object.keys(Oe).filter(function(Ft){return"toString"!==Ft});return 1===ot.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(ot[0])}function Pe(Oe){var ot=Object.keys(Oe).filter(function(wn){return"toString"!==wn});if(1!==ot.length)throw new Error("not a rule");var fn=/data\-css\-([a-zA-Z0-9\-_]+)/.exec(ot[0]);if(!fn)throw new Error("not a rule");return fn[1]}var Ke=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function Qe(Oe){if(-1===Oe.indexOf(","))return[Oe];for(var wn,ot=[],Ft=[],fn=0;wn=Ke.exec(Oe);)switch(wn[0]){case"(":fn++;break;case")":fn--;break;case",":if(fn)break;ot.push(wn.index)}for(wn=ot.length;wn--;)Ft.unshift(Oe.slice(ot[wn]+1)),Oe=Oe.slice(0,ot[wn]);return Ft.unshift(Oe),Ft}function rt(Oe,ot){if(!Oe)return ot.replace(/\&/g,"");if(!ot)return".css-"+Oe+",[data-css-"+Oe+"]";var Ft=Qe(ot).map(function(fn){return fn.indexOf("&")>=0?[fn.replace(/\&/gm,".css-"+Oe),fn.replace(/\&/gm,"[data-css-"+Oe+"]")].join(","):".css-"+Oe+fn+",[data-css-"+Oe+"]"+fn}).join(",");return ze&&/^\&\:/.exec(ot)&&!/\s/.exec(ot)&&(Ft+=",.css-"+Oe+"[data-simulate-"+re(ot)+"],[data-css-"+Oe+"][data-simulate-"+re(ot)+"]"),Ft}function st(Oe){var fn=ce.transform({selector:Oe.selector,style:Oe.style});return fn.selector+"{"+(0,I.createMarkupForStyles)(fn.style)+"}"}function ft(Oe){var ot=void 0,Ft=void 0,fn=void 0,wn=void 0;return Object.keys(Oe).forEach(function(lr){lr.indexOf("&")>=0?(Ft=Ft||{})[lr]=Oe[lr]:0===lr.indexOf("@media")?(fn=fn||{})[lr]=ft(Oe[lr]):0===lr.indexOf("@supports")?(wn=wn||{})[lr]=ft(Oe[lr]):"label"===lr?Oe.label.length>0&&((ot=ot||{}).label=we?Oe.label.join("."):""):(ot=ot||{})[lr]=Oe[lr]}),{plain:ot,selects:Ft,medias:fn,supports:wn}}function kt(Oe,ot){var Ft=[],fn=ot.plain,wn=ot.selects,lr=ot.medias,Vi=ot.supports;return fn&&Ft.push(st({style:fn,selector:rt(Oe)})),wn&&Object.keys(wn).forEach(function(xs){return Ft.push(st({style:wn[xs],selector:rt(Oe,xs)}))}),lr&&Object.keys(lr).forEach(function(xs){return Ft.push(xs+"{"+kt(Oe,lr[xs]).join("")+"}")}),Vi&&Object.keys(Vi).forEach(function(xs){return Ft.push(xs+"{"+kt(Oe,Vi[xs]).join("")+"}")}),Ft}var $t=J.inserted={},On=J.registered={};function Cn(Oe){On[Oe.id]||(On[Oe.id]=Oe)}var cn={};function Vt(Oe,ot){var Ft=Qe(Oe).map(function(wn){return wn.indexOf("&")>=0?wn:"&"+wn});return Qe(ot).map(function(wn){return wn.indexOf("&")>=0?wn:"&"+wn}).reduce(function(wn,lr){return wn.concat(Ft.map(function(Vi){return lr.replace(/\&/g,Vi)}))},[]).join(",")}function Ln(Oe,ot){return Oe?"@media "+Oe.substring(6)+" and "+ot.substring(6):ot}function nt(Oe,ot){return Oe?"@supports "+Oe.substring(9)+" and "+ot.substring(9):ot}function Et(Oe){for(var ot=[],Ft=0;Ft<Oe.length;Ft++)ot=Array.isArray(Oe[Ft])?ot.concat(Et(Oe[Ft])):ot.concat(Oe[Ft]);return ot}var zt={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function an(Oe,ot){var Ft=ot.selector,fn=void 0===Ft?"":Ft,wn=ot.mq,lr=void 0===wn?"":wn,Vi=ot.supp,xs=void 0===Vi?"":Vi,Ni=ot.src,Oi=void 0===Ni?{}:Ni;Array.isArray(Oi)||(Oi=[Oi]),(Oi=Et(Oi)).forEach(function(vn){if(Be(vn)){var Eu=function(Oe){if(Be(Oe)){var ot=On[Pe(Oe)];if(null==ot)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return ot}return Oe}(vn);if("css"!==Eu.type)throw new Error("cannot merge this rule");vn=Eu.style}(vn=(0,B.default)(vn))&&vn.composes&&an(Oe,{selector:fn,mq:lr,supp:xs,src:vn.composes}),Object.keys(vn||{}).forEach(function(ma){if(function(Oe){for(var ot=[":",".","[",">"," "],Ft=!1,fn=Oe.charAt(0),wn=0;wn<ot.length;wn++)if(fn===ot[wn]){Ft=!0;break}return Ft||Oe.indexOf("&")>=0}(ma))zt[ma]&&zt[ma].forEach(function(ht){return an(Oe,{selector:Vt(fn,ht),mq:lr,supp:xs,src:vn[ma]})}),an(Oe,{selector:Vt(fn,ma),mq:lr,supp:xs,src:vn[ma]});else if(function(Oe){return 0===Oe.indexOf("@media")}(ma))an(Oe,{selector:fn,mq:Ln(lr,ma),supp:xs,src:vn[ma]});else if(function(Oe){return 0===Oe.indexOf("@supports")}(ma))an(Oe,{selector:fn,mq:lr,supp:nt(xs,ma),src:vn[ma]});else if("composes"!==ma){var gr=Oe;xs&&(gr[xs]=gr[xs]||{},gr=gr[xs]),lr&&(gr[lr]=gr[lr]||{},gr=gr[lr]),fn&&(gr[fn]=gr[fn]||{},gr=gr[fn]),"label"===ma?we&&(Oe.label=Oe.label.concat(vn.label)):gr[ma]=vn[ma]}})})}function ar(Oe){var ot={label:[]};return an(ot,{src:Oe}),function(Oe){if(Cn(Oe),function(Oe){if(!$t[Oe.id]){$t[Oe.id]=!0;var ot=ft(Oe.style),Ft=kt(Oe.id,ot);$t[Oe.id]=!!Ie||Ft,Ft.forEach(function(fn){return J.insert(fn)})}}(Oe),cn[Oe.id])return cn[Oe.id];var ot=K({},"data-css-"+Oe.id,we&&Oe.label||"");return Object.defineProperty(ot,"toString",{enumerable:!1,value:function(){return"css-"+Oe.id}}),cn[Oe.id]=ot,ot}({id:Re(ot),style:ot,label:we?ot.label.join("."):"",type:"css"})}var xr={};Object.defineProperty(xr,"toString",{enumerable:!1,value:function(){return"css-nil"}});var Oe,Tn="undefined"!=typeof WeakMap?[xr,new WeakMap,new WeakMap,new WeakMap]:[xr],hi="undefined"!=typeof WeakMap?(Oe=ar,function(ot){if(Tn[ot.length]){for(var Ft=Tn[ot.length],fn=0;fn<ot.length-1;)Ft.has(ot[fn])||Ft.set(ot[fn],new WeakMap),Ft=Ft.get(ot[fn]),fn++;if(Ft.has(ot[ot.length-1])){var wn=Ft.get(ot[fn]);if(On[wn.toString().substring(4)])return wn}}var lr=Oe(ot);if(Tn[ot.length]){for(var Vi=0,xs=Tn[ot.length];Vi<ot.length-1;)xs=xs.get(ot[Vi]),Vi++;try{xs.set(ot[Vi],lr)}catch(Oi){}}return lr}):ar;function mr(){for(var Oe=arguments.length,ot=Array(Oe),Ft=0;Ft<Oe;Ft++)ot[Ft]=arguments[Ft];if(ot[0]&&ot[0].length&&ot[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return(ot=(0,B.default)(ot))?hi(ot):xr}ie.insertRule=mr.insert=function(Oe){var ot={id:Re(Oe),css:Oe,type:"raw"};Cn(ot),$t[ot.id]||(J.insert(ot.css),$t[ot.id]=!!Ie||[ot.css])},ie.insertGlobal=mr.global=function(Oe,ot){if(ot=(0,B.default)(ot))return mr.insert(st({selector:Oe,style:ot}))},mr.keyframes=function(Oe,ot){ot||(ot=Oe,Oe="animation");var Ft={id:Re({name:Oe,kfs:ot=(0,B.default)(ot)||{}}),type:"keyframes",name:Oe,keyframes:ot};return Cn(Ft),function(Oe){if(!$t[Oe.id]){var ot=Object.keys(Oe.keyframes).map(function(fn){var wn=ce.keyframes.transform({id:Oe.id,name:fn,style:Oe.keyframes[fn]});return wn.name+"{"+(0,I.createMarkupForStyles)(wn.style)+"}"}).join(""),Ft=["-webkit-","-moz-","-o-",""].map(function(fn){return"@"+fn+"keyframes "+Oe.name+"_"+Oe.id+"{"+ot+"}"});Ft.forEach(function(fn){return J.insert(fn)}),$t[Oe.id]=!!Ie||Ft}}(Ft),Oe+"_"+Ft.id},ie.fontFace=mr.fontFace=function(Oe){var ot={id:Re(Oe=(0,B.default)(Oe)),type:"font-face",font:Oe};return Cn(ot),function(Oe){if(!$t[Oe.id]){var ot="@font-face{"+(0,I.createMarkupForStyles)(Oe.font)+"}";J.insert(ot),$t[Oe.id]=!!Ie||[ot]}}(ot),Oe.fontFamily},ie.keyframes=mr.keyframes,ie.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var iu=ie.style=mr;function Aa(Oe){for(var ot=arguments.length,Ft=Array(ot>1?ot-1:0),fn=1;fn<ot;fn++)Ft[fn-1]=arguments[fn];return Oe?mr(K({},Oe,Ft)):iu(Ft)}function Lr(Oe){for(var ot=arguments.length,Ft=Array(ot>1?ot-1:0),fn=1;fn<ot;fn++)Ft[fn-1]=arguments[fn];return mr(K({},Oe,Ft))}ie.$=Aa,ie.merge=mr,ie.compose=mr},8701:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});var $=Object.assign||function(he){for(var ce=1;ce<arguments.length;ce++){var Ae=arguments[ce];for(var je in Ae)Object.prototype.hasOwnProperty.call(Ae,je)&&(he[je]=Ae[je])}return he};ie.PluginSet=F,ie.fallbacks=function(he){if(Object.keys(he.style).map(function(Ie){return Array.isArray(he.style[Ie])}).indexOf(!0)>=0){var Ae=he.style,je=Object.keys(Ae).reduce(function(Ie,ze){return Ie[ze]=Array.isArray(Ae[ze])?Ae[ze].join("; "+(0,I.processStyleName)(ze)+": "):Ae[ze],Ie},{});return(0,P.default)({},he,{style:je})}return he},ie.contentWrap=function(he){if(he.style.content){var ce=he.style.content;return G.indexOf(ce)>=0||/^(attr|calc|counters?|url)\(/.test(ce)||ce.charAt(0)===ce.charAt(ce.length-1)&&('"'===ce.charAt(0)||"'"===ce.charAt(0))?he:$({},he,{style:$({},he.style,{content:'"'+ce+'"'})})}return he},ie.prefixes=function(he){return(0,P.default)({},he,{style:(0,B.default)($({},he.style))})};var P=R(v(8228)),I=v(7554),B=R(v(474));function R(he){return he&&he.__esModule?he:{default:he}}function F(he){this.fns=he||[]}(0,P.default)(F.prototype,{add:function(){for(var ce=this,Ae=arguments.length,je=Array(Ae),Ie=0;Ie<Ae;Ie++)je[Ie]=arguments[Ie];je.forEach(function(ze){!(ce.fns.indexOf(ze)>=0)&&(ce.fns=[ze].concat(ce.fns))})},remove:function(ce){this.fns=this.fns.filter(function(Ae){return Ae!==ce})},clear:function(){this.fns=[]},transform:function(ce){return this.fns.reduce(function(Ae,je){return je(Ae)},ce)}});var G=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]},474:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(Qe){for(var rt in Qe){var ft=(0,B.default)(Be,rt,Qe[rt],Qe,Pe);ft&&(Qe[rt]=ft),(0,I.default)(Pe,rt,Qe)}return Qe};var S=Re(v(494)),I=Re(v(2982)),B=Re(v(7318)),W=Re(v(1044)),U=Re(v(6482)),K=Re(v(9603)),he=Re(v(1393)),Ae=Re(v(8927)),Ie=Re(v(9634)),et=Re(v(6963)),We=Re(v(2837)),we=Re(v(2303)),re=Re(v(3325));function Re(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}}var Be=[U.default,W.default,K.default,Ae.default,Ie.default,et.default,We.default,we.default,re.default,he.default],Pe=S.default.prefixMap},1420:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.StyleSheet=K;var J,S=(J=v(8228))&&J.__esModule?J:{default:J};function N(J){return J[J.length-1]}function B(J){if(J.sheet)return J.sheet;for(var he=0;he<document.styleSheets.length;he++)if(document.styleSheets[he].ownerNode===J)return document.styleSheets[he]}var R="undefined"!=typeof window,U=function(){if(R){var J=document.createElement("div");return J.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===J.getElementsByTagName("i").length}}();function G(){var J=document.createElement("style");return J.type="text/css",J.setAttribute("data-glamor",""),J.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(J),J}function K(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},he=J.speedy,ce=void 0===he||he,Ae=J.maxLength,je=void 0===Ae?R&&U?4e3:65e3:Ae;this.isSpeedy=ce,this.sheet=void 0,this.tags=[],this.maxLength=je,this.ctr=0}(0,S.default)(K.prototype,{getSheet:function(){return B(N(this.tags))},inject:function(){var he=this;if(this.injected)throw new Error("already injected stylesheet!");R?this.tags[0]=G():this.sheet={cssRules:[],insertRule:function(Ae){he.sheet.cssRules.push({cssText:Ae})}},this.injected=!0},speedy:function(he){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+he+") earlier in your app, or call flush() before speedy("+he+")");this.isSpeedy=!!he},_insert:function(he){try{var ce=this.getSheet();ce.insertRule(he,-1!==he.indexOf("@import")?0:ce.cssRules.length)}catch(Ae){}},insert:function(he){if(R)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(he);else if(-1!==he.indexOf("@import")){var ce=N(this.tags);ce.insertBefore(document.createTextNode(he),ce.firstChild)}else N(this.tags).appendChild(document.createTextNode(he));else this.sheet.insertRule(he,-1!==he.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,R&&this.ctr%this.maxLength==0&&this.tags.push(G()),this.ctr-1},delete:function(he){return this.replace(he,"")},flush:function(){R?(this.tags.forEach(function(he){return he.parentNode.removeChild(he)}),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!R)return this.sheet.cssRules;var he=[];return this.tags.forEach(function(ce){return he.splice.apply(he,[he.length,0].concat(function(J){if(Array.isArray(J)){for(var he=0,ce=Array(J.length);he<J.length;he++)ce[he]=J[he];return ce}return Array.from(J)}(Array.from(B(ce).cssRules))))}),he}})},8005:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{default:()=>B});var $=/[A-Z]/g,S=/^ms-/,P={};function I(R){return"-"+R.toLowerCase()}const B=function(R){if(P.hasOwnProperty(R))return P[R];var W=R.replace($,I);return P[R]=S.test(W)?"-"+W:W}},6482:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(B,R){if("string"==typeof R&&!(0,S.default)(R)&&R.indexOf("cross-fade(")>-1)return I.map(function(W){return R.replace(/cross-fade\(/g,W+"cross-fade(")})};var B,S=(B=v(9797))&&B.__esModule?B:{default:B},I=["-webkit-",""];be.exports=ie.default},1044:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(P,I){if("cursor"===P&&$.hasOwnProperty(I))return v.map(function(N){return N+I})};var v=["-webkit-","-moz-",""],$={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};be.exports=ie.default},9603:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(B,R){if("string"==typeof R&&!(0,S.default)(R)&&R.indexOf("filter(")>-1)return I.map(function(W){return R.replace(/filter\(/g,W+"filter(")})};var B,S=(B=v(9797))&&B.__esModule?B:{default:B},I=["-webkit-",""];be.exports=ie.default},1393:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(S,P){if("display"===S&&v.hasOwnProperty(P))return v[P]};var v={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};be.exports=ie.default},8927:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(P,I,N){"flexDirection"===P&&"string"==typeof I&&(N.WebkitBoxOrient=I.indexOf("column")>-1?"vertical":"horizontal",N.WebkitBoxDirection=I.indexOf("reverse")>-1?"reverse":"normal"),$.hasOwnProperty(P)&&(N[$[P]]=v[I]||I)};var v={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},$={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};be.exports=ie.default},9634:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(R,W){if("string"==typeof W&&!(0,S.default)(W)&&N.test(W))return I.map(function(F){return F+W})};var R,S=(R=v(9797))&&R.__esModule?R:{default:R},I=["-webkit-","-moz-",""],N=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;be.exports=ie.default},6963:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(B,R){if("string"==typeof R&&!(0,S.default)(R)&&R.indexOf("image-set(")>-1)return I.map(function(W){return R.replace(/image-set\(/g,W+"image-set(")})};var B,S=(B=v(9797))&&B.__esModule?B:{default:B},I=["-webkit-",""];be.exports=ie.default},2837:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function($,S){if("position"===$&&"sticky"===S)return["-webkit-sticky","sticky"]},be.exports=ie.default},2303:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(I,N){if($.hasOwnProperty(I)&&S.hasOwnProperty(N))return v.map(function(B){return B+N})};var v=["-webkit-","-moz-",""],$={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},S={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};be.exports=ie.default},3325:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(K,J,he,ce){if("string"==typeof J&&W.hasOwnProperty(K)){var Ae=function(K,J){if((0,I.default)(K))return K;for(var he=K.split(/,(?![^()]*(?:\([^()]*\))?\))/g),ce=0,Ae=he.length;ce<Ae;++ce){var je=he[ce],Ie=[je];for(var ze in J){var et=(0,S.default)(ze);if(je.indexOf(et)>-1&&"order"!==et)for(var Te=J[ze],We=0,ge=Te.length;We<ge;++We)Ie.unshift(je.replace(et,F[Te[We]]+et))}he[ce]=Ie.join(",")}return he.join(",")}(J,ce),je=Ae.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(ze){return!/-moz-|-ms-/.test(ze)}).join(",");if(K.indexOf("Webkit")>-1)return je;var Ie=Ae.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(ze){return!/-webkit-|-ms-/.test(ze)}).join(",");return K.indexOf("Moz")>-1?Ie:(he["Webkit"+(0,B.default)(K)]=je,he["Moz"+(0,B.default)(K)]=Ie,Ae)}};var S=R(v(1580)),I=R(v(9797)),B=R(v(6917));function R(K){return K&&K.__esModule?K:{default:K}}var W={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},F={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};be.exports=ie.default},494:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});var v=["Webkit"],$=["Moz"],S=["ms"],P=["Webkit","Moz"],I=["Webkit","ms"],N=["Webkit","Moz","ms"];ie.default={plugins:[],prefixMap:{appearance:P,userSelect:N,textEmphasisPosition:v,textEmphasis:v,textEmphasisStyle:v,textEmphasisColor:v,boxDecorationBreak:v,clipPath:v,maskImage:v,maskMode:v,maskRepeat:v,maskPosition:v,maskClip:v,maskOrigin:v,maskSize:v,maskComposite:v,mask:v,maskBorderSource:v,maskBorderMode:v,maskBorderSlice:v,maskBorderWidth:v,maskBorderOutset:v,maskBorderRepeat:v,maskBorder:v,maskType:v,textDecorationStyle:v,textDecorationSkip:v,textDecorationLine:v,textDecorationColor:v,filter:v,fontFeatureSettings:v,breakAfter:N,breakBefore:N,breakInside:N,columnCount:P,columnFill:P,columnGap:P,columnRule:P,columnRuleColor:P,columnRuleStyle:P,columnRuleWidth:P,columns:P,columnSpan:P,columnWidth:P,writingMode:I,flex:v,flexBasis:v,flexDirection:v,flexGrow:v,flexFlow:v,flexShrink:v,flexWrap:v,alignContent:v,alignItems:v,alignSelf:v,justifyContent:v,order:v,transform:v,transformOrigin:v,transformOriginX:v,transformOriginY:v,backfaceVisibility:v,perspective:v,perspectiveOrigin:v,transformStyle:v,transformOriginZ:v,animation:v,animationDelay:v,animationDirection:v,animationFillMode:v,animationDuration:v,animationIterationCount:v,animationName:v,animationPlayState:v,animationTimingFunction:v,backdropFilter:v,fontKerning:v,scrollSnapType:I,scrollSnapPointsX:I,scrollSnapPointsY:I,scrollSnapDestination:I,scrollSnapCoordinate:I,shapeImageThreshold:v,shapeImageMargin:v,shapeImageOutside:v,hyphens:N,flowInto:I,flowFrom:I,regionFragment:I,textAlignLast:$,tabSize:$,wrapFlow:S,wrapThrough:S,wrapMargin:S,gridTemplateColumns:S,gridTemplateRows:S,gridTemplateAreas:S,gridTemplate:S,gridAutoColumns:S,gridAutoRows:S,gridAutoFlow:S,grid:S,gridRowStart:S,gridColumnStart:S,gridRowEnd:S,gridRow:S,gridColumn:S,gridColumnEnd:S,gridColumnGap:S,gridRowGap:S,gridArea:S,gridGap:S,textSizeAdjust:I,borderImage:v,borderImageOutset:v,borderImageRepeat:v,borderImageSlice:v,borderImageSource:v,borderImageWidth:v,transitionDelay:v,transitionDuration:v,transitionProperty:v,transitionTimingFunction:v}},be.exports=ie.default},6917:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function($){return $.charAt(0).toUpperCase()+$.slice(1)},be.exports=ie.default},2982:(be,ie,v)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(N,B,R){if(N.hasOwnProperty(B))for(var W=N[B],F=0,U=W.length;F<U;++F)R[W[F]+(0,S.default)(B)]=R[B]};var N,S=(N=v(6917))&&N.__esModule?N:{default:N};be.exports=ie.default},7318:(be,ie)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function($,S,P,I,N){for(var B=0,R=$.length;B<R;++B){var W=$[B](S,P,I,N);if(W)return W}},be.exports=ie.default},7080:be=>{be.exports=v;var ie=null;try{ie=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Se){}function v(Se,re,Re){this.low=0|Se,this.high=0|re,this.unsigned=!!Re}function $(Se){return!0===(Se&&Se.__isLong__)}Object.defineProperty(v.prototype,"__isLong__",{value:!0}),v.isLong=$;var S={},P={};function I(Se,re){var Re,Be,Pe;return re?(Pe=0<=(Se>>>=0)&&Se<256)&&(Be=P[Se])?Be:(Re=B(Se,(0|Se)<0?-1:0,!0),Pe&&(P[Se]=Re),Re):(Pe=-128<=(Se|=0)&&Se<128)&&(Be=S[Se])?Be:(Re=B(Se,Se<0?-1:0,!1),Pe&&(S[Se]=Re),Re)}function N(Se,re){if(isNaN(Se))return re?je:Ae;if(re){if(Se<0)return je;if(Se>=J)return We}else{if(Se<=-he)return ge;if(Se+1>=he)return Te}return Se<0?N(-Se,re).neg():B(Se%K|0,Se/K|0,re)}function B(Se,re,Re){return new v(Se,re,Re)}v.fromInt=I,v.fromNumber=N,v.fromBits=B;var R=Math.pow;function W(Se,re,Re){if(0===Se.length)throw Error("empty string");if("NaN"===Se||"Infinity"===Se||"+Infinity"===Se||"-Infinity"===Se)return Ae;if("number"==typeof re?(Re=re,re=!1):re=!!re,(Re=Re||10)<2||36<Re)throw RangeError("radix");var Be;if((Be=Se.indexOf("-"))>0)throw Error("interior hyphen");if(0===Be)return W(Se.substring(1),re,Re).neg();for(var Pe=N(R(Re,8)),Ke=Ae,Qe=0;Qe<Se.length;Qe+=8){var rt=Math.min(8,Se.length-Qe),st=parseInt(Se.substring(Qe,Qe+rt),Re);if(rt<8){var ft=N(R(Re,rt));Ke=Ke.mul(ft).add(N(st))}else Ke=(Ke=Ke.mul(Pe)).add(N(st))}return Ke.unsigned=re,Ke}function F(Se,re){return"number"==typeof Se?N(Se,re):"string"==typeof Se?W(Se,re):B(Se.low,Se.high,"boolean"==typeof re?re:Se.unsigned)}v.fromString=W,v.fromValue=F;var K=4294967296,J=K*K,he=J/2,ce=I(1<<24),Ae=I(0);v.ZERO=Ae;var je=I(0,!0);v.UZERO=je;var Ie=I(1);v.ONE=Ie;var ze=I(1,!0);v.UONE=ze;var et=I(-1);v.NEG_ONE=et;var Te=B(-1,2147483647,!1);v.MAX_VALUE=Te;var We=B(-1,-1,!0);v.MAX_UNSIGNED_VALUE=We;var ge=B(0,-2147483648,!1);v.MIN_VALUE=ge;var we=v.prototype;we.toInt=function(){return this.unsigned?this.low>>>0:this.low},we.toNumber=function(){return this.unsigned?(this.high>>>0)*K+(this.low>>>0):this.high*K+(this.low>>>0)},we.toString=function(re){if((re=re||10)<2||36<re)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ge)){var Re=N(re),Be=this.div(Re),Pe=Be.mul(Re).sub(this);return Be.toString(re)+Pe.toInt().toString(re)}return"-"+this.neg().toString(re)}for(var Ke=N(R(re,6),this.unsigned),Qe=this,rt="";;){var st=Qe.div(Ke),kt=(Qe.sub(st.mul(Ke)).toInt()>>>0).toString(re);if((Qe=st).isZero())return kt+rt;for(;kt.length<6;)kt="0"+kt;rt=""+kt+rt}},we.getHighBits=function(){return this.high},we.getHighBitsUnsigned=function(){return this.high>>>0},we.getLowBits=function(){return this.low},we.getLowBitsUnsigned=function(){return this.low>>>0},we.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ge)?64:this.neg().getNumBitsAbs();for(var re=0!=this.high?this.high:this.low,Re=31;Re>0&&0==(re&1<<Re);Re--);return 0!=this.high?Re+33:Re+1},we.isZero=function(){return 0===this.high&&0===this.low},we.eqz=we.isZero,we.isNegative=function(){return!this.unsigned&&this.high<0},we.isPositive=function(){return this.unsigned||this.high>=0},we.isOdd=function(){return 1==(1&this.low)},we.isEven=function(){return 0==(1&this.low)},we.equals=function(re){return $(re)||(re=F(re)),(this.unsigned===re.unsigned||this.high>>>31!=1||re.high>>>31!=1)&&this.high===re.high&&this.low===re.low},we.eq=we.equals,we.notEquals=function(re){return!this.eq(re)},we.neq=we.notEquals,we.ne=we.notEquals,we.lessThan=function(re){return this.comp(re)<0},we.lt=we.lessThan,we.lessThanOrEqual=function(re){return this.comp(re)<=0},we.lte=we.lessThanOrEqual,we.le=we.lessThanOrEqual,we.greaterThan=function(re){return this.comp(re)>0},we.gt=we.greaterThan,we.greaterThanOrEqual=function(re){return this.comp(re)>=0},we.gte=we.greaterThanOrEqual,we.ge=we.greaterThanOrEqual,we.compare=function(re){if($(re)||(re=F(re)),this.eq(re))return 0;var Re=this.isNegative(),Be=re.isNegative();return Re&&!Be?-1:!Re&&Be?1:this.unsigned?re.high>>>0>this.high>>>0||re.high===this.high&&re.low>>>0>this.low>>>0?-1:1:this.sub(re).isNegative()?-1:1},we.comp=we.compare,we.negate=function(){return!this.unsigned&&this.eq(ge)?ge:this.not().add(Ie)},we.neg=we.negate,we.add=function(re){$(re)||(re=F(re));var kt=0,$t=0,on=0,On=0;return on+=(On+=(65535&this.low)+(65535&re.low))>>>16,$t+=(on+=(this.low>>>16)+(re.low>>>16))>>>16,kt+=($t+=(65535&this.high)+(65535&re.high))>>>16,kt+=(this.high>>>16)+(re.high>>>16),B((on&=65535)<<16|(On&=65535),(kt&=65535)<<16|($t&=65535),this.unsigned)},we.subtract=function(re){return $(re)||(re=F(re)),this.add(re.neg())},we.sub=we.subtract,we.multiply=function(re){if(this.isZero())return Ae;if($(re)||(re=F(re)),ie)return B(ie.mul(this.low,this.high,re.low,re.high),ie.get_high(),this.unsigned);if(re.isZero())return Ae;if(this.eq(ge))return re.isOdd()?ge:Ae;if(re.eq(ge))return this.isOdd()?ge:Ae;if(this.isNegative())return re.isNegative()?this.neg().mul(re.neg()):this.neg().mul(re).neg();if(re.isNegative())return this.mul(re.neg()).neg();if(this.lt(ce)&&re.lt(ce))return N(this.toNumber()*re.toNumber(),this.unsigned);var Pe=65535&this.high,Ke=this.low>>>16,Qe=65535&this.low,st=65535&re.high,ft=re.low>>>16,kt=65535&re.low,$t=0,on=0,On=0,Cn=0;return On+=(Cn+=Qe*kt)>>>16,on+=(On+=Ke*kt)>>>16,On&=65535,on+=(On+=Qe*ft)>>>16,$t+=(on+=Pe*kt)>>>16,on&=65535,$t+=(on+=Ke*ft)>>>16,on&=65535,$t+=(on+=Qe*st)>>>16,$t+=(this.high>>>16)*kt+Pe*ft+Ke*st+Qe*(re.high>>>16),B((On&=65535)<<16|(Cn&=65535),($t&=65535)<<16|(on&=65535),this.unsigned)},we.mul=we.multiply,we.divide=function(re){if($(re)||(re=F(re)),re.isZero())throw Error("division by zero");var Be,Pe,Ke;if(ie)return this.unsigned||-2147483648!==this.high||-1!==re.low||-1!==re.high?B((this.unsigned?ie.div_u:ie.div_s)(this.low,this.high,re.low,re.high),ie.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?je:Ae;if(this.unsigned){if(re.unsigned||(re=re.toUnsigned()),re.gt(this))return je;if(re.gt(this.shru(1)))return ze;Ke=je}else{if(this.eq(ge))return re.eq(Ie)||re.eq(et)?ge:re.eq(ge)?Ie:(Be=this.shr(1).div(re).shl(1)).eq(Ae)?re.isNegative()?Ie:et:(Pe=this.sub(re.mul(Be)),Ke=Be.add(Pe.div(re)));if(re.eq(ge))return this.unsigned?je:Ae;if(this.isNegative())return re.isNegative()?this.neg().div(re.neg()):this.neg().div(re).neg();if(re.isNegative())return this.div(re.neg()).neg();Ke=Ae}for(Pe=this;Pe.gte(re);){Be=Math.max(1,Math.floor(Pe.toNumber()/re.toNumber()));for(var rt=Math.ceil(Math.log(Be)/Math.LN2),st=rt<=48?1:R(2,rt-48),ft=N(Be),kt=ft.mul(re);kt.isNegative()||kt.gt(Pe);)kt=(ft=N(Be-=st,this.unsigned)).mul(re);ft.isZero()&&(ft=Ie),Ke=Ke.add(ft),Pe=Pe.sub(kt)}return Ke},we.div=we.divide,we.modulo=function(re){return $(re)||(re=F(re)),ie?B((this.unsigned?ie.rem_u:ie.rem_s)(this.low,this.high,re.low,re.high),ie.get_high(),this.unsigned):this.sub(this.div(re).mul(re))},we.mod=we.modulo,we.rem=we.modulo,we.not=function(){return B(~this.low,~this.high,this.unsigned)},we.and=function(re){return $(re)||(re=F(re)),B(this.low&re.low,this.high&re.high,this.unsigned)},we.or=function(re){return $(re)||(re=F(re)),B(this.low|re.low,this.high|re.high,this.unsigned)},we.xor=function(re){return $(re)||(re=F(re)),B(this.low^re.low,this.high^re.high,this.unsigned)},we.shiftLeft=function(re){return $(re)&&(re=re.toInt()),0==(re&=63)?this:re<32?B(this.low<<re,this.high<<re|this.low>>>32-re,this.unsigned):B(0,this.low<<re-32,this.unsigned)},we.shl=we.shiftLeft,we.shiftRight=function(re){return $(re)&&(re=re.toInt()),0==(re&=63)?this:re<32?B(this.low>>>re|this.high<<32-re,this.high>>re,this.unsigned):B(this.high>>re-32,this.high>=0?0:-1,this.unsigned)},we.shr=we.shiftRight,we.shiftRightUnsigned=function(re){if($(re)&&(re=re.toInt()),0==(re&=63))return this;var Re=this.high;return re<32?B(this.low>>>re|Re<<32-re,Re>>>re,this.unsigned):B(32===re?Re:Re>>>re-32,0,this.unsigned)},we.shru=we.shiftRightUnsigned,we.shr_u=we.shiftRightUnsigned,we.toSigned=function(){return this.unsigned?B(this.low,this.high,!1):this},we.toUnsigned=function(){return this.unsigned?this:B(this.low,this.high,!0)},we.toBytes=function(re){return re?this.toBytesLE():this.toBytesBE()},we.toBytesLE=function(){var re=this.high,Re=this.low;return[255&Re,Re>>>8&255,Re>>>16&255,Re>>>24,255&re,re>>>8&255,re>>>16&255,re>>>24]},we.toBytesBE=function(){var re=this.high,Re=this.low;return[re>>>24,re>>>16&255,re>>>8&255,255&re,Re>>>24,Re>>>16&255,Re>>>8&255,255&Re]},v.fromBytes=function(re,Re,Be){return Be?v.fromBytesLE(re,Re):v.fromBytesBE(re,Re)},v.fromBytesLE=function(re,Re){return new v(re[0]|re[1]<<8|re[2]<<16|re[3]<<24,re[4]|re[5]<<8|re[6]<<16|re[7]<<24,Re)},v.fromBytesBE=function(re,Re){return new v(re[4]<<24|re[5]<<16|re[6]<<8|re[7],re[0]<<24|re[1]<<16|re[2]<<8|re[3],Re)}},5270:(be,ie,v)=>{"use strict";const $=v(9377),S=Symbol("max"),P=Symbol("length"),I=Symbol("lengthCalculator"),N=Symbol("allowStale"),B=Symbol("maxAge"),R=Symbol("dispose"),W=Symbol("noDisposeOnSet"),F=Symbol("lruList"),U=Symbol("cache"),G=Symbol("updateAgeOnGet"),K=()=>1,he=(et,Te,We)=>{const ge=et[U].get(Te);if(ge){const we=ge.value;if(ce(et,we)){if(je(et,ge),!et[N])return}else We&&(et[G]&&(ge.value.now=Date.now()),et[F].unshiftNode(ge));return we.value}},ce=(et,Te)=>{if(!Te||!Te.maxAge&&!et[B])return!1;const We=Date.now()-Te.now;return Te.maxAge?We>Te.maxAge:et[B]&&We>et[B]},Ae=et=>{if(et[P]>et[S])for(let Te=et[F].tail;et[P]>et[S]&&null!==Te;){const We=Te.prev;je(et,Te),Te=We}},je=(et,Te)=>{if(Te){const We=Te.value;et[R]&&et[R](We.key,We.value),et[P]-=We.length,et[U].delete(We.key),et[F].removeNode(Te)}};class Ie{constructor(Te,We,ge,we,Se){this.key=Te,this.value=We,this.length=ge,this.now=we,this.maxAge=Se||0}}const ze=(et,Te,We,ge)=>{let we=We.value;ce(et,we)&&(je(et,We),et[N]||(we=void 0)),we&&Te.call(ge,we.value,we.key,et)};be.exports=class{constructor(Te){if("number"==typeof Te&&(Te={max:Te}),Te||(Te={}),Te.max&&("number"!=typeof Te.max||Te.max<0))throw new TypeError("max must be a non-negative number");this[S]=Te.max||1/0;const ge=Te.length||K;if(this[I]="function"!=typeof ge?K:ge,this[N]=Te.stale||!1,Te.maxAge&&"number"!=typeof Te.maxAge)throw new TypeError("maxAge must be a number");this[B]=Te.maxAge||0,this[R]=Te.dispose,this[W]=Te.noDisposeOnSet||!1,this[G]=Te.updateAgeOnGet||!1,this.reset()}set max(Te){if("number"!=typeof Te||Te<0)throw new TypeError("max must be a non-negative number");this[S]=Te||1/0,Ae(this)}get max(){return this[S]}set allowStale(Te){this[N]=!!Te}get allowStale(){return this[N]}set maxAge(Te){if("number"!=typeof Te)throw new TypeError("maxAge must be a non-negative number");this[B]=Te,Ae(this)}get maxAge(){return this[B]}set lengthCalculator(Te){"function"!=typeof Te&&(Te=K),Te!==this[I]&&(this[I]=Te,this[P]=0,this[F].forEach(We=>{We.length=this[I](We.value,We.key),this[P]+=We.length})),Ae(this)}get lengthCalculator(){return this[I]}get length(){return this[P]}get itemCount(){return this[F].length}rforEach(Te,We){We=We||this;for(let ge=this[F].tail;null!==ge;){const we=ge.prev;ze(this,Te,ge,We),ge=we}}forEach(Te,We){We=We||this;for(let ge=this[F].head;null!==ge;){const we=ge.next;ze(this,Te,ge,We),ge=we}}keys(){return this[F].toArray().map(Te=>Te.key)}values(){return this[F].toArray().map(Te=>Te.value)}reset(){this[R]&&this[F]&&this[F].length&&this[F].forEach(Te=>this[R](Te.key,Te.value)),this[U]=new Map,this[F]=new $,this[P]=0}dump(){return this[F].map(Te=>!ce(this,Te)&&{k:Te.key,v:Te.value,e:Te.now+(Te.maxAge||0)}).toArray().filter(Te=>Te)}dumpLru(){return this[F]}set(Te,We,ge){if((ge=ge||this[B])&&"number"!=typeof ge)throw new TypeError("maxAge must be a number");const we=ge?Date.now():0,Se=this[I](We,Te);if(this[U].has(Te)){if(Se>this[S])return je(this,this[U].get(Te)),!1;const Be=this[U].get(Te).value;return this[R]&&(this[W]||this[R](Te,Be.value)),Be.now=we,Be.maxAge=ge,Be.value=We,this[P]+=Se-Be.length,Be.length=Se,this.get(Te),Ae(this),!0}const re=new Ie(Te,We,Se,we,ge);return re.length>this[S]?(this[R]&&this[R](Te,We),!1):(this[P]+=re.length,this[F].unshift(re),this[U].set(Te,this[F].head),Ae(this),!0)}has(Te){if(!this[U].has(Te))return!1;const We=this[U].get(Te).value;return!ce(this,We)}get(Te){return he(this,Te,!0)}peek(Te){return he(this,Te,!1)}pop(){const Te=this[F].tail;return Te?(je(this,Te),Te.value):null}del(Te){je(this,this[U].get(Te))}load(Te){this.reset();const We=Date.now();for(let ge=Te.length-1;ge>=0;ge--){const we=Te[ge],Se=we.e||0;if(0===Se)this.set(we.k,we.v);else{const re=Se-We;re>0&&this.set(we.k,we.v,re)}}}prune(){this[U].forEach((Te,We)=>he(this,We,!1))}}},6431:function(be,ie,v){!function($){"use strict";$.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(P){return/^nm$/i.test(P)},meridiem:function(P,I,N){return P<12?N?"vm":"VM":N?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(P){return P+(1===P||8===P||P>=20?"ste":"de")},week:{dow:1,doy:4}})}(v(6738))},1616:function(be,ie,v){!function($){"use strict";var S=function(R){return 0===R?0:1===R?1:2===R?2:R%100>=3&&R%100<=10?3:R%100>=11?4:5},P={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},I=function(R){return function(W,F,U,G){var K=S(W),J=P[R][S(W)];return 2===K&&(J=J[F?0:1]),J.replace(/%d/i,W)}},N=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];$.defineLocale("ar-dz",{months:N,monthsShort:N,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(R){return"\u0645"===R},meridiem:function(R,W,F){return R<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:I("s"),ss:I("s"),m:I("m"),mm:I("m"),h:I("h"),hh:I("h"),d:I("d"),dd:I("d"),M:I("M"),MM:I("M"),y:I("y"),yy:I("y")},postformat:function(R){return R.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(v(6738))},9759:function(be,ie,v){!function($){"use strict";$.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(v(6738))},3160:function(be,ie,v){!function($){"use strict";var S={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},P=function(W){return 0===W?0:1===W?1:2===W?2:W%100>=3&&W%100<=10?3:W%100>=11?4:5},I={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},N=function(W){return function(F,U,G,K){var J=P(F),he=I[W][P(F)];return 2===J&&(he=he[U?0:1]),he.replace(/%d/i,F)}},B=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];$.defineLocale("ar-ly",{months:B,monthsShort:B,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(W){return"\u0645"===W},meridiem:function(W,F,U){return W<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:N("s"),ss:N("s"),m:N("m"),mm:N("m"),h:N("h"),hh:N("h"),d:N("d"),dd:N("d"),M:N("M"),MM:N("M"),y:N("y"),yy:N("y")},preparse:function(W){return W.replace(/\u060c/g,",")},postformat:function(W){return W.replace(/\d/g,function(F){return S[F]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(v(6738))},2551:function(be,ie,v){!function($){"use strict";$.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(v(6738))},9989:function(be,ie,v){!function($){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},P={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};$.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(N){return"\u0645"===N},meridiem:function(N,B,R){return N<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(N){return N.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(B){return P[B]}).replace(/\u060c/g,",")},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(v(6738))},6962:function(be,ie,v){!function($){"use strict";$.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(v(6738))},1286:function(be,ie,v){!function($){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},P={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},I=function(F){return 0===F?0:1===F?1:2===F?2:F%100>=3&&F%100<=10?3:F%100>=11?4:5},N={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},B=function(F){return function(U,G,K,J){var he=I(U),ce=N[F][I(U)];return 2===he&&(ce=ce[G?0:1]),ce.replace(/%d/i,U)}},R=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];$.defineLocale("ar",{months:R,monthsShort:R,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(F){return"\u0645"===F},meridiem:function(F,U,G){return F<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:B("s"),ss:B("s"),m:B("m"),mm:B("m"),h:B("h"),hh:B("h"),d:B("d"),dd:B("d"),M:B("M"),MM:B("M"),y:B("y"),yy:B("y")},preparse:function(F){return F.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(U){return P[U]}).replace(/\u060c/g,",")},postformat:function(F){return F.replace(/\d/g,function(U){return S[U]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(v(6738))},5887:function(be,ie,v){!function($){"use strict";var S={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};$.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(I){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(I)},meridiem:function(I,N,B){return I<4?"gec\u0259":I<12?"s\u0259h\u0259r":I<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(I){if(0===I)return I+"-\u0131nc\u0131";var N=I%10;return I+(S[N]||S[I%100-N]||S[I>=100?100:null])},week:{dow:1,doy:7}})}(v(6738))},4572:function(be,ie,v){!function($){"use strict";function P(N,B,R){return"m"===R?B?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===R?B?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":N+" "+function(N,B){var R=N.split("_");return B%10==1&&B%100!=11?R[0]:B%10>=2&&B%10<=4&&(B%100<10||B%100>=20)?R[1]:R[2]}({ss:B?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:B?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:B?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[R],+N)}$.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:P,mm:P,h:P,hh:P,d:"\u0434\u0437\u0435\u043d\u044c",dd:P,M:"\u043c\u0435\u0441\u044f\u0446",MM:P,y:"\u0433\u043e\u0434",yy:P},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(N){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(N)},meridiem:function(N,B,R){return N<4?"\u043d\u043e\u0447\u044b":N<12?"\u0440\u0430\u043d\u0456\u0446\u044b":N<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(N,B){switch(B){case"M":case"d":case"DDD":case"w":case"W":return N%10!=2&&N%10!=3||N%100==12||N%100==13?N+"-\u044b":N+"-\u0456";case"D":return N+"-\u0433\u0430";default:return N}},week:{dow:1,doy:7}})}(v(6738))},3276:function(be,ie,v){!function($){"use strict";$.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(P){var I=P%10,N=P%100;return 0===P?P+"-\u0435\u0432":0===N?P+"-\u0435\u043d":N>10&&N<20?P+"-\u0442\u0438":1===I?P+"-\u0432\u0438":2===I?P+"-\u0440\u0438":7===I||8===I?P+"-\u043c\u0438":P+"-\u0442\u0438"},week:{dow:1,doy:7}})}(v(6738))},3344:function(be,ie,v){!function($){"use strict";$.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(v(6738))},3990:function(be,ie,v){!function($){"use strict";var S={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},P={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};$.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(N){return N.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u09b0\u09be\u09a4"===B?N<4?N:N+12:"\u09ad\u09cb\u09b0"===B||"\u09b8\u0995\u09be\u09b2"===B?N:"\u09a6\u09c1\u09aa\u09c1\u09b0"===B?N>=3?N:N+12:"\u09ac\u09bf\u0995\u09be\u09b2"===B||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===B?N+12:void 0},meridiem:function(N,B,R){return N<4?"\u09b0\u09be\u09a4":N<6?"\u09ad\u09cb\u09b0":N<12?"\u09b8\u0995\u09be\u09b2":N<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":N<18?"\u09ac\u09bf\u0995\u09be\u09b2":N<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(v(6738))},8985:function(be,ie,v){!function($){"use strict";var S={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},P={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};$.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(N){return N.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u09b0\u09be\u09a4"===B&&N>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===B&&N<5||"\u09ac\u09bf\u0995\u09be\u09b2"===B?N+12:N},meridiem:function(N,B,R){return N<4?"\u09b0\u09be\u09a4":N<10?"\u09b8\u0995\u09be\u09b2":N<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":N<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(v(6738))},3540:function(be,ie,v){!function($){"use strict";var S={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},P={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};$.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(N){return N.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===B&&N>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===B&&N<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===B?N+12:N},meridiem:function(N,B,R){return N<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":N<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":N<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":N<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(v(6738))},6728:function(be,ie,v){!function($){"use strict";function S(ce,Ae,je){return ce+" "+function(ce,Ae){return 2===Ae?function(ce){var Ae={m:"v",b:"v",d:"z"};return void 0===Ae[ce.charAt(0)]?ce:Ae[ce.charAt(0)]+ce.substring(1)}(ce):ce}({mm:"munutenn",MM:"miz",dd:"devezh"}[je],ce)}function I(ce){return ce>9?I(ce%10):ce}var R=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],W=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,J=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];$.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:J,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:J,monthsRegex:W,monthsShortRegex:W,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:R,longMonthsParse:R,shortMonthsParse:R,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:S,h:"un eur",hh:"%d eur",d:"un devezh",dd:S,M:"ur miz",MM:S,y:"ur bloaz",yy:function(ce){switch(I(ce)){case 1:case 3:case 4:case 5:case 9:return ce+" bloaz";default:return ce+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(ce){return ce+(1===ce?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(ce){return"g.m."===ce},meridiem:function(ce,Ae,je){return ce<12?"a.m.":"g.m."}})}(v(6738))},5536:function(be,ie,v){!function($){"use strict";function S(I,N,B){var R=I+" ";switch(B){case"ss":return R+(1===I?"sekunda":2===I||3===I||4===I?"sekunde":"sekundi");case"m":return N?"jedna minuta":"jedne minute";case"mm":return R+(1===I?"minuta":2===I||3===I||4===I?"minute":"minuta");case"h":return N?"jedan sat":"jednog sata";case"hh":return R+(1===I?"sat":2===I||3===I||4===I?"sata":"sati");case"dd":return R+(1===I?"dan":"dana");case"MM":return R+(1===I?"mjesec":2===I||3===I||4===I?"mjeseca":"mjeseci");case"yy":return R+(1===I?"godina":2===I||3===I||4===I?"godine":"godina")}}$.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:S,m:S,mm:S,h:S,hh:S,d:"dan",dd:S,M:"mjesec",MM:S,y:"godinu",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},1043:function(be,ie,v){!function($){"use strict";$.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(P,I){var N=1===P?"r":2===P?"n":3===P?"r":4===P?"t":"\xe8";return("w"===I||"W"===I)&&(N="a"),P+N},week:{dow:1,doy:4}})}(v(6738))},420:function(be,ie,v){!function($){"use strict";var S="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),P="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),I=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],N=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function B(F){return F>1&&F<5&&1!=~~(F/10)}function R(F,U,G,K){var J=F+" ";switch(G){case"s":return U||K?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return U||K?J+(B(F)?"sekundy":"sekund"):J+"sekundami";case"m":return U?"minuta":K?"minutu":"minutou";case"mm":return U||K?J+(B(F)?"minuty":"minut"):J+"minutami";case"h":return U?"hodina":K?"hodinu":"hodinou";case"hh":return U||K?J+(B(F)?"hodiny":"hodin"):J+"hodinami";case"d":return U||K?"den":"dnem";case"dd":return U||K?J+(B(F)?"dny":"dn\xed"):J+"dny";case"M":return U||K?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return U||K?J+(B(F)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):J+"m\u011bs\xedci";case"y":return U||K?"rok":"rokem";case"yy":return U||K?J+(B(F)?"roky":"let"):J+"lety"}}$.defineLocale("cs",{months:S,monthsShort:P,monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},3513:function(be,ie,v){!function($){"use strict";$.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(P){return P+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(P)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(P)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(v(6738))},6771:function(be,ie,v){!function($){"use strict";$.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(P){var N="";return P>20?N=40===P||50===P||60===P||80===P||100===P?"fed":"ain":P>0&&(N=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][P]),P+N},week:{dow:1,doy:4}})}(v(6738))},7978:function(be,ie,v){!function($){"use strict";$.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},5204:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[I+" Tage",I+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[I+" Monate",I+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[I+" Jahre",I+" Jahren"]};return N?W[B][0]:W[B][1]}$.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},4914:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[I+" Tage",I+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[I+" Monate",I+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[I+" Jahre",I+" Jahren"]};return N?W[B][0]:W[B][1]}$.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},6061:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[I+" Tage",I+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[I+" Monate",I+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[I+" Jahre",I+" Jahren"]};return N?W[B][0]:W[B][1]}$.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},85:function(be,ie,v){!function($){"use strict";var S=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],P=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];$.defineLocale("dv",{months:S,monthsShort:S,weekdays:P,weekdaysShort:P,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(N){return"\u0789\u078a"===N},meridiem:function(N,B,R){return N<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(N){return N.replace(/\u060c/g,",")},postformat:function(N){return N.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(v(6738))},8579:function(be,ie,v){!function($){"use strict";$.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(I,N){return I?"string"==typeof N&&/D/.test(N.substring(0,N.indexOf("MMMM")))?this._monthsGenitiveEl[I.month()]:this._monthsNominativeEl[I.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(I,N,B){return I>11?B?"\u03bc\u03bc":"\u039c\u039c":B?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(I){return"\u03bc"===(I+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(I,N){var B=this._calendarEl[I],R=N&&N.hours();return function(I){return"undefined"!=typeof Function&&I instanceof Function||"[object Function]"===Object.prototype.toString.call(I)}(B)&&(B=B.apply(N)),B.replace("{}",R%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(v(6738))},5724:function(be,ie,v){!function($){"use strict";$.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:0,doy:4}})}(v(6738))},525:function(be,ie,v){!function($){"use strict";$.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")}})}(v(6738))},2847:function(be,ie,v){!function($){"use strict";$.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:1,doy:4}})}(v(6738))},7216:function(be,ie,v){!function($){"use strict";$.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:1,doy:4}})}(v(6738))},9305:function(be,ie,v){!function($){"use strict";$.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")}})}(v(6738))},3364:function(be,ie,v){!function($){"use strict";$.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:0,doy:6}})}(v(6738))},9130:function(be,ie,v){!function($){"use strict";$.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:1,doy:4}})}(v(6738))},1161:function(be,ie,v){!function($){"use strict";$.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:1,doy:4}})}(v(6738))},802:function(be,ie,v){!function($){"use strict";$.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(P){return"p"===P.charAt(0).toLowerCase()},meridiem:function(P,I,N){return P>11?N?"p.t.m.":"P.T.M.":N?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(v(6738))},5551:function(be,ie,v){!function($){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),P="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),I=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],N=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;$.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(R,W){return R?/-MMM-/.test(W)?P[R.month()]:S[R.month()]:S},monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},5615:function(be,ie,v){!function($){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),P="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),I=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],N=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;$.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(R,W){return R?/-MMM-/.test(W)?P[R.month()]:S[R.month()]:S},monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(v(6738))},4790:function(be,ie,v){!function($){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),P="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),I=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],N=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;$.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(R,W){return R?/-MMM-/.test(W)?P[R.month()]:S[R.month()]:S},monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(v(6738))},328:function(be,ie,v){!function($){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),P="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),I=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],N=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;$.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(R,W){return R?/-MMM-/.test(W)?P[R.month()]:S[R.month()]:S},monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(v(6738))},6389:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[I+"sekundi",I+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[I+" minuti",I+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[I+" tunni",I+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[I+" kuu",I+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[I+" aasta",I+" aastat"]};return N?W[B][2]?W[B][2]:W[B][1]:R?W[B][0]:W[B][1]}$.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:"%d p\xe4eva",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},2961:function(be,ie,v){!function($){"use strict";$.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},6151:function(be,ie,v){!function($){"use strict";var S={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},P={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};$.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(N){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(N)},meridiem:function(N,B,R){return N<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(N){return N.replace(/[\u06f0-\u06f9]/g,function(B){return P[B]}).replace(/\u060c/g,",")},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(v(6738))},7997:function(be,ie,v){!function($){"use strict";var S="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),P=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",S[7],S[8],S[9]];function I(R,W,F,U){var G="";switch(F){case"s":return U?"muutaman sekunnin":"muutama sekunti";case"ss":G=U?"sekunnin":"sekuntia";break;case"m":return U?"minuutin":"minuutti";case"mm":G=U?"minuutin":"minuuttia";break;case"h":return U?"tunnin":"tunti";case"hh":G=U?"tunnin":"tuntia";break;case"d":return U?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":G=U?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return U?"kuukauden":"kuukausi";case"MM":G=U?"kuukauden":"kuukautta";break;case"y":return U?"vuoden":"vuosi";case"yy":G=U?"vuoden":"vuotta"}return function(R,W){return R<10?W?P[R]:S[R]:R}(R,U)+" "+G}$.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:I,M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},8898:function(be,ie,v){!function($){"use strict";$.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(P){return P},week:{dow:1,doy:4}})}(v(6738))},7779:function(be,ie,v){!function($){"use strict";$.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},3287:function(be,ie,v){!function($){"use strict";$.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(P,I){switch(I){default:case"M":case"Q":case"D":case"DDD":case"d":return P+(1===P?"er":"e");case"w":case"W":return P+(1===P?"re":"e")}}})}(v(6738))},8867:function(be,ie,v){!function($){"use strict";$.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(P,I){switch(I){default:case"M":case"Q":case"D":case"DDD":case"d":return P+(1===P?"er":"e");case"w":case"W":return P+(1===P?"re":"e")}},week:{dow:1,doy:4}})}(v(6738))},8174:function(be,ie,v){!function($){"use strict";var I=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,N=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];$.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:I,monthsShortRegex:I,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:N,longMonthsParse:N,shortMonthsParse:N,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(R,W){switch(W){case"D":return R+(1===R?"er":"");default:case"M":case"Q":case"DDD":case"d":return R+(1===R?"er":"e");case"w":case"W":return R+(1===R?"re":"e")}},week:{dow:1,doy:4}})}(v(6738))},452:function(be,ie,v){!function($){"use strict";var S="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),P="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");$.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(N,B){return N?/-MMM-/.test(B)?P[N.month()]:S[N.month()]:S},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(N){return N+(1===N||8===N||N>=20?"ste":"de")},week:{dow:1,doy:4}})}(v(6738))},5014:function(be,ie,v){!function($){"use strict";$.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}(v(6738))},4127:function(be,ie,v){!function($){"use strict";$.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}(v(6738))},2124:function(be,ie,v){!function($){"use strict";$.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(P){return 0===P.indexOf("un")?"n"+P:"en "+P},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},6444:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[I+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",I+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[I+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",I+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[I+" \u0935\u0930\u093e\u0902\u0928\u0940",I+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[I+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",I+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[I+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",I+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[I+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",I+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return R?W[B][0]:W[B][1]}$.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(I,N){switch(N){case"D":return I+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return I}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(I,N){return 12===I&&(I=0),"\u0930\u093e\u0924\u0940"===N?I<4?I:I+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===N?I:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===N?I>12?I:I+12:"\u0938\u093e\u0902\u091c\u0947"===N?I+12:void 0},meridiem:function(I,N,B){return I<4?"\u0930\u093e\u0924\u0940":I<12?"\u0938\u0915\u093e\u0933\u0940\u0902":I<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":I<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(v(6738))},7953:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W={s:["thoddea sekondamni","thodde sekond"],ss:[I+" sekondamni",I+" sekond"],m:["eka mintan","ek minut"],mm:[I+" mintamni",I+" mintam"],h:["eka voran","ek vor"],hh:[I+" voramni",I+" voram"],d:["eka disan","ek dis"],dd:[I+" disamni",I+" dis"],M:["eka mhoinean","ek mhoino"],MM:[I+" mhoineamni",I+" mhoine"],y:["eka vorsan","ek voros"],yy:[I+" vorsamni",I+" vorsam"]};return R?W[B][0]:W[B][1]}$.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(I,N){switch(N){case"D":return I+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return I}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(I,N){return 12===I&&(I=0),"rati"===N?I<4?I:I+12:"sokallim"===N?I:"donparam"===N?I>12?I:I+12:"sanje"===N?I+12:void 0},meridiem:function(I,N,B){return I<4?"rati":I<12?"sokallim":I<16?"donparam":I<20?"sanje":"rati"}})}(v(6738))},6604:function(be,ie,v){!function($){"use strict";var S={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},P={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};$.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(N){return N.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u0ab0\u0abe\u0aa4"===B?N<4?N:N+12:"\u0ab8\u0ab5\u0abe\u0ab0"===B?N:"\u0aac\u0aaa\u0acb\u0ab0"===B?N>=10?N:N+12:"\u0ab8\u0abe\u0a82\u0a9c"===B?N+12:void 0},meridiem:function(N,B,R){return N<4?"\u0ab0\u0abe\u0aa4":N<10?"\u0ab8\u0ab5\u0abe\u0ab0":N<17?"\u0aac\u0aaa\u0acb\u0ab0":N<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(v(6738))},1222:function(be,ie,v){!function($){"use strict";$.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(P){return 2===P?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":P+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(P){return 2===P?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":P+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(P){return 2===P?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":P+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(P){return 2===P?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":P%10==0&&10!==P?P+" \u05e9\u05e0\u05d4":P+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(P){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(P)},meridiem:function(P,I,N){return P<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":P<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":P<12?N?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":P<18?N?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(v(6738))},4235:function(be,ie,v){!function($){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},P={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},I=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];$.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:I,longMonthsParse:I,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(R){return R.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(W){return P[W]})},postformat:function(R){return R.replace(/\d/g,function(W){return S[W]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(R,W){return 12===R&&(R=0),"\u0930\u093e\u0924"===W?R<4?R:R+12:"\u0938\u0941\u092c\u0939"===W?R:"\u0926\u094b\u092a\u0939\u0930"===W?R>=10?R:R+12:"\u0936\u093e\u092e"===W?R+12:void 0},meridiem:function(R,W,F){return R<4?"\u0930\u093e\u0924":R<10?"\u0938\u0941\u092c\u0939":R<17?"\u0926\u094b\u092a\u0939\u0930":R<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(v(6738))},622:function(be,ie,v){!function($){"use strict";function S(I,N,B){var R=I+" ";switch(B){case"ss":return R+(1===I?"sekunda":2===I||3===I||4===I?"sekunde":"sekundi");case"m":return N?"jedna minuta":"jedne minute";case"mm":return R+(1===I?"minuta":2===I||3===I||4===I?"minute":"minuta");case"h":return N?"jedan sat":"jednog sata";case"hh":return R+(1===I?"sat":2===I||3===I||4===I?"sata":"sati");case"dd":return R+(1===I?"dan":"dana");case"MM":return R+(1===I?"mjesec":2===I||3===I||4===I?"mjeseca":"mjeseci");case"yy":return R+(1===I?"godina":2===I||3===I||4===I?"godine":"godina")}}$.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:S,m:S,mm:S,h:S,hh:S,d:"dan",dd:S,M:"mjesec",MM:S,y:"godinu",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},7735:function(be,ie,v){!function($){"use strict";var S="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function P(B,R,W,F){var U=B;switch(W){case"s":return F||R?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return U+(F||R)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(F||R?" perc":" perce");case"mm":return U+(F||R?" perc":" perce");case"h":return"egy"+(F||R?" \xf3ra":" \xf3r\xe1ja");case"hh":return U+(F||R?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(F||R?" nap":" napja");case"dd":return U+(F||R?" nap":" napja");case"M":return"egy"+(F||R?" h\xf3nap":" h\xf3napja");case"MM":return U+(F||R?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(F||R?" \xe9v":" \xe9ve");case"yy":return U+(F||R?" \xe9v":" \xe9ve")}return""}function I(B){return(B?"":"[m\xfalt] ")+"["+S[this.day()]+"] LT[-kor]"}$.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(B){return"u"===B.charAt(1).toLowerCase()},meridiem:function(B,R,W){return B<12?!0===W?"de":"DE":!0===W?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return I.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return I.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:P,ss:P,m:P,mm:P,h:P,hh:P,d:P,dd:P,M:P,MM:P,y:P,yy:P},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},402:function(be,ie,v){!function($){"use strict";$.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(P){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(P)},meridiem:function(P){return P<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":P<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":P<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(P,I){switch(I){case"DDD":case"w":case"W":case"DDDo":return 1===P?P+"-\u056b\u0576":P+"-\u0580\u0564";default:return P}},week:{dow:1,doy:7}})}(v(6738))},9187:function(be,ie,v){!function($){"use strict";$.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(P,I){return 12===P&&(P=0),"pagi"===I?P:"siang"===I?P>=11?P:P+12:"sore"===I||"malam"===I?P+12:void 0},meridiem:function(P,I,N){return P<11?"pagi":P<15?"siang":P<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(v(6738))},6607:function(be,ie,v){!function($){"use strict";function S(N){return N%100==11||N%10!=1}function P(N,B,R,W){var F=N+" ";switch(R){case"s":return B||W?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return S(N)?F+(B||W?"sek\xfandur":"sek\xfandum"):F+"sek\xfanda";case"m":return B?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return S(N)?F+(B||W?"m\xedn\xfatur":"m\xedn\xfatum"):B?F+"m\xedn\xfata":F+"m\xedn\xfatu";case"hh":return S(N)?F+(B||W?"klukkustundir":"klukkustundum"):F+"klukkustund";case"d":return B?"dagur":W?"dag":"degi";case"dd":return S(N)?B?F+"dagar":F+(W?"daga":"d\xf6gum"):B?F+"dagur":F+(W?"dag":"degi");case"M":return B?"m\xe1nu\xf0ur":W?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return S(N)?B?F+"m\xe1nu\xf0ir":F+(W?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):B?F+"m\xe1nu\xf0ur":F+(W?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return B||W?"\xe1r":"\xe1ri";case"yy":return S(N)?F+(B||W?"\xe1r":"\xe1rum"):F+(B||W?"\xe1r":"\xe1ri")}}$.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:P,ss:P,m:P,mm:P,h:"klukkustund",hh:P,d:P,dd:P,M:P,MM:P,y:P,yy:P},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},4667:function(be,ie,v){!function($){"use strict";$.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(P){return(/^[0-9].+$/.test(P)?"tra":"in")+" "+P},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},5007:function(be,ie,v){!function($){"use strict";$.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},2093:function(be,ie,v){!function($){"use strict";$.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(P,I){return"\u5143"===I[1]?1:parseInt(I[1]||P,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(P){return"\u5348\u5f8c"===P},meridiem:function(P,I,N){return P<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(P){return P.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(P){return this.week()!==P.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(P,I){switch(I){case"y":return 1===P?"\u5143\u5e74":P+"\u5e74";case"d":case"D":case"DDD":return P+"\u65e5";default:return P}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(v(6738))},59:function(be,ie,v){!function($){"use strict";$.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(P,I){return 12===P&&(P=0),"enjing"===I?P:"siyang"===I?P>=11?P:P+12:"sonten"===I||"ndalu"===I?P+12:void 0},meridiem:function(P,I,N){return P<11?"enjing":P<15?"siyang":P<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(v(6738))},6870:function(be,ie,v){!function($){"use strict";$.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(P){return P.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(I,N,B){return"\u10d8"===B?N+"\u10e8\u10d8":N+B+"\u10e8\u10d8"})},past:function(P){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(P)?P.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(P)?P.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):P},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(P){return 0===P?P:1===P?P+"-\u10da\u10d8":P<20||P<=100&&P%20==0||P%100==0?"\u10db\u10d4-"+P:P+"-\u10d4"},week:{dow:1,doy:7}})}(v(6738))},880:function(be,ie,v){!function($){"use strict";var S={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};$.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(I){return I+(S[I]||S[I%10]||S[I>=100?100:null])},week:{dow:1,doy:7}})}(v(6738))},1083:function(be,ie,v){!function($){"use strict";var S={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},P={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};$.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(N){return"\u179b\u17d2\u1784\u17b6\u1785"===N},meridiem:function(N,B,R){return N<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(N){return N.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},week:{dow:1,doy:4}})}(v(6738))},8785:function(be,ie,v){!function($){"use strict";var S={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},P={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};$.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(N){return N.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===B?N<4?N:N+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===B?N:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===B?N>=10?N:N+12:"\u0cb8\u0c82\u0c9c\u0cc6"===B?N+12:void 0},meridiem:function(N,B,R){return N<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":N<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":N<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":N<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(N){return N+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(v(6738))},1721:function(be,ie,v){!function($){"use strict";$.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(P,I){switch(I){case"d":case"D":case"DDD":return P+"\uc77c";case"M":return P+"\uc6d4";case"w":case"W":return P+"\uc8fc";default:return P}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(P){return"\uc624\ud6c4"===P},meridiem:function(P,I,N){return P<12?"\uc624\uc804":"\uc624\ud6c4"}})}(v(6738))},7851:function(be,ie,v){!function($){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},P={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},I=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];$.defineLocale("ku",{months:I,monthsShort:I,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(B){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(B)},meridiem:function(B,R,W){return B<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(B){return B.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(R){return P[R]}).replace(/\u060c/g,",")},postformat:function(B){return B.replace(/\d/g,function(R){return S[R]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(v(6738))},1727:function(be,ie,v){!function($){"use strict";var S={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};$.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(I){return I+(S[I]||S[I%10]||S[I>=100?100:null])},week:{dow:1,doy:7}})}(v(6738))},346:function(be,ie,v){!function($){"use strict";function S(R,W,F,U){var G={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return W?G[F][0]:G[F][1]}function N(R){if(R=parseInt(R,10),isNaN(R))return!1;if(R<0)return!0;if(R<10)return 4<=R&&R<=7;if(R<100){var W=R%10;return N(0===W?R/10:W)}if(R<1e4){for(;R>=10;)R/=10;return N(R)}return N(R/=1e3)}$.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(R){return N(R.substr(0,R.indexOf(" ")))?"a "+R:"an "+R},past:function(R){return N(R.substr(0,R.indexOf(" ")))?"viru "+R:"virun "+R},s:"e puer Sekonnen",ss:"%d Sekonnen",m:S,mm:"%d Minutten",h:S,hh:"%d Stonnen",d:S,dd:"%d Deeg",M:S,MM:"%d M\xe9int",y:S,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},3002:function(be,ie,v){!function($){"use strict";$.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(P){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===P},meridiem:function(P,I,N){return P<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(P){return"\u0e97\u0eb5\u0ec8"+P}})}(v(6738))},4035:function(be,ie,v){!function($){"use strict";var S={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function I(F,U,G,K){return U?B(G)[0]:K?B(G)[1]:B(G)[2]}function N(F){return F%10==0||F>10&&F<20}function B(F){return S[F].split("_")}function R(F,U,G,K){var J=F+" ";return 1===F?J+I(0,U,G[0],K):U?J+(N(F)?B(G)[1]:B(G)[0]):K?J+B(G)[1]:J+(N(F)?B(G)[1]:B(G)[2])}$.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(F,U,G,K){return U?"kelios sekund\u0117s":K?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:R,m:I,mm:R,h:I,hh:R,d:I,dd:R,M:I,MM:R,y:I,yy:R},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(F){return F+"-oji"},week:{dow:1,doy:4}})}(v(6738))},6927:function(be,ie,v){!function($){"use strict";var S={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function P(W,F,U){return U?F%10==1&&F%100!=11?W[2]:W[3]:F%10==1&&F%100!=11?W[0]:W[1]}function I(W,F,U){return W+" "+P(S[U],W,F)}function N(W,F,U){return P(S[U],W,F)}$.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(W,F){return F?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:I,m:N,mm:I,h:N,hh:I,d:N,dd:I,M:N,MM:I,y:N,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},5634:function(be,ie,v){!function($){"use strict";var S={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(I,N){return 1===I?N[0]:I>=2&&I<=4?N[1]:N[2]},translate:function(I,N,B){var R=S.words[B];return 1===B.length?N?R[0]:R[1]:I+" "+S.correctGrammaticalCase(I,R)}};$.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:"dan",dd:S.translate,M:"mjesec",MM:S.translate,y:"godinu",yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},4173:function(be,ie,v){!function($){"use strict";$.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},6320:function(be,ie,v){!function($){"use strict";$.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(P){var I=P%10,N=P%100;return 0===P?P+"-\u0435\u0432":0===N?P+"-\u0435\u043d":N>10&&N<20?P+"-\u0442\u0438":1===I?P+"-\u0432\u0438":2===I?P+"-\u0440\u0438":7===I||8===I?P+"-\u043c\u0438":P+"-\u0442\u0438"},week:{dow:1,doy:7}})}(v(6738))},9196:function(be,ie,v){!function($){"use strict";$.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(P,I){return 12===P&&(P=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===I&&P>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===I||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===I?P+12:P},meridiem:function(P,I,N){return P<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":P<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":P<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":P<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(v(6738))},1062:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){switch(B){case"s":return N?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return I+(N?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return I+(N?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return I+(N?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return I+(N?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return I+(N?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return I+(N?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return I}}$.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(I){return"\u04ae\u0425"===I},meridiem:function(I,N,B){return I<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(I,N){switch(N){case"d":case"D":case"DDD":return I+" \u04e9\u0434\u04e9\u0440";default:return I}}})}(v(6738))},2805:function(be,ie,v){!function($){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},P={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function I(B,R,W,F){var U="";if(R)switch(W){case"s":U="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":U="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":U="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":U="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":U="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":U="%d \u0924\u093e\u0938";break;case"d":U="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":U="%d \u0926\u093f\u0935\u0938";break;case"M":U="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":U="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":U="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":U="%d \u0935\u0930\u094d\u0937\u0947"}else switch(W){case"s":U="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":U="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":U="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":U="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":U="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":U="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":U="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":U="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":U="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":U="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":U="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":U="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return U.replace(/%d/i,B)}$.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:I,M:I,MM:I,y:I,yy:I},preparse:function(B){return B.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(R){return P[R]})},postformat:function(B){return B.replace(/\d/g,function(R){return S[R]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(B,R){return 12===B&&(B=0),"\u092a\u0939\u093e\u091f\u0947"===R||"\u0938\u0915\u093e\u0933\u0940"===R?B:"\u0926\u0941\u092a\u093e\u0930\u0940"===R||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===R||"\u0930\u093e\u0924\u094d\u0930\u0940"===R?B>=12?B:B+12:void 0},meridiem:function(B,R,W){return B>=0&&B<6?"\u092a\u0939\u093e\u091f\u0947":B<12?"\u0938\u0915\u093e\u0933\u0940":B<17?"\u0926\u0941\u092a\u093e\u0930\u0940":B<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(v(6738))},9900:function(be,ie,v){!function($){"use strict";$.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(P,I){return 12===P&&(P=0),"pagi"===I?P:"tengahari"===I?P>=11?P:P+12:"petang"===I||"malam"===I?P+12:void 0},meridiem:function(P,I,N){return P<11?"pagi":P<15?"tengahari":P<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(v(6738))},1341:function(be,ie,v){!function($){"use strict";$.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(P,I){return 12===P&&(P=0),"pagi"===I?P:"tengahari"===I?P>=11?P:P+12:"petang"===I||"malam"===I?P+12:void 0},meridiem:function(P,I,N){return P<11?"pagi":P<15?"tengahari":P<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(v(6738))},7734:function(be,ie,v){!function($){"use strict";$.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},9034:function(be,ie,v){!function($){"use strict";var S={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},P={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};$.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(N){return N.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},week:{dow:1,doy:4}})}(v(6738))},9324:function(be,ie,v){!function($){"use strict";$.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},6495:function(be,ie,v){!function($){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},P={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};$.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(N){return N.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u0930\u093e\u0924\u093f"===B?N<4?N:N+12:"\u092c\u093f\u0939\u093e\u0928"===B?N:"\u0926\u093f\u0909\u0901\u0938\u094b"===B?N>=10?N:N+12:"\u0938\u093e\u0901\u091d"===B?N+12:void 0},meridiem:function(N,B,R){return N<3?"\u0930\u093e\u0924\u093f":N<12?"\u092c\u093f\u0939\u093e\u0928":N<16?"\u0926\u093f\u0909\u0901\u0938\u094b":N<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(v(6738))},6272:function(be,ie,v){!function($){"use strict";var S="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),P="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),I=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],N=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;$.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(R,W){return R?/-MMM-/.test(W)?P[R.month()]:S[R.month()]:S},monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(R){return R+(1===R||8===R||R>=20?"ste":"de")},week:{dow:1,doy:4}})}(v(6738))},673:function(be,ie,v){!function($){"use strict";var S="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),P="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),I=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],N=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;$.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(R,W){return R?/-MMM-/.test(W)?P[R.month()]:S[R.month()]:S},monthsRegex:N,monthsShortRegex:N,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(R){return R+(1===R||8===R||R>=20?"ste":"de")},week:{dow:1,doy:4}})}(v(6738))},2486:function(be,ie,v){!function($){"use strict";$.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},6219:function(be,ie,v){!function($){"use strict";$.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(P,I){var N=1===P?"r":2===P?"n":3===P?"r":4===P?"t":"\xe8";return("w"===I||"W"===I)&&(N="a"),P+N},week:{dow:1,doy:4}})}(v(6738))},2829:function(be,ie,v){!function($){"use strict";var S={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},P={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};$.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(N){return N.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(N,B){return 12===N&&(N=0),"\u0a30\u0a3e\u0a24"===B?N<4?N:N+12:"\u0a38\u0a35\u0a47\u0a30"===B?N:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===B?N>=10?N:N+12:"\u0a38\u0a3c\u0a3e\u0a2e"===B?N+12:void 0},meridiem:function(N,B,R){return N<4?"\u0a30\u0a3e\u0a24":N<10?"\u0a38\u0a35\u0a47\u0a30":N<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":N<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(v(6738))},8444:function(be,ie,v){!function($){"use strict";var S="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),P="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),I=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function N(W){return W%10<5&&W%10>1&&~~(W/10)%10!=1}function B(W,F,U){var G=W+" ";switch(U){case"ss":return G+(N(W)?"sekundy":"sekund");case"m":return F?"minuta":"minut\u0119";case"mm":return G+(N(W)?"minuty":"minut");case"h":return F?"godzina":"godzin\u0119";case"hh":return G+(N(W)?"godziny":"godzin");case"ww":return G+(N(W)?"tygodnie":"tygodni");case"MM":return G+(N(W)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return G+(N(W)?"lata":"lat")}}$.defineLocale("pl",{months:function(W,F){return W?/D MMMM/.test(F)?P[W.month()]:S[W.month()]:S},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:I,longMonthsParse:I,shortMonthsParse:I,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:B,m:B,mm:B,h:B,hh:B,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:B,M:"miesi\u0105c",MM:B,y:"rok",yy:B},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},6117:function(be,ie,v){!function($){"use strict";$.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(v(6738))},3170:function(be,ie,v){!function($){"use strict";$.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(v(6738))},6587:function(be,ie,v){!function($){"use strict";function S(I,N,B){var W=" ";return(I%100>=20||I>=100&&I%100==0)&&(W=" de "),I+W+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[B]}$.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:S,m:"un minut",mm:S,h:"o or\u0103",hh:S,d:"o zi",dd:S,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:S,M:"o lun\u0103",MM:S,y:"un an",yy:S},week:{dow:1,doy:7}})}(v(6738))},9264:function(be,ie,v){!function($){"use strict";function P(B,R,W){return"m"===W?R?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":B+" "+function(B,R){var W=B.split("_");return R%10==1&&R%100!=11?W[0]:R%10>=2&&R%10<=4&&(R%100<10||R%100>=20)?W[1]:W[2]}({ss:R?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:R?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[W],+B)}var I=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];$.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:I,longMonthsParse:I,shortMonthsParse:I,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(B){if(B.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(B){if(B.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:P,m:P,mm:P,h:"\u0447\u0430\u0441",hh:P,d:"\u0434\u0435\u043d\u044c",dd:P,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:P,M:"\u043c\u0435\u0441\u044f\u0446",MM:P,y:"\u0433\u043e\u0434",yy:P},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(B){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(B)},meridiem:function(B,R,W){return B<4?"\u043d\u043e\u0447\u0438":B<12?"\u0443\u0442\u0440\u0430":B<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(B,R){switch(R){case"M":case"d":case"DDD":return B+"-\u0439";case"D":return B+"-\u0433\u043e";case"w":case"W":return B+"-\u044f";default:return B}},week:{dow:1,doy:4}})}(v(6738))},2135:function(be,ie,v){!function($){"use strict";var S=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],P=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];$.defineLocale("sd",{months:S,monthsShort:S,weekdays:P,weekdaysShort:P,weekdaysMin:P,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(N){return"\u0634\u0627\u0645"===N},meridiem:function(N,B,R){return N<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(N){return N.replace(/\u060c/g,",")},postformat:function(N){return N.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(v(6738))},5366:function(be,ie,v){!function($){"use strict";$.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},3379:function(be,ie,v){!function($){"use strict";$.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(P){return P+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(P){return"\u0db4.\u0dc0."===P||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===P},meridiem:function(P,I,N){return P>11?N?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":N?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(v(6738))},6143:function(be,ie,v){!function($){"use strict";var S="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),P="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function I(R){return R>1&&R<5}function N(R,W,F,U){var G=R+" ";switch(F){case"s":return W||U?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return W||U?G+(I(R)?"sekundy":"sek\xfand"):G+"sekundami";case"m":return W?"min\xfata":U?"min\xfatu":"min\xfatou";case"mm":return W||U?G+(I(R)?"min\xfaty":"min\xfat"):G+"min\xfatami";case"h":return W?"hodina":U?"hodinu":"hodinou";case"hh":return W||U?G+(I(R)?"hodiny":"hod\xedn"):G+"hodinami";case"d":return W||U?"de\u0148":"d\u0148om";case"dd":return W||U?G+(I(R)?"dni":"dn\xed"):G+"d\u0148ami";case"M":return W||U?"mesiac":"mesiacom";case"MM":return W||U?G+(I(R)?"mesiace":"mesiacov"):G+"mesiacmi";case"y":return W||U?"rok":"rokom";case"yy":return W||U?G+(I(R)?"roky":"rokov"):G+"rokmi"}}$.defineLocale("sk",{months:S,monthsShort:P,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:N,ss:N,m:N,mm:N,h:N,hh:N,d:N,dd:N,M:N,MM:N,y:N,yy:N},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},196:function(be,ie,v){!function($){"use strict";function S(I,N,B,R){var W=I+" ";switch(B){case"s":return N||R?"nekaj sekund":"nekaj sekundami";case"ss":return W+(1===I?N?"sekundo":"sekundi":2===I?N||R?"sekundi":"sekundah":I<5?N||R?"sekunde":"sekundah":"sekund");case"m":return N?"ena minuta":"eno minuto";case"mm":return W+(1===I?N?"minuta":"minuto":2===I?N||R?"minuti":"minutama":I<5?N||R?"minute":"minutami":N||R?"minut":"minutami");case"h":return N?"ena ura":"eno uro";case"hh":return W+(1===I?N?"ura":"uro":2===I?N||R?"uri":"urama":I<5?N||R?"ure":"urami":N||R?"ur":"urami");case"d":return N||R?"en dan":"enim dnem";case"dd":return W+(1===I?N||R?"dan":"dnem":2===I?N||R?"dni":"dnevoma":N||R?"dni":"dnevi");case"M":return N||R?"en mesec":"enim mesecem";case"MM":return W+(1===I?N||R?"mesec":"mesecem":2===I?N||R?"meseca":"mesecema":I<5?N||R?"mesece":"meseci":N||R?"mesecev":"meseci");case"y":return N||R?"eno leto":"enim letom";case"yy":return W+(1===I?N||R?"leto":"letom":2===I?N||R?"leti":"letoma":I<5?N||R?"leta":"leti":N||R?"let":"leti")}}$.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},1082:function(be,ie,v){!function($){"use strict";$.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(P){return"M"===P.charAt(0)},meridiem:function(P,I,N){return P<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},8963:function(be,ie,v){!function($){"use strict";var S={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(I,N){return 1===I?N[0]:I>=2&&I<=4?N[1]:N[2]},translate:function(I,N,B){var R=S.words[B];return 1===B.length?N?R[0]:R[1]:I+" "+S.correctGrammaticalCase(I,R)}};$.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:"\u0434\u0430\u043d",dd:S.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:S.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},1621:function(be,ie,v){!function($){"use strict";var S={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(I,N){return 1===I?N[0]:I>=2&&I<=4?N[1]:N[2]},translate:function(I,N,B){var R=S.words[B];return 1===B.length?N?R[0]:R[1]:I+" "+S.correctGrammaticalCase(I,R)}};$.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:"dan",dd:S.translate,M:"mesec",MM:S.translate,y:"godinu",yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(v(6738))},1404:function(be,ie,v){!function($){"use strict";$.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(P,I,N){return P<11?"ekuseni":P<15?"emini":P<19?"entsambama":"ebusuku"},meridiemHour:function(P,I){return 12===P&&(P=0),"ekuseni"===I?P:"emini"===I?P>=11?P:P+12:"entsambama"===I||"ebusuku"===I?0===P?0:P+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(v(6738))},5685:function(be,ie,v){!function($){"use strict";$.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?":e":1===I||2===I?":a":":e")},week:{dow:1,doy:4}})}(v(6738))},6490:function(be,ie,v){!function($){"use strict";$.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(v(6738))},4106:function(be,ie,v){!function($){"use strict";var S={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},P={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};$.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(N){return N+"\u0bb5\u0ba4\u0bc1"},preparse:function(N){return N.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(B){return P[B]})},postformat:function(N){return N.replace(/\d/g,function(B){return S[B]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(N,B,R){return N<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":N<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":N<10?" \u0b95\u0bbe\u0bb2\u0bc8":N<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":N<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":N<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(N,B){return 12===N&&(N=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===B?N<2?N:N+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===B||"\u0b95\u0bbe\u0bb2\u0bc8"===B||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===B&&N>=10?N:N+12},week:{dow:0,doy:6}})}(v(6738))},9204:function(be,ie,v){!function($){"use strict";$.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(P,I){return 12===P&&(P=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===I?P<4?P:P+12:"\u0c09\u0c26\u0c2f\u0c02"===I?P:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===I?P>=10?P:P+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===I?P+12:void 0},meridiem:function(P,I,N){return P<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":P<10?"\u0c09\u0c26\u0c2f\u0c02":P<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":P<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(v(6738))},3692:function(be,ie,v){!function($){"use strict";$.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:1,doy:4}})}(v(6738))},6361:function(be,ie,v){!function($){"use strict";var S={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};$.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(I,N){return 12===I&&(I=0),"\u0448\u0430\u0431"===N?I<4?I:I+12:"\u0441\u0443\u0431\u04b3"===N?I:"\u0440\u04ef\u0437"===N?I>=11?I:I+12:"\u0431\u0435\u0433\u043e\u04b3"===N?I+12:void 0},meridiem:function(I,N,B){return I<4?"\u0448\u0430\u0431":I<11?"\u0441\u0443\u0431\u04b3":I<16?"\u0440\u04ef\u0437":I<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(I){return I+(S[I]||S[I%10]||S[I>=100?100:null])},week:{dow:1,doy:7}})}(v(6738))},1735:function(be,ie,v){!function($){"use strict";$.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(P){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===P},meridiem:function(P,I,N){return P<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(v(6738))},1568:function(be,ie,v){!function($){"use strict";var S={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};$.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(I,N){switch(N){case"d":case"D":case"Do":case"DD":return I;default:if(0===I)return I+"'unjy";var B=I%10;return I+(S[B]||S[I%100-B]||S[I>=100?100:null])}},week:{dow:1,doy:7}})}(v(6738))},6129:function(be,ie,v){!function($){"use strict";$.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(P){return P},week:{dow:1,doy:4}})}(v(6738))},3759:function(be,ie,v){!function($){"use strict";var S="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function N(W,F,U,G){var K=function(W){var F=Math.floor(W%1e3/100),U=Math.floor(W%100/10),G=W%10,K="";return F>0&&(K+=S[F]+"vatlh"),U>0&&(K+=(""!==K?" ":"")+S[U]+"maH"),G>0&&(K+=(""!==K?" ":"")+S[G]),""===K?"pagh":K}(W);switch(U){case"ss":return K+" lup";case"mm":return K+" tup";case"hh":return K+" rep";case"dd":return K+" jaj";case"MM":return K+" jar";case"yy":return K+" DIS"}}$.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(W){var F=W;return-1!==W.indexOf("jaj")?F.slice(0,-3)+"leS":-1!==W.indexOf("jar")?F.slice(0,-3)+"waQ":-1!==W.indexOf("DIS")?F.slice(0,-3)+"nem":F+" pIq"},past:function(W){var F=W;return-1!==W.indexOf("jaj")?F.slice(0,-3)+"Hu\u2019":-1!==W.indexOf("jar")?F.slice(0,-3)+"wen":-1!==W.indexOf("DIS")?F.slice(0,-3)+"ben":F+" ret"},s:"puS lup",ss:N,m:"wa\u2019 tup",mm:N,h:"wa\u2019 rep",hh:N,d:"wa\u2019 jaj",dd:N,M:"wa\u2019 jar",MM:N,y:"wa\u2019 DIS",yy:N},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},1644:function(be,ie,v){!function($){"use strict";var S={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};$.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(I,N,B){return I<12?B?"\xf6\xf6":"\xd6\xd6":B?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(I){return"\xf6s"===I||"\xd6S"===I},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(I,N){switch(N){case"d":case"D":case"Do":case"DD":return I;default:if(0===I)return I+"'\u0131nc\u0131";var B=I%10;return I+(S[B]||S[I%100-B]||S[I>=100?100:null])}},week:{dow:1,doy:7}})}(v(6738))},875:function(be,ie,v){!function($){"use strict";function P(I,N,B,R){var W={s:["viensas secunds","'iensas secunds"],ss:[I+" secunds",I+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[I+" m\xeduts",I+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[I+" \xfeoras",I+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[I+" ziuas",I+" ziuas"],M:["'n mes","'iens mes"],MM:[I+" mesen",I+" mesen"],y:["'n ar","'iens ar"],yy:[I+" ars",I+" ars"]};return R||N?W[B][0]:W[B][1]}$.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(I){return"d'o"===I.toLowerCase()},meridiem:function(I,N,B){return I>11?B?"d'o":"D'O":B?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:P,ss:P,m:P,mm:P,h:P,hh:P,d:P,dd:P,M:P,MM:P,y:P,yy:P},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(v(6738))},1041:function(be,ie,v){!function($){"use strict";$.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(v(6738))},6878:function(be,ie,v){!function($){"use strict";$.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(v(6738))},4357:function(be,ie,v){!function($){"use strict";$.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(P,I){return 12===P&&(P=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===I||"\u0633\u06d5\u06be\u06d5\u0631"===I||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===I?P:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===I||"\u0643\u06d5\u0686"===I?P+12:P>=11?P:P+12},meridiem:function(P,I,N){var B=100*P+I;return B<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":B<900?"\u0633\u06d5\u06be\u06d5\u0631":B<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":B<1230?"\u0686\u06c8\u0634":B<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(P,I){switch(I){case"d":case"D":case"DDD":return P+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return P+"-\u06be\u06d5\u067e\u062a\u06d5";default:return P}},preparse:function(P){return P.replace(/\u060c/g,",")},postformat:function(P){return P.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(v(6738))},8684:function(be,ie,v){!function($){"use strict";function P(R,W,F){return"m"===F?W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===F?W?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":R+" "+function(R,W){var F=R.split("_");return W%10==1&&W%100!=11?F[0]:W%10>=2&&W%10<=4&&(W%100<10||W%100>=20)?F[1]:F[2]}({ss:W?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:W?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[F],+R)}function N(R){return function(){return R+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}$.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(R,W){var F={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===R?F.nominative.slice(1,7).concat(F.nominative.slice(0,1)):R?F[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(W)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(W)?"genitive":"nominative"][R.day()]:F.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:N("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:N("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:N("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:N("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return N("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return N("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:P,m:P,mm:P,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:P,d:"\u0434\u0435\u043d\u044c",dd:P,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:P,y:"\u0440\u0456\u043a",yy:P},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(R){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(R)},meridiem:function(R,W,F){return R<4?"\u043d\u043e\u0447\u0456":R<12?"\u0440\u0430\u043d\u043a\u0443":R<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(R,W){switch(W){case"M":case"d":case"DDD":case"w":case"W":return R+"-\u0439";case"D":return R+"-\u0433\u043e";default:return R}},week:{dow:1,doy:7}})}(v(6738))},6794:function(be,ie,v){!function($){"use strict";var S=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],P=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];$.defineLocale("ur",{months:S,monthsShort:S,weekdays:P,weekdaysShort:P,weekdaysMin:P,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(N){return"\u0634\u0627\u0645"===N},meridiem:function(N,B,R){return N<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(N){return N.replace(/\u060c/g,",")},postformat:function(N){return N.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(v(6738))},7959:function(be,ie,v){!function($){"use strict";$.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(v(6738))},8966:function(be,ie,v){!function($){"use strict";$.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(v(6738))},5386:function(be,ie,v){!function($){"use strict";$.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(P){return/^ch$/i.test(P)},meridiem:function(P,I,N){return P<12?N?"sa":"SA":N?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(P){return P},week:{dow:1,doy:4}})}(v(6738))},3156:function(be,ie,v){!function($){"use strict";$.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(P){var I=P%10;return P+(1==~~(P%100/10)?"th":1===I?"st":2===I?"nd":3===I?"rd":"th")},week:{dow:1,doy:4}})}(v(6738))},8028:function(be,ie,v){!function($){"use strict";$.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(v(6738))},9330:function(be,ie,v){!function($){"use strict";$.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(P,I){return 12===P&&(P=0),"\u51cc\u6668"===I||"\u65e9\u4e0a"===I||"\u4e0a\u5348"===I?P:"\u4e0b\u5348"===I||"\u665a\u4e0a"===I?P+12:P>=11?P:P+12},meridiem:function(P,I,N){var B=100*P+I;return B<600?"\u51cc\u6668":B<900?"\u65e9\u4e0a":B<1130?"\u4e0a\u5348":B<1230?"\u4e2d\u5348":B<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(P){return P.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(P){return this.week()!==P.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(P,I){switch(I){case"d":case"D":case"DDD":return P+"\u65e5";case"M":return P+"\u6708";case"w":case"W":return P+"\u5468";default:return P}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(v(6738))},9380:function(be,ie,v){!function($){"use strict";$.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(P,I){return 12===P&&(P=0),"\u51cc\u6668"===I||"\u65e9\u4e0a"===I||"\u4e0a\u5348"===I?P:"\u4e2d\u5348"===I?P>=11?P:P+12:"\u4e0b\u5348"===I||"\u665a\u4e0a"===I?P+12:void 0},meridiem:function(P,I,N){var B=100*P+I;return B<600?"\u51cc\u6668":B<900?"\u65e9\u4e0a":B<1200?"\u4e0a\u5348":1200===B?"\u4e2d\u5348":B<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(P,I){switch(I){case"d":case"D":case"DDD":return P+"\u65e5";case"M":return P+"\u6708";case"w":case"W":return P+"\u9031";default:return P}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(v(6738))},874:function(be,ie,v){!function($){"use strict";$.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(P,I){return 12===P&&(P=0),"\u51cc\u6668"===I||"\u65e9\u4e0a"===I||"\u4e0a\u5348"===I?P:"\u4e2d\u5348"===I?P>=11?P:P+12:"\u4e0b\u5348"===I||"\u665a\u4e0a"===I?P+12:void 0},meridiem:function(P,I,N){var B=100*P+I;return B<600?"\u51cc\u6668":B<900?"\u65e9\u4e0a":B<1130?"\u4e0a\u5348":B<1230?"\u4e2d\u5348":B<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(P,I){switch(I){case"d":case"D":case"DDD":return P+"\u65e5";case"M":return P+"\u6708";case"w":case"W":return P+"\u9031";default:return P}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(v(6738))},6508:function(be,ie,v){!function($){"use strict";$.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(P,I){return 12===P&&(P=0),"\u51cc\u6668"===I||"\u65e9\u4e0a"===I||"\u4e0a\u5348"===I?P:"\u4e2d\u5348"===I?P>=11?P:P+12:"\u4e0b\u5348"===I||"\u665a\u4e0a"===I?P+12:void 0},meridiem:function(P,I,N){var B=100*P+I;return B<600?"\u51cc\u6668":B<900?"\u65e9\u4e0a":B<1130?"\u4e0a\u5348":B<1230?"\u4e2d\u5348":B<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(P,I){switch(I){case"d":case"D":case"DDD":return P+"\u65e5";case"M":return P+"\u6708";case"w":case"W":return P+"\u9031";default:return P}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(v(6738))},6738:function(be,ie,v){(be=v.nmd(be)).exports=function(){"use strict";var $,Ae;function S(){return $.apply(null,arguments)}function I(V){return V instanceof Array||"[object Array]"===Object.prototype.toString.call(V)}function N(V){return null!=V&&"[object Object]"===Object.prototype.toString.call(V)}function B(V,ue){return Object.prototype.hasOwnProperty.call(V,ue)}function R(V){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(V).length;var ue;for(ue in V)if(B(V,ue))return!1;return!0}function W(V){return void 0===V}function F(V){return"number"==typeof V||"[object Number]"===Object.prototype.toString.call(V)}function U(V){return V instanceof Date||"[object Date]"===Object.prototype.toString.call(V)}function G(V,ue){var Le,De=[];for(Le=0;Le<V.length;++Le)De.push(ue(V[Le],Le));return De}function K(V,ue){for(var De in ue)B(ue,De)&&(V[De]=ue[De]);return B(ue,"toString")&&(V.toString=ue.toString),B(ue,"valueOf")&&(V.valueOf=ue.valueOf),V}function J(V,ue,De,Le){return Jh(V,ue,De,Le,!0).utc()}function ce(V){return null==V._pf&&(V._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),V._pf}function je(V){if(null==V._isValid){var ue=ce(V),De=Ae.call(ue.parsedDateParts,function(Ze){return null!=Ze}),Le=!isNaN(V._d.getTime())&&ue.overflow<0&&!ue.empty&&!ue.invalidEra&&!ue.invalidMonth&&!ue.invalidWeekday&&!ue.weekdayMismatch&&!ue.nullInput&&!ue.invalidFormat&&!ue.userInvalidated&&(!ue.meridiem||ue.meridiem&&De);if(V._strict&&(Le=Le&&0===ue.charsLeftOver&&0===ue.unusedTokens.length&&void 0===ue.bigHour),null!=Object.isFrozen&&Object.isFrozen(V))return Le;V._isValid=Le}return V._isValid}function Ie(V){var ue=J(NaN);return null!=V?K(ce(ue),V):ce(ue).userInvalidated=!0,ue}Ae=Array.prototype.some?Array.prototype.some:function(V){var Le,ue=Object(this),De=ue.length>>>0;for(Le=0;Le<De;Le++)if(Le in ue&&V.call(this,ue[Le],Le,ue))return!0;return!1};var ze=S.momentProperties=[],et=!1;function Te(V,ue){var De,Le,Ze;if(W(ue._isAMomentObject)||(V._isAMomentObject=ue._isAMomentObject),W(ue._i)||(V._i=ue._i),W(ue._f)||(V._f=ue._f),W(ue._l)||(V._l=ue._l),W(ue._strict)||(V._strict=ue._strict),W(ue._tzm)||(V._tzm=ue._tzm),W(ue._isUTC)||(V._isUTC=ue._isUTC),W(ue._offset)||(V._offset=ue._offset),W(ue._pf)||(V._pf=ce(ue)),W(ue._locale)||(V._locale=ue._locale),ze.length>0)for(De=0;De<ze.length;De++)W(Ze=ue[Le=ze[De]])||(V[Le]=Ze);return V}function We(V){Te(this,V),this._d=new Date(null!=V._d?V._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===et&&(et=!0,S.updateOffset(this),et=!1)}function ge(V){return V instanceof We||null!=V&&null!=V._isAMomentObject}function we(V){!1===S.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+V)}function Se(V,ue){var De=!0;return K(function(){if(null!=S.deprecationHandler&&S.deprecationHandler(null,V),De){var Ze,Ct,dn,Le=[];for(Ct=0;Ct<arguments.length;Ct++){if(Ze="","object"==typeof arguments[Ct]){for(dn in Ze+="\n["+Ct+"] ",arguments[0])B(arguments[0],dn)&&(Ze+=dn+": "+arguments[0][dn]+", ");Ze=Ze.slice(0,-2)}else Ze=arguments[Ct];Le.push(Ze)}we(V+"\nArguments: "+Array.prototype.slice.call(Le).join("")+"\n"+(new Error).stack),De=!1}return ue.apply(this,arguments)},ue)}var rt,re={};function Re(V,ue){null!=S.deprecationHandler&&S.deprecationHandler(V,ue),re[V]||(we(ue),re[V]=!0)}function Be(V){return"undefined"!=typeof Function&&V instanceof Function||"[object Function]"===Object.prototype.toString.call(V)}function Ke(V,ue){var Le,De=K({},V);for(Le in ue)B(ue,Le)&&(N(V[Le])&&N(ue[Le])?(De[Le]={},K(De[Le],V[Le]),K(De[Le],ue[Le])):null!=ue[Le]?De[Le]=ue[Le]:delete De[Le]);for(Le in V)B(V,Le)&&!B(ue,Le)&&N(V[Le])&&(De[Le]=K({},De[Le]));return De}function Qe(V){null!=V&&this.set(V)}S.suppressDeprecationWarnings=!1,S.deprecationHandler=null,rt=Object.keys?Object.keys:function(V){var ue,De=[];for(ue in V)B(V,ue)&&De.push(ue);return De};function kt(V,ue,De){var Le=""+Math.abs(V);return(V>=0?De?"+":"":"-")+Math.pow(10,Math.max(0,ue-Le.length)).toString().substr(1)+Le}var $t=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,on=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,On={},Cn={};function Kt(V,ue,De,Le){var Ze=Le;"string"==typeof Le&&(Ze=function(){return this[Le]()}),V&&(Cn[V]=Ze),ue&&(Cn[ue[0]]=function(){return kt(Ze.apply(this,arguments),ue[1],ue[2])}),De&&(Cn[De]=function(){return this.localeData().ordinal(Ze.apply(this,arguments),V)})}function cn(V){return V.match(/\[[\s\S]/)?V.replace(/^\[|\]$/g,""):V.replace(/\\/g,"")}function mi(V,ue){return V.isValid()?(ue=dt(ue,V.localeData()),On[ue]=On[ue]||function(V){var De,Le,ue=V.match($t);for(De=0,Le=ue.length;De<Le;De++)ue[De]=Cn[ue[De]]?Cn[ue[De]]:cn(ue[De]);return function(Ze){var dn,Ct="";for(dn=0;dn<Le;dn++)Ct+=Be(ue[dn])?ue[dn].call(Ze,V):ue[dn];return Ct}}(ue),On[ue](V)):V.localeData().invalidDate()}function dt(V,ue){var De=5;function Le(Ze){return ue.longDateFormat(Ze)||Ze}for(on.lastIndex=0;De>=0&&on.test(V);)V=V.replace(on,Le),on.lastIndex=0,De-=1;return V}var Tn={};function ir(V,ue){var De=V.toLowerCase();Tn[De]=Tn[De+"s"]=Tn[ue]=V}function Tr(V){return"string"==typeof V?Tn[V]||Tn[V.toLowerCase()]:void 0}function hi(V){var De,Le,ue={};for(Le in V)B(V,Le)&&(De=Tr(Le))&&(ue[De]=V[Le]);return ue}var mr={};function ni(V,ue){mr[V]=ue}function Ii(V){return V%4==0&&V%100!=0||V%400==0}function Pt(V){return V<0?Math.ceil(V)||0:Math.floor(V)}function wr(V){var ue=+V,De=0;return 0!==ue&&isFinite(ue)&&(De=Pt(ue)),De}function Ur(V,ue){return function(De){return null!=De?(vs(this,V,De),S.updateOffset(this,ue),this):ra(this,V)}}function ra(V,ue){return V.isValid()?V._d["get"+(V._isUTC?"UTC":"")+ue]():NaN}function vs(V,ue,De){V.isValid()&&!isNaN(De)&&("FullYear"===ue&&Ii(V.year())&&1===V.month()&&29===V.date()?(De=wr(De),V._d["set"+(V._isUTC?"UTC":"")+ue](De,V.month(),Ju(De,V.month()))):V._d["set"+(V._isUTC?"UTC":"")+ue](De))}var Cu,Aa=/\d/,ia=/\d\d/,bl=/\d{3}/,Bl=/\d{4}/,Zu=/[+-]?\d{6}/,Qi=/\d\d?/,Lr=/\d\d\d\d?/,pi=/\d\d\d\d\d\d?/,wu=/\d{1,3}/,Sn=/\d{1,4}/,$e=/[+-]?\d{1,6}/,ho=/\d+/,Cr=/[+-]?\d+/,vr=/Z|[+-]\d\d:?\d\d/gi,$u=/Z|[+-]\d\d(?::?\d\d)?/gi,rs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Hn(V,ue,De){Cu[V]=Be(ue)?ue:function(Le,Ze){return Le&&De?De:ue}}function Pr(V,ue){return B(Cu,V)?Cu[V](ue._strict,ue._locale):new RegExp(function(V){return Os(V.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(ue,De,Le,Ze,Ct){return De||Le||Ze||Ct}))}(V))}function Os(V){return V.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Cu={};var jo={};function Fi(V,ue){var De,Le=ue;for("string"==typeof V&&(V=[V]),F(ue)&&(Le=function(Ze,Ct){Ct[ue]=wr(Ze)}),De=0;De<V.length;De++)jo[V[De]]=Le}function Wo(V,ue){Fi(V,function(De,Le,Ze,Ct){Ze._w=Ze._w||{},ue(De,Ze._w,Ze,Ct)})}function Ta(V,ue,De){null!=ue&&B(jo,V)&&jo[V](ue,De._a,De,V)}var ur;function Ju(V,ue){if(isNaN(V)||isNaN(ue))return NaN;var De=function(V,ue){return(V%ue+ue)%ue}(ue,12);return V+=(ue-De)/12,1===De?Ii(V)?29:28:31-De%7%2}ur=Array.prototype.indexOf?Array.prototype.indexOf:function(V){var ue;for(ue=0;ue<this.length;++ue)if(this[ue]===V)return ue;return-1},Kt("M",["MM",2],"Mo",function(){return this.month()+1}),Kt("MMM",0,0,function(V){return this.localeData().monthsShort(this,V)}),Kt("MMMM",0,0,function(V){return this.localeData().months(this,V)}),ir("month","M"),ni("month",8),Hn("M",Qi),Hn("MM",Qi,ia),Hn("MMM",function(V,ue){return ue.monthsShortRegex(V)}),Hn("MMMM",function(V,ue){return ue.monthsRegex(V)}),Fi(["M","MM"],function(V,ue){ue[1]=wr(V)-1}),Fi(["MMM","MMMM"],function(V,ue,De,Le){var Ze=De._locale.monthsParse(V,Le,De._strict);null!=Ze?ue[1]=Ze:ce(De).invalidMonth=V});var Ws="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Wi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Jc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,uc=rs,lc=rs;function Nt(V,ue,De){var Le,Ze,Ct,dn=V.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Le=0;Le<12;++Le)Ct=J([2e3,Le]),this._shortMonthsParse[Le]=this.monthsShort(Ct,"").toLocaleLowerCase(),this._longMonthsParse[Le]=this.months(Ct,"").toLocaleLowerCase();return De?"MMM"===ue?-1!==(Ze=ur.call(this._shortMonthsParse,dn))?Ze:null:-1!==(Ze=ur.call(this._longMonthsParse,dn))?Ze:null:"MMM"===ue?-1!==(Ze=ur.call(this._shortMonthsParse,dn))||-1!==(Ze=ur.call(this._longMonthsParse,dn))?Ze:null:-1!==(Ze=ur.call(this._longMonthsParse,dn))||-1!==(Ze=ur.call(this._shortMonthsParse,dn))?Ze:null}function Vn(V,ue){var De;if(!V.isValid())return V;if("string"==typeof ue)if(/^\d+$/.test(ue))ue=wr(ue);else if(!F(ue=V.localeData().monthsParse(ue)))return V;return De=Math.min(V.date(),Ju(V.year(),ue)),V._d["set"+(V._isUTC?"UTC":"")+"Month"](ue,De),V}function Qn(V){return null!=V?(Vn(this,V),S.updateOffset(this,!0),this):ra(this,"Month")}function zr(){function V(dn,jr){return jr.length-dn.length}var Ze,Ct,ue=[],De=[],Le=[];for(Ze=0;Ze<12;Ze++)Ct=J([2e3,Ze]),ue.push(this.monthsShort(Ct,"")),De.push(this.months(Ct,"")),Le.push(this.months(Ct,"")),Le.push(this.monthsShort(Ct,""));for(ue.sort(V),De.sort(V),Le.sort(V),Ze=0;Ze<12;Ze++)ue[Ze]=Os(ue[Ze]),De[Ze]=Os(De[Ze]);for(Ze=0;Ze<24;Ze++)Le[Ze]=Os(Le[Ze]);this._monthsRegex=new RegExp("^("+Le.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+De.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+ue.join("|")+")","i")}function qt(V){return Ii(V)?366:365}Kt("Y",0,0,function(){var V=this.year();return V<=9999?kt(V,4):"+"+V}),Kt(0,["YY",2],0,function(){return this.year()%100}),Kt(0,["YYYY",4],0,"year"),Kt(0,["YYYYY",5],0,"year"),Kt(0,["YYYYYY",6,!0],0,"year"),ir("year","y"),ni("year",1),Hn("Y",Cr),Hn("YY",Qi,ia),Hn("YYYY",Sn,Bl),Hn("YYYYY",$e,Zu),Hn("YYYYYY",$e,Zu),Fi(["YYYYY","YYYYYY"],0),Fi("YYYY",function(V,ue){ue[0]=2===V.length?S.parseTwoDigitYear(V):wr(V)}),Fi("YY",function(V,ue){ue[0]=S.parseTwoDigitYear(V)}),Fi("Y",function(V,ue){ue[0]=parseInt(V,10)}),S.parseTwoDigitYear=function(V){return wr(V)+(wr(V)>68?1900:2e3)};var Hs=Ur("FullYear",!0);function Oe(V,ue,De,Le,Ze,Ct,dn){var jr;return V<100&&V>=0?(jr=new Date(V+400,ue,De,Le,Ze,Ct,dn),isFinite(jr.getFullYear())&&jr.setFullYear(V)):jr=new Date(V,ue,De,Le,Ze,Ct,dn),jr}function ot(V){var ue,De;return V<100&&V>=0?((De=Array.prototype.slice.call(arguments))[0]=V+400,ue=new Date(Date.UTC.apply(null,De)),isFinite(ue.getUTCFullYear())&&ue.setUTCFullYear(V)):ue=new Date(Date.UTC.apply(null,arguments)),ue}function Ft(V,ue,De){var Le=7+ue-De;return-(7+ot(V,0,Le).getUTCDay()-ue)%7+Le-1}function fn(V,ue,De,Le,Ze){var as,Mi,jr=1+7*(ue-1)+(7+De-Le)%7+Ft(V,Le,Ze);return jr<=0?Mi=qt(as=V-1)+jr:jr>qt(V)?(as=V+1,Mi=jr-qt(V)):(as=V,Mi=jr),{year:as,dayOfYear:Mi}}function wn(V,ue,De){var Ct,dn,Le=Ft(V.year(),ue,De),Ze=Math.floor((V.dayOfYear()-Le-1)/7)+1;return Ze<1?Ct=Ze+lr(dn=V.year()-1,ue,De):Ze>lr(V.year(),ue,De)?(Ct=Ze-lr(V.year(),ue,De),dn=V.year()+1):(dn=V.year(),Ct=Ze),{week:Ct,year:dn}}function lr(V,ue,De){var Le=Ft(V,ue,De),Ze=Ft(V+1,ue,De);return(qt(V)-Le+Ze)/7}Kt("w",["ww",2],"wo","week"),Kt("W",["WW",2],"Wo","isoWeek"),ir("week","w"),ir("isoWeek","W"),ni("week",5),ni("isoWeek",5),Hn("w",Qi),Hn("ww",Qi,ia),Hn("W",Qi),Hn("WW",Qi,ia),Wo(["w","ww","W","WW"],function(V,ue,De,Le){ue[Le.substr(0,1)]=wr(V)});function ht(V,ue){return V.slice(ue,7).concat(V.slice(0,ue))}Kt("d",0,"do","day"),Kt("dd",0,0,function(V){return this.localeData().weekdaysMin(this,V)}),Kt("ddd",0,0,function(V){return this.localeData().weekdaysShort(this,V)}),Kt("dddd",0,0,function(V){return this.localeData().weekdays(this,V)}),Kt("e",0,0,"weekday"),Kt("E",0,0,"isoWeekday"),ir("day","d"),ir("weekday","e"),ir("isoWeekday","E"),ni("day",11),ni("weekday",11),ni("isoWeekday",11),Hn("d",Qi),Hn("e",Qi),Hn("E",Qi),Hn("dd",function(V,ue){return ue.weekdaysMinRegex(V)}),Hn("ddd",function(V,ue){return ue.weekdaysShortRegex(V)}),Hn("dddd",function(V,ue){return ue.weekdaysRegex(V)}),Wo(["dd","ddd","dddd"],function(V,ue,De,Le){var Ze=De._locale.weekdaysParse(V,Le,De._strict);null!=Ze?ue.d=Ze:ce(De).invalidWeekday=V}),Wo(["d","e","E"],function(V,ue,De,Le){ue[Le]=wr(V)});var Qc="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ff="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),su="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Di=rs,th=rs,xl=rs;function so(V,ue,De){var Le,Ze,Ct,dn=V.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Le=0;Le<7;++Le)Ct=J([2e3,1]).day(Le),this._minWeekdaysParse[Le]=this.weekdaysMin(Ct,"").toLocaleLowerCase(),this._shortWeekdaysParse[Le]=this.weekdaysShort(Ct,"").toLocaleLowerCase(),this._weekdaysParse[Le]=this.weekdays(Ct,"").toLocaleLowerCase();return De?"dddd"===ue?-1!==(Ze=ur.call(this._weekdaysParse,dn))?Ze:null:"ddd"===ue?-1!==(Ze=ur.call(this._shortWeekdaysParse,dn))?Ze:null:-1!==(Ze=ur.call(this._minWeekdaysParse,dn))?Ze:null:"dddd"===ue?-1!==(Ze=ur.call(this._weekdaysParse,dn))||-1!==(Ze=ur.call(this._shortWeekdaysParse,dn))||-1!==(Ze=ur.call(this._minWeekdaysParse,dn))?Ze:null:"ddd"===ue?-1!==(Ze=ur.call(this._shortWeekdaysParse,dn))||-1!==(Ze=ur.call(this._weekdaysParse,dn))||-1!==(Ze=ur.call(this._minWeekdaysParse,dn))?Ze:null:-1!==(Ze=ur.call(this._minWeekdaysParse,dn))||-1!==(Ze=ur.call(this._weekdaysParse,dn))||-1!==(Ze=ur.call(this._shortWeekdaysParse,dn))?Ze:null}function qi(){function V(Gl,xc){return xc.length-Gl.length}var Ct,dn,jr,as,Mi,ue=[],De=[],Le=[],Ze=[];for(Ct=0;Ct<7;Ct++)dn=J([2e3,1]).day(Ct),jr=Os(this.weekdaysMin(dn,"")),as=Os(this.weekdaysShort(dn,"")),Mi=Os(this.weekdays(dn,"")),ue.push(jr),De.push(as),Le.push(Mi),Ze.push(jr),Ze.push(as),Ze.push(Mi);ue.sort(V),De.sort(V),Le.sort(V),Ze.sort(V),this._weekdaysRegex=new RegExp("^("+Ze.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Le.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+ue.join("|")+")","i")}function hf(){return this.hours()%12||12}function Bn(V,ue){Kt(V,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),ue)})}function Ys(V,ue){return ue._meridiemParse}Kt("H",["HH",2],0,"hour"),Kt("h",["hh",2],0,hf),Kt("k",["kk",2],0,function(){return this.hours()||24}),Kt("hmm",0,0,function(){return""+hf.apply(this)+kt(this.minutes(),2)}),Kt("hmmss",0,0,function(){return""+hf.apply(this)+kt(this.minutes(),2)+kt(this.seconds(),2)}),Kt("Hmm",0,0,function(){return""+this.hours()+kt(this.minutes(),2)}),Kt("Hmmss",0,0,function(){return""+this.hours()+kt(this.minutes(),2)+kt(this.seconds(),2)}),Bn("a",!0),Bn("A",!1),ir("hour","h"),ni("hour",13),Hn("a",Ys),Hn("A",Ys),Hn("H",Qi),Hn("h",Qi),Hn("k",Qi),Hn("HH",Qi,ia),Hn("hh",Qi,ia),Hn("kk",Qi,ia),Hn("hmm",Lr),Hn("hmmss",pi),Hn("Hmm",Lr),Hn("Hmmss",pi),Fi(["H","HH"],3),Fi(["k","kk"],function(V,ue,De){var Le=wr(V);ue[3]=24===Le?0:Le}),Fi(["a","A"],function(V,ue,De){De._isPm=De._locale.isPM(V),De._meridiem=V}),Fi(["h","hh"],function(V,ue,De){ue[3]=wr(V),ce(De).bigHour=!0}),Fi("hmm",function(V,ue,De){var Le=V.length-2;ue[3]=wr(V.substr(0,Le)),ue[4]=wr(V.substr(Le)),ce(De).bigHour=!0}),Fi("hmmss",function(V,ue,De){var Le=V.length-4,Ze=V.length-2;ue[3]=wr(V.substr(0,Le)),ue[4]=wr(V.substr(Le,2)),ue[5]=wr(V.substr(Ze)),ce(De).bigHour=!0}),Fi("Hmm",function(V,ue,De){var Le=V.length-2;ue[3]=wr(V.substr(0,Le)),ue[4]=wr(V.substr(Le))}),Fi("Hmmss",function(V,ue,De){var Le=V.length-4,Ze=V.length-2;ue[3]=wr(V.substr(0,Le)),ue[4]=wr(V.substr(Le,2)),ue[5]=wr(V.substr(Ze))});var hc=Ur("Hours",!0);var yi,ih={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ws,monthsShort:Wi,week:{dow:0,doy:6},weekdays:Qc,weekdaysMin:su,weekdaysShort:ff,meridiemParse:/[ap]\.?m?\.?/i},Hi={},er={};function ks(V,ue){var De,Le=Math.min(V.length,ue.length);for(De=0;De<Le;De+=1)if(V[De]!==ue[De])return De;return Le}function So(V){return V&&V.toLowerCase().replace("_","-")}function Wa(V){var ue=null;if(void 0===Hi[V]&&be&&be.exports)try{ue=yi._abbr,v(6700)("./"+V),Ha(ue)}catch(Le){Hi[V]=null}return Hi[V]}function Ha(V,ue){var De;return V&&((De=W(ue)?Ds(V):Na(V,ue))?yi=De:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+V+" not found. Did you forget to load it?")),yi._abbr}function Na(V,ue){if(null!==ue){var De,Le=ih;if(ue.abbr=V,null!=Hi[V])Re("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Le=Hi[V]._config;else if(null!=ue.parentLocale)if(null!=Hi[ue.parentLocale])Le=Hi[ue.parentLocale]._config;else{if(null==(De=Wa(ue.parentLocale)))return er[ue.parentLocale]||(er[ue.parentLocale]=[]),er[ue.parentLocale].push({name:V,config:ue}),null;Le=De._config}return Hi[V]=new Qe(Ke(Le,ue)),er[V]&&er[V].forEach(function(Ze){Na(Ze.name,Ze.config)}),Ha(V),Hi[V]}return delete Hi[V],null}function Ds(V){var ue;if(V&&V._locale&&V._locale._abbr&&(V=V._locale._abbr),!V)return yi;if(!I(V)){if(ue=Wa(V))return ue;V=[V]}return function(V){for(var De,Le,Ze,Ct,ue=0;ue<V.length;){for(De=(Ct=So(V[ue]).split("-")).length,Le=(Le=So(V[ue+1]))?Le.split("-"):null;De>0;){if(Ze=Wa(Ct.slice(0,De).join("-")))return Ze;if(Le&&Le.length>=De&&ks(Ct,Le)>=De-1)break;De--}ue++}return yi}(V)}function $l(V){var ue,De=V._a;return De&&-2===ce(V).overflow&&(ue=De[1]<0||De[1]>11?1:De[2]<1||De[2]>Ju(De[0],De[1])?2:De[3]<0||De[3]>24||24===De[3]&&(0!==De[4]||0!==De[5]||0!==De[6])?3:De[4]<0||De[4]>59?4:De[5]<0||De[5]>59?5:De[6]<0||De[6]>999?6:-1,ce(V)._overflowDayOfYear&&(ue<0||ue>2)&&(ue=2),ce(V)._overflowWeeks&&-1===ue&&(ue=7),ce(V)._overflowWeekday&&-1===ue&&(ue=8),ce(V).overflow=ue),V}var Vl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,S0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sh=/Z|[+-]\d\d(?::?\d\d)?/,au=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Gs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mo=/^\/?Date\((-?\d+)/i,zl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ls={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Xh(V){var ue,De,Ct,dn,jr,as,Le=V._i,Ze=Vl.exec(Le)||S0.exec(Le);if(Ze){for(ce(V).iso=!0,ue=0,De=au.length;ue<De;ue++)if(au[ue][1].exec(Ze[1])){dn=au[ue][0],Ct=!1!==au[ue][2];break}if(null==dn)return void(V._isValid=!1);if(Ze[3]){for(ue=0,De=Gs.length;ue<De;ue++)if(Gs[ue][1].exec(Ze[3])){jr=(Ze[2]||" ")+Gs[ue][0];break}if(null==jr)return void(V._isValid=!1)}if(!Ct&&null!=jr)return void(V._isValid=!1);if(Ze[4]){if(!sh.exec(Ze[4]))return void(V._isValid=!1);as="Z"}V._f=dn+(jr||"")+(as||""),Vu(V)}else V._isValid=!1}function ah(V){var ue=parseInt(V,10);return ue<=49?2e3+ue:ue<=999?1900+ue:ue}function kd(V){var De,ue=zl.exec(function(V){return V.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(V._i));if(ue){if(De=function(V,ue,De,Le,Ze,Ct){var dn=[ah(V),Wi.indexOf(ue),parseInt(De,10),parseInt(Le,10),parseInt(Ze,10)];return Ct&&dn.push(parseInt(Ct,10)),dn}(ue[4],ue[3],ue[2],ue[5],ue[6],ue[7]),!function(V,ue,De){return!V||ff.indexOf(V)===new Date(ue[0],ue[1],ue[2]).getDay()||(ce(De).weekdayMismatch=!0,De._isValid=!1,!1)}(ue[1],De,V))return;V._a=De,V._tzm=function(V,ue,De){if(V)return Ls[V];if(ue)return 0;var Le=parseInt(De,10),Ze=Le%100;return(Le-Ze)/100*60+Ze}(ue[8],ue[9],ue[10]),V._d=ot.apply(null,V._a),V._d.setUTCMinutes(V._d.getUTCMinutes()-V._tzm),ce(V).rfc2822=!0}else V._isValid=!1}function oh(V,ue,De){return null!=V?V:null!=ue?ue:De}function Ui(V){var ue,De,Ze,Ct,dn,Le=[];if(!V._d){for(Ze=function(V){var ue=new Date(S.now());return V._useUTC?[ue.getUTCFullYear(),ue.getUTCMonth(),ue.getUTCDate()]:[ue.getFullYear(),ue.getMonth(),ue.getDate()]}(V),V._w&&null==V._a[2]&&null==V._a[1]&&function(V){var ue,De,Le,Ze,Ct,dn,jr,as,Mi;null!=(ue=V._w).GG||null!=ue.W||null!=ue.E?(Ct=1,dn=4,De=oh(ue.GG,V._a[0],wn(zi(),1,4).year),Le=oh(ue.W,1),((Ze=oh(ue.E,1))<1||Ze>7)&&(as=!0)):(Ct=V._locale._week.dow,dn=V._locale._week.doy,Mi=wn(zi(),Ct,dn),De=oh(ue.gg,V._a[0],Mi.year),Le=oh(ue.w,Mi.week),null!=ue.d?((Ze=ue.d)<0||Ze>6)&&(as=!0):null!=ue.e?(Ze=ue.e+Ct,(ue.e<0||ue.e>6)&&(as=!0)):Ze=Ct),Le<1||Le>lr(De,Ct,dn)?ce(V)._overflowWeeks=!0:null!=as?ce(V)._overflowWeekday=!0:(jr=fn(De,Le,Ze,Ct,dn),V._a[0]=jr.year,V._dayOfYear=jr.dayOfYear)}(V),null!=V._dayOfYear&&(dn=oh(V._a[0],Ze[0]),(V._dayOfYear>qt(dn)||0===V._dayOfYear)&&(ce(V)._overflowDayOfYear=!0),De=ot(dn,0,V._dayOfYear),V._a[1]=De.getUTCMonth(),V._a[2]=De.getUTCDate()),ue=0;ue<3&&null==V._a[ue];++ue)V._a[ue]=Le[ue]=Ze[ue];for(;ue<7;ue++)V._a[ue]=Le[ue]=null==V._a[ue]?2===ue?1:0:V._a[ue];24===V._a[3]&&0===V._a[4]&&0===V._a[5]&&0===V._a[6]&&(V._nextDay=!0,V._a[3]=0),V._d=(V._useUTC?ot:Oe).apply(null,Le),Ct=V._useUTC?V._d.getUTCDay():V._d.getDay(),null!=V._tzm&&V._d.setUTCMinutes(V._d.getUTCMinutes()-V._tzm),V._nextDay&&(V._a[3]=24),V._w&&void 0!==V._w.d&&V._w.d!==Ct&&(ce(V).weekdayMismatch=!0)}}function Vu(V){if(V._f!==S.ISO_8601)if(V._f!==S.RFC_2822){V._a=[],ce(V).empty=!0;var De,Le,Ze,Ct,dn,Mi,ue=""+V._i,jr=ue.length,as=0;for(Ze=dt(V._f,V._locale).match($t)||[],De=0;De<Ze.length;De++)(Le=(ue.match(Pr(Ct=Ze[De],V))||[])[0])&&((dn=ue.substr(0,ue.indexOf(Le))).length>0&&ce(V).unusedInput.push(dn),ue=ue.slice(ue.indexOf(Le)+Le.length),as+=Le.length),Cn[Ct]?(Le?ce(V).empty=!1:ce(V).unusedTokens.push(Ct),Ta(Ct,Le,V)):V._strict&&!Le&&ce(V).unusedTokens.push(Ct);ce(V).charsLeftOver=jr-as,ue.length>0&&ce(V).unusedInput.push(ue),V._a[3]<=12&&!0===ce(V).bigHour&&V._a[3]>0&&(ce(V).bigHour=void 0),ce(V).parsedDateParts=V._a.slice(0),ce(V).meridiem=V._meridiem,V._a[3]=function(V,ue,De){var Le;return null==De?ue:null!=V.meridiemHour?V.meridiemHour(ue,De):(null!=V.isPM&&((Le=V.isPM(De))&&ue<12&&(ue+=12),!Le&&12===ue&&(ue=0)),ue)}(V._locale,V._a[3],V._meridiem),null!==(Mi=ce(V).era)&&(V._a[0]=V._locale.erasConvertYear(Mi,V._a[0])),Ui(V),$l(V)}else kd(V);else Xh(V)}function Oa(V){var ue=V._i,De=V._f;return V._locale=V._locale||Ds(V._l),null===ue||void 0===De&&""===ue?Ie({nullInput:!0}):("string"==typeof ue&&(V._i=ue=V._locale.preparse(ue)),ge(ue)?new We($l(ue)):(U(ue)?V._d=ue:I(De)?function(V){var ue,De,Le,Ze,Ct,dn,jr=!1;if(0===V._f.length)return ce(V).invalidFormat=!0,void(V._d=new Date(NaN));for(Ze=0;Ze<V._f.length;Ze++)Ct=0,dn=!1,ue=Te({},V),null!=V._useUTC&&(ue._useUTC=V._useUTC),ue._f=V._f[Ze],Vu(ue),je(ue)&&(dn=!0),Ct+=ce(ue).charsLeftOver,Ct+=10*ce(ue).unusedTokens.length,ce(ue).score=Ct,jr?Ct<Le&&(Le=Ct,De=ue):(null==Le||Ct<Le||dn)&&(Le=Ct,De=ue,dn&&(jr=!0));K(V,De||ue)}(V):De?Vu(V):function(V){var ue=V._i;W(ue)?V._d=new Date(S.now()):U(ue)?V._d=new Date(ue.valueOf()):"string"==typeof ue?function(V){var ue=mo.exec(V._i);null===ue?(Xh(V),!1===V._isValid&&(delete V._isValid,kd(V),!1===V._isValid&&(delete V._isValid,V._strict?V._isValid=!1:S.createFromInputFallback(V)))):V._d=new Date(+ue[1])}(V):I(ue)?(V._a=G(ue.slice(0),function(De){return parseInt(De,10)}),Ui(V)):N(ue)?function(V){if(!V._d){var ue=hi(V._i);V._a=G([ue.year,ue.month,void 0===ue.day?ue.date:ue.day,ue.hour,ue.minute,ue.second,ue.millisecond],function(Le){return Le&&parseInt(Le,10)}),Ui(V)}}(V):F(ue)?V._d=new Date(ue):S.createFromInputFallback(V)}(V),je(V)||(V._d=null),V))}function Jh(V,ue,De,Le,Ze){var Ct={};return(!0===ue||!1===ue)&&(Le=ue,ue=void 0),(!0===De||!1===De)&&(Le=De,De=void 0),(N(V)&&R(V)||I(V)&&0===V.length)&&(V=void 0),Ct._isAMomentObject=!0,Ct._useUTC=Ct._isUTC=Ze,Ct._l=De,Ct._i=V,Ct._f=ue,Ct._strict=Le,function(V){var ue=new We($l(Oa(V)));return ue._nextDay&&(ue.add(1,"d"),ue._nextDay=void 0),ue}(Ct)}function zi(V,ue,De,Le){return Jh(V,ue,De,Le,!1)}S.createFromInputFallback=Se("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(V){V._d=new Date(V._i+(V._useUTC?" UTC":""))}),S.ISO_8601=function(){},S.RFC_2822=function(){};var jl=Se("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var V=zi.apply(null,arguments);return this.isValid()&&V.isValid()?V<this?this:V:Ie()}),Ai=Se("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var V=zi.apply(null,arguments);return this.isValid()&&V.isValid()?V>this?this:V:Ie()});function rg(V,ue){var De,Le;if(1===ue.length&&I(ue[0])&&(ue=ue[0]),!ue.length)return zi();for(De=ue[0],Le=1;Le<ue.length;++Le)(!ue[Le].isValid()||ue[Le][V](De))&&(De=ue[Le]);return De}var pc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function gf(V){var ue=hi(V),De=ue.year||0,Le=ue.quarter||0,Ze=ue.month||0,Ct=ue.week||ue.isoWeek||0,dn=ue.day||0,jr=ue.hour||0,as=ue.minute||0,Mi=ue.second||0,Gl=ue.millisecond||0;this._isValid=function(V){var ue,Le,De=!1;for(ue in V)if(B(V,ue)&&(-1===ur.call(pc,ue)||null!=V[ue]&&isNaN(V[ue])))return!1;for(Le=0;Le<pc.length;++Le)if(V[pc[Le]]){if(De)return!1;parseFloat(V[pc[Le]])!==wr(V[pc[Le]])&&(De=!0)}return!0}(ue),this._milliseconds=+Gl+1e3*Mi+6e4*as+1e3*jr*60*60,this._days=+dn+7*Ct,this._months=+Ze+3*Le+12*De,this._data={},this._locale=Ds(),this._bubble()}function sg(V){return V instanceof gf}function ag(V){return V<0?-1*Math.round(-1*V):Math.round(V)}function Gx(V,ue){Kt(V,0,0,function(){var De=this.utcOffset(),Le="+";return De<0&&(De=-De,Le="-"),Le+kt(~~(De/60),2)+ue+kt(~~De%60,2)})}Gx("Z",":"),Gx("ZZ",""),Hn("Z",$u),Hn("ZZ",$u),Fi(["Z","ZZ"],function(V,ue,De){De._useUTC=!0,De._tzm=sy($u,V)});var VC=/([\+\-]|\d\d)/gi;function sy(V,ue){var Ze,Ct,De=(ue||"").match(V);return null===De?null:0===(Ct=60*(Ze=((De[De.length-1]||[])+"").match(VC)||["-",0,0])[1]+wr(Ze[2]))?0:"+"===Ze[0]?Ct:-Ct}function Id(V,ue){var De,Le;return ue._isUTC?(De=ue.clone(),Le=(ge(V)||U(V)?V.valueOf():zi(V).valueOf())-De.valueOf(),De._d.setTime(De._d.valueOf()+Le),S.updateOffset(De,!1),De):zi(V).local()}function ep(V){return-Math.round(V._d.getTimezoneOffset())}function Ul(){return!!this.isValid()&&this._isUTC&&0===this._offset}S.updateOffset=function(){};var Ks=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ug=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function td(V,ue){var Ze,Ct,dn,De=V,Le=null;return sg(V)?De={ms:V._milliseconds,d:V._days,M:V._months}:F(V)||!isNaN(+V)?(De={},ue?De[ue]=+V:De.milliseconds=+V):(Le=Ks.exec(V))?(Ze="-"===Le[1]?-1:1,De={y:0,d:wr(Le[2])*Ze,h:wr(Le[3])*Ze,m:wr(Le[4])*Ze,s:wr(Le[5])*Ze,ms:wr(ag(1e3*Le[6]))*Ze}):(Le=ug.exec(V))?De={y:yf(Le[2],Ze="-"===Le[1]?-1:1),M:yf(Le[3],Ze),w:yf(Le[4],Ze),d:yf(Le[5],Ze),h:yf(Le[6],Ze),m:yf(Le[7],Ze),s:yf(Le[8],Ze)}:null==De?De={}:"object"==typeof De&&("from"in De||"to"in De)&&(dn=function(V,ue){var De;return V.isValid()&&ue.isValid()?(ue=Id(ue,V),V.isBefore(ue)?De=Kx(V,ue):((De=Kx(ue,V)).milliseconds=-De.milliseconds,De.months=-De.months),De):{milliseconds:0,months:0}}(zi(De.from),zi(De.to)),(De={}).ms=dn.milliseconds,De.M=dn.months),Ct=new gf(De),sg(V)&&B(V,"_locale")&&(Ct._locale=V._locale),sg(V)&&B(V,"_isValid")&&(Ct._isValid=V._isValid),Ct}function yf(V,ue){var De=V&&parseFloat(V.replace(",","."));return(isNaN(De)?0:De)*ue}function Kx(V,ue){var De={};return De.months=ue.month()-V.month()+12*(ue.year()-V.year()),V.clone().add(De.months,"M").isAfter(ue)&&--De.months,De.milliseconds=+ue-+V.clone().add(De.months,"M"),De}function Wp(V,ue){return function(De,Le){var Ct;return null!==Le&&!isNaN(+Le)&&(Re(ue,"moment()."+ue+"(period, number) is deprecated. Please use moment()."+ue+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ct=De,De=Le,Le=Ct),mc(this,td(De,Le),V),this}}function mc(V,ue,De,Le){var Ze=ue._milliseconds,Ct=ag(ue._days),dn=ag(ue._months);!V.isValid()||(Le=null==Le||Le,dn&&Vn(V,ra(V,"Month")+dn*De),Ct&&vs(V,"Date",ra(V,"Date")+Ct*De),Ze&&V._d.setTime(V._d.valueOf()+Ze*De),Le&&S.updateOffset(V,Ct||dn))}td.fn=gf.prototype,td.invalid=function(){return td(NaN)};var oy=Wp(1,"add"),La=Wp(-1,"subtract");function Hp(V){return"string"==typeof V||V instanceof String}function zC(V){return ge(V)||U(V)||Hp(V)||F(V)||function(V){var ue=I(V),De=!1;return ue&&(De=0===V.filter(function(Le){return!F(Le)&&Hp(V)}).length),ue&&De}(V)||function(V){var Ze,ue=N(V)&&!R(V),De=!1,Le=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(Ze=0;Ze<Le.length;Ze+=1)De=De||B(V,Le[Ze]);return ue&&De}(V)||null==V}function A0(V){var Ze,ue=N(V)&&!R(V),De=!1,Le=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(Ze=0;Ze<Le.length;Ze+=1)De=De||B(V,Le[Ze]);return ue&&De}function rd(V,ue){if(V.date()<ue.date())return-rd(ue,V);var De=12*(ue.year()-V.year())+(ue.month()-V.month()),Le=V.clone().add(De,"months");return-(De+(ue-Le<0?(ue-Le)/(Le-V.clone().add(De-1,"months")):(ue-Le)/(V.clone().add(De+1,"months")-Le)))||0}function fr(V){var ue;return void 0===V?this._locale._abbr:(null!=(ue=Ds(V))&&(this._locale=ue),this)}S.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",S.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var To=Se("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(V){return void 0===V?this.localeData():this.locale(V)});function vf(){return this._locale}var Su=6e4,Ua=60*Su,go=3506328*Ua;function Ya(V,ue){return(V%ue+ue)%ue}function Ga(V,ue,De){return V<100&&V>=0?new Date(V+400,ue,De)-go:new Date(V,ue,De).valueOf()}function Ho(V,ue,De){return V<100&&V>=0?Date.UTC(V+400,ue,De)-go:Date.UTC(V,ue,De)}function rp(V,ue){return ue.erasAbbrRegex(V)}function Ps(){var Ze,Ct,V=[],ue=[],De=[],Le=[],dn=this.eras();for(Ze=0,Ct=dn.length;Ze<Ct;++Ze)ue.push(Os(dn[Ze].name)),V.push(Os(dn[Ze].abbr)),De.push(Os(dn[Ze].narrow)),Le.push(Os(dn[Ze].name)),Le.push(Os(dn[Ze].abbr)),Le.push(Os(dn[Ze].narrow));this._erasRegex=new RegExp("^("+Le.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+ue.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+V.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+De.join("|")+")","i")}function Wu(V,ue){Kt(0,[V,V.length],0,ue)}function fh(V,ue,De,Le,Ze){var Ct;return null==V?wn(this,Le,Ze).year:(ue>(Ct=lr(V,Le,Ze))&&(ue=Ct),fg.call(this,V,ue,De,Le,Ze))}function fg(V,ue,De,Le,Ze){var Ct=fn(V,ue,De,Le,Ze),dn=ot(Ct.year,0,Ct.dayOfYear);return this.year(dn.getUTCFullYear()),this.month(dn.getUTCMonth()),this.date(dn.getUTCDate()),this}Kt("N",0,0,"eraAbbr"),Kt("NN",0,0,"eraAbbr"),Kt("NNN",0,0,"eraAbbr"),Kt("NNNN",0,0,"eraName"),Kt("NNNNN",0,0,"eraNarrow"),Kt("y",["y",1],"yo","eraYear"),Kt("y",["yy",2],0,"eraYear"),Kt("y",["yyy",3],0,"eraYear"),Kt("y",["yyyy",4],0,"eraYear"),Hn("N",rp),Hn("NN",rp),Hn("NNN",rp),Hn("NNNN",function(V,ue){return ue.erasNameRegex(V)}),Hn("NNNNN",function(V,ue){return ue.erasNarrowRegex(V)}),Fi(["N","NN","NNN","NNNN","NNNNN"],function(V,ue,De,Le){var Ze=De._locale.erasParse(V,Le,De._strict);Ze?ce(De).era=Ze:ce(De).invalidEra=V}),Hn("y",ho),Hn("yy",ho),Hn("yyy",ho),Hn("yyyy",ho),Hn("yo",function(V,ue){return ue._eraYearOrdinalRegex||ho}),Fi(["y","yy","yyy","yyyy"],0),Fi(["yo"],function(V,ue,De,Le){var Ze;De._locale._eraYearOrdinalRegex&&(Ze=V.match(De._locale._eraYearOrdinalRegex)),ue[0]=De._locale.eraYearOrdinalParse?De._locale.eraYearOrdinalParse(V,Ze):parseInt(V,10)}),Kt(0,["gg",2],0,function(){return this.weekYear()%100}),Kt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Wu("gggg","weekYear"),Wu("ggggg","weekYear"),Wu("GGGG","isoWeekYear"),Wu("GGGGG","isoWeekYear"),ir("weekYear","gg"),ir("isoWeekYear","GG"),ni("weekYear",1),ni("isoWeekYear",1),Hn("G",Cr),Hn("g",Cr),Hn("GG",Qi,ia),Hn("gg",Qi,ia),Hn("GGGG",Sn,Bl),Hn("gggg",Sn,Bl),Hn("GGGGG",$e,Zu),Hn("ggggg",$e,Zu),Wo(["gggg","ggggg","GGGG","GGGGG"],function(V,ue,De,Le){ue[Le.substr(0,2)]=wr(V)}),Wo(["gg","GG"],function(V,ue,De,Le){ue[Le]=S.parseTwoDigitYear(V)}),Kt("Q",0,"Qo","quarter"),ir("quarter","Q"),ni("quarter",7),Hn("Q",Aa),Fi("Q",function(V,ue){ue[1]=3*(wr(V)-1)}),Kt("D",["DD",2],"Do","date"),ir("date","D"),ni("date",9),Hn("D",Qi),Hn("DD",Qi,ia),Hn("Do",function(V,ue){return V?ue._dayOfMonthOrdinalParse||ue._ordinalParse:ue._dayOfMonthOrdinalParseLenient}),Fi(["D","DD"],2),Fi("Do",function(V,ue){ue[2]=wr(V.match(Qi)[0])});var Df=Ur("Date",!0);Kt("DDD",["DDDD",3],"DDDo","dayOfYear"),ir("dayOfYear","DDD"),ni("dayOfYear",4),Hn("DDD",wu),Hn("DDDD",bl),Fi(["DDD","DDDD"],function(V,ue,De){De._dayOfYear=wr(V)}),Kt("m",["mm",2],0,"minute"),ir("minute","m"),ni("minute",14),Hn("m",Qi),Hn("mm",Qi,ia),Fi(["m","mm"],4);var Ld=Ur("Minutes",!1);Kt("s",["ss",2],0,"second"),ir("second","s"),ni("second",15),Hn("s",Qi),Hn("ss",Qi,ia),Fi(["s","ss"],5);var Fd,P0,sp=Ur("Seconds",!1);for(Kt("S",0,0,function(){return~~(this.millisecond()/100)}),Kt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Kt(0,["SSS",3],0,"millisecond"),Kt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Kt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Kt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Kt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Kt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Kt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),ir("millisecond","ms"),ni("millisecond",16),Hn("S",wu,Aa),Hn("SS",wu,ia),Hn("SSS",wu,bl),Fd="SSSS";Fd.length<=9;Fd+="S")Hn(Fd,ho);function ap(V,ue){ue[6]=wr(1e3*("0."+V))}for(Fd="S";Fd.length<=9;Fd+="S")Fi(Fd,ap);P0=Ur("Milliseconds",!1),Kt("z",0,0,"zoneAbbr"),Kt("zz",0,0,"zoneName");var Rn=We.prototype;function op(V){return V}Rn.add=oy,Rn.calendar=function(V,ue){1===arguments.length&&(arguments[0]?zC(arguments[0])?(V=arguments[0],ue=void 0):A0(arguments[0])&&(ue=arguments[0],V=void 0):(V=void 0,ue=void 0));var De=V||zi(),Le=Id(De,this).startOf("day"),Ze=S.calendarFormat(this,Le)||"sameElse",Ct=ue&&(Be(ue[Ze])?ue[Ze].call(this,De):ue[Ze]);return this.format(Ct||this.localeData().calendar(Ze,this,zi(De)))},Rn.clone=function(){return new We(this)},Rn.diff=function(V,ue,De){var Le,Ze,Ct;if(!this.isValid())return NaN;if(!(Le=Id(V,this)).isValid())return NaN;switch(Ze=6e4*(Le.utcOffset()-this.utcOffset()),ue=Tr(ue)){case"year":Ct=rd(this,Le)/12;break;case"month":Ct=rd(this,Le);break;case"quarter":Ct=rd(this,Le)/3;break;case"second":Ct=(this-Le)/1e3;break;case"minute":Ct=(this-Le)/6e4;break;case"hour":Ct=(this-Le)/36e5;break;case"day":Ct=(this-Le-Ze)/864e5;break;case"week":Ct=(this-Le-Ze)/6048e5;break;default:Ct=this-Le}return De?Ct:Pt(Ct)},Rn.endOf=function(V){var ue,De;if(void 0===(V=Tr(V))||"millisecond"===V||!this.isValid())return this;switch(De=this._isUTC?Ho:Ga,V){case"year":ue=De(this.year()+1,0,1)-1;break;case"quarter":ue=De(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":ue=De(this.year(),this.month()+1,1)-1;break;case"week":ue=De(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":ue=De(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":ue=De(this.year(),this.month(),this.date()+1)-1;break;case"hour":ue=this._d.valueOf(),ue+=Ua-Ya(ue+(this._isUTC?0:this.utcOffset()*Su),Ua)-1;break;case"minute":ue=this._d.valueOf(),ue+=Su-Ya(ue,Su)-1;break;case"second":ue=this._d.valueOf(),ue+=1e3-Ya(ue,1e3)-1}return this._d.setTime(ue),S.updateOffset(this,!0),this},Rn.format=function(V){V||(V=this.isUtc()?S.defaultFormatUtc:S.defaultFormat);var ue=mi(this,V);return this.localeData().postformat(ue)},Rn.from=function(V,ue){return this.isValid()&&(ge(V)&&V.isValid()||zi(V).isValid())?td({to:this,from:V}).locale(this.locale()).humanize(!ue):this.localeData().invalidDate()},Rn.fromNow=function(V){return this.from(zi(),V)},Rn.to=function(V,ue){return this.isValid()&&(ge(V)&&V.isValid()||zi(V).isValid())?td({from:this,to:V}).locale(this.locale()).humanize(!ue):this.localeData().invalidDate()},Rn.toNow=function(V){return this.to(zi(),V)},Rn.get=function(V){return Be(this[V=Tr(V)])?this[V]():this},Rn.invalidAt=function(){return ce(this).overflow},Rn.isAfter=function(V,ue){var De=ge(V)?V:zi(V);return!(!this.isValid()||!De.isValid())&&("millisecond"===(ue=Tr(ue)||"millisecond")?this.valueOf()>De.valueOf():De.valueOf()<this.clone().startOf(ue).valueOf())},Rn.isBefore=function(V,ue){var De=ge(V)?V:zi(V);return!(!this.isValid()||!De.isValid())&&("millisecond"===(ue=Tr(ue)||"millisecond")?this.valueOf()<De.valueOf():this.clone().endOf(ue).valueOf()<De.valueOf())},Rn.isBetween=function(V,ue,De,Le){var Ze=ge(V)?V:zi(V),Ct=ge(ue)?ue:zi(ue);return!!(this.isValid()&&Ze.isValid()&&Ct.isValid())&&("("===(Le=Le||"()")[0]?this.isAfter(Ze,De):!this.isBefore(Ze,De))&&(")"===Le[1]?this.isBefore(Ct,De):!this.isAfter(Ct,De))},Rn.isSame=function(V,ue){var Le,De=ge(V)?V:zi(V);return!(!this.isValid()||!De.isValid())&&("millisecond"===(ue=Tr(ue)||"millisecond")?this.valueOf()===De.valueOf():(Le=De.valueOf(),this.clone().startOf(ue).valueOf()<=Le&&Le<=this.clone().endOf(ue).valueOf()))},Rn.isSameOrAfter=function(V,ue){return this.isSame(V,ue)||this.isAfter(V,ue)},Rn.isSameOrBefore=function(V,ue){return this.isSame(V,ue)||this.isBefore(V,ue)},Rn.isValid=function(){return je(this)},Rn.lang=To,Rn.locale=fr,Rn.localeData=vf,Rn.max=Ai,Rn.min=jl,Rn.parsingFlags=function(){return K({},ce(this))},Rn.set=function(V,ue){if("object"==typeof V){var Le,De=function(V){var De,ue=[];for(De in V)B(V,De)&&ue.push({unit:De,priority:mr[De]});return ue.sort(function(Le,Ze){return Le.priority-Ze.priority}),ue}(V=hi(V));for(Le=0;Le<De.length;Le++)this[De[Le].unit](V[De[Le].unit])}else if(Be(this[V=Tr(V)]))return this[V](ue);return this},Rn.startOf=function(V){var ue,De;if(void 0===(V=Tr(V))||"millisecond"===V||!this.isValid())return this;switch(De=this._isUTC?Ho:Ga,V){case"year":ue=De(this.year(),0,1);break;case"quarter":ue=De(this.year(),this.month()-this.month()%3,1);break;case"month":ue=De(this.year(),this.month(),1);break;case"week":ue=De(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":ue=De(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":ue=De(this.year(),this.month(),this.date());break;case"hour":ue=this._d.valueOf(),ue-=Ya(ue+(this._isUTC?0:this.utcOffset()*Su),Ua);break;case"minute":ue=this._d.valueOf(),ue-=Ya(ue,Su);break;case"second":ue=this._d.valueOf(),ue-=Ya(ue,1e3)}return this._d.setTime(ue),S.updateOffset(this,!0),this},Rn.subtract=La,Rn.toArray=function(){var V=this;return[V.year(),V.month(),V.date(),V.hour(),V.minute(),V.second(),V.millisecond()]},Rn.toObject=function(){var V=this;return{years:V.year(),months:V.month(),date:V.date(),hours:V.hours(),minutes:V.minutes(),seconds:V.seconds(),milliseconds:V.milliseconds()}},Rn.toDate=function(){return new Date(this.valueOf())},Rn.toISOString=function(V){if(!this.isValid())return null;var ue=!0!==V,De=ue?this.clone().utc():this;return De.year()<0||De.year()>9999?mi(De,ue?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Be(Date.prototype.toISOString)?ue?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",mi(De,"Z")):mi(De,ue?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Rn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var De,Le,V="moment",ue="";return this.isLocal()||(V=0===this.utcOffset()?"moment.utc":"moment.parseZone",ue="Z"),De="["+V+'("]',Le=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(De+Le+"-MM-DD[T]HH:mm:ss.SSS"+ue+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Rn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Rn.toJSON=function(){return this.isValid()?this.toISOString():null},Rn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Rn.unix=function(){return Math.floor(this.valueOf()/1e3)},Rn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Rn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Rn.eraName=function(){var V,ue,De,Le=this.localeData().eras();for(V=0,ue=Le.length;V<ue;++V)if(De=this.clone().startOf("day").valueOf(),Le[V].since<=De&&De<=Le[V].until||Le[V].until<=De&&De<=Le[V].since)return Le[V].name;return""},Rn.eraNarrow=function(){var V,ue,De,Le=this.localeData().eras();for(V=0,ue=Le.length;V<ue;++V)if(De=this.clone().startOf("day").valueOf(),Le[V].since<=De&&De<=Le[V].until||Le[V].until<=De&&De<=Le[V].since)return Le[V].narrow;return""},Rn.eraAbbr=function(){var V,ue,De,Le=this.localeData().eras();for(V=0,ue=Le.length;V<ue;++V)if(De=this.clone().startOf("day").valueOf(),Le[V].since<=De&&De<=Le[V].until||Le[V].until<=De&&De<=Le[V].since)return Le[V].abbr;return""},Rn.eraYear=function(){var V,ue,De,Le,Ze=this.localeData().eras();for(V=0,ue=Ze.length;V<ue;++V)if(De=Ze[V].since<=Ze[V].until?1:-1,Le=this.clone().startOf("day").valueOf(),Ze[V].since<=Le&&Le<=Ze[V].until||Ze[V].until<=Le&&Le<=Ze[V].since)return(this.year()-S(Ze[V].since).year())*De+Ze[V].offset;return this.year()},Rn.year=Hs,Rn.isLeapYear=function(){return Ii(this.year())},Rn.weekYear=function(V){return fh.call(this,V,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Rn.isoWeekYear=function(V){return fh.call(this,V,this.isoWeek(),this.isoWeekday(),1,4)},Rn.quarter=Rn.quarters=function(V){return null==V?Math.ceil((this.month()+1)/3):this.month(3*(V-1)+this.month()%3)},Rn.month=Qn,Rn.daysInMonth=function(){return Ju(this.year(),this.month())},Rn.week=Rn.weeks=function(V){var ue=this.localeData().week(this);return null==V?ue:this.add(7*(V-ue),"d")},Rn.isoWeek=Rn.isoWeeks=function(V){var ue=wn(this,1,4).week;return null==V?ue:this.add(7*(V-ue),"d")},Rn.weeksInYear=function(){var V=this.localeData()._week;return lr(this.year(),V.dow,V.doy)},Rn.weeksInWeekYear=function(){var V=this.localeData()._week;return lr(this.weekYear(),V.dow,V.doy)},Rn.isoWeeksInYear=function(){return lr(this.year(),1,4)},Rn.isoWeeksInISOWeekYear=function(){return lr(this.isoWeekYear(),1,4)},Rn.date=Df,Rn.day=Rn.days=function(V){if(!this.isValid())return null!=V?this:NaN;var ue=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=V?(V=function(V,ue){return"string"!=typeof V?V:isNaN(V)?"number"==typeof(V=ue.weekdaysParse(V))?V:null:parseInt(V,10)}(V,this.localeData()),this.add(V-ue,"d")):ue},Rn.weekday=function(V){if(!this.isValid())return null!=V?this:NaN;var ue=(this.day()+7-this.localeData()._week.dow)%7;return null==V?ue:this.add(V-ue,"d")},Rn.isoWeekday=function(V){if(!this.isValid())return null!=V?this:NaN;if(null!=V){var ue=function(V,ue){return"string"==typeof V?ue.weekdaysParse(V)%7||7:isNaN(V)?null:V}(V,this.localeData());return this.day(this.day()%7?ue:ue-7)}return this.day()||7},Rn.dayOfYear=function(V){var ue=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==V?ue:this.add(V-ue,"d")},Rn.hour=Rn.hours=hc,Rn.minute=Rn.minutes=Ld,Rn.second=Rn.seconds=sp,Rn.millisecond=Rn.milliseconds=P0,Rn.utcOffset=function(V,ue,De){var Ze,Le=this._offset||0;if(!this.isValid())return null!=V?this:NaN;if(null!=V){if("string"==typeof V){if(null===(V=sy($u,V)))return this}else Math.abs(V)<16&&!De&&(V*=60);return!this._isUTC&&ue&&(Ze=ep(this)),this._offset=V,this._isUTC=!0,null!=Ze&&this.add(Ze,"m"),Le!==V&&(!ue||this._changeInProgress?mc(this,td(V-Le,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,S.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?Le:ep(this)},Rn.utc=function(V){return this.utcOffset(0,V)},Rn.local=function(V){return this._isUTC&&(this.utcOffset(0,V),this._isUTC=!1,V&&this.subtract(ep(this),"m")),this},Rn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var V=sy(vr,this._i);null!=V?this.utcOffset(V):this.utcOffset(0,!0)}return this},Rn.hasAlignedHourOffset=function(V){return!!this.isValid()&&(V=V?zi(V).utcOffset():0,(this.utcOffset()-V)%60==0)},Rn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Rn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Rn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Rn.isUtc=Ul,Rn.isUTC=Ul,Rn.zoneAbbr=function(){return this._isUTC?"UTC":""},Rn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Rn.dates=Se("dates accessor is deprecated. Use date instead.",Df),Rn.months=Se("months accessor is deprecated. Use month instead",Qn),Rn.years=Se("years accessor is deprecated. Use year instead",Hs),Rn.zone=Se("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(V,ue){return null!=V?("string"!=typeof V&&(V=-V),this.utcOffset(V,ue),this):-this.utcOffset()}),Rn.isDSTShifted=Se("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!W(this._isDSTShifted))return this._isDSTShifted;var ue,V={};return Te(V,this),(V=Oa(V))._a?(ue=V._isUTC?J(V._a):zi(V._a),this._isDSTShifted=this.isValid()&&function(V,ue,De){var dn,Le=Math.min(V.length,ue.length),Ze=Math.abs(V.length-ue.length),Ct=0;for(dn=0;dn<Le;dn++)(De&&V[dn]!==ue[dn]||!De&&wr(V[dn])!==wr(ue[dn]))&&Ct++;return Ct+Ze}(V._a,ue.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var es=Qe.prototype;function Tu(V,ue,De,Le){var Ze=Ds(),Ct=J().set(Le,ue);return Ze[De](Ct,V)}function ku(V,ue,De){if(F(V)&&(ue=V,V=void 0),V=V||"",null!=ue)return Tu(V,ue,De,"month");var Le,Ze=[];for(Le=0;Le<12;Le++)Ze[Le]=Tu(V,Le,De,"month");return Ze}function Hu(V,ue,De,Le){"boolean"==typeof V?(F(ue)&&(De=ue,ue=void 0),ue=ue||""):(De=ue=V,V=!1,F(ue)&&(De=ue,ue=void 0),ue=ue||"");var dn,Ze=Ds(),Ct=V?Ze._week.dow:0,jr=[];if(null!=De)return Tu(ue,(De+Ct)%7,Le,"day");for(dn=0;dn<7;dn++)jr[dn]=Tu(ue,(dn+Ct)%7,Le,"day");return jr}es.calendar=function(V,ue,De){var Le=this._calendar[V]||this._calendar.sameElse;return Be(Le)?Le.call(ue,De):Le},es.longDateFormat=function(V){var ue=this._longDateFormat[V],De=this._longDateFormat[V.toUpperCase()];return ue||!De?ue:(this._longDateFormat[V]=De.match($t).map(function(Le){return"MMMM"===Le||"MM"===Le||"DD"===Le||"dddd"===Le?Le.slice(1):Le}).join(""),this._longDateFormat[V])},es.invalidDate=function(){return this._invalidDate},es.ordinal=function(V){return this._ordinal.replace("%d",V)},es.preparse=op,es.postformat=op,es.relativeTime=function(V,ue,De,Le){var Ze=this._relativeTime[De];return Be(Ze)?Ze(V,ue,De,Le):Ze.replace(/%d/i,V)},es.pastFuture=function(V,ue){var De=this._relativeTime[V>0?"future":"past"];return Be(De)?De(ue):De.replace(/%s/i,ue)},es.set=function(V){var ue,De;for(De in V)B(V,De)&&(Be(ue=V[De])?this[De]=ue:this["_"+De]=ue);this._config=V,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},es.eras=function(V,ue){var De,Le,Ze,Ct=this._eras||Ds("en")._eras;for(De=0,Le=Ct.length;De<Le;++De){switch(typeof Ct[De].since){case"string":Ze=S(Ct[De].since).startOf("day"),Ct[De].since=Ze.valueOf()}switch(typeof Ct[De].until){case"undefined":Ct[De].until=1/0;break;case"string":Ze=S(Ct[De].until).startOf("day").valueOf(),Ct[De].until=Ze.valueOf()}}return Ct},es.erasParse=function(V,ue,De){var Le,Ze,dn,jr,as,Ct=this.eras();for(V=V.toUpperCase(),Le=0,Ze=Ct.length;Le<Ze;++Le)if(dn=Ct[Le].name.toUpperCase(),jr=Ct[Le].abbr.toUpperCase(),as=Ct[Le].narrow.toUpperCase(),De)switch(ue){case"N":case"NN":case"NNN":if(jr===V)return Ct[Le];break;case"NNNN":if(dn===V)return Ct[Le];break;case"NNNNN":if(as===V)return Ct[Le]}else if([dn,jr,as].indexOf(V)>=0)return Ct[Le]},es.erasConvertYear=function(V,ue){var De=V.since<=V.until?1:-1;return void 0===ue?S(V.since).year():S(V.since).year()+(ue-V.offset)*De},es.erasAbbrRegex=function(V){return B(this,"_erasAbbrRegex")||Ps.call(this),V?this._erasAbbrRegex:this._erasRegex},es.erasNameRegex=function(V){return B(this,"_erasNameRegex")||Ps.call(this),V?this._erasNameRegex:this._erasRegex},es.erasNarrowRegex=function(V){return B(this,"_erasNarrowRegex")||Ps.call(this),V?this._erasNarrowRegex:this._erasRegex},es.months=function(V,ue){return V?I(this._months)?this._months[V.month()]:this._months[(this._months.isFormat||Jc).test(ue)?"format":"standalone"][V.month()]:I(this._months)?this._months:this._months.standalone},es.monthsShort=function(V,ue){return V?I(this._monthsShort)?this._monthsShort[V.month()]:this._monthsShort[Jc.test(ue)?"format":"standalone"][V.month()]:I(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},es.monthsParse=function(V,ue,De){var Le,Ze,Ct;if(this._monthsParseExact)return Nt.call(this,V,ue,De);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Le=0;Le<12;Le++){if(Ze=J([2e3,Le]),De&&!this._longMonthsParse[Le]&&(this._longMonthsParse[Le]=new RegExp("^"+this.months(Ze,"").replace(".","")+"$","i"),this._shortMonthsParse[Le]=new RegExp("^"+this.monthsShort(Ze,"").replace(".","")+"$","i")),!De&&!this._monthsParse[Le]&&(Ct="^"+this.months(Ze,"")+"|^"+this.monthsShort(Ze,""),this._monthsParse[Le]=new RegExp(Ct.replace(".",""),"i")),De&&"MMMM"===ue&&this._longMonthsParse[Le].test(V))return Le;if(De&&"MMM"===ue&&this._shortMonthsParse[Le].test(V))return Le;if(!De&&this._monthsParse[Le].test(V))return Le}},es.monthsRegex=function(V){return this._monthsParseExact?(B(this,"_monthsRegex")||zr.call(this),V?this._monthsStrictRegex:this._monthsRegex):(B(this,"_monthsRegex")||(this._monthsRegex=lc),this._monthsStrictRegex&&V?this._monthsStrictRegex:this._monthsRegex)},es.monthsShortRegex=function(V){return this._monthsParseExact?(B(this,"_monthsRegex")||zr.call(this),V?this._monthsShortStrictRegex:this._monthsShortRegex):(B(this,"_monthsShortRegex")||(this._monthsShortRegex=uc),this._monthsShortStrictRegex&&V?this._monthsShortStrictRegex:this._monthsShortRegex)},es.week=function(V){return wn(V,this._week.dow,this._week.doy).week},es.firstDayOfYear=function(){return this._week.doy},es.firstDayOfWeek=function(){return this._week.dow},es.weekdays=function(V,ue){var De=I(this._weekdays)?this._weekdays:this._weekdays[V&&!0!==V&&this._weekdays.isFormat.test(ue)?"format":"standalone"];return!0===V?ht(De,this._week.dow):V?De[V.day()]:De},es.weekdaysMin=function(V){return!0===V?ht(this._weekdaysMin,this._week.dow):V?this._weekdaysMin[V.day()]:this._weekdaysMin},es.weekdaysShort=function(V){return!0===V?ht(this._weekdaysShort,this._week.dow):V?this._weekdaysShort[V.day()]:this._weekdaysShort},es.weekdaysParse=function(V,ue,De){var Le,Ze,Ct;if(this._weekdaysParseExact)return so.call(this,V,ue,De);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Le=0;Le<7;Le++){if(Ze=J([2e3,1]).day(Le),De&&!this._fullWeekdaysParse[Le]&&(this._fullWeekdaysParse[Le]=new RegExp("^"+this.weekdays(Ze,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Le]=new RegExp("^"+this.weekdaysShort(Ze,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Le]=new RegExp("^"+this.weekdaysMin(Ze,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Le]||(Ct="^"+this.weekdays(Ze,"")+"|^"+this.weekdaysShort(Ze,"")+"|^"+this.weekdaysMin(Ze,""),this._weekdaysParse[Le]=new RegExp(Ct.replace(".",""),"i")),De&&"dddd"===ue&&this._fullWeekdaysParse[Le].test(V))return Le;if(De&&"ddd"===ue&&this._shortWeekdaysParse[Le].test(V))return Le;if(De&&"dd"===ue&&this._minWeekdaysParse[Le].test(V))return Le;if(!De&&this._weekdaysParse[Le].test(V))return Le}},es.weekdaysRegex=function(V){return this._weekdaysParseExact?(B(this,"_weekdaysRegex")||qi.call(this),V?this._weekdaysStrictRegex:this._weekdaysRegex):(B(this,"_weekdaysRegex")||(this._weekdaysRegex=Di),this._weekdaysStrictRegex&&V?this._weekdaysStrictRegex:this._weekdaysRegex)},es.weekdaysShortRegex=function(V){return this._weekdaysParseExact?(B(this,"_weekdaysRegex")||qi.call(this),V?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(B(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=th),this._weekdaysShortStrictRegex&&V?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},es.weekdaysMinRegex=function(V){return this._weekdaysParseExact?(B(this,"_weekdaysRegex")||qi.call(this),V?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(B(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xl),this._weekdaysMinStrictRegex&&V?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},es.isPM=function(V){return"p"===(V+"").toLowerCase().charAt(0)},es.meridiem=function(V,ue,De){return V>11?De?"pm":"PM":De?"am":"AM"},Ha("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(V){var ue=V%10;return V+(1===wr(V%100/10)?"th":1===ue?"st":2===ue?"nd":3===ue?"rd":"th")}}),S.lang=Se("moment.lang is deprecated. Use moment.locale instead.",Ha),S.langData=Se("moment.langData is deprecated. Use moment.localeData instead.",Ds);var Yo=Math.abs;function Zp(V,ue,De,Le){var Ze=td(ue,De);return V._milliseconds+=Le*Ze._milliseconds,V._days+=Le*Ze._days,V._months+=Le*Ze._months,V._bubble()}function R0(V){return V<0?Math.floor(V):Math.ceil(V)}function Ka(V){return 4800*V/146097}function Jp(V){return 146097*V/4800}function A(V){return function(){return this.as(V)}}var k=A("ms"),j=A("s"),ee=A("m"),le=A("h"),_e=A("d"),de=A("w"),ve=A("M"),Ne=A("Q"),Fe=A("y");function gt(V){return function(){return this.isValid()?this._data[V]:NaN}}var bt=gt("milliseconds"),Lt=gt("seconds"),xn=gt("minutes"),cr=gt("hours"),br=gt("days"),ci=gt("months"),si=gt("years");var ai=Math.round,os={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Cs(V,ue,De,Le,Ze){return Ze.relativeTime(ue||1,!!De,V,Le)}var bc=Math.abs;function Yl(V){return(V>0)-(V<0)||+V}function Qp(){if(!this.isValid())return this.localeData().invalidDate();var Le,Ze,Ct,dn,as,Mi,Gl,xc,V=bc(this._milliseconds)/1e3,ue=bc(this._days),De=bc(this._months),jr=this.asSeconds();return jr?(Le=Pt(V/60),Ze=Pt(Le/60),V%=60,Le%=60,Ct=Pt(De/12),De%=12,dn=V?V.toFixed(3).replace(/\.?0+$/,""):"",as=jr<0?"-":"",Mi=Yl(this._months)!==Yl(jr)?"-":"",Gl=Yl(this._days)!==Yl(jr)?"-":"",xc=Yl(this._milliseconds)!==Yl(jr)?"-":"",as+"P"+(Ct?Mi+Ct+"Y":"")+(De?Mi+De+"M":"")+(ue?Gl+ue+"D":"")+(Ze||Le||V?"T":"")+(Ze?xc+Ze+"H":"")+(Le?xc+Le+"M":"")+(V?xc+dn+"S":"")):"P0D"}var us=gf.prototype;return us.isValid=function(){return this._isValid},us.abs=function(){var V=this._data;return this._milliseconds=Yo(this._milliseconds),this._days=Yo(this._days),this._months=Yo(this._months),V.milliseconds=Yo(V.milliseconds),V.seconds=Yo(V.seconds),V.minutes=Yo(V.minutes),V.hours=Yo(V.hours),V.months=Yo(V.months),V.years=Yo(V.years),this},us.add=function(V,ue){return Zp(this,V,ue,1)},us.subtract=function(V,ue){return Zp(this,V,ue,-1)},us.as=function(V){if(!this.isValid())return NaN;var ue,De,Le=this._milliseconds;if("month"===(V=Tr(V))||"quarter"===V||"year"===V)switch(ue=this._days+Le/864e5,De=this._months+Ka(ue),V){case"month":return De;case"quarter":return De/3;case"year":return De/12}else switch(ue=this._days+Math.round(Jp(this._months)),V){case"week":return ue/7+Le/6048e5;case"day":return ue+Le/864e5;case"hour":return 24*ue+Le/36e5;case"minute":return 1440*ue+Le/6e4;case"second":return 86400*ue+Le/1e3;case"millisecond":return Math.floor(864e5*ue)+Le;default:throw new Error("Unknown unit "+V)}},us.asMilliseconds=k,us.asSeconds=j,us.asMinutes=ee,us.asHours=le,us.asDays=_e,us.asWeeks=de,us.asMonths=ve,us.asQuarters=Ne,us.asYears=Fe,us.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*wr(this._months/12):NaN},us._bubble=function(){var Ze,Ct,dn,jr,as,V=this._milliseconds,ue=this._days,De=this._months,Le=this._data;return V>=0&&ue>=0&&De>=0||V<=0&&ue<=0&&De<=0||(V+=864e5*R0(Jp(De)+ue),ue=0,De=0),Le.milliseconds=V%1e3,Ze=Pt(V/1e3),Le.seconds=Ze%60,Ct=Pt(Ze/60),Le.minutes=Ct%60,dn=Pt(Ct/60),Le.hours=dn%24,ue+=Pt(dn/24),De+=as=Pt(Ka(ue)),ue-=R0(Jp(as)),jr=Pt(De/12),De%=12,Le.days=ue,Le.months=De,Le.years=jr,this},us.clone=function(){return td(this)},us.get=function(V){return V=Tr(V),this.isValid()?this[V+"s"]():NaN},us.milliseconds=bt,us.seconds=Lt,us.minutes=xn,us.hours=cr,us.days=br,us.weeks=function(){return Pt(this.days()/7)},us.months=ci,us.years=si,us.humanize=function(V,ue){if(!this.isValid())return this.localeData().invalidDate();var Ze,Ct,De=!1,Le=os;return"object"==typeof V&&(ue=V,V=!1),"boolean"==typeof V&&(De=V),"object"==typeof ue&&(Le=Object.assign({},os,ue),null!=ue.s&&null==ue.ss&&(Le.ss=ue.s-1)),Ct=function(V,ue,De,Le){var Ze=td(V).abs(),Ct=ai(Ze.as("s")),dn=ai(Ze.as("m")),jr=ai(Ze.as("h")),as=ai(Ze.as("d")),Mi=ai(Ze.as("M")),Gl=ai(Ze.as("w")),xc=ai(Ze.as("y")),qp=Ct<=De.ss&&["s",Ct]||Ct<De.s&&["ss",Ct]||dn<=1&&["m"]||dn<De.m&&["mm",dn]||jr<=1&&["h"]||jr<De.h&&["hh",jr]||as<=1&&["d"]||as<De.d&&["dd",as];return null!=De.w&&(qp=qp||Gl<=1&&["w"]||Gl<De.w&&["ww",Gl]),(qp=qp||Mi<=1&&["M"]||Mi<De.M&&["MM",Mi]||xc<=1&&["y"]||["yy",xc])[2]=ue,qp[3]=+V>0,qp[4]=Le,Cs.apply(null,qp)}(this,!De,Le,Ze=this.localeData()),De&&(Ct=Ze.pastFuture(+this,Ct)),Ze.postformat(Ct)},us.toISOString=Qp,us.toString=Qp,us.toJSON=Qp,us.locale=fr,us.localeData=vf,us.toIsoString=Se("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qp),us.lang=To,Kt("X",0,0,"unix"),Kt("x",0,0,"valueOf"),Hn("x",Cr),Hn("X",/[+-]?\d+(\.\d{1,3})?/),Fi("X",function(V,ue,De){De._d=new Date(1e3*parseFloat(V))}),Fi("x",function(V,ue,De){De._d=new Date(wr(V))}),S.version="2.29.1",$=zi,S.fn=Rn,S.min=function(){return rg("isBefore",[].slice.call(arguments,0))},S.max=function(){return rg("isAfter",[].slice.call(arguments,0))},S.now=function(){return Date.now?Date.now():+new Date},S.utc=J,S.unix=function(V){return zi(1e3*V)},S.months=function(V,ue){return ku(V,ue,"months")},S.isDate=U,S.locale=Ha,S.invalid=Ie,S.duration=td,S.isMoment=ge,S.weekdays=function(V,ue,De){return Hu(V,ue,De,"weekdays")},S.parseZone=function(){return zi.apply(null,arguments).parseZone()},S.localeData=Ds,S.isDuration=sg,S.monthsShort=function(V,ue){return ku(V,ue,"monthsShort")},S.weekdaysMin=function(V,ue,De){return Hu(V,ue,De,"weekdaysMin")},S.defineLocale=Na,S.updateLocale=function(V,ue){if(null!=ue){var De,Le,Ze=ih;null!=Hi[V]&&null!=Hi[V].parentLocale?Hi[V].set(Ke(Hi[V]._config,ue)):(null!=(Le=Wa(V))&&(Ze=Le._config),ue=Ke(Ze,ue),null==Le&&(ue.abbr=V),(De=new Qe(ue)).parentLocale=Hi[V],Hi[V]=De),Ha(V)}else null!=Hi[V]&&(null!=Hi[V].parentLocale?(Hi[V]=Hi[V].parentLocale,V===Ha()&&Ha(V)):null!=Hi[V]&&delete Hi[V]);return Hi[V]},S.locales=function(){return rt(Hi)},S.weekdaysShort=function(V,ue,De){return Hu(V,ue,De,"weekdaysShort")},S.normalizeUnits=Tr,S.relativeTimeRounding=function(V){return void 0===V?ai:"function"==typeof V&&(ai=V,!0)},S.relativeTimeThreshold=function(V,ue){return void 0!==os[V]&&(void 0===ue?os[V]:(os[V]=ue,"s"===V&&(os.ss=ue-1),!0))},S.calendarFormat=function(V,ue){var De=V.diff(ue,"days",!0);return De<-6?"sameElse":De<-1?"lastWeek":De<0?"lastDay":De<1?"sameDay":De<2?"nextDay":De<7?"nextWeek":"sameElse"},S.prototype=Rn,S.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},S}()},8228:be=>{"use strict";var ie=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;function S(I){if(null==I)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(I)}be.exports=function(){try{if(!Object.assign)return!1;var I=new String("abc");if(I[5]="de","5"===Object.getOwnPropertyNames(I)[0])return!1;for(var N={},B=0;B<10;B++)N["_"+String.fromCharCode(B)]=B;if("0123456789"!==Object.getOwnPropertyNames(N).map(function(F){return N[F]}).join(""))return!1;var W={};return"abcdefghijklmnopqrst".split("").forEach(function(F){W[F]=F}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},W)).join("")}catch(F){return!1}}()?Object.assign:function(I,N){for(var B,W,R=S(I),F=1;F<arguments.length;F++){for(var U in B=Object(arguments[F]))v.call(B,U)&&(R[U]=B[U]);if(ie){W=ie(B);for(var G=0;G<W.length;G++)$.call(B,W[G])&&(R[W[G]]=B[W[G]])}}return R}},9606:(be,ie,v)=>{"use strict";function $(){}v.r(ie),v.d(ie,{default:()=>mi,h:()=>N,createElement:()=>N,cloneElement:()=>W,Component:()=>Kt,render:()=>cn,rerender:()=>K,options:()=>S});var S={},P=[],I=[];function N(dt,Vt){var Bt,kn,nt,Et,Ln=I;for(Et=arguments.length;Et-- >2;)P.push(arguments[Et]);for(Vt&&null!=Vt.children&&(P.length||P.push(Vt.children),delete Vt.children);P.length;)if((kn=P.pop())&&void 0!==kn.pop)for(Et=kn.length;Et--;)P.push(kn[Et]);else"boolean"==typeof kn&&(kn=null),(nt="function"!=typeof dt)&&(null==kn?kn="":"number"==typeof kn?kn=String(kn):"string"!=typeof kn&&(nt=!1)),nt&&Bt?Ln[Ln.length-1]+=kn:Ln===I?Ln=[kn]:Ln.push(kn),Bt=nt;var zt=new $;return zt.nodeName=dt,zt.children=Ln,zt.attributes=null==Vt?void 0:Vt,zt.key=null==Vt?void 0:Vt.key,void 0!==S.vnode&&S.vnode(zt),zt}function B(dt,Vt){for(var Ln in Vt)dt[Ln]=Vt[Ln];return dt}var R="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function W(dt,Vt){return N(dt.nodeName,B(B({},dt.attributes),Vt),arguments.length>2?[].slice.call(arguments,2):dt.children)}var F=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,U=[];function G(dt){!dt._dirty&&(dt._dirty=!0)&&1==U.push(dt)&&(S.debounceRendering||R)(K)}function K(){var dt,Vt=U;for(U=[];dt=Vt.pop();)dt._dirty&&on(dt)}function J(dt,Vt,Ln){return"string"==typeof Vt||"number"==typeof Vt?void 0!==dt.splitText:"string"==typeof Vt.nodeName?!dt._componentConstructor&&he(dt,Vt.nodeName):Ln||dt._componentConstructor===Vt.nodeName}function he(dt,Vt){return dt.normalizedNodeName===Vt||dt.nodeName.toLowerCase()===Vt.toLowerCase()}function ce(dt){var Vt=B({},dt.attributes);Vt.children=dt.children;var Ln=dt.nodeName.defaultProps;if(void 0!==Ln)for(var Bt in Ln)void 0===Vt[Bt]&&(Vt[Bt]=Ln[Bt]);return Vt}function je(dt){var Vt=dt.parentNode;Vt&&Vt.removeChild(dt)}function Ie(dt,Vt,Ln,Bt,kn){if("className"===Vt&&(Vt="class"),"key"!==Vt)if("ref"===Vt)Ln&&Ln(null),Bt&&Bt(dt);else if("class"!==Vt||kn)if("style"===Vt){if((!Bt||"string"==typeof Bt||"string"==typeof Ln)&&(dt.style.cssText=Bt||""),Bt&&"object"==typeof Bt){if("string"!=typeof Ln)for(var nt in Ln)nt in Bt||(dt.style[nt]="");for(var nt in Bt)dt.style[nt]="number"==typeof Bt[nt]&&!1===F.test(nt)?Bt[nt]+"px":Bt[nt]}}else if("dangerouslySetInnerHTML"===Vt)Bt&&(dt.innerHTML=Bt.__html||"");else if("o"==Vt[0]&&"n"==Vt[1]){var Et=Vt!==(Vt=Vt.replace(/Capture$/,""));Vt=Vt.toLowerCase().substring(2),Bt?Ln||dt.addEventListener(Vt,et,Et):dt.removeEventListener(Vt,et,Et),(dt._listeners||(dt._listeners={}))[Vt]=Bt}else if("list"!==Vt&&"type"!==Vt&&!kn&&Vt in dt)(function(dt,Vt,Ln){try{dt[Vt]=Ln}catch(Bt){}})(dt,Vt,null==Bt?"":Bt),(null==Bt||!1===Bt)&&dt.removeAttribute(Vt);else{var zt=kn&&Vt!==(Vt=Vt.replace(/^xlink:?/,""));null==Bt||!1===Bt?zt?dt.removeAttributeNS("http://www.w3.org/1999/xlink",Vt.toLowerCase()):dt.removeAttribute(Vt):"function"!=typeof Bt&&(zt?dt.setAttributeNS("http://www.w3.org/1999/xlink",Vt.toLowerCase(),Bt):dt.setAttribute(Vt,Bt))}else dt.className=Bt||""}function et(dt){return this._listeners[dt.type](S.event&&S.event(dt)||dt)}var Te=[],We=0,ge=!1,we=!1;function Se(){for(var dt;dt=Te.pop();)S.afterMount&&S.afterMount(dt),dt.componentDidMount&&dt.componentDidMount()}function re(dt,Vt,Ln,Bt,kn,nt){We++||(ge=null!=kn&&void 0!==kn.ownerSVGElement,we=null!=dt&&!("__preactattr_"in dt));var Et=Re(dt,Vt,Ln,Bt,nt);return kn&&Et.parentNode!==kn&&kn.appendChild(Et),--We||(we=!1,nt||Se()),Et}function Re(dt,Vt,Ln,Bt,kn){var nt=dt,Et=ge;if((null==Vt||"boolean"==typeof Vt)&&(Vt=""),"string"==typeof Vt||"number"==typeof Vt)return dt&&void 0!==dt.splitText&&dt.parentNode&&(!dt._component||kn)?dt.nodeValue!=Vt&&(dt.nodeValue=Vt):(nt=document.createTextNode(Vt),dt&&(dt.parentNode&&dt.parentNode.replaceChild(nt,dt),Pe(dt,!0))),nt.__preactattr_=!0,nt;var zt=Vt.nodeName;if("function"==typeof zt)return function(dt,Vt,Ln,Bt){for(var kn=dt&&dt._component,nt=kn,Et=dt,zt=kn&&dt._componentConstructor===Vt.nodeName,an=zt,ar=ce(Vt);kn&&!an&&(kn=kn._parentComponent);)an=kn.constructor===Vt.nodeName;return kn&&an&&(!Bt||kn._component)?($t(kn,ar,3,Ln,Bt),dt=kn.base):(nt&&!zt&&(Cn(nt),dt=Et=null),kn=ft(Vt.nodeName,ar,Ln),dt&&!kn.nextBase&&(kn.nextBase=dt,Et=null),$t(kn,ar,1,Ln,Bt),dt=kn.base,Et&&dt!==Et&&(Et._component=null,Pe(Et,!1))),dt}(dt,Vt,Ln,Bt);if(ge="svg"===zt||"foreignObject"!==zt&&ge,zt=String(zt),(!dt||!he(dt,zt))&&(nt=function(dt,Vt){var Ln=Vt?document.createElementNS("http://www.w3.org/2000/svg",dt):document.createElement(dt);return Ln.normalizedNodeName=dt,Ln}(zt,ge),dt)){for(;dt.firstChild;)nt.appendChild(dt.firstChild);dt.parentNode&&dt.parentNode.replaceChild(nt,dt),Pe(dt,!0)}var an=nt.firstChild,ar=nt.__preactattr_,xr=Vt.children;if(null==ar){ar=nt.__preactattr_={};for(var Tn=nt.attributes,ir=Tn.length;ir--;)ar[Tn[ir].name]=Tn[ir].value}return!we&&xr&&1===xr.length&&"string"==typeof xr[0]&&null!=an&&void 0!==an.splitText&&null==an.nextSibling?an.nodeValue!=xr[0]&&(an.nodeValue=xr[0]):(xr&&xr.length||null!=an)&&function(dt,Vt,Ln,Bt,kn){var Tr,hi,mr,ni,Ss,nt=dt.childNodes,Et=[],zt={},an=0,ar=0,xr=nt.length,Tn=0,ir=Vt?Vt.length:0;if(0!==xr)for(var Ii=0;Ii<xr;Ii++){var Pt=nt[Ii],wr=Pt.__preactattr_;null!=(Ur=ir&&wr?Pt._component?Pt._component.__key:wr.key:null)?(an++,zt[Ur]=Pt):(wr||(void 0!==Pt.splitText?!kn||Pt.nodeValue.trim():kn))&&(Et[Tn++]=Pt)}if(0!==ir)for(Ii=0;Ii<ir;Ii++){var Ur;if(Ss=null,null!=(Ur=(ni=Vt[Ii]).key))an&&void 0!==zt[Ur]&&(Ss=zt[Ur],zt[Ur]=void 0,an--);else if(!Ss&&ar<Tn)for(Tr=ar;Tr<Tn;Tr++)if(void 0!==Et[Tr]&&J(hi=Et[Tr],ni,kn)){Ss=hi,Et[Tr]=void 0,Tr===Tn-1&&Tn--,Tr===ar&&ar++;break}Ss=Re(Ss,ni,Ln,Bt),mr=nt[Ii],Ss&&Ss!==dt&&Ss!==mr&&(null==mr?dt.appendChild(Ss):Ss===mr.nextSibling?je(mr):dt.insertBefore(Ss,mr))}if(an)for(var Ii in zt)void 0!==zt[Ii]&&Pe(zt[Ii],!1);for(;ar<=Tn;)void 0!==(Ss=Et[Tn--])&&Pe(Ss,!1)}(nt,xr,Ln,Bt,we||null!=ar.dangerouslySetInnerHTML),function(dt,Vt,Ln){var Bt;for(Bt in Ln)(!Vt||null==Vt[Bt])&&null!=Ln[Bt]&&Ie(dt,Bt,Ln[Bt],Ln[Bt]=void 0,ge);for(Bt in Vt)"children"!==Bt&&"innerHTML"!==Bt&&(!(Bt in Ln)||Vt[Bt]!==("value"===Bt||"checked"===Bt?dt[Bt]:Ln[Bt]))&&Ie(dt,Bt,Ln[Bt],Ln[Bt]=Vt[Bt],ge)}(nt,Vt.attributes,ar),ge=Et,nt}function Pe(dt,Vt){var Ln=dt._component;Ln?Cn(Ln):(null!=dt.__preactattr_&&dt.__preactattr_.ref&&dt.__preactattr_.ref(null),(!1===Vt||null==dt.__preactattr_)&&je(dt),Ke(dt))}function Ke(dt){for(dt=dt.lastChild;dt;){var Vt=dt.previousSibling;Pe(dt,!0),dt=Vt}}var rt={};function ft(dt,Vt,Ln){var kn,Bt=rt[dt.name];if(dt.prototype&&dt.prototype.render?(kn=new dt(Vt,Ln),Kt.call(kn,Vt,Ln)):((kn=new Kt(Vt,Ln)).constructor=dt,kn.render=kt),Bt)for(var nt=Bt.length;nt--;)if(Bt[nt].constructor===dt){kn.nextBase=Bt[nt].nextBase,Bt.splice(nt,1);break}return kn}function kt(dt,Vt,Ln){return this.constructor(dt,Ln)}function $t(dt,Vt,Ln,Bt,kn){dt._disable||(dt._disable=!0,(dt.__ref=Vt.ref)&&delete Vt.ref,(dt.__key=Vt.key)&&delete Vt.key,!dt.base||kn?dt.componentWillMount&&dt.componentWillMount():dt.componentWillReceiveProps&&dt.componentWillReceiveProps(Vt,Bt),Bt&&Bt!==dt.context&&(dt.prevContext||(dt.prevContext=dt.context),dt.context=Bt),dt.prevProps||(dt.prevProps=dt.props),dt.props=Vt,dt._disable=!1,0!==Ln&&(1!==Ln&&!1===S.syncComponentUpdates&&dt.base?G(dt):on(dt,1,kn)),dt.__ref&&dt.__ref(dt))}function on(dt,Vt,Ln,Bt){if(!dt._disable){var mr,ni,Ss,kn=dt.props,nt=dt.state,Et=dt.context,zt=dt.prevProps||kn,an=dt.prevState||nt,ar=dt.prevContext||Et,xr=dt.base,Tn=dt.nextBase,ir=xr||Tn,Tr=dt._component,hi=!1;if(xr&&(dt.props=zt,dt.state=an,dt.context=ar,2!==Vt&&dt.shouldComponentUpdate&&!1===dt.shouldComponentUpdate(kn,nt,Et)?hi=!0:dt.componentWillUpdate&&dt.componentWillUpdate(kn,nt,Et),dt.props=kn,dt.state=nt,dt.context=Et),dt.prevProps=dt.prevState=dt.prevContext=dt.nextBase=null,dt._dirty=!1,!hi){mr=dt.render(kn,nt,Et),dt.getChildContext&&(Et=B(B({},Et),dt.getChildContext()));var Pt,wr,Ii=mr&&mr.nodeName;if("function"==typeof Ii){var Ur=ce(mr);(ni=Tr)&&ni.constructor===Ii&&Ur.key==ni.__key?$t(ni,Ur,1,Et,!1):(Pt=ni,dt._component=ni=ft(Ii,Ur,Et),ni.nextBase=ni.nextBase||Tn,ni._parentComponent=dt,$t(ni,Ur,0,Et,!1),on(ni,1,Ln,!0)),wr=ni.base}else Ss=ir,(Pt=Tr)&&(Ss=dt._component=null),(ir||1===Vt)&&(Ss&&(Ss._component=null),wr=re(Ss,mr,Et,Ln||!xr,ir&&ir.parentNode,!0));if(ir&&wr!==ir&&ni!==Tr){var ra=ir.parentNode;ra&&wr!==ra&&(ra.replaceChild(wr,ir),Pt||(ir._component=null,Pe(ir,!1)))}if(Pt&&Cn(Pt),dt.base=wr,wr&&!Bt){for(var vs=dt,or=dt;or=or._parentComponent;)(vs=or).base=wr;wr._component=vs,wr._componentConstructor=vs.constructor}}if(!xr||Ln?Te.unshift(dt):hi||(dt.componentDidUpdate&&dt.componentDidUpdate(zt,an,ar),S.afterUpdate&&S.afterUpdate(dt)),null!=dt._renderCallbacks)for(;dt._renderCallbacks.length;)dt._renderCallbacks.pop().call(dt);!We&&!Bt&&Se()}}function Cn(dt){S.beforeUnmount&&S.beforeUnmount(dt);var Vt=dt.base;dt._disable=!0,dt.componentWillUnmount&&dt.componentWillUnmount(),dt.base=null;var Ln=dt._component;Ln?Cn(Ln):Vt&&(Vt.__preactattr_&&Vt.__preactattr_.ref&&Vt.__preactattr_.ref(null),dt.nextBase=Vt,je(Vt),function(dt){var Vt=dt.constructor.name;(rt[Vt]||(rt[Vt]=[])).push(dt)}(dt),Ke(Vt)),dt.__ref&&dt.__ref(null)}function Kt(dt,Vt){this._dirty=!0,this.context=Vt,this.props=dt,this.state=this.state||{}}function cn(dt,Vt,Ln){return re(Ln,dt,{},!1,Vt,!1)}B(Kt.prototype,{setState:function(Vt,Ln){var Bt=this.state;this.prevState||(this.prevState=B({},Bt)),B(Bt,"function"==typeof Vt?Vt(Bt,this.props):Vt),Ln&&(this._renderCallbacks=this._renderCallbacks||[]).push(Ln),G(this)},forceUpdate:function(Vt){Vt&&(this._renderCallbacks=this._renderCallbacks||[]).push(Vt),on(this,2)},render:function(){}});const mi={h:N,createElement:N,cloneElement:W,Component:Kt,render:cn,rerender:K,options:S}},4901:(be,ie,v)=>{var $=v(3366),S=v(9678),P=v(5278),I=v(5457),N=v(7594),B=v(9035),R=v(8507);R.alea=$,R.xor128=S,R.xorwow=P,R.xorshift7=I,R.xor4096=N,R.tychei=B,be.exports=R},3366:function(be,ie,v){var $;!function(S,P,I){function N(F){var U=this,G=function(){var F=4022871197;return function(G){G=G.toString();for(var K=0;K<G.length;K++){var J=.02519603282416938*(F+=G.charCodeAt(K));J-=F=J>>>0,F=(J*=F)>>>0,F+=4294967296*(J-=F)}return 2.3283064365386963e-10*(F>>>0)}}();U.next=function(){var K=2091639*U.s0+2.3283064365386963e-10*U.c;return U.s0=U.s1,U.s1=U.s2,U.s2=K-(U.c=0|K)},U.c=1,U.s0=G(" "),U.s1=G(" "),U.s2=G(" "),U.s0-=G(F),U.s0<0&&(U.s0+=1),U.s1-=G(F),U.s1<0&&(U.s1+=1),U.s2-=G(F),U.s2<0&&(U.s2+=1),G=null}function B(F,U){return U.c=F.c,U.s0=F.s0,U.s1=F.s1,U.s2=F.s2,U}function R(F,U){var G=new N(F),K=U&&U.state,J=G.next;return J.int32=function(){return 4294967296*G.next()|0},J.double=function(){return J()+11102230246251565e-32*(2097152*J()|0)},J.quick=J,K&&("object"==typeof K&&B(K,G),J.state=function(){return B(G,{})}),J}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.alea=R}(0,be=v.nmd(be))},9035:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.next=function(){var K=F.b,J=F.c,he=F.d,ce=F.a;return K=K<<25^K>>>7^J,J=J-he|0,he=he<<24^he>>>8^ce,ce=ce-K|0,F.b=K=K<<20^K>>>12^J,F.c=J=J-he|0,F.d=he<<16^J>>>16^ce,F.a=ce-K|0},F.a=0,F.b=0,F.c=-1640531527,F.d=1367130551,W===Math.floor(W)?(F.a=W/4294967296|0,F.b=0|W):U+=W;for(var G=0;G<U.length+20;G++)F.b^=0|U.charCodeAt(G),F.next()}function B(W,F){return F.a=W.a,F.b=W.b,F.c=W.c,F.d=W.d,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.tychei=R}(0,be=v.nmd(be))},9678:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.x=0,F.y=0,F.z=0,F.w=0,F.next=function(){var K=F.x^F.x<<11;return F.x=F.y,F.y=F.z,F.z=F.w,F.w^=F.w>>>19^K^K>>>8},W===(0|W)?F.x=W:U+=W;for(var G=0;G<U.length+64;G++)F.x^=0|U.charCodeAt(G),F.next()}function B(W,F){return F.x=W.x,F.y=W.y,F.z=W.z,F.w=W.w,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xor128=R}(0,be=v.nmd(be))},7594:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this;F.next=function(){var he,ce,G=F.w,K=F.X,J=F.i;return F.w=G=G+1640531527|0,ce=K[J+34&127],he=K[J=J+1&127],ce^=ce<<13,he^=he<<17,ce=K[J]=(ce^=ce>>>15)^(he^=he>>>12),F.i=J,ce+(G^G>>>16)|0},function(G,K){var J,he,ce,Ae,je,Ie=[],ze=128;for(K===(0|K)?(he=K,K=null):(K+="\0",he=0,ze=Math.max(ze,K.length)),ce=0,Ae=-32;Ae<ze;++Ae)K&&(he^=K.charCodeAt((Ae+32)%K.length)),0===Ae&&(je=he),he^=he<<10,he^=he>>>15,he^=he<<4,he^=he>>>13,Ae>=0&&(ce=0==(J=Ie[127&Ae]^=he+(je=je+1640531527|0))?ce+1:0);for(ce>=128&&(Ie[127&(K&&K.length||0)]=-1),ce=127,Ae=512;Ae>0;--Ae)he=Ie[ce+34&127],J=Ie[ce=ce+1&127],he^=he<<13,J^=J<<17,Ie[ce]=(he^=he>>>15)^(J^=J>>>12);G.w=je,G.X=Ie,G.i=ce}(F,W)}function B(W,F){return F.i=W.i,F.w=W.w,F.X=W.X.slice(),F}function R(W,F){null==W&&(W=+new Date);var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&(G.X&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xor4096=R}(0,be=v.nmd(be))},5457:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this;F.next=function(){var J,he,G=F.x,K=F.i;return J=G[K],he=(J^=J>>>7)^J<<24,he^=(J=G[K+1&7])^J>>>10,he^=(J=G[K+3&7])^J>>>3,he^=(J=G[K+4&7])^J<<7,J=G[K+7&7],G[K]=he^=(J^=J<<13)^J<<9,F.i=K+1&7,he},function(G,K){var J,ce=[];if(K===(0|K))ce[0]=K;else for(K=""+K,J=0;J<K.length;++J)ce[7&J]=ce[7&J]<<15^K.charCodeAt(J)+ce[J+1&7]<<13;for(;ce.length<8;)ce.push(0);for(J=0;J<8&&0===ce[J];++J);for(8==J&&(ce[7]=-1),G.x=ce,G.i=0,J=256;J>0;--J)G.next()}(F,W)}function B(W,F){return F.x=W.x.slice(),F.i=W.i,F}function R(W,F){null==W&&(W=+new Date);var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&(G.x&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xorshift7=R}(0,be=v.nmd(be))},5278:function(be,ie,v){var $;!function(S,P,I){function N(W){var F=this,U="";F.next=function(){var K=F.x^F.x>>>2;return F.x=F.y,F.y=F.z,F.z=F.w,F.w=F.v,(F.d=F.d+362437|0)+(F.v=F.v^F.v<<4^K^K<<1)|0},F.x=0,F.y=0,F.z=0,F.w=0,F.v=0,W===(0|W)?F.x=W:U+=W;for(var G=0;G<U.length+64;G++)F.x^=0|U.charCodeAt(G),G==U.length&&(F.d=F.x<<10^F.x>>>4),F.next()}function B(W,F){return F.x=W.x,F.y=W.y,F.z=W.z,F.w=W.w,F.v=W.v,F.d=W.d,F}function R(W,F){var U=new N(W),G=F&&F.state,K=function(){return(U.next()>>>0)/4294967296};return K.double=function(){do{var ce=((U.next()>>>11)+(U.next()>>>0)/4294967296)/(1<<21)}while(0===ce);return ce},K.int32=U.next,K.quick=K,G&&("object"==typeof G&&B(G,U),K.state=function(){return B(U,{})}),K}P&&P.exports?P.exports=R:v.amdD&&v.amdO?void 0!==($=function(){return R}.call(ie,v,ie,P))&&(P.exports=$):this.xorwow=R}(0,be=v.nmd(be))},8507:(be,ie,v)=>{var $;!function(S,P){var J,I=(0,eval)("this"),N=256,W="random",F=P.pow(N,6),U=P.pow(2,52),G=2*U,K=255;function he(Te,We,ge){var we=[],Se=Ie(je((We=1==We?{entropy:!0}:We||{}).entropy?[Te,et(S)]:null==Te?function(){try{var Te;return J&&(Te=J.randomBytes)?Te=Te(N):(Te=new Uint8Array(N),(I.crypto||I.msCrypto).getRandomValues(Te)),et(Te)}catch(we){var We=I.navigator,ge=We&&We.plugins;return[+new Date,I,ge,I.screen,et(S)]}}():Te,3),we),re=new ce(we),Re=function(){for(var Be=re.g(6),Pe=F,Ke=0;Be<U;)Be=(Be+Ke)*N,Pe*=N,Ke=re.g(1);for(;Be>=G;)Be/=2,Pe/=2,Ke>>>=1;return(Be+Ke)/Pe};return Re.int32=function(){return 0|re.g(4)},Re.quick=function(){return re.g(4)/4294967296},Re.double=Re,Ie(et(re.S),S),(We.pass||ge||function(Be,Pe,Ke,Qe){return Qe&&(Qe.S&&Ae(Qe,re),Be.state=function(){return Ae(re,{})}),Ke?(P[W]=Be,Pe):Be})(Re,Se,"global"in We?We.global:this==P,We.state)}function ce(Te){var We,ge=Te.length,we=this,Se=0,re=we.i=we.j=0,Re=we.S=[];for(ge||(Te=[ge++]);Se<N;)Re[Se]=Se++;for(Se=0;Se<N;Se++)Re[Se]=Re[re=K&re+Te[Se%ge]+(We=Re[Se])],Re[re]=We;(we.g=function(Be){for(var Pe,Ke=0,Qe=we.i,rt=we.j,st=we.S;Be--;)Pe=st[Qe=K&Qe+1],Ke=Ke*N+st[K&(st[Qe]=st[rt=K&rt+Pe])+(st[rt]=Pe)];return we.i=Qe,we.j=rt,Ke})(N)}function Ae(Te,We){return We.i=Te.i,We.j=Te.j,We.S=Te.S.slice(),We}function je(Te,We){var Se,ge=[],we=typeof Te;if(We&&"object"==we)for(Se in Te)try{ge.push(je(Te[Se],We-1))}catch(re){}return ge.length?ge:"string"==we?Te:Te+"\0"}function Ie(Te,We){for(var we,ge=Te+"",Se=0;Se<ge.length;)We[K&Se]=K&(we^=19*We[K&Se])+ge.charCodeAt(Se++);return et(We)}function et(Te){return String.fromCharCode.apply(0,Te)}if(P["seed"+W]=he,Ie(P.random(),S),be.exports){be.exports=he;try{J=v(5042)}catch(Te){}}else void 0!==($=function(){return he}.call(ie,v,ie,be))&&(be.exports=$)}([],Math)},6585:(be,ie,v)=>{const $=Symbol("SemVer ANY");class S{static get ANY(){return $}constructor(G,K){if(K=P(K),G instanceof S){if(G.loose===!!K.loose)return G;G=G.value}R("comparator",G,K),this.options=K,this.loose=!!K.loose,this.parse(G),this.value=this.semver===$?"":this.operator+this.semver.version,R("comp",this)}parse(G){const J=G.match(this.options.loose?I[N.COMPARATORLOOSE]:I[N.COMPARATOR]);if(!J)throw new TypeError(`Invalid comparator: ${G}`);this.operator=void 0!==J[1]?J[1]:"","="===this.operator&&(this.operator=""),this.semver=J[2]?new W(J[2],this.options.loose):$}toString(){return this.value}test(G){if(R("Comparator.test",G,this.options.loose),this.semver===$||G===$)return!0;if("string"==typeof G)try{G=new W(G,this.options)}catch(K){return!1}return B(G,this.operator,this.semver,this.options)}intersects(G,K){if(!(G instanceof S))throw new TypeError("a Comparator is required");if((!K||"object"!=typeof K)&&(K={loose:!!K,includePrerelease:!1}),""===this.operator)return""===this.value||new F(G.value,K).test(this.value);if(""===G.operator)return""===G.value||new F(this.value,K).test(G.semver);const J=!(">="!==this.operator&&">"!==this.operator||">="!==G.operator&&">"!==G.operator),he=!("<="!==this.operator&&"<"!==this.operator||"<="!==G.operator&&"<"!==G.operator),ce=this.semver.version===G.semver.version,Ae=!(">="!==this.operator&&"<="!==this.operator||">="!==G.operator&&"<="!==G.operator),je=B(this.semver,"<",G.semver,K)&&(">="===this.operator||">"===this.operator)&&("<="===G.operator||"<"===G.operator),Ie=B(this.semver,">",G.semver,K)&&("<="===this.operator||"<"===this.operator)&&(">="===G.operator||">"===G.operator);return J||he||ce&&Ae||je||Ie}}be.exports=S;const P=v(6919),{re:I,t:N}=v(2489),B=v(9143),R=v(536),W=v(8508),F=v(3880)},3880:(be,ie,v)=>{class ${constructor(Pe,Ke){if(Ke=I(Ke),Pe instanceof $)return Pe.loose===!!Ke.loose&&Pe.includePrerelease===!!Ke.includePrerelease?Pe:new $(Pe.raw,Ke);if(Pe instanceof N)return this.raw=Pe.value,this.set=[[Pe]],this.format(),this;if(this.options=Ke,this.loose=!!Ke.loose,this.includePrerelease=!!Ke.includePrerelease,this.raw=Pe,this.set=Pe.split(/\s*\|\|\s*/).map(Qe=>this.parseRange(Qe.trim())).filter(Qe=>Qe.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${Pe}`);if(this.set.length>1){const Qe=this.set[0];if(this.set=this.set.filter(rt=>!J(rt[0])),0===this.set.length)this.set=[Qe];else if(this.set.length>1)for(const rt of this.set)if(1===rt.length&&he(rt[0])){this.set=[rt];break}}this.format()}format(){return this.range=this.set.map(Pe=>Pe.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Pe){Pe=Pe.trim();const Qe=`parseRange:${Object.keys(this.options).join(",")}:${Pe}`,rt=P.get(Qe);if(rt)return rt;const st=this.options.loose;Pe=Pe.replace(st?W[F.HYPHENRANGELOOSE]:W[F.HYPHENRANGE],re(this.options.includePrerelease)),B("hyphen replace",Pe),Pe=Pe.replace(W[F.COMPARATORTRIM],U),B("comparator trim",Pe,W[F.COMPARATORTRIM]),Pe=(Pe=(Pe=Pe.replace(W[F.TILDETRIM],G)).replace(W[F.CARETTRIM],K)).split(/\s+/).join(" ");const kt=st?W[F.COMPARATORLOOSE]:W[F.COMPARATOR],$t=Pe.split(" ").map(Kt=>Ae(Kt,this.options)).join(" ").split(/\s+/).map(Kt=>Se(Kt,this.options)).filter(this.options.loose?Kt=>!!Kt.match(kt):()=>!0).map(Kt=>new N(Kt,this.options)),On=new Map;for(const Kt of $t){if(J(Kt))return[Kt];On.set(Kt.value,Kt)}On.size>1&&On.has("")&&On.delete("");const Cn=[...On.values()];return P.set(Qe,Cn),Cn}intersects(Pe,Ke){if(!(Pe instanceof $))throw new TypeError("a Range is required");return this.set.some(Qe=>ce(Qe,Ke)&&Pe.set.some(rt=>ce(rt,Ke)&&Qe.every(st=>rt.every(ft=>st.intersects(ft,Ke)))))}test(Pe){if(!Pe)return!1;if("string"==typeof Pe)try{Pe=new R(Pe,this.options)}catch(Ke){return!1}for(let Ke=0;Ke<this.set.length;Ke++)if(Re(this.set[Ke],Pe,this.options))return!0;return!1}}be.exports=$;const P=new(v(5270))({max:1e3}),I=v(6919),N=v(6585),B=v(536),R=v(8508),{re:W,t:F,comparatorTrimReplace:U,tildeTrimReplace:G,caretTrimReplace:K}=v(2489),J=Be=>"<0.0.0-0"===Be.value,he=Be=>""===Be.value,ce=(Be,Pe)=>{let Ke=!0;const Qe=Be.slice();let rt=Qe.pop();for(;Ke&&Qe.length;)Ke=Qe.every(st=>rt.intersects(st,Pe)),rt=Qe.pop();return Ke},Ae=(Be,Pe)=>(B("comp",Be,Pe),Be=et(Be,Pe),B("caret",Be),Be=Ie(Be,Pe),B("tildes",Be),Be=We(Be,Pe),B("xrange",Be),Be=we(Be,Pe),B("stars",Be),Be),je=Be=>!Be||"x"===Be.toLowerCase()||"*"===Be,Ie=(Be,Pe)=>Be.trim().split(/\s+/).map(Ke=>ze(Ke,Pe)).join(" "),ze=(Be,Pe)=>Be.replace(Pe.loose?W[F.TILDELOOSE]:W[F.TILDE],(Qe,rt,st,ft,kt)=>{let $t;return B("tilde",Be,Qe,rt,st,ft,kt),je(rt)?$t="":je(st)?$t=`>=${rt}.0.0 <${+rt+1}.0.0-0`:je(ft)?$t=`>=${rt}.${st}.0 <${rt}.${+st+1}.0-0`:kt?(B("replaceTilde pr",kt),$t=`>=${rt}.${st}.${ft}-${kt} <${rt}.${+st+1}.0-0`):$t=`>=${rt}.${st}.${ft} <${rt}.${+st+1}.0-0`,B("tilde return",$t),$t}),et=(Be,Pe)=>Be.trim().split(/\s+/).map(Ke=>Te(Ke,Pe)).join(" "),Te=(Be,Pe)=>{B("caret",Be,Pe);const Qe=Pe.includePrerelease?"-0":"";return Be.replace(Pe.loose?W[F.CARETLOOSE]:W[F.CARET],(rt,st,ft,kt,$t)=>{let on;return B("caret",Be,rt,st,ft,kt,$t),je(st)?on="":je(ft)?on=`>=${st}.0.0${Qe} <${+st+1}.0.0-0`:je(kt)?on="0"===st?`>=${st}.${ft}.0${Qe} <${st}.${+ft+1}.0-0`:`>=${st}.${ft}.0${Qe} <${+st+1}.0.0-0`:$t?(B("replaceCaret pr",$t),on="0"===st?"0"===ft?`>=${st}.${ft}.${kt}-${$t} <${st}.${ft}.${+kt+1}-0`:`>=${st}.${ft}.${kt}-${$t} <${st}.${+ft+1}.0-0`:`>=${st}.${ft}.${kt}-${$t} <${+st+1}.0.0-0`):(B("no pr"),on="0"===st?"0"===ft?`>=${st}.${ft}.${kt}${Qe} <${st}.${ft}.${+kt+1}-0`:`>=${st}.${ft}.${kt}${Qe} <${st}.${+ft+1}.0-0`:`>=${st}.${ft}.${kt} <${+st+1}.0.0-0`),B("caret return",on),on})},We=(Be,Pe)=>(B("replaceXRanges",Be,Pe),Be.split(/\s+/).map(Ke=>ge(Ke,Pe)).join(" ")),ge=(Be,Pe)=>(Be=Be.trim()).replace(Pe.loose?W[F.XRANGELOOSE]:W[F.XRANGE],(Qe,rt,st,ft,kt,$t)=>{B("xRange",Be,Qe,rt,st,ft,kt,$t);const on=je(st),On=on||je(ft),Cn=On||je(kt);return"="===rt&&Cn&&(rt=""),$t=Pe.includePrerelease?"-0":"",on?Qe=">"===rt||"<"===rt?"<0.0.0-0":"*":rt&&Cn?(On&&(ft=0),kt=0,">"===rt?(rt=">=",On?(st=+st+1,ft=0,kt=0):(ft=+ft+1,kt=0)):"<="===rt&&(rt="<",On?st=+st+1:ft=+ft+1),"<"===rt&&($t="-0"),Qe=`${rt+st}.${ft}.${kt}${$t}`):On?Qe=`>=${st}.0.0${$t} <${+st+1}.0.0-0`:Cn&&(Qe=`>=${st}.${ft}.0${$t} <${st}.${+ft+1}.0-0`),B("xRange return",Qe),Qe}),we=(Be,Pe)=>(B("replaceStars",Be,Pe),Be.trim().replace(W[F.STAR],"")),Se=(Be,Pe)=>(B("replaceGTE0",Be,Pe),Be.trim().replace(W[Pe.includePrerelease?F.GTE0PRE:F.GTE0],"")),re=Be=>(Pe,Ke,Qe,rt,st,ft,kt,$t,on,On,Cn,Kt,cn)=>`${Ke=je(Qe)?"":je(rt)?`>=${Qe}.0.0${Be?"-0":""}`:je(st)?`>=${Qe}.${rt}.0${Be?"-0":""}`:ft?`>=${Ke}`:`>=${Ke}${Be?"-0":""}`} ${$t=je(on)?"":je(On)?`<${+on+1}.0.0-0`:je(Cn)?`<${on}.${+On+1}.0-0`:Kt?`<=${on}.${On}.${Cn}-${Kt}`:Be?`<${on}.${On}.${+Cn+1}-0`:`<=${$t}`}`.trim(),Re=(Be,Pe,Ke)=>{for(let Qe=0;Qe<Be.length;Qe++)if(!Be[Qe].test(Pe))return!1;if(Pe.prerelease.length&&!Ke.includePrerelease){for(let Qe=0;Qe<Be.length;Qe++)if(B(Be[Qe].semver),Be[Qe].semver!==N.ANY&&Be[Qe].semver.prerelease.length>0){const rt=Be[Qe].semver;if(rt.major===Pe.major&&rt.minor===Pe.minor&&rt.patch===Pe.patch)return!0}return!1}return!0}},8508:(be,ie,v)=>{const $=v(536),{MAX_LENGTH:S,MAX_SAFE_INTEGER:P}=v(3147),{re:I,t:N}=v(2489),B=v(6919),{compareIdentifiers:R}=v(8322);class W{constructor(U,G){if(G=B(G),U instanceof W){if(U.loose===!!G.loose&&U.includePrerelease===!!G.includePrerelease)return U;U=U.version}else if("string"!=typeof U)throw new TypeError(`Invalid Version: ${U}`);if(U.length>S)throw new TypeError(`version is longer than ${S} characters`);$("SemVer",U,G),this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease;const K=U.trim().match(G.loose?I[N.LOOSE]:I[N.FULL]);if(!K)throw new TypeError(`Invalid Version: ${U}`);if(this.raw=U,this.major=+K[1],this.minor=+K[2],this.patch=+K[3],this.major>P||this.major<0)throw new TypeError("Invalid major version");if(this.minor>P||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>P||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=K[4]?K[4].split(".").map(J=>{if(/^[0-9]+$/.test(J)){const he=+J;if(he>=0&&he<P)return he}return J}):[],this.build=K[5]?K[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(U){if($("SemVer.compare",this.version,this.options,U),!(U instanceof W)){if("string"==typeof U&&U===this.version)return 0;U=new W(U,this.options)}return U.version===this.version?0:this.compareMain(U)||this.comparePre(U)}compareMain(U){return U instanceof W||(U=new W(U,this.options)),R(this.major,U.major)||R(this.minor,U.minor)||R(this.patch,U.patch)}comparePre(U){if(U instanceof W||(U=new W(U,this.options)),this.prerelease.length&&!U.prerelease.length)return-1;if(!this.prerelease.length&&U.prerelease.length)return 1;if(!this.prerelease.length&&!U.prerelease.length)return 0;let G=0;do{const K=this.prerelease[G],J=U.prerelease[G];if($("prerelease compare",G,K,J),void 0===K&&void 0===J)return 0;if(void 0===J)return 1;if(void 0===K)return-1;if(K!==J)return R(K,J)}while(++G)}compareBuild(U){U instanceof W||(U=new W(U,this.options));let G=0;do{const K=this.build[G],J=U.build[G];if($("prerelease compare",G,K,J),void 0===K&&void 0===J)return 0;if(void 0===J)return 1;if(void 0===K)return-1;if(K!==J)return R(K,J)}while(++G)}inc(U,G){switch(U){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",G);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",G);break;case"prepatch":this.prerelease.length=0,this.inc("patch",G),this.inc("pre",G);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",G),this.inc("pre",G);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let K=this.prerelease.length;for(;--K>=0;)"number"==typeof this.prerelease[K]&&(this.prerelease[K]++,K=-2);-1===K&&this.prerelease.push(0)}G&&(this.prerelease[0]===G?isNaN(this.prerelease[1])&&(this.prerelease=[G,0]):this.prerelease=[G,0]);break;default:throw new Error(`invalid increment argument: ${U}`)}return this.format(),this.raw=this.version,this}}be.exports=W},7658:(be,ie,v)=>{const $=v(667);be.exports=(P,I)=>{const N=$(P.trim().replace(/^[=v]+/,""),I);return N?N.version:null}},9143:(be,ie,v)=>{const $=v(7146),S=v(9154),P=v(872),I=v(8613),N=v(5217),B=v(5617);be.exports=(W,F,U,G)=>{switch(F){case"===":return"object"==typeof W&&(W=W.version),"object"==typeof U&&(U=U.version),W===U;case"!==":return"object"==typeof W&&(W=W.version),"object"==typeof U&&(U=U.version),W!==U;case"":case"=":case"==":return $(W,U,G);case"!=":return S(W,U,G);case">":return P(W,U,G);case">=":return I(W,U,G);case"<":return N(W,U,G);case"<=":return B(W,U,G);default:throw new TypeError(`Invalid operator: ${F}`)}}},8561:(be,ie,v)=>{const $=v(8508),S=v(667),{re:P,t:I}=v(2489);be.exports=(B,R)=>{if(B instanceof $)return B;if("number"==typeof B&&(B=String(B)),"string"!=typeof B)return null;let W=null;if((R=R||{}).rtl){let F;for(;(F=P[I.COERCERTL].exec(B))&&(!W||W.index+W[0].length!==B.length);)(!W||F.index+F[0].length!==W.index+W[0].length)&&(W=F),P[I.COERCERTL].lastIndex=F.index+F[1].length+F[2].length;P[I.COERCERTL].lastIndex=-1}else W=B.match(P[I.COERCE]);return null===W?null:S(`${W[2]}.${W[3]||"0"}.${W[4]||"0"}`,R)}},5934:(be,ie,v)=>{const $=v(8508);be.exports=(P,I,N)=>{const B=new $(P,N),R=new $(I,N);return B.compare(R)||B.compareBuild(R)}},306:(be,ie,v)=>{const $=v(3132);be.exports=(P,I)=>$(P,I,!0)},3132:(be,ie,v)=>{const $=v(8508);be.exports=(P,I,N)=>new $(P,N).compare(new $(I,N))},2696:(be,ie,v)=>{const $=v(667),S=v(7146);be.exports=(I,N)=>{if(S(I,N))return null;{const B=$(I),R=$(N),W=B.prerelease.length||R.prerelease.length,F=W?"pre":"",U=W?"prerelease":"";for(const G in B)if(("major"===G||"minor"===G||"patch"===G)&&B[G]!==R[G])return F+G;return U}}},7146:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>0===$(P,I,N)},872:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>$(P,I,N)>0},8613:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>$(P,I,N)>=0},5864:(be,ie,v)=>{const $=v(8508);be.exports=(P,I,N,B)=>{"string"==typeof N&&(B=N,N=void 0);try{return new $(P,N).inc(I,B).version}catch(R){return null}}},5217:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>$(P,I,N)<0},5617:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>$(P,I,N)<=0},5541:(be,ie,v)=>{const $=v(8508);be.exports=(P,I)=>new $(P,I).major},5771:(be,ie,v)=>{const $=v(8508);be.exports=(P,I)=>new $(P,I).minor},9154:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>0!==$(P,I,N)},667:(be,ie,v)=>{const{MAX_LENGTH:$}=v(3147),{re:S,t:P}=v(2489),I=v(8508),N=v(6919);be.exports=(R,W)=>{if(W=N(W),R instanceof I)return R;if("string"!=typeof R||R.length>$||!(W.loose?S[P.LOOSE]:S[P.FULL]).test(R))return null;try{return new I(R,W)}catch(U){return null}}},1891:(be,ie,v)=>{const $=v(8508);be.exports=(P,I)=>new $(P,I).patch},9861:(be,ie,v)=>{const $=v(667);be.exports=(P,I)=>{const N=$(P,I);return N&&N.prerelease.length?N.prerelease:null}},4391:(be,ie,v)=>{const $=v(3132);be.exports=(P,I,N)=>$(I,P,N)},885:(be,ie,v)=>{const $=v(5934);be.exports=(P,I)=>P.sort((N,B)=>$(B,N,I))},4138:(be,ie,v)=>{const $=v(3880);be.exports=(P,I,N)=>{try{I=new $(I,N)}catch(B){return!1}return I.test(P)}},4875:(be,ie,v)=>{const $=v(5934);be.exports=(P,I)=>P.sort((N,B)=>$(N,B,I))},8888:(be,ie,v)=>{const $=v(667);be.exports=(P,I)=>{const N=$(P,I);return N?N.version:null}},8772:(be,ie,v)=>{const $=v(2489);be.exports={re:$.re,src:$.src,tokens:$.t,SEMVER_SPEC_VERSION:v(3147).SEMVER_SPEC_VERSION,SemVer:v(8508),compareIdentifiers:v(8322).compareIdentifiers,rcompareIdentifiers:v(8322).rcompareIdentifiers,parse:v(667),valid:v(8888),clean:v(7658),inc:v(5864),diff:v(2696),major:v(5541),minor:v(5771),patch:v(1891),prerelease:v(9861),compare:v(3132),rcompare:v(4391),compareLoose:v(306),compareBuild:v(5934),sort:v(4875),rsort:v(885),gt:v(872),lt:v(5217),eq:v(7146),neq:v(9154),gte:v(8613),lte:v(5617),cmp:v(9143),coerce:v(8561),Comparator:v(6585),Range:v(3880),satisfies:v(4138),toComparators:v(7342),maxSatisfying:v(5725),minSatisfying:v(3754),minVersion:v(640),validRange:v(6860),outside:v(4694),gtr:v(5142),ltr:v(4557),intersects:v(5430),simplifyRange:v(7296),subset:v(9179)}},3147:be=>{be.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16}},536:be=>{const ie="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...v)=>console.error("SEMVER",...v):()=>{};be.exports=ie},8322:be=>{const ie=/^[0-9]+$/,v=(S,P)=>{const I=ie.test(S),N=ie.test(P);return I&&N&&(S=+S,P=+P),S===P?0:I&&!N?-1:N&&!I?1:S<P?-1:1};be.exports={compareIdentifiers:v,rcompareIdentifiers:(S,P)=>v(P,S)}},6919:be=>{const ie=["includePrerelease","loose","rtl"];be.exports=$=>$?"object"!=typeof $?{loose:!0}:ie.filter(S=>$[S]).reduce((S,P)=>(S[P]=!0,S),{}):{}},2489:(be,ie,v)=>{const{MAX_SAFE_COMPONENT_LENGTH:$}=v(3147),S=v(536),P=(ie=be.exports={}).re=[],I=ie.src=[],N=ie.t={};let B=0;const R=(W,F,U)=>{const G=B++;S(G,F),N[W]=G,I[G]=F,P[G]=new RegExp(F,U?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","[0-9]+"),R("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),R("MAINVERSION",`(${I[N.NUMERICIDENTIFIER]})\\.(${I[N.NUMERICIDENTIFIER]})\\.(${I[N.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${I[N.NUMERICIDENTIFIERLOOSE]})\\.(${I[N.NUMERICIDENTIFIERLOOSE]})\\.(${I[N.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${I[N.NUMERICIDENTIFIER]}|${I[N.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${I[N.NUMERICIDENTIFIERLOOSE]}|${I[N.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${I[N.PRERELEASEIDENTIFIER]}(?:\\.${I[N.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${I[N.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${I[N.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER","[0-9A-Za-z-]+"),R("BUILD",`(?:\\+(${I[N.BUILDIDENTIFIER]}(?:\\.${I[N.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${I[N.MAINVERSION]}${I[N.PRERELEASE]}?${I[N.BUILD]}?`),R("FULL",`^${I[N.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${I[N.MAINVERSIONLOOSE]}${I[N.PRERELEASELOOSE]}?${I[N.BUILD]}?`),R("LOOSE",`^${I[N.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${I[N.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${I[N.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${I[N.XRANGEIDENTIFIER]})(?:\\.(${I[N.XRANGEIDENTIFIER]})(?:\\.(${I[N.XRANGEIDENTIFIER]})(?:${I[N.PRERELEASE]})?${I[N.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${I[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${I[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${I[N.XRANGEIDENTIFIERLOOSE]})(?:${I[N.PRERELEASELOOSE]})?${I[N.BUILD]}?)?)?`),R("XRANGE",`^${I[N.GTLT]}\\s*${I[N.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${I[N.GTLT]}\\s*${I[N.XRANGEPLAINLOOSE]}$`),R("COERCE",`(^|[^\\d])(\\d{1,${$}})(?:\\.(\\d{1,${$}}))?(?:\\.(\\d{1,${$}}))?(?:$|[^\\d])`),R("COERCERTL",I[N.COERCE],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${I[N.LONETILDE]}\\s+`,!0),ie.tildeTrimReplace="$1~",R("TILDE",`^${I[N.LONETILDE]}${I[N.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${I[N.LONETILDE]}${I[N.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${I[N.LONECARET]}\\s+`,!0),ie.caretTrimReplace="$1^",R("CARET",`^${I[N.LONECARET]}${I[N.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${I[N.LONECARET]}${I[N.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${I[N.GTLT]}\\s*(${I[N.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${I[N.GTLT]}\\s*(${I[N.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${I[N.GTLT]}\\s*(${I[N.LOOSEPLAIN]}|${I[N.XRANGEPLAIN]})`,!0),ie.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${I[N.XRANGEPLAIN]})\\s+-\\s+(${I[N.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${I[N.XRANGEPLAINLOOSE]})\\s+-\\s+(${I[N.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0.0.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},5142:(be,ie,v)=>{const $=v(4694);be.exports=(P,I,N)=>$(P,I,">",N)},5430:(be,ie,v)=>{const $=v(3880);be.exports=(P,I,N)=>(P=new $(P,N),I=new $(I,N),P.intersects(I))},4557:(be,ie,v)=>{const $=v(4694);be.exports=(P,I,N)=>$(P,I,"<",N)},5725:(be,ie,v)=>{const $=v(8508),S=v(3880);be.exports=(I,N,B)=>{let R=null,W=null,F=null;try{F=new S(N,B)}catch(U){return null}return I.forEach(U=>{F.test(U)&&(!R||-1===W.compare(U))&&(R=U,W=new $(R,B))}),R}},3754:(be,ie,v)=>{const $=v(8508),S=v(3880);be.exports=(I,N,B)=>{let R=null,W=null,F=null;try{F=new S(N,B)}catch(U){return null}return I.forEach(U=>{F.test(U)&&(!R||1===W.compare(U))&&(R=U,W=new $(R,B))}),R}},640:(be,ie,v)=>{const $=v(8508),S=v(3880),P=v(872);be.exports=(N,B)=>{N=new S(N,B);let R=new $("0.0.0");if(N.test(R)||(R=new $("0.0.0-0"),N.test(R)))return R;R=null;for(let W=0;W<N.set.length;++W){let U=null;N.set[W].forEach(G=>{const K=new $(G.semver.version);switch(G.operator){case">":0===K.prerelease.length?K.patch++:K.prerelease.push(0),K.raw=K.format();case"":case">=":(!U||P(K,U))&&(U=K);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${G.operator}`)}}),U&&(!R||P(R,U))&&(R=U)}return R&&N.test(R)?R:null}},4694:(be,ie,v)=>{const $=v(8508),S=v(6585),{ANY:P}=S,I=v(3880),N=v(4138),B=v(872),R=v(5217),W=v(5617),F=v(8613);be.exports=(G,K,J,he)=>{let ce,Ae,je,Ie,ze;switch(G=new $(G,he),K=new I(K,he),J){case">":ce=B,Ae=W,je=R,Ie=">",ze=">=";break;case"<":ce=R,Ae=F,je=B,Ie="<",ze="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(N(G,K,he))return!1;for(let et=0;et<K.set.length;++et){let We=null,ge=null;if(K.set[et].forEach(we=>{we.semver===P&&(we=new S(">=0.0.0")),We=We||we,ge=ge||we,ce(we.semver,We.semver,he)?We=we:je(we.semver,ge.semver,he)&&(ge=we)}),We.operator===Ie||We.operator===ze||(!ge.operator||ge.operator===Ie)&&Ae(G,ge.semver))return!1;if(ge.operator===ze&&je(G,ge.semver))return!1}return!0}},7296:(be,ie,v)=>{const $=v(4138),S=v(3132);be.exports=(P,I,N)=>{const B=[];let R=null,W=null;const F=P.sort((J,he)=>S(J,he,N));for(const J of F)$(J,I,N)?(W=J,R||(R=J)):(W&&B.push([R,W]),W=null,R=null);R&&B.push([R,null]);const U=[];for(const[J,he]of B)U.push(J===he?J:he||J!==F[0]?he?J===F[0]?`<=${he}`:`${J} - ${he}`:`>=${J}`:"*");const G=U.join(" || "),K="string"==typeof I.raw?I.raw:String(I);return G.length<K.length?G:I}},9179:(be,ie,v)=>{const $=v(3880),S=v(6585),{ANY:P}=S,I=v(4138),N=v(3132),R=(U,G,K)=>{if(U===G)return!0;if(1===U.length&&U[0].semver===P){if(1===G.length&&G[0].semver===P)return!0;U=K.includePrerelease?[new S(">=0.0.0-0")]:[new S(">=0.0.0")]}if(1===G.length&&G[0].semver===P){if(K.includePrerelease)return!0;G=[new S(">=0.0.0")]}const J=new Set;let he,ce,Ae;for(const ge of U)">"===ge.operator||">="===ge.operator?he=W(he,ge,K):"<"===ge.operator||"<="===ge.operator?ce=F(ce,ge,K):J.add(ge.semver);if(J.size>1)return null;if(he&&ce){if(Ae=N(he.semver,ce.semver,K),Ae>0)return null;if(0===Ae&&(">="!==he.operator||"<="!==ce.operator))return null}for(const ge of J){if(he&&!I(ge,String(he),K)||ce&&!I(ge,String(ce),K))return null;for(const we of G)if(!I(ge,String(we),K))return!1;return!0}let je,Ie,ze,et,Te=!(!ce||K.includePrerelease||!ce.semver.prerelease.length)&&ce.semver,We=!(!he||K.includePrerelease||!he.semver.prerelease.length)&&he.semver;Te&&1===Te.prerelease.length&&"<"===ce.operator&&0===Te.prerelease[0]&&(Te=!1);for(const ge of G){if(et=et||">"===ge.operator||">="===ge.operator,ze=ze||"<"===ge.operator||"<="===ge.operator,he)if(We&&ge.semver.prerelease&&ge.semver.prerelease.length&&ge.semver.major===We.major&&ge.semver.minor===We.minor&&ge.semver.patch===We.patch&&(We=!1),">"===ge.operator||">="===ge.operator){if(je=W(he,ge,K),je===ge&&je!==he)return!1}else if(">="===he.operator&&!I(he.semver,String(ge),K))return!1;if(ce)if(Te&&ge.semver.prerelease&&ge.semver.prerelease.length&&ge.semver.major===Te.major&&ge.semver.minor===Te.minor&&ge.semver.patch===Te.patch&&(Te=!1),"<"===ge.operator||"<="===ge.operator){if(Ie=F(ce,ge,K),Ie===ge&&Ie!==ce)return!1}else if("<="===ce.operator&&!I(ce.semver,String(ge),K))return!1;if(!ge.operator&&(ce||he)&&0!==Ae)return!1}return!(he&&ze&&!ce&&0!==Ae||ce&&et&&!he&&0!==Ae||We||Te)},W=(U,G,K)=>{if(!U)return G;const J=N(U.semver,G.semver,K);return J>0?U:J<0||">"===G.operator&&">="===U.operator?G:U},F=(U,G,K)=>{if(!U)return G;const J=N(U.semver,G.semver,K);return J<0?U:J>0||"<"===G.operator&&"<="===U.operator?G:U};be.exports=(U,G,K={})=>{if(U===G)return!0;U=new $(U,K),G=new $(G,K);let J=!1;e:for(const he of U.set){for(const ce of G.set){const Ae=R(he,ce,K);if(J=J||null!==Ae,Ae)continue e}if(J)return!1}return!0}},7342:(be,ie,v)=>{const $=v(3880);be.exports=(P,I)=>new $(P,I).set.map(N=>N.map(B=>B.value).join(" ").trim().split(" "))},6860:(be,ie,v)=>{const $=v(3880);be.exports=(P,I)=>{try{return new $(P,I).range||"*"}catch(N){return null}}},7796:(be,ie,v)=>{"use strict";v.r(ie),v.d(ie,{DEFAULT_ACTIONS:()=>TJ,default:()=>k0e,guessMode:()=>IJ,vega:()=>ry,vegaLite:()=>qm});var $={};v.r($),v.d($,{JsonPatchError:()=>Qe,_areEquals:()=>cn,applyOperation:()=>$t,applyPatch:()=>on,applyReducer:()=>On,deepClone:()=>rt,getValueByPointer:()=>kt,validate:()=>Kt,validator:()=>Cn});var S={};v.r(S),v.d(S,{compare:()=>an,generate:()=>Et,observe:()=>nt,unobserve:()=>kn});var P={};v.r(P),v.d(P,{aggregate:()=>Ou,bin:()=>ud,collect:()=>Sf,compare:()=>t_,countpattern:()=>OE,cross:()=>Wt,density:()=>sm,dotbin:()=>am,expression:()=>FE,extent:()=>dV,facet:()=>PE,field:()=>KJ,filter:()=>fV,flatten:()=>TT,fold:()=>kT,formula:()=>$F,generate:()=>IT,impute:()=>hV,joinaggregate:()=>pV,kde:()=>mV,key:()=>ZJ,load:()=>JJ,lookup:()=>zF,multiextent:()=>jF,multivalues:()=>HF,params:()=>gV,pivot:()=>Eg,prefacet:()=>NT,project:()=>YF,proxy:()=>vV,quantile:()=>GF,relay:()=>vv,sample:()=>$E,sequence:()=>Iy,sieve:()=>CD,subflow:()=>BF,timeunit:()=>Ny,tupleindex:()=>KF,values:()=>XF,window:()=>LT});var I={};v.r(I),v.d(I,{interpolate:()=>r_,interpolateArray:()=>ID,interpolateBasis:()=>um,interpolateBasisClosed:()=>AD,interpolateCubehelix:()=>Cz,interpolateCubehelixLong:()=>$Q,interpolateDate:()=>vP,interpolateDiscrete:()=>S_e,interpolateHcl:()=>BQ,interpolateHclLong:()=>bz,interpolateHsl:()=>Fv,interpolateHslLong:()=>Pv,interpolateHue:()=>LQ,interpolateLab:()=>ND,interpolateNumber:()=>hp,interpolateNumberArray:()=>zy,interpolateObject:()=>bP,interpolateRgb:()=>Vy,interpolateRgbBasis:()=>TD,interpolateRgbBasisClosed:()=>kD,interpolateRound:()=>KE,interpolateString:()=>xP,interpolateTransformCss:()=>hr,interpolateTransformSvg:()=>pz,interpolateZoom:()=>gn,piecewise:()=>IP,quantize:()=>VQ});var N={};v.r(N),v.d(N,{bound:()=>Qj,identifier:()=>p3,mark:()=>m3,overlap:()=>g3,render:()=>yee,viewlayout:()=>t7});var B={};v.r(B),v.d(B,{axisticks:()=>ow,datajoin:()=>n7,encode:()=>w3,legendentries:()=>zM,linkpath:()=>fI,pie:()=>M3,scale:()=>Fee,sortitems:()=>mI,stack:()=>_I});var R={};v.r(R),v.d(R,{contour:()=>vw,geojson:()=>sB,geopath:()=>Ja,geopoint:()=>bw,geoshape:()=>aB,graticule:()=>oB,heatmap:()=>OI,isocontour:()=>u2,kde2d:()=>Xi,projection:()=>lB});var W={};v.r(W),v.d(W,{force:()=>CW});var F={};v.r(F),v.d(F,{nest:()=>NB,pack:()=>OB,partition:()=>LB,stratify:()=>FB,tree:()=>WW,treelinks:()=>HW,treemap:()=>UW});var U={};v.r(U),v.d(U,{label:()=>jB});var G={};v.r(G),v.d(G,{loess:()=>WB,regression:()=>UB});var K={};v.r(K),v.d(K,{voronoi:()=>i1});var J={};v.r(J),v.d(J,{wordcloud:()=>ZB});var he={};v.r(he),v.d(he,{crossfilter:()=>JB,resolvefilter:()=>QB});var ce={};v.r(ce),v.d(ce,{Bounds:()=>Cl,CanvasHandler:()=>SM,CanvasRenderer:()=>d_,DATE:()=>Ho,DAY:()=>uo,DAYOFYEAR:()=>wa,Dataflow:()=>X0,Debug:()=>pi,Error:()=>Zu,EventStream:()=>vg,Gradient:()=>VD,GroupItem:()=>hM,HOURS:()=>Fa,Handler:()=>Zy,Info:()=>Lr,Item:()=>fM,MILLISECONDS:()=>ko,MINUTES:()=>el,MONTH:()=>Ya,Marks:()=>Za,MultiPulse:()=>nl,None:()=>Bl,Operator:()=>oa,Parameters:()=>fD,Pulse:()=>ua,QUARTER:()=>go,RenderType:()=>Bg,Renderer:()=>Rg,ResourceLoader:()=>Sk,SECONDS:()=>uu,SVGHandler:()=>AM,SVGRenderer:()=>Qk,SVGStringRenderer:()=>i3,Scenegraph:()=>HR,TIME_UNITS:()=>cg,Transform:()=>nn,View:()=>HU,WEEK:()=>Ga,Warn:()=>Qi,YEAR:()=>Ua,accessor:()=>Tr,accessorFields:()=>mr,accessorName:()=>hi,array:()=>Mr,ascending:()=>Wi,bandwidthNRD:()=>yE,bin:()=>J0,bootstrapCI:()=>NF,boundClip:()=>iI,boundContext:()=>Zv,boundItem:()=>WR,boundMark:()=>Vk,boundStroke:()=>sl,changeset:()=>K0,clampRange:()=>oc,codegenExpression:()=>Qoe,compare:()=>Ws,constant:()=>Xe,cumulativeLogNormal:()=>DD,cumulativeNormal:()=>mv,cumulativeUniform:()=>_v,dayofyear:()=>Gp,debounce:()=>Mt,defaultLocale:()=>YC,definition:()=>xg,densityLogNormal:()=>gv,densityNormal:()=>bD,densityUniform:()=>EE,domChild:()=>Tf,domClear:()=>_p,domCreate:()=>Pg,domFind:()=>UR,dotbin:()=>vE,error:()=>Pt,expressionFunction:()=>fl,extend:()=>Nt,extent:()=>Dn,extentIndex:()=>Vn,falsy:()=>ia,fastmap:()=>dr,field:()=>Ur,flush:()=>zr,font:()=>ew,fontFamily:()=>rb,fontSize:()=>Yd,format:()=>iv,formatLocale:()=>yy,formats:()=>lD,hasOwnProperty:()=>bn,id:()=>ra,identity:()=>vs,inferType:()=>_g,inferTypes:()=>G0,ingest:()=>Xs,inherits:()=>qt,inrange:()=>Hs,interpolate:()=>Wd,interpolateColors:()=>iM,interpolateRange:()=>QP,intersect:()=>nI,intersectBoxLine:()=>Qv,intersectPath:()=>CR,intersectPoint:()=>ER,intersectRule:()=>SR,isArray:()=>Sn,isBoolean:()=>sr,isDate:()=>Oe,isFunction:()=>ur,isIterable:()=>ot,isNumber:()=>Ft,isObject:()=>$e,isRegExp:()=>fn,isString:()=>wn,isTuple:()=>dD,key:()=>lr,lerp:()=>Vi,lineHeight:()=>Xy,loader:()=>sv,locale:()=>U0,logger:()=>wu,lruCache:()=>Ni,markup:()=>rw,merge:()=>Oi,mergeConfig:()=>Cr,multiLineOffset:()=>Bk,one:()=>iu,pad:()=>Eu,panLinear:()=>Fi,panLog:()=>Wo,panPow:()=>Ta,panSymlog:()=>_s,parse:()=>Xw,parseExpression:()=>Koe,parseSelector:()=>ex,pathCurves:()=>oR,pathEqual:()=>pu,pathParse:()=>Wv,pathRectangle:()=>dR,pathRender:()=>lM,pathSymbols:()=>Uz,pathTrail:()=>Gz,peek:()=>Kr,point:()=>jk,projection:()=>nW,quantileLogNormal:()=>wE,quantileNormal:()=>My,quantileUniform:()=>ME,quantiles:()=>gE,quantizeInterpolator:()=>qP,quarter:()=>Da,quartiles:()=>_E,random:()=>lu,randomInteger:()=>bE,randomKDE:()=>DE,randomLCG:()=>Bd,randomLogNormal:()=>wD,randomMixture:()=>DT,randomNormal:()=>xD,randomUniform:()=>SE,read:()=>iT,regressionExp:()=>TE,regressionLinear:()=>AE,regressionLoess:()=>q,regressionLog:()=>wT,regressionPoly:()=>IE,regressionPow:()=>kE,regressionQuad:()=>rm,renderModule:()=>iw,repeat:()=>vn,resetDefaultLocale:()=>nD,resetSVGClipId:()=>qz,resetSVGDefIds:()=>oee,responseType:()=>yg,runtimeContext:()=>xU,sampleCurve:()=>xe,sampleLogNormal:()=>wg,sampleNormal:()=>Dg,sampleUniform:()=>CE,scale:()=>fa,sceneEqual:()=>kf,sceneFromJSON:()=>vj,scenePickVisit:()=>kR,sceneToJSON:()=>yj,sceneVisit:()=>hm,sceneZOrder:()=>TR,scheme:()=>Mc,serializeXML:()=>Bj,setRandom:()=>xT,span:()=>ma,splitAccessPath:()=>wr,stringValue:()=>gr,textMetrics:()=>Fg,timeBin:()=>py,timeFloor:()=>F0,timeFormatLocale:()=>vy,timeInterval:()=>Od,timeOffset:()=>Ld,timeSequence:()=>P0,timeUnitSpecifier:()=>yc,timeUnits:()=>k0,toBoolean:()=>ht,toDate:()=>ff,toNumber:()=>rs,toSet:()=>Di,toString:()=>su,transform:()=>_T,transforms:()=>Ey,truncate:()=>th,truthy:()=>Aa,tupleid:()=>Zr,typeParsers:()=>ZC,utcFloor:()=>ip,utcInterval:()=>Df,utcOffset:()=>sp,utcSequence:()=>ap,utcdayofyear:()=>Xp,utcquarter:()=>ka,utcweek:()=>N0,version:()=>xue,visitArray:()=>xl,week:()=>I0,writeConfig:()=>vr,zero:()=>or,zoomLinear:()=>As,zoomLog:()=>Jr,zoomPow:()=>ja,zoomSymlog:()=>Ts});var Ae={};v.r(Ae),v.d(Ae,{compile:()=>Age,extractTransforms:()=>Nge,normalize:()=>g8,version:()=>Oge});var je={};v.r(je),v.d(je,{dark:()=>qge,excel:()=>e0e,fivethirtyeight:()=>r0e,ggplot2:()=>i0e,googlecharts:()=>_J,latimes:()=>fJ,quartz:()=>a0e,urbaninstitute:()=>l0e,version:()=>yJ,vox:()=>hJ});var e,Ie=(e=function(i,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var d in l)l.hasOwnProperty(d)&&(u[d]=l[d])})(i,a)},function(i,a){function u(){this.constructor=i}e(i,a),i.prototype=null===a?Object.create(a):(u.prototype=a.prototype,new u)}),ze=Object.prototype.hasOwnProperty;function et(e,i){return ze.call(e,i)}function Te(e){if(Array.isArray(e)){for(var a=new Array(e.length),i=0;i<a.length;i++)a[i]=""+i;return a}if(Object.keys)return Object.keys(e);for(var u in a=[],e)et(e,u)&&a.push(u);return a}function We(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function ge(e){for(var u,i=0,a=e.length;i<a;){if(!((u=e.charCodeAt(i))>=48&&u<=57))return!1;i++}return!0}function we(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Se(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Be(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var i=0,a=e.length;i<a;i++)if(Be(e[i]))return!0}else if("object"==typeof e){var u=Te(e),l=u.length;for(i=0;i<l;i++)if(Be(e[u[i]]))return!0}return!1}function Pe(e,i){var a=[e];for(var u in i){var l="object"==typeof i[u]?JSON.stringify(i[u],null,2):i[u];void 0!==l&&a.push(u+": "+l)}return a.join("\n")}var Ke=function(e){function i(a,u,l,d,h){var p=this.constructor,y=e.call(this,Pe(a,{name:u,index:l,operation:d,tree:h}))||this;return y.name=u,y.index=l,y.operation=d,y.tree=h,Object.setPrototypeOf(y,p.prototype),y.message=Pe(a,{name:u,index:l,operation:d,tree:h}),y}return Ie(i,e),i}(Error),Qe=Ke,rt=We,st={add:function(e,i,a){return e[i]=this.value,{newDocument:a}},remove:function(e,i,a){var u=e[i];return delete e[i],{newDocument:a,removed:u}},replace:function(e,i,a){var u=e[i];return e[i]=this.value,{newDocument:a,removed:u}},move:function(e,i,a){var u=kt(a,this.path);u&&(u=We(u));var l=$t(a,{op:"remove",path:this.from}).removed;return $t(a,{op:"add",path:this.path,value:l}),{newDocument:a,removed:u}},copy:function(e,i,a){var u=kt(a,this.from);return $t(a,{op:"add",path:this.path,value:We(u)}),{newDocument:a}},test:function(e,i,a){return{newDocument:a,test:cn(e[i],this.value)}},_get:function(e,i,a){return this.value=e[i],{newDocument:a}}},ft={add:function(e,i,a){return ge(i)?e.splice(i,0,this.value):e[i]=this.value,{newDocument:a,index:i}},remove:function(e,i,a){return{newDocument:a,removed:e.splice(i,1)[0]}},replace:function(e,i,a){var u=e[i];return e[i]=this.value,{newDocument:a,removed:u}},move:st.move,copy:st.copy,test:st.test,_get:st._get};function kt(e,i){if(""==i)return e;var a={op:"_get",path:i};return $t(e,a),a.value}function $t(e,i,a,u,l,d){if(void 0===a&&(a=!1),void 0===u&&(u=!0),void 0===l&&(l=!0),void 0===d&&(d=0),a&&("function"==typeof a?a(i,0,e,i.path):Cn(i,0)),""===i.path){var h={newDocument:e};if("add"===i.op)return h.newDocument=i.value,h;if("replace"===i.op)return h.newDocument=i.value,h.removed=e,h;if("move"===i.op||"copy"===i.op)return h.newDocument=kt(e,i.from),"move"===i.op&&(h.removed=e),h;if("test"===i.op){if(h.test=cn(e,i.value),!1===h.test)throw new Qe("Test operation failed","TEST_OPERATION_FAILED",d,i,e);return h.newDocument=e,h}if("remove"===i.op)return h.removed=e,h.newDocument=null,h;if("_get"===i.op)return i.value=e,h;if(a)throw new Qe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",d,i,e);return h}u||(e=We(e));var y=(i.path||"").split("/"),b=e,C=1,M=y.length,O=void 0,H=void 0,Y=void 0;for(Y="function"==typeof a?a:Cn;;){if((H=y[C])&&-1!=H.indexOf("~")&&(H=Se(H)),l&&"__proto__"==H)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(a&&void 0===O&&(void 0===b[H]?O=y.slice(0,C).join("/"):C==M-1&&(O=i.path),void 0!==O&&Y(i,0,e,O)),C++,Array.isArray(b)){if("-"===H)H=b.length;else{if(a&&!ge(H))throw new Qe("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",d,i,e);ge(H)&&(H=~~H)}if(C>=M){if(a&&"add"===i.op&&H>b.length)throw new Qe("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",d,i,e);if(!1===(h=ft[i.op].call(i,b,H,e)).test)throw new Qe("Test operation failed","TEST_OPERATION_FAILED",d,i,e);return h}}else if(C>=M){if(!1===(h=st[i.op].call(i,b,H,e)).test)throw new Qe("Test operation failed","TEST_OPERATION_FAILED",d,i,e);return h}if(b=b[H],a&&C<M&&(!b||"object"!=typeof b))throw new Qe("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",d,i,e)}}function on(e,i,a,u,l){if(void 0===u&&(u=!0),void 0===l&&(l=!0),a&&!Array.isArray(i))throw new Qe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");u||(e=We(e));for(var d=new Array(i.length),h=0,p=i.length;h<p;h++)d[h]=$t(e,i[h],a,!0,l,h),e=d[h].newDocument;return d.newDocument=e,d}function On(e,i,a){var u=$t(e,i);if(!1===u.test)throw new Qe("Test operation failed","TEST_OPERATION_FAILED",a,i,e);return u.newDocument}function Cn(e,i,a,u){if("object"!=typeof e||null===e||Array.isArray(e))throw new Qe("Operation is not an object","OPERATION_NOT_AN_OBJECT",i,e,a);if(!st[e.op])throw new Qe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,e,a);if("string"!=typeof e.path)throw new Qe("Operation `path` property is not a string","OPERATION_PATH_INVALID",i,e,a);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Qe('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",i,e,a);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Qe("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",i,e,a);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Qe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",i,e,a);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Be(e.value))throw new Qe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",i,e,a);if(a)if("add"==e.op){var l=e.path.split("/").length,d=u.split("/").length;if(l!==d+1&&l!==d)throw new Qe("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",i,e,a)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==u)throw new Qe("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",i,e,a)}else if("move"===e.op||"copy"===e.op){var p=Kt([{op:"_get",path:e.from,value:void 0}],a);if(p&&"OPERATION_PATH_UNRESOLVABLE"===p.name)throw new Qe("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",i,e,a)}}function Kt(e,i,a){try{if(!Array.isArray(e))throw new Qe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(i)on(We(i),We(e),a||!0);else{a=a||Cn;for(var u=0;u<e.length;u++)a(e[u],u,i,void 0)}}catch(l){if(l instanceof Qe)return l;throw l}}function cn(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){var l,d,h,a=Array.isArray(e),u=Array.isArray(i);if(a&&u){if((d=e.length)!=i.length)return!1;for(l=d;0!=l--;)if(!cn(e[l],i[l]))return!1;return!0}if(a!=u)return!1;var p=Object.keys(e);if((d=p.length)!==Object.keys(i).length)return!1;for(l=d;0!=l--;)if(!i.hasOwnProperty(p[l]))return!1;for(l=d;0!=l--;)if(!cn(e[h=p[l]],i[h]))return!1;return!0}return e!=e&&i!=i}var Gr=new WeakMap,mi=function(i){this.observers=new Map,this.obj=i},dt=function(i,a){this.callback=i,this.observer=a};function kn(e,i){i.unobserve()}function nt(e,i){var u,l=function(e){return Gr.get(e)}(e);if(l){var d=function(e,i){return e.observers.get(i)}(l,i);u=d&&d.observer}else l=new mi(e),Gr.set(e,l);if(u)return u;if(u={},l.value=We(e),i){u.callback=i,u.next=null;var h=function(){Et(u)},p=function(){clearTimeout(u.next),u.next=setTimeout(h)};"undefined"!=typeof window&&(window.addEventListener("mouseup",p),window.addEventListener("keyup",p),window.addEventListener("mousedown",p),window.addEventListener("keydown",p),window.addEventListener("change",p))}return u.patches=[],u.object=e,u.unobserve=function(){Et(u),clearTimeout(u.next),function(e,i){e.observers.delete(i.callback)}(l,u),"undefined"!=typeof window&&(window.removeEventListener("mouseup",p),window.removeEventListener("keyup",p),window.removeEventListener("mousedown",p),window.removeEventListener("keydown",p),window.removeEventListener("change",p))},l.observers.set(i,new dt(i,u)),u}function Et(e,i){void 0===i&&(i=!1);var a=Gr.get(e.object);zt(a.value,e.object,e.patches,"",i),e.patches.length&&on(a.value,e.patches);var u=e.patches;return u.length>0&&(e.patches=[],e.callback&&e.callback(u)),u}function zt(e,i,a,u,l){if(i!==e){"function"==typeof i.toJSON&&(i=i.toJSON());for(var d=Te(i),h=Te(e),y=!1,b=h.length-1;b>=0;b--){var M=e[C=h[b]];if(!et(i,C)||void 0===i[C]&&void 0!==M&&!1===Array.isArray(i))Array.isArray(e)===Array.isArray(i)?(l&&a.push({op:"test",path:u+"/"+we(C),value:We(M)}),a.push({op:"remove",path:u+"/"+we(C)}),y=!0):(l&&a.push({op:"test",path:u,value:e}),a.push({op:"replace",path:u,value:i}));else{var O=i[C];"object"==typeof M&&null!=M&&"object"==typeof O&&null!=O&&Array.isArray(M)===Array.isArray(O)?zt(M,O,a,u+"/"+we(C),l):M!==O&&(l&&a.push({op:"test",path:u+"/"+we(C),value:We(M)}),a.push({op:"replace",path:u+"/"+we(C),value:We(O)}))}}if(y||d.length!=h.length)for(b=0;b<d.length;b++){var C;!et(e,C=d[b])&&void 0!==i[C]&&a.push({op:"add",path:u+"/"+we(C),value:We(i[C])})}}}function an(e,i,a){void 0===a&&(a=!1);var u=[];return zt(e,i,u,"",a),u}Object.assign({},$,S,{JsonPatchError:Ke,deepClone:We,escapePathComponent:we,unescapePathComponent:Se});var xr=v(5328),Tn=v.n(xr),ir=v(8772);function Tr(e,i,a){return e.fields=i||[],e.fname=a,e}function hi(e){return null==e?null:e.fname}function mr(e){return null==e?null:e.fields}function ni(e){return 1===e.length?Ss(e[0]):Ii(e)}const Ss=e=>function(i){return i[e]},Ii=e=>{const i=e.length;return function(a){for(let u=0;u<i;++u)a=a[e[u]];return a}};function Pt(e){throw Error(e)}function wr(e){const i=[],a=e.length;let h,p,y,u=null,l=0,d="";function b(){i.push(d+e.substring(h,p)),d="",h=p+1}for(e+="",h=p=0;p<a;++p)if(y=e[p],"\\"===y)d+=e.substring(h,p),d+=e.substring(++p,++p),h=p;else if(y===u)b(),u=null,l=-1;else{if(u)continue;h===l&&'"'===y||h===l&&"'"===y?(h=p+1,u=y):"."!==y||l?"["===y?(p>h&&b(),l=h=p+1):"]"===y&&(l||Pt("Access path missing open bracket: "+e),l>0&&b(),l=0,h=p+1):p>h?b():h=p+1}return l&&Pt("Access path missing closing bracket: "+e),u&&Pt("Access path missing closing quote: "+e),p>h&&(p++,b()),i}function Ur(e,i,a){const u=wr(e);return e=1===u.length?u[0]:e,Tr((a&&a.get||ni)(u),[e],i||e)}const ra=Ur("id"),vs=Tr(e=>e,[],"identity"),or=Tr(()=>0,[],"zero"),iu=Tr(()=>1,[],"one"),Aa=Tr(()=>!0,[],"true"),ia=Tr(()=>!1,[],"false");function bl(e,i,a){const u=[i].concat([].slice.call(a));console[e].apply(console,u)}const Bl=0,Zu=1,Qi=2,Lr=3,pi=4;function wu(e,i){let a=e||Bl;return{level(u){return arguments.length?(a=+u,this):a},error(){return a>=Zu&&bl(i||"error","ERROR",arguments),this},warn(){return a>=Qi&&bl(i||"warn","WARN",arguments),this},info(){return a>=Lr&&bl(i||"log","INFO",arguments),this},debug(){return a>=pi&&bl(i||"log","DEBUG",arguments),this}}}var Sn=Array.isArray;function $e(e){return e===Object(e)}const ho=e=>"__proto__"!==e;function Cr(...e){return e.reduce((i,a)=>{for(const u in a)"signals"===u?i.signals=$u(i.signals,a.signals):vr(i,u,a[u],"legend"===u?{layout:1}:"style"===u||null);return i},{})}function vr(e,i,a,u){if(!ho(i))return;let l,d;if($e(a)&&!Sn(a))for(l in d=$e(e[i])?e[i]:e[i]={},a)u&&(!0===u||u[l])?vr(d,l,a[l]):ho(l)&&(d[l]=a[l]);else e[i]=a}function $u(e,i){if(null==e)return i;const a={},u=[];function l(d){a[d.name]||(a[d.name]=1,u.push(d))}return i.forEach(l),e.forEach(l),u}function Kr(e){return e[e.length-1]}function rs(e){return null==e||""===e?null:+e}const Cu=e=>i=>e*Math.exp(i),Hn=e=>i=>Math.log(e*i),Pr=e=>i=>Math.sign(i)*Math.log1p(Math.abs(i/e)),sa=e=>i=>Math.sign(i)*Math.expm1(Math.abs(i))*e,Os=e=>i=>i<0?-Math.pow(-i,e):Math.pow(i,e);function jo(e,i,a,u){const l=a(e[0]),d=a(Kr(e)),h=(d-l)*i;return[u(l-h),u(d-h)]}function Fi(e,i){return jo(e,i,rs,vs)}function Wo(e,i){var a=Math.sign(e[0]);return jo(e,i,Hn(a),Cu(a))}function Ta(e,i,a){return jo(e,i,Os(a),Os(1/a))}function _s(e,i,a){return jo(e,i,Pr(a),sa(a))}function bs(e,i,a,u,l){const d=u(e[0]),h=u(Kr(e)),p=null!=i?u(i):(d+h)/2;return[l(p+(d-p)*a),l(p+(h-p)*a)]}function As(e,i,a){return bs(e,i,a,rs,vs)}function Jr(e,i,a){const u=Math.sign(e[0]);return bs(e,i,a,Hn(u),Cu(u))}function ja(e,i,a,u){return bs(e,i,a,Os(u),Os(1/u))}function Ts(e,i,a,u){return bs(e,i,a,Pr(u),sa(u))}function Da(e){return 1+~~(new Date(e).getMonth()/3)}function ka(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Mr(e){return null!=e?Sn(e)?e:[e]:[]}function oc(e,i,a){let d,u=e[0],l=e[1];return l<u&&(d=l,l=u,u=d),d=l-u,d>=a-i?[i,a]:[u=Math.min(Math.max(u,i),a-d),u+d]}function ur(e){return"function"==typeof e}function Ws(e,i,a){a=a||{},i=Mr(i)||[];const u=[],l=[],d={},h=a.comparator||Jc;return Mr(e).forEach((p,y)=>{null!=p&&(u.push("descending"===i[y]?-1:1),l.push(p=ur(p)?p:Ur(p,null,a)),(mr(p)||[]).forEach(b=>d[b]=1))}),0===l.length?null:Tr(h(l,u),Object.keys(d))}const Wi=(e,i)=>(e<i||null==e)&&null!=i?-1:(e>i||null==i)&&null!=e?1:(i=i instanceof Date?+i:i,(e=e instanceof Date?+e:e)!==e&&i==i?-1:i!=i&&e==e?1:0),Jc=(e,i)=>1===e.length?uc(e[0],i[0]):lc(e,i,e.length),uc=(e,i)=>function(a,u){return Wi(e(a),e(u))*i},lc=(e,i,a)=>(i.push(0),function(u,l){let d,h=0,p=-1;for(;0===h&&++p<a;)d=e[p],h=Wi(d(u),d(l));return h*i[p]});function Xe(e){return ur(e)?e:()=>e}function Mt(e,i){let a;return u=>{a&&clearTimeout(a),a=setTimeout(()=>(i(u),a=null),e)}}function Nt(e){for(let i,a,u=1,l=arguments.length;u<l;++u)for(a in i=arguments[u],i)e[a]=i[a];return e}function Dn(e,i){let u,l,d,h,a=0;if(e&&(u=e.length))if(null==i){for(l=e[a];a<u&&(null==l||l!=l);l=e[++a]);for(d=h=l;a<u;++a)l=e[a],null!=l&&(l<d&&(d=l),l>h&&(h=l))}else{for(l=i(e[a]);a<u&&(null==l||l!=l);l=i(e[++a]));for(d=h=l;a<u;++a)l=i(e[a]),null!=l&&(l<d&&(d=l),l>h&&(h=l))}return[d,h]}function Vn(e,i){const a=e.length;let l,d,h,p,y,u=-1;if(null==i){for(;++u<a;)if(d=e[u],null!=d&&d>=d){l=h=d;break}if(u===a)return[-1,-1];for(p=y=u;++u<a;)d=e[u],null!=d&&(l>d&&(l=d,p=u),h<d&&(h=d,y=u))}else{for(;++u<a;)if(d=i(e[u],u,e),null!=d&&d>=d){l=h=d;break}if(u===a)return[-1,-1];for(p=y=u;++u<a;)d=i(e[u],u,e),null!=d&&(l>d&&(l=d,p=u),h<d&&(h=d,y=u))}return[p,y]}const Qn=Object.prototype.hasOwnProperty;function bn(e,i){return Qn.call(e,i)}const zn={};function dr(e){let a,i={};function u(d){return bn(i,d)&&i[d]!==zn}const l={size:0,empty:0,object:i,has:u,get:d=>u(d)?i[d]:void 0,set(d,h){return u(d)||(++l.size,i[d]===zn&&--l.empty),i[d]=h,this},delete(d){return u(d)&&(--l.size,++l.empty,i[d]=zn),this},clear(){l.size=l.empty=0,l.object=i={}},test(d){return arguments.length?(a=d,l):a},clean(){const d={};let h=0;for(const p in i){const y=i[p];y!==zn&&(!a||!a(y))&&(d[p]=y,++h)}l.size=h,l.empty=0,l.object=i=d}};return e&&Object.keys(e).forEach(d=>{l.set(d,e[d])}),l}function zr(e,i,a,u,l,d){if(!a&&0!==a)return d;const h=+a;let b,p=e[0],y=Kr(e);y<p&&(b=p,p=y,y=b),b=Math.abs(i-p);const C=Math.abs(y-i);return b<C&&b<=h?u:C<=h?l:d}function qt(e,i,a){const u=e.prototype=Object.create(i.prototype);return Object.defineProperty(u,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Nt(u,a)}function Hs(e,i,a,u){let h,l=i[0],d=i[i.length-1];return l>d&&(h=l,l=d,d=h),u=void 0===u||u,((a=void 0===a||a)?l<=e:l<e)&&(u?e<=d:e<d)}function sr(e){return"boolean"==typeof e}function Oe(e){return"[object Date]"===Object.prototype.toString.call(e)}function ot(e){return e&&ur(e[Symbol.iterator])}function Ft(e){return"number"==typeof e}function fn(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function wn(e){return"string"==typeof e}function lr(e,i,a){e&&(e=i?Mr(e).map(p=>p.replace(/\\(.)/g,"$1")):Mr(e));const u=e&&e.length,l=a&&a.get||ni,d=p=>l(i?[p]:wr(p));let h;if(u)if(1===u){const p=d(e[0]);h=function(y){return""+p(y)}}else{const p=e.map(d);h=function(y){let b=""+p[0](y),C=0;for(;++C<u;)b+="|"+p[C](y);return b}}else h=function(){return""};return Tr(h,e,"key")}function Vi(e,i){const a=e[0],u=Kr(e),l=+i;return l?1===l?u:a+l*(u-a):a}function Ni(e){let i,a,u;e=+e||1e4;const l=()=>{i={},a={},u=0},d=(h,p)=>(++u>e&&(a=i,i={},u=1),i[h]=p);return l(),{clear:l,has:h=>bn(i,h)||bn(a,h),get:h=>bn(i,h)?i[h]:bn(a,h)?d(h,a[h]):void 0,set:(h,p)=>bn(i,h)?i[h]=p:d(h,p)}}function Oi(e,i,a,u){const l=i.length,d=a.length;if(!d)return i;if(!l)return a;const h=u||new i.constructor(l+d);let p=0,y=0,b=0;for(;p<l&&y<d;++b)h[b]=e(i[p],a[y])>0?a[y++]:i[p++];for(;p<l;++p,++b)h[b]=i[p];for(;y<d;++y,++b)h[b]=a[y];return h}function vn(e,i){let a="";for(;--i>=0;)a+=e;return a}function Eu(e,i,a,u){const l=a||" ",d=e+"",h=i-d.length;return h<=0?d:"left"===u?vn(l,h)+d:"center"===u?vn(l,~~(h/2))+d+vn(l,Math.ceil(h/2)):d+vn(l,h)}function ma(e){return e&&Kr(e)-e[0]||0}function gr(e){return Sn(e)?"["+e.map(gr)+"]":$e(e)||wn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function ht(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const Qc=e=>Ft(e)||Oe(e)?e:Date.parse(e);function ff(e,i){return i=i||Qc,null==e||""===e?null:i(e)}function su(e){return null==e||""===e?null:e+""}function Di(e){const i={},a=e.length;for(let u=0;u<a;++u)i[e[u]]=!0;return i}function th(e,i,a,u){const l=null!=u?u:"\u2026",d=e+"",h=d.length,p=Math.max(0,i-l.length);return h<=i?d:"left"===a?l+d.slice(h-p):"center"===a?d.slice(0,Math.ceil(p/2))+l+d.slice(h-~~(p/2)):d.slice(0,p)+l}function xl(e,i,a){if(e)if(i){const u=e.length;for(let l=0;l<u;++l){const d=i(e[l]);d&&a(d,l,e)}}else e.forEach(a)}var Mo=v(8239),zp={},jp={};function Us(e){return new Function("d","return {"+e.map(function(i,a){return JSON.stringify(i)+": d["+a+'] || ""'}).join(",")+"}")}function dc(e){var i=Object.create(null),a=[];return e.forEach(function(u){for(var l in u)l in i||a.push(i[l]=l)}),a}function ao(e,i){var a=e+"",u=a.length;return u<i?new Array(i-u+1).join(0)+a:a}function hf(e){var i=new RegExp('["'+e+"\n\r]"),a=e.charCodeAt(0);function l(M,O){var ye,H=[],Y=M.length,te=0,se=0,Ce=Y<=0,Ve=!1;function Ue(){if(Ce)return jp;if(Ve)return Ve=!1,zp;var tt,mt,Ge=te;if(34===M.charCodeAt(Ge)){for(;te++<Y&&34!==M.charCodeAt(te)||34===M.charCodeAt(++te););return(tt=te)>=Y?Ce=!0:10===(mt=M.charCodeAt(te++))?Ve=!0:13===mt&&(Ve=!0,10===M.charCodeAt(te)&&++te),M.slice(Ge+1,tt-1).replace(/""/g,'"')}for(;te<Y;){if(10===(mt=M.charCodeAt(tt=te++)))Ve=!0;else if(13===mt)Ve=!0,10===M.charCodeAt(te)&&++te;else if(mt!==a)continue;return M.slice(Ge,tt)}return Ce=!0,M.slice(Ge,Y)}for(10===M.charCodeAt(Y-1)&&--Y,13===M.charCodeAt(Y-1)&&--Y;(ye=Ue())!==jp;){for(var qe=[];ye!==zp&&ye!==jp;)qe.push(ye),ye=Ue();O&&null==(qe=O(qe,se++))||H.push(qe)}return H}function d(M,O){return M.map(function(H){return O.map(function(Y){return C(H[Y])}).join(e)})}function b(M){return M.map(C).join(e)}function C(M){return null==M?"":M instanceof Date?function(e){var i=e.getUTCHours(),a=e.getUTCMinutes(),u=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+ao(-e,6):e>9999?"+"+ao(e,6):ao(e,4)}(e.getUTCFullYear())+"-"+ao(e.getUTCMonth()+1,2)+"-"+ao(e.getUTCDate(),2)+(l?"T"+ao(i,2)+":"+ao(a,2)+":"+ao(u,2)+"."+ao(l,3)+"Z":u?"T"+ao(i,2)+":"+ao(a,2)+":"+ao(u,2)+"Z":a||i?"T"+ao(i,2)+":"+ao(a,2)+"Z":"")}(M):i.test(M+="")?'"'+M.replace(/"/g,'""')+'"':M}return{parse:function(M,O){var H,Y,te=l(M,function(se,ye){if(H)return H(se,ye-1);Y=se,H=O?function(e,i){var a=Us(e);return function(u,l){return i(a(u),l,e)}}(se,O):Us(se)});return te.columns=Y||[],te},parseRows:l,format:function(M,O){return null==O&&(O=dc(M)),[O.map(C).join(e)].concat(d(M,O)).join("\n")},formatBody:function(M,O){return null==O&&(O=dc(M)),d(M,O).join("\n")},formatRows:function(M){return M.map(b).join("\n")},formatRow:b,formatValue:C}}function Bn(e){return e}function Ia(e,i){return"string"==typeof i&&(i=e.objects[i]),"GeometryCollection"===i.type?{type:"FeatureCollection",features:i.geometries.map(function(a){return fc(e,a)})}:fc(e,i)}function fc(e,i){var a=i.id,u=i.bbox,l=null==i.properties?{}:i.properties,d=hc(e,i);return null==a&&null==u?{type:"Feature",properties:l,geometry:d}:null==u?{type:"Feature",id:a,properties:l,geometry:d}:{type:"Feature",id:a,bbox:u,properties:l,geometry:d}}function hc(e,i){var a=function(e){if(null==e)return Bn;var i,a,u=e.scale[0],l=e.scale[1],d=e.translate[0],h=e.translate[1];return function(p,y){y||(i=a=0);var b=2,C=p.length,M=new Array(C);for(M[0]=(i+=p[0])*u+d,M[1]=(a+=p[1])*l+h;b<C;)M[b]=p[b],++b;return M}}(e.transform),u=e.arcs;function l(C,M){M.length&&M.pop();for(var O=u[C<0?~C:C],H=0,Y=O.length;H<Y;++H)M.push(a(O[H],H));C<0&&function(e,i){for(var a,u=e.length,l=u-i;l<--u;)a=e[l],e[l++]=e[u],e[u]=a}(M,Y)}function d(C){return a(C)}function h(C){for(var M=[],O=0,H=C.length;O<H;++O)l(C[O],M);return M.length<2&&M.push(M[0]),M}function p(C){for(var M=h(C);M.length<4;)M.push(M[0]);return M}function y(C){return C.map(p)}return function b(C){var O,M=C.type;switch(M){case"GeometryCollection":return{type:M,geometries:C.geometries.map(b)};case"Point":O=d(C.coordinates);break;case"MultiPoint":O=C.coordinates.map(d);break;case"LineString":O=h(C.arcs);break;case"MultiLineString":O=C.arcs.map(h);break;case"Polygon":O=y(C.arcs);break;case"MultiPolygon":O=C.arcs.map(y);break;default:return null}return{type:M,coordinates:O}}(i)}function Qu(e,i){var a={},u={},l={},d=[],h=-1;function y(b,C){for(var M in b){var O=b[M];delete C[O.start],delete O.start,delete O.end,O.forEach(function(H){a[H<0?~H:H]=1}),d.push(O)}}return i.forEach(function(b,C){var O,M=e.arcs[b<0?~b:b];M.length<3&&!M[1][0]&&!M[1][1]&&(O=i[++h],i[h]=b,i[C]=O)}),i.forEach(function(b){var H,Y,C=function(b){var O,C=e.arcs[b<0?~b:b],M=C[0];return e.transform?(O=[0,0],C.forEach(function(H){O[0]+=H[0],O[1]+=H[1]})):O=C[C.length-1],b<0?[O,M]:[M,O]}(b),M=C[0],O=C[1];if(H=l[M])if(delete l[H.end],H.push(b),H.end=O,Y=u[O]){delete u[Y.start];var te=Y===H?H:H.concat(Y);u[te.start=H.start]=l[te.end=Y.end]=te}else u[H.start]=l[H.end]=H;else if(H=u[O])if(delete u[H.start],H.unshift(b),H.start=M,Y=l[M]){delete l[Y.end];var se=Y===H?H:Y.concat(H);u[se.start=Y.start]=l[se.end=H.end]=se}else u[H.start]=l[H.end]=H;else u[(H=[b]).start=M]=l[H.end=O]=H}),y(l,u),y(u,l),i.forEach(function(b){a[b<0?~b:b]||d.push([b])}),d}function ih(e){return hc(e,Hi.apply(this,arguments))}function Hi(e,i,a){var u,l,d;if(arguments.length>1)u=er(0,i,a);else for(l=0,u=new Array(d=e.arcs.length);l<d;++l)u[l]=l;return{type:"MultiLineString",arcs:Qu(e,u)}}function er(e,i,a){var d,u=[],l=[];function h(M){var O=M<0?~M:M;(l[O]||(l[O]=[])).push({i:M,g:d})}function p(M){M.forEach(h)}function y(M){M.forEach(p)}return function C(M){switch(d=M,M.type){case"GeometryCollection":M.geometries.forEach(C);break;case"LineString":p(M.arcs);break;case"MultiLineString":case"Polygon":y(M.arcs);break;case"MultiPolygon":!function(M){M.forEach(y)}(M.arcs)}}(i),l.forEach(null==a?function(M){u.push(M[0].i)}:function(M){a(M[0].g,M[M.length-1].g)&&u.push(M[0].i)}),u}var yi=Math.sqrt(50),ks=Math.sqrt(10),So=Math.sqrt(2);function po(e,i,a){var u,d,h,p,l=-1;if(a=+a,(e=+e)==(i=+i)&&a>0)return[e];if((u=i<e)&&(d=e,e=i,i=d),0===(p=Wa(e,i,a))||!isFinite(p))return[];if(p>0){let y=Math.round(e/p),b=Math.round(i/p);for(y*p<e&&++y,b*p>i&&--b,h=new Array(d=b-y+1);++l<d;)h[l]=(y+l)*p}else{p=-p;let y=Math.round(e*p),b=Math.round(i*p);for(y/p<e&&++y,b/p>i&&--b,h=new Array(d=b-y+1);++l<d;)h[l]=(y+l)/p}return u&&h.reverse(),h}function Wa(e,i,a){var u=(i-e)/Math.max(0,a),l=Math.floor(Math.log(u)/Math.LN10),d=u/Math.pow(10,l);return l>=0?(d>=yi?10:d>=ks?5:d>=So?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(d>=yi?10:d>=ks?5:d>=So?2:1)}function Ha(e,i,a){var u=Math.abs(i-e)/Math.max(0,a),l=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),d=u/l;return d>=yi?l*=10:d>=ks?l*=5:d>=So&&(l*=2),i<e?-l:l}var Ls,Na=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(e){if(!(i=Na.exec(e)))throw new Error("invalid format: "+e);var i;return new Ds({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Ds(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function $l(e,i){if((a=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"))<0)return null;var a,u=e.slice(0,a);return[u.length>1?u[0]+u.slice(2):u,+e.slice(a+1)]}function Vl(e){return(e=$l(Math.abs(e)))?e[1]:NaN}function tg(e,i){var a=$l(e,i);if(!a)return e+"";var u=a[0],l=a[1];return l<0?"0."+new Array(-l).join("0")+u:u.length>l+1?u.slice(0,l+1)+"."+u.slice(l+1):u+new Array(l-u.length+2).join("0")}Ad.prototype=Ds.prototype,Ds.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ah={"%":(e,i)=>(100*e).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>tg(100*e,i),r:tg,s:function(e,i){var a=$l(e,i);if(!a)return e+"";var u=a[0],l=a[1],d=l-(Ls=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,h=u.length;return d===h?u:d>h?u+new Array(d-h+1).join("0"):d>0?u.slice(0,d)+"."+u.slice(d):"0."+new Array(1-d).join("0")+$l(e,Math.max(0,i+d-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ng(e){return e}var Ao,oh,Rr,Zh=Array.prototype.map,Td=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function kd(e){var i=void 0===e.grouping||void 0===e.thousands?ng:function(e,i){return function(a,u){for(var l=a.length,d=[],h=0,p=e[0],y=0;l>0&&p>0&&(y+p+1>u&&(p=Math.max(1,u-y)),d.push(a.substring(l-=p,l+p)),!((y+=p+1)>u));)p=e[h=(h+1)%e.length];return d.reverse().join(i)}}(Zh.call(e.grouping,Number),e.thousands+""),a=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?ng:function(e){return function(i){return i.replace(/[0-9]/g,function(a){return e[+a]})}}(Zh.call(e.numerals,String)),h=void 0===e.percent?"%":e.percent+"",p=void 0===e.minus?"\u2212":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function b(M){var O=(M=Ad(M)).fill,H=M.align,Y=M.sign,te=M.symbol,se=M.zero,ye=M.width,Ce=M.comma,Ve=M.precision,Ue=M.trim,qe=M.type;"n"===qe?(Ce=!0,qe="g"):ah[qe]||(void 0===Ve&&(Ve=12),Ue=!0,qe="g"),(se||"0"===O&&"="===H)&&(se=!0,O="0",H="=");var tt="$"===te?a:"#"===te&&/[boxX]/.test(qe)?"0"+qe.toLowerCase():"",Ge="$"===te?u:/[%p]/.test(qe)?h:"",mt=ah[qe],Ot=/[defgprs%]/.test(qe);function Tt(St){var En,Rt,An,Gt=tt,jt=Ge;if("c"===qe)jt=mt(St)+jt,St="";else{var Jn=(St=+St)<0||1/St<0;if(St=isNaN(St)?y:mt(Math.abs(St),Ve),Ue&&(St=function(e){e:for(var l,i=e.length,a=1,u=-1;a<i;++a)switch(e[a]){case".":u=l=a;break;case"0":0===u&&(u=a),l=a;break;default:if(!+e[a])break e;u>0&&(u=0)}return u>0?e.slice(0,u)+e.slice(l+1):e}(St)),Jn&&0==+St&&"+"!==Y&&(Jn=!1),Gt=(Jn?"("===Y?Y:p:"-"===Y||"("===Y?"":Y)+Gt,jt=("s"===qe?Td[8+Ls/3]:"")+jt+(Jn&&"("===Y?")":""),Ot)for(En=-1,Rt=St.length;++En<Rt;)if(48>(An=St.charCodeAt(En))||An>57){jt=(46===An?l+St.slice(En+1):St.slice(En))+jt,St=St.slice(0,En);break}}Ce&&!se&&(St=i(St,1/0));var Ar=Gt.length+St.length+jt.length,Yr=Ar<ye?new Array(ye-Ar+1).join(O):"";switch(Ce&&se&&(St=i(Yr+St,Yr.length?ye-jt.length:1/0),Yr=""),H){case"<":St=Gt+St+jt+Yr;break;case"=":St=Gt+Yr+St+jt;break;case"^":St=Yr.slice(0,Ar=Yr.length>>1)+Gt+St+jt+Yr.slice(Ar);break;default:St=Yr+Gt+St+jt}return d(St)}return Ve=void 0===Ve?6:/[gprs]/.test(qe)?Math.max(1,Math.min(21,Ve)):Math.max(0,Math.min(20,Ve)),Tt.toString=function(){return M+""},Tt}return{format:b,formatPrefix:function(M,O){var H=b(((M=Ad(M)).type="f",M)),Y=3*Math.max(-8,Math.min(8,Math.floor(Vl(O)/3))),te=Math.pow(10,-Y),se=Td[8+Y/3];return function(ye){return H(te*ye)+se}}}}Ao=kd({thousands:",",grouping:[3],currency:["$",""]}),oh=Ao.format,Rr=Ao.formatPrefix;var tr=new Date,Vu=new Date;function ws(e,i,a,u){function l(d){return e(d=0===arguments.length?new Date:new Date(+d)),d}return l.floor=function(d){return e(d=new Date(+d)),d},l.ceil=function(d){return e(d=new Date(d-1)),i(d,1),e(d),d},l.round=function(d){var h=l(d),p=l.ceil(d);return d-h<p-d?h:p},l.offset=function(d,h){return i(d=new Date(+d),null==h?1:Math.floor(h)),d},l.range=function(d,h,p){var b,y=[];if(d=l.ceil(d),p=null==p?1:Math.floor(p),!(d<h&&p>0))return y;do{y.push(b=new Date(+d)),i(d,p),e(d)}while(b<d&&d<h);return y},l.filter=function(d){return ws(function(h){if(h>=h)for(;e(h),!d(h);)h.setTime(h-1)},function(h,p){if(h>=h)if(p<0)for(;++p<=0;)for(;i(h,-1),!d(h););else for(;--p>=0;)for(;i(h,1),!d(h););})},a&&(l.count=function(d,h){return tr.setTime(+d),Vu.setTime(+h),e(tr),e(Vu),Math.floor(a(tr,Vu))},l.every=function(d){return d=Math.floor(d),isFinite(d)&&d>0?d>1?l.filter(u?function(h){return u(h)%d==0}:function(h){return l.count(0,h)%d==0}):l:null}),l}const is=1e3,Qr=6e4,Pi=60*Qr,Oa=24*Pi,pf=7*Oa,Jh=30*Oa,zi=365*Oa;const Ai=ws(e=>e.setHours(0,0,0,0),(e,i)=>e.setDate(e.getDate()+i),(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Oa,e=>e.getDate()-1);function ed(e){return ws(function(i){i.setDate(i.getDate()-(i.getDay()+7-e)%7),i.setHours(0,0,0,0)},function(i,a){i.setDate(i.getDate()+7*a)},function(i,a){return(a-i-(a.getTimezoneOffset()-i.getTimezoneOffset())*Qr)/pf})}var Qh=ed(0),qh=ed(1),mf=(ed(2),ed(3),ed(4));const Ei=(ed(5),ed(6),ws(function(e){e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+i)},function(e,i){return(i-e)/Oa},function(e){return e.getUTCDate()-1}));function lh(e){return ws(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-e)%7),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCDate(i.getUTCDate()+7*a)},function(i,a){return(a-i)/pf})}var Wl=lh(0),_f=lh(1),Hl=(lh(2),lh(3),lh(4)),Wp=(lh(5),lh(6),ws(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i)},function(e,i){return i.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));Wp.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ws(function(i){i.setFullYear(Math.floor(i.getFullYear()/e)*e),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,a){i.setFullYear(i.getFullYear()+a*e)}):null};const mc=Wp;const Hp=ws(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,i){e.setMonth(e.getMonth()+i)},function(e,i){return i.getMonth()-e.getMonth()+12*(i.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const zu=ws(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*is-e.getMinutes()*Qr)},function(e,i){e.setTime(+e+i*Pi)},function(e,i){return(i-e)/Pi},function(e){return e.getHours()});const oo=ws(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*is)},function(e,i){e.setTime(+e+i*Qr)},function(e,i){return(i-e)/Qr},function(e){return e.getMinutes()});const gc=ws(function(e){e.setTime(e-e.getMilliseconds())},function(e,i){e.setTime(+e+i*is)},function(e,i){return(i-e)/is},function(e){return e.getUTCSeconds()});var _c=ws(function(){},function(e,i){e.setTime(+e+i)},function(e,i){return i-e});_c.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ws(function(i){i.setTime(Math.floor(i/e)*e)},function(i,a){i.setTime(+i+a*e)},function(i,a){return(a-i)/e}):_c:null};const nd=_c;var qr=ws(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i)},function(e,i){return i.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});qr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ws(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/e)*e),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCFullYear(i.getUTCFullYear()+a*e)}):null};const rd=qr;const Yp=ws(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCMonth(e.getUTCMonth()+i)},function(e,i){return i.getUTCMonth()-e.getUTCMonth()+12*(i.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const lg=ws(function(e){e.setUTCMinutes(0,0,0)},function(e,i){e.setTime(+e+i*Pi)},function(e,i){return(i-e)/Pi},function(e){return e.getUTCHours()});const fr=ws(function(e){e.setUTCSeconds(0,0)},function(e,i){e.setTime(+e+i*Qr)},function(e,i){return(i-e)/Qr},function(e){return e.getUTCMinutes()});function vf(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}function ju(e){let i=e,a=e;function u(h,p,y,b){for(null==y&&(y=0),null==b&&(b=h.length);y<b;){const C=y+b>>>1;a(h[C],p)<0?y=C+1:b=C}return y}return 1===e.length&&(i=(h,p)=>e(h)-p,a=function(e){return(i,a)=>vf(e(i),a)}(e)),{left:u,center:function(h,p,y,b){null==y&&(y=0),null==b&&(b=h.length);const C=u(h,p,y,b-1);return C>y&&i(h[C-1],p)>-i(h[C],p)?C-1:C},right:function(h,p,y,b){for(null==y&&(y=0),null==b&&(b=h.length);y<b;){const C=y+b>>>1;a(h[C],p)>0?b=C:y=C+1}return y}}}const Ua="year",go="quarter",Ya="month",Ga="week",Ho="date",uo="day",wa="dayofyear",Fa="hours",el="minutes",uu="seconds",ko="milliseconds",cg=[Ua,go,Ya,Ga,Ho,uo,wa,Fa,el,uu,ko],dg=cg.reduce((e,i,a)=>(e[i]=1+a,e),{});function k0(e){const i=Mr(e).slice(),a={};return i.length||Pt("Missing time unit."),i.forEach(l=>{bn(dg,l)?a[l]=1:Pt("Invalid time unit: ".concat(l,"."))}),(a[Ga]||a[uo]?1:0)+(a[go]||a[Ya]||a[Ho]?1:0)+(a[wa]?1:0)>1&&Pt("Incompatible time units: ".concat(e)),i.sort((l,d)=>dg[l]-dg[d]),i}const dh={[Ua]:"%Y ",[go]:"Q%q ",[Ya]:"%b ",[Ho]:"%d ",[Ga]:"W%U ",[uo]:"%a ",[wa]:"%j ",[Fa]:"%H:00",[el]:"00:%M",[uu]:":%S",[ko]:".%L",["".concat(Ua,"-").concat(Ya)]:"%Y-%m ",["".concat(Ua,"-").concat(Ya,"-").concat(Ho)]:"%Y-%m-%d ",["".concat(Fa,"-").concat(el)]:"%H:%M"};function yc(e,i){const a=Nt({},dh,i),u=k0(e),l=u.length;let p,y,d="",h=0;for(h=0;h<l;)for(p=u.length;p>h;--p)if(y=u.slice(h,p).join("-"),null!=a[y]){d+=a[y],h=p;break}return d.trim()}const Nd=new Date;function id(e){return Nd.setFullYear(e),Nd.setMonth(0),Nd.setDate(1),Nd.setHours(0,0,0,0),Nd}function Gp(e){return Kp(new Date(e))}function I0(e){return bf(new Date(e))}function Kp(e){return Ai.count(id(e.getFullYear())-1,e)}function bf(e){return Qh.count(id(e.getFullYear())-1,e)}function xf(e){return id(e).getDay()}function Uo(e,i,a,u,l,d,h){if(0<=e&&e<100){const p=new Date(-1,i,a,u,l,d,h);return p.setFullYear(e),p}return new Date(e,i,a,u,l,d,h)}function Xp(e){return np(new Date(e))}function N0(e){return rp(new Date(e))}function np(e){const i=Date.UTC(e.getUTCFullYear(),0,1);return Ei.count(i-1,e)}function rp(e){const i=Date.UTC(e.getUTCFullYear(),0,1);return Wl.count(i-1,e)}function O0(e){return Nd.setTime(Date.UTC(e,0,1)),Nd.getUTCDay()}function Au(e,i,a,u,l,d,h){if(0<=e&&e<100){const p=new Date(Date.UTC(-1,i,a,u,l,d,h));return p.setUTCFullYear(a.y),p}return new Date(Date.UTC(e,i,a,u,l,d,h))}function tl(e,i,a,u,l){const d=i||1,h=Kr(e),p=(ye,Ce,Ve)=>function(e,i,a,u){const l=a<=1?e:u?(d,h)=>u+a*Math.floor((e(d,h)-u)/a):(d,h)=>a*Math.floor(e(d,h)/a);return i?(d,h)=>i(l(d,h),h):l}(a[Ve=Ve||ye],u[Ve],ye===h&&d,Ce),y=new Date,b=Di(e),C=b[Ua]?p(Ua):Xe(2012),M=b[Ya]?p(Ya):b[go]?p(go):or,O=b[Ga]&&b[uo]?p(uo,1,Ga+uo):b[Ga]?p(Ga,1):b[uo]?p(uo,1):b[Ho]?p(Ho,1):b[wa]?p(wa,1):iu,H=b[Fa]?p(Fa):or,Y=b[el]?p(el):or,te=b[uu]?p(uu):or,se=b[ko]?p(ko):or;return function(ye){y.setTime(+ye);const Ce=C(y);return l(Ce,M(y),O(y,Ce),H(y),Y(y),te(y),se(y))}}function Wu(e,i,a){return i+7*e-(a+6)%7}const cy={[Ua]:e=>e.getFullYear(),[go]:e=>Math.floor(e.getMonth()/3),[Ya]:e=>e.getMonth(),[Ho]:e=>e.getDate(),[Fa]:e=>e.getHours(),[el]:e=>e.getMinutes(),[uu]:e=>e.getSeconds(),[ko]:e=>e.getMilliseconds(),[wa]:e=>Kp(e),[Ga]:e=>bf(e),[Ga+uo]:(e,i)=>Wu(bf(e),e.getDay(),xf(i)),[uo]:(e,i)=>Wu(1,e.getDay(),xf(i))},L0={[go]:e=>3*e,[Ga]:(e,i)=>Wu(e,0,xf(i))};function F0(e,i){return tl(e,i||1,cy,L0,Uo)}const ev={[Ua]:e=>e.getUTCFullYear(),[go]:e=>Math.floor(e.getUTCMonth()/3),[Ya]:e=>e.getUTCMonth(),[Ho]:e=>e.getUTCDate(),[Fa]:e=>e.getUTCHours(),[el]:e=>e.getUTCMinutes(),[uu]:e=>e.getUTCSeconds(),[ko]:e=>e.getUTCMilliseconds(),[wa]:e=>np(e),[Ga]:e=>rp(e),[uo]:(e,i)=>Wu(1,e.getUTCDay(),O0(i)),[Ga+uo]:(e,i)=>Wu(rp(e),e.getUTCDay(),O0(i))},tv={[go]:e=>3*e,[Ga]:(e,i)=>Wu(e,0,O0(i))};function ip(e,i){return tl(e,i||1,ev,tv,Au)}const fh={[Ua]:mc,[go]:Hp.every(3),[Ya]:Hp,[Ga]:Qh,[Ho]:Ai,[uo]:Ai,[wa]:Ai,[Fa]:zu,[el]:oo,[uu]:gc,[ko]:nd},fg={[Ua]:rd,[go]:Yp.every(3),[Ya]:Yp,[Ga]:Wl,[Ho]:Ei,[uo]:Ei,[wa]:Ei,[Fa]:lg,[el]:fr,[uu]:gc,[ko]:nd};function Od(e){return fh[e]}function Df(e){return fg[e]}function dy(e,i,a){return e?e.offset(i,a):void 0}function Ld(e,i,a){return dy(Od(e),i,a)}function sp(e,i,a){return dy(Df(e),i,a)}function Fd(e,i,a,u){return e?e.range(i,a,u):void 0}function P0(e,i,a,u){return Fd(Od(e),i,a,u)}function ap(e,i,a,u){return Fd(Df(e),i,a,u)}const ad=6e4,Rn=60*ad,hg=24*Rn,op=30*hg,es=365*hg,Tu=[Ua,Ya,Ho,Fa,el,uu,ko],ku=Tu.slice(0,-1),Hu=ku.slice(0,-1),wf=Hu.slice(0,-1),hh=wf.slice(0,-1),ph=[Ua,Ya],Iu=[Ua],Yo=[[ku,1,1e3],[ku,5,5e3],[ku,15,15e3],[ku,30,3e4],[Hu,1,ad],[Hu,5,5*ad],[Hu,15,15*ad],[Hu,30,30*ad],[wf,1,Rn],[wf,3,3*Rn],[wf,6,6*Rn],[wf,12,12*Rn],[hh,1,hg],[[Ua,Ga],1,6048e5],[ph,1,op],[ph,3,3*op],[Iu,1,es]];function py(e){const i=e.extent,a=e.maxbins||40,u=Math.abs(ma(i))/a;let d,h,l=ju(p=>p[2]).right(Yo,u);return l===Yo.length?(d=Iu,h=Ha(i[0]/es,i[1]/es,a)):l?(l=Yo[u/Yo[l-1][2]<Yo[l][2]/u?l-1:l],d=l[0],h=l[1]):(d=Tu,h=Math.max(Ha(i[0],i[1],a),1)),{units:d,step:h}}function Zp(e){if(0<=e.y&&e.y<100){var i=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return i.setFullYear(e.y),i}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vc(e){if(0<=e.y&&e.y<100){var i=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return i.setUTCFullYear(e.y),i}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pd(e,i,a){return{y:e,m:i,d:a,H:0,M:0,S:0,L:0}}function R0(e){var i=e.dateTime,a=e.date,u=e.time,l=e.periods,d=e.days,h=e.shortDays,p=e.months,y=e.shortMonths,b=k(l),C=j(l),M=k(d),O=j(d),H=k(h),Y=j(h),te=k(p),se=j(p),ye=k(y),Ce=j(y),Ve={a:function(Ir){return h[Ir.getDay()]},A:function(Ir){return d[Ir.getDay()]},b:function(Ir){return y[Ir.getMonth()]},B:function(Ir){return p[Ir.getMonth()]},c:null,d:Cs,e:Cs,f:bc,g:jr,G:Mi,H:Go,I:Ko,j:Pa,L:Xr,m:Yl,M:Qp,p:function(Ir){return l[+(Ir.getHours()>=12)]},q:function(Ir){return 1+~~(Ir.getMonth()/3)},Q:eD,s:my,S:us,u:V,U:ue,V:Le,w:Ze,W:Ct,x:null,X:null,y:dn,Y:as,Z:Gl,"%":WC},Ue={a:function(Ir){return h[Ir.getUTCDay()]},A:function(Ir){return d[Ir.getUTCDay()]},b:function(Ir){return y[Ir.getUTCMonth()]},B:function(Ir){return p[Ir.getUTCMonth()]},c:null,d:xc,e:xc,f:Jx,g:$0,G:qx,H:qp,I:lF,j:Cf,L:mh,m:B0,M:pg,p:function(Ir){return l[+(Ir.getUTCHours()>=12)]},q:function(Ir){return 1+~~(Ir.getUTCMonth()/3)},Q:eD,s:my,S:XA,u:cF,U:dF,V:tV,w:ZA,W:Rd,x:null,X:null,y:Qx,Y:hF,Z:jC,"%":WC},qe={a:function(Ir,ns,js){var Gn=H.exec(ns.slice(js));return Gn?(Ir.w=Y.get(Gn[0].toLowerCase()),js+Gn[0].length):-1},A:function(Ir,ns,js){var Gn=M.exec(ns.slice(js));return Gn?(Ir.w=O.get(Gn[0].toLowerCase()),js+Gn[0].length):-1},b:function(Ir,ns,js){var Gn=ye.exec(ns.slice(js));return Gn?(Ir.m=Ce.get(Gn[0].toLowerCase()),js+Gn[0].length):-1},B:function(Ir,ns,js){var Gn=te.exec(ns.slice(js));return Gn?(Ir.m=se.get(Gn[0].toLowerCase()),js+Gn[0].length):-1},c:function(Ir,ns,js){return mt(Ir,i,ns,js)},d:bt,e:bt,f:si,g:Fe,G:Ne,H:xn,I:xn,j:Lt,L:ci,m:gt,M:cr,p:function(Ir,ns,js){var Gn=b.exec(ns.slice(js));return Gn?(Ir.p=C.get(Gn[0].toLowerCase()),js+Gn[0].length):-1},q:pt,Q:ai,s:os,S:br,u:le,U:_e,V:de,w:ee,W:ve,x:function(Ir,ns,js){return mt(Ir,a,ns,js)},X:function(Ir,ns,js){return mt(Ir,u,ns,js)},y:Fe,Y:Ne,Z:Je,"%":ss};function tt(Ir,ns){return function(js){var Vp,Zc,$o,Gn=[],Kh=-1,Bo=0,qf=Ir.length;for(js instanceof Date||(js=new Date(+js));++Kh<qf;)37===Ir.charCodeAt(Kh)&&(Gn.push(Ir.slice(Bo,Kh)),null!=(Zc=up[Vp=Ir.charAt(++Kh)])?Vp=Ir.charAt(++Kh):Zc="e"===Vp?" ":"0",($o=ns[Vp])&&(Vp=$o(js,Zc)),Gn.push(Vp),Bo=Kh+1);return Gn.push(Ir.slice(Bo,Kh)),Gn.join("")}}function Ge(Ir,ns){return function(js){var Bo,qf,Gn=Pd(1900,void 0,1);if(mt(Gn,Ir,js+="",0)!=js.length)return null;if("Q"in Gn)return new Date(Gn.Q);if("s"in Gn)return new Date(1e3*Gn.s+("L"in Gn?Gn.L:0));if(ns&&!("Z"in Gn)&&(Gn.Z=0),"p"in Gn&&(Gn.H=Gn.H%12+12*Gn.p),void 0===Gn.m&&(Gn.m="q"in Gn?Gn.q:0),"V"in Gn){if(Gn.V<1||Gn.V>53)return null;"w"in Gn||(Gn.w=1),"Z"in Gn?(qf=(Bo=vc(Pd(Gn.y,0,1))).getUTCDay(),Bo=qf>4||0===qf?_f.ceil(Bo):_f(Bo),Bo=Ei.offset(Bo,7*(Gn.V-1)),Gn.y=Bo.getUTCFullYear(),Gn.m=Bo.getUTCMonth(),Gn.d=Bo.getUTCDate()+(Gn.w+6)%7):(qf=(Bo=Zp(Pd(Gn.y,0,1))).getDay(),Bo=qf>4||0===qf?qh.ceil(Bo):qh(Bo),Bo=Ai.offset(Bo,7*(Gn.V-1)),Gn.y=Bo.getFullYear(),Gn.m=Bo.getMonth(),Gn.d=Bo.getDate()+(Gn.w+6)%7)}else("W"in Gn||"U"in Gn)&&("w"in Gn||(Gn.w="u"in Gn?Gn.u%7:"W"in Gn?1:0),qf="Z"in Gn?vc(Pd(Gn.y,0,1)).getUTCDay():Zp(Pd(Gn.y,0,1)).getDay(),Gn.m=0,Gn.d="W"in Gn?(Gn.w+6)%7+7*Gn.W-(qf+5)%7:Gn.w+7*Gn.U-(qf+6)%7);return"Z"in Gn?(Gn.H+=Gn.Z/100|0,Gn.M+=Gn.Z%100,vc(Gn)):Zp(Gn)}}function mt(Ir,ns,js,Gn){for(var Vp,Zc,Kh=0,Bo=ns.length,qf=js.length;Kh<Bo;){if(Gn>=qf)return-1;if(37===(Vp=ns.charCodeAt(Kh++))){if(Vp=ns.charAt(Kh++),!(Zc=qe[Vp in up?ns.charAt(Kh++):Vp])||(Gn=Zc(Ir,js,Gn))<0)return-1}else if(Vp!=js.charCodeAt(Gn++))return-1}return Gn}return Ve.x=tt(a,Ve),Ve.X=tt(u,Ve),Ve.c=tt(i,Ve),Ue.x=tt(a,Ue),Ue.X=tt(u,Ue),Ue.c=tt(i,Ue),{format:function(Ir){var ns=tt(Ir+="",Ve);return ns.toString=function(){return Ir},ns},parse:function(Ir){var ns=Ge(Ir+="",!1);return ns.toString=function(){return Ir},ns},utcFormat:function(Ir){var ns=tt(Ir+="",Ue);return ns.toString=function(){return Ir},ns},utcParse:function(Ir){var ns=Ge(Ir+="",!0);return ns.toString=function(){return Ir},ns}}}var V0,z0,Nu,gy,gh,up={"-":"",_:" ",0:"0"},Ka=/^\s*\d+/,Jp=/^%/,g=/[\\^$*+?|[\]().{}]/g;function D(e,i,a){var u=e<0?"-":"",l=(u?-e:e)+"",d=l.length;return u+(d<a?new Array(a-d+1).join(i)+l:l)}function A(e){return e.replace(g,"\\$&")}function k(e){return new RegExp("^(?:"+e.map(A).join("|")+")","i")}function j(e){return new Map(e.map((i,a)=>[i.toLowerCase(),a]))}function ee(e,i,a){var u=Ka.exec(i.slice(a,a+1));return u?(e.w=+u[0],a+u[0].length):-1}function le(e,i,a){var u=Ka.exec(i.slice(a,a+1));return u?(e.u=+u[0],a+u[0].length):-1}function _e(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.U=+u[0],a+u[0].length):-1}function de(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.V=+u[0],a+u[0].length):-1}function ve(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.W=+u[0],a+u[0].length):-1}function Ne(e,i,a){var u=Ka.exec(i.slice(a,a+4));return u?(e.y=+u[0],a+u[0].length):-1}function Fe(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.y=+u[0]+(+u[0]>68?1900:2e3),a+u[0].length):-1}function Je(e,i,a){var u=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(a,a+6));return u?(e.Z=u[1]?0:-(u[2]+(u[3]||"00")),a+u[0].length):-1}function pt(e,i,a){var u=Ka.exec(i.slice(a,a+1));return u?(e.q=3*u[0]-3,a+u[0].length):-1}function gt(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.m=u[0]-1,a+u[0].length):-1}function bt(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.d=+u[0],a+u[0].length):-1}function Lt(e,i,a){var u=Ka.exec(i.slice(a,a+3));return u?(e.m=0,e.d=+u[0],a+u[0].length):-1}function xn(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.H=+u[0],a+u[0].length):-1}function cr(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.M=+u[0],a+u[0].length):-1}function br(e,i,a){var u=Ka.exec(i.slice(a,a+2));return u?(e.S=+u[0],a+u[0].length):-1}function ci(e,i,a){var u=Ka.exec(i.slice(a,a+3));return u?(e.L=+u[0],a+u[0].length):-1}function si(e,i,a){var u=Ka.exec(i.slice(a,a+6));return u?(e.L=Math.floor(u[0]/1e3),a+u[0].length):-1}function ss(e,i,a){var u=Jp.exec(i.slice(a,a+1));return u?a+u[0].length:-1}function ai(e,i,a){var u=Ka.exec(i.slice(a));return u?(e.Q=+u[0],a+u[0].length):-1}function os(e,i,a){var u=Ka.exec(i.slice(a));return u?(e.s=+u[0],a+u[0].length):-1}function Cs(e,i){return D(e.getDate(),i,2)}function Go(e,i){return D(e.getHours(),i,2)}function Ko(e,i){return D(e.getHours()%12||12,i,2)}function Pa(e,i){return D(1+Ai.count(mc(e),e),i,3)}function Xr(e,i){return D(e.getMilliseconds(),i,3)}function bc(e,i){return Xr(e,i)+"000"}function Yl(e,i){return D(e.getMonth()+1,i,2)}function Qp(e,i){return D(e.getMinutes(),i,2)}function us(e,i){return D(e.getSeconds(),i,2)}function V(e){var i=e.getDay();return 0===i?7:i}function ue(e,i){return D(Qh.count(mc(e)-1,e),i,2)}function De(e){var i=e.getDay();return i>=4||0===i?mf(e):mf.ceil(e)}function Le(e,i){return e=De(e),D(mf.count(mc(e),e)+(4===mc(e).getDay()),i,2)}function Ze(e){return e.getDay()}function Ct(e,i){return D(qh.count(mc(e)-1,e),i,2)}function dn(e,i){return D(e.getFullYear()%100,i,2)}function jr(e,i){return D((e=De(e)).getFullYear()%100,i,2)}function as(e,i){return D(e.getFullYear()%1e4,i,4)}function Mi(e,i){var a=e.getDay();return D((e=a>=4||0===a?mf(e):mf.ceil(e)).getFullYear()%1e4,i,4)}function Gl(e){var i=e.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+D(i/60|0,"0",2)+D(i%60,"0",2)}function xc(e,i){return D(e.getUTCDate(),i,2)}function qp(e,i){return D(e.getUTCHours(),i,2)}function lF(e,i){return D(e.getUTCHours()%12||12,i,2)}function Cf(e,i){return D(1+Ei.count(rd(e),e),i,3)}function mh(e,i){return D(e.getUTCMilliseconds(),i,3)}function Jx(e,i){return mh(e,i)+"000"}function B0(e,i){return D(e.getUTCMonth()+1,i,2)}function pg(e,i){return D(e.getUTCMinutes(),i,2)}function XA(e,i){return D(e.getUTCSeconds(),i,2)}function cF(e){var i=e.getUTCDay();return 0===i?7:i}function dF(e,i){return D(Wl.count(rd(e)-1,e),i,2)}function fF(e){var i=e.getUTCDay();return i>=4||0===i?Hl(e):Hl.ceil(e)}function tV(e,i){return e=fF(e),D(Hl.count(rd(e),e)+(4===rd(e).getUTCDay()),i,2)}function ZA(e){return e.getUTCDay()}function Rd(e,i){return D(_f.count(rd(e)-1,e),i,2)}function Qx(e,i){return D(e.getUTCFullYear()%100,i,2)}function $0(e,i){return D((e=fF(e)).getUTCFullYear()%100,i,2)}function hF(e,i){return D(e.getUTCFullYear()%1e4,i,4)}function qx(e,i){var a=e.getUTCDay();return D((e=a>=4||0===a?Hl(e):Hl.ceil(e)).getUTCFullYear()%1e4,i,4)}function jC(){return"+0000"}function WC(){return"%"}function eD(e){return+e}function my(e){return Math.floor(+e/1e3)}function j0(e){const i={};return a=>i[a]||(i[a]=e(a))}function JA(e){const i=j0(e.format),a=e.formatPrefix;return{format:i,formatPrefix:a,formatFloat(u){const l=Ad(u||",");if(null==l.precision){switch(l.precision=12,l.type){case"%":l.precision-=2;break;case"e":l.precision-=1}return function(e,i){return a=>{const u=e(a),l=u.indexOf(i);if(l<0)return u;let d=function(e,i){let u,a=e.lastIndexOf("e");if(a>0)return a;for(a=e.length;--a>i;)if(u=e.charCodeAt(a),u>=48&&u<=57)return a+1}(u,l);const h=d<u.length?u.slice(d):"";for(;--d>l;)if("0"!==u[d]){++d;break}return u.slice(0,d)+h}}(i(l),i(".1f")(1)[1])}return i(l)},formatSpan(u,l,d,h){h=Ad(null==h?",f":h);const p=Ha(u,l,d),y=Math.max(Math.abs(u),Math.abs(l));let b;if(null==h.precision)switch(h.type){case"s":return isNaN(b=function(e,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vl(i)/3)))-Vl(Math.abs(e)))}(p,y))||(h.precision=b),a(h,y);case"":case"e":case"g":case"p":case"r":isNaN(b=function(e,i){return e=Math.abs(e),i=Math.abs(i)-e,Math.max(0,Vl(i)-Vl(e))+1}(p,y))||(h.precision=b-("e"===h.type));break;case"f":case"%":isNaN(b=function(e){return Math.max(0,-Vl(Math.abs(e)))}(p))||(h.precision=b-2*("%"===h.type))}return i(h)}}}let HC,H0;function tD(){return HC=JA({format:oh,formatPrefix:Rr})}function mF(e){return JA(kd(e))}function yy(e){return arguments.length?HC=mF(e):HC}function mg(e,i,a){$e(a=a||{})||Pt("Invalid time multi-format specifier: ".concat(a));const u=i(uu),l=i(el),d=i(Fa),h=i(Ho),p=i(Ga),y=i(Ya),b=i(go),C=i(Ua),M=e(a[ko]||".%L"),O=e(a[uu]||":%S"),H=e(a[el]||"%I:%M"),Y=e(a[Fa]||"%I %p"),te=e(a[Ho]||a[uo]||"%a %d"),se=e(a[Ga]||"%b %d"),ye=e(a[Ya]||"%B"),Ce=e(a[go]||"%B"),Ve=e(a[Ua]||"%Y");return Ue=>(u(Ue)<Ue?M:l(Ue)<Ue?O:d(Ue)<Ue?H:h(Ue)<Ue?Y:y(Ue)<Ue?p(Ue)<Ue?te:se:C(Ue)<Ue?b(Ue)<Ue?ye:Ce:Ve)(Ue)}function W0(e){const i=j0(e.format),a=j0(e.utcFormat);return{timeFormat:u=>wn(u)?i(u):mg(i,Od,u),utcFormat:u=>wn(u)?a(u):mg(a,Df,u),timeParse:j0(e.parse),utcParse:j0(e.utcParse)}}function Xn(){return H0=W0({format:z0,parse:Nu,utcFormat:gy,utcParse:gh})}function UC(e){return W0(R0(e))}function vy(e){return arguments.length?H0=UC(e):H0}V0=R0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),z0=V0.format,Nu=V0.parse,gy=V0.utcFormat,gh=V0.utcParse,tD(),Xn();const lp=(e,i)=>Nt({},e,i);function U0(e,i){const a=e?mF(e):yy(),u=i?UC(i):vy();return lp(a,u)}function YC(e,i){const a=arguments.length;return a&&2!==a&&Pt("defaultLocale expects either zero or two arguments."),a?lp(yy(e),vy(i)):lp(yy(),vy())}function nD(){return tD(),Xn(),YC()}const QA=/^(data:|([A-Za-z]+:)?\/\/)/,qA=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,nv=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,_h="file://";function Y0(e,i){return GC.apply(this,arguments)}function GC(){return(GC=(0,Mo.Z)(function*(e,i){const a=yield this.sanitize(e,i),u=a.href;return a.localFile?this.file(u):this.http(u,i)})).apply(this,arguments)}function eT(e,i){return rv.apply(this,arguments)}function rv(){return(rv=(0,Mo.Z)(function*(e,i){i=Nt({},this.options,i);const a=this.fileAccess,u={href:null};let l,d,h;const p=qA.test(e.replace(nv,""));(null==e||"string"!=typeof e||!p)&&Pt("Sanitize failure, invalid URI: "+gr(e));const y=QA.test(e);return(h=i.baseURL)&&!y&&(!e.startsWith("/")&&!h.endsWith("/")&&(e="/"+e),e=h+e),d=(l=e.startsWith(_h))||"file"===i.mode||"http"!==i.mode&&!y&&a,l?e=e.slice(_h.length):e.startsWith("//")&&("file"===i.defaultProtocol?(e=e.slice(2),d=!0):e=(i.defaultProtocol||"http")+":"+e),Object.defineProperty(u,"localFile",{value:!!d}),u.href=e,i.target&&(u.target=i.target+""),i.rel&&(u.rel=i.rel+""),"image"===i.context&&i.crossOrigin&&(u.crossOrigin=i.crossOrigin+""),u})).apply(this,arguments)}function iD(e){return e?i=>new Promise((a,u)=>{e.readFile(i,(l,d)=>{l?u(l):a(d)})}):tT}function tT(){return KC.apply(this,arguments)}function KC(){return(KC=(0,Mo.Z)(function*(){Pt("No file system access.")})).apply(this,arguments)}function gF(e){return e?function(){var i=(0,Mo.Z)(function*(a,u){const l=Nt({},this.options.http,u),d=u&&u.response,h=yield e(a,l);return h.ok?ur(h[d])?h[d]():h.text():Pt(h.status+""+h.statusText)});return function(a,u){return i.apply(this,arguments)}}():by}function by(){return gg.apply(this,arguments)}function gg(){return(gg=(0,Mo.Z)(function*(){Pt("No HTTP fetch method available.")})).apply(this,arguments)}const XC=e=>null!=e&&e==e,nT=e=>!(Number.isNaN(+e)||e instanceof Date),ZC={boolean:ht,integer:rs,number:rs,date:ff,string:su,unknown:vs},aD=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>nT(e)&&Number.isInteger(+e),nT,e=>!Number.isNaN(Date.parse(e))],oD=["boolean","integer","number","date"];function _g(e,i){if(!e||!e.length)return"unknown";const a=e.length,u=aD.length,l=aD.map((d,h)=>h+1);for(let p,y,d=0,h=0;d<a;++d)for(y=i?e[d][i]:e[d],p=0;p<u;++p)if(l[p]&&XC(y)&&!aD[p](y)&&(l[p]=0,++h,h===aD.length))return"string";return oD[l.reduce((d,h)=>0===d?h:d,0)-1]}function G0(e,i){return i.reduce((a,u)=>(a[u]=_g(e,u),a),{})}function cp(e){const i=function(a,u){const l={delimiter:e};return JC(a,u?Nt(u,l):l)};return i.responseType="text",i}function JC(e,i){return i.header&&(e=i.header.map(gr).join(i.delimiter)+"\n"+e),hf(i.delimiter).parse(e+"")}function rT(e,i){const a=i&&i.property?Ur(i.property):vs;return $e(e)&&!function(e){return!("function"!=typeof Buffer||!ur(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function(e,i){return!Sn(e)&&ot(e)&&(e=[...e]),i&&i.copy?JSON.parse(JSON.stringify(e)):e}(a(e),i):a(JSON.parse(e))}JC.responseType="text",rT.responseType="json";const QC={interior:(e,i)=>e!==i,exterior:(e,i)=>e===i};function qC(e,i){let a,u,l,d;return e=rT(e,i),i&&i.feature?(a=Ia,l=i.feature):i&&i.mesh?(a=ih,l=i.mesh,d=QC[i.filter]):Pt("Missing TopoJSON feature or mesh parameter."),u=(u=e.objects[l])?a(e,u,d):Pt("Invalid TopoJSON object: "+l),u&&u.features||[u]}qC.responseType="json";const iv={dsv:JC,csv:cp(","),tsv:cp("\t"),json:rT,topojson:qC};function lD(e,i){return arguments.length>1?(iv[e]=i,this):bn(iv,e)?iv[e]:null}function yg(e){const i=lD(e);return i&&i.responseType||"text"}function iT(e,i,a,u){const l=lD((i=i||{}).type||"json");return l||Pt("Unknown data format type: "+i.type),e=l(e,i),i.parse&&function(e,i,a,u){if(!e.length)return;const l=vy();a=a||l.timeParse,u=u||l.utcParse;let h,p,y,b,C,M,d=e.columns||Object.keys(e[0]);"auto"===i&&(i=G0(e,d)),d=Object.keys(i);const O=d.map(H=>{const Y=i[H];let te,se;if(Y&&(Y.startsWith("date:")||Y.startsWith("utc:")))return te=Y.split(/:(.+)?/,2),se=te[1],("'"===se[0]&&"'"===se[se.length-1]||'"'===se[0]&&'"'===se[se.length-1])&&(se=se.slice(1,-1)),("utc"===te[0]?u:a)(se);if(!ZC[Y])throw Error("Illegal format pattern: "+H+":"+Y);return ZC[Y]});for(y=0,C=e.length,M=d.length;y<C;++y)for(h=e[y],b=0;b<M;++b)p=d[b],h[p]=O[b](h[p])}(e,i.parse,a,u),bn(e,"columns")&&delete e.columns,e}const sv=function(e,i){return a=>({options:a||{},sanitize:eT,load:Y0,fileAccess:!1,file:iD(null),http:gF(e)})}("undefined"!=typeof fetch&&fetch);function cD(e){const i=e||vs,a=[],u={};return a.add=l=>{const d=i(l);return u[d]||(u[d]=1,a.push(l)),a},a.remove=l=>{const d=i(l);if(u[d]){u[d]=0;const h=a.indexOf(l);h>=0&&a.splice(h,1)}return a},a}function av(e,i){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,Mo.Z)(function*(e,i){try{yield i(e)}catch(a){e.error(a)}})).apply(this,arguments)}const yh=Symbol("vega_id");let sT=1;function dD(e){return!(!e||!Zr(e))}function Zr(e){return e[yh]}function aT(e,i){return e[yh]=i,e}function Xs(e){const i=e===Object(e)?e:{data:e};return Zr(i)?i:aT(i,sT++)}function eE(e){return ov(e,Xs({}))}function ov(e,i){for(const a in e)i[a]=e[a];return i}function oT(e,i){return aT(i,Zr(e))}function Ef(e,i){return e?i?(a,u)=>e(a,u)||Zr(i(a))-Zr(i(u)):(a,u)=>e(a,u)||Zr(a)-Zr(u):null}function uT(e){return e&&e.constructor===K0}function K0(){const e=[],i=[],a=[],u=[],l=[];let d=null,h=!1;return{constructor:K0,insert(p){const y=Mr(p),b=y.length;for(let C=0;C<b;++C)e.push(y[C]);return this},remove(p){const y=ur(p)?u:i,b=Mr(p),C=b.length;for(let M=0;M<C;++M)y.push(b[M]);return this},modify(p,y,b){const C={field:y,value:Xe(b)};return ur(p)?(C.filter=p,l.push(C)):(C.tuple=p,a.push(C)),this},encode(p,y){return ur(p)?l.push({filter:p,field:y}):a.push({tuple:p,field:y}),this},clean(p){return d=p,this},reflow(){return h=!0,this},pulse(p,y){const b={},C={};let M,O,H,Y,te,se;for(M=0,O=y.length;M<O;++M)b[Zr(y[M])]=1;for(M=0,O=i.length;M<O;++M)te=i[M],b[Zr(te)]=-1;for(M=0,O=u.length;M<O;++M)Y=u[M],y.forEach(Ce=>{Y(Ce)&&(b[Zr(Ce)]=-1)});for(M=0,O=e.length;M<O;++M)te=e[M],se=Zr(te),b[se]?b[se]=1:p.add.push(Xs(e[M]));for(M=0,O=y.length;M<O;++M)te=y[M],b[Zr(te)]<0&&p.rem.push(te);function ye(Ce,Ve,Ue){Ue?Ce[Ve]=Ue(Ce):p.encode=Ve,h||(C[Zr(Ce)]=Ce)}for(M=0,O=a.length;M<O;++M)H=a[M],te=H.tuple,Y=H.field,se=b[Zr(te)],se>0&&(ye(te,Y,H.value),p.modifies(Y));for(M=0,O=l.length;M<O;++M)H=l[M],Y=H.filter,y.forEach(Ce=>{Y(Ce)&&b[Zr(Ce)]>0&&ye(Ce,H.field,H.value)}),p.modifies(H.field);if(h)p.mod=i.length||u.length?y.filter(Ce=>b[Zr(Ce)]>0):y.slice();else for(se in C)p.mod.push(C[se]);return(d||null==d&&(i.length||u.length))&&p.clean(!0),p}}}const tE="_:mod:_";function fD(){Object.defineProperty(this,tE,{writable:!0,value:{}})}fD.prototype={set(e,i,a,u){const l=this,d=l[e],h=l[tE];return null!=i&&i>=0?(d[i]!==a||u)&&(d[i]=a,h[i+":"+e]=-1,h[e]=-1):(d!==a||u)&&(l[e]=a,h[e]=Sn(a)?1+a.length:-1),l},modified(e,i){const a=this[tE];if(!arguments.length){for(const u in a)if(a[u])return!0;return!1}if(Sn(e)){for(let u=0;u<e.length;++u)if(a[e[u]])return!0;return!1}return null!=i&&i>=0?i+1<a[e]||!!a[i+":"+e]:!!a[e]},clear(){return this[tE]={},this}};let uv=0;const vh=new fD;function oa(e,i,a,u){this.id=++uv,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,i&&(this._update=i),a&&this.parameters(a,u)}function rE(e){return function(i){const a=this.flags;return 0===arguments.length?!!(a&e):(this.flags=i?a|e:a&~e,this)}}oa.prototype={targets(){return this._targets||(this._targets=cD(ra))},set(e){return this.value!==e?(this.value=e,1):0},skip:rE(1),modified:rE(2),parameters(e,i,a){i=!1!==i;const u=this._argval=this._argval||new fD,l=this._argops=this._argops||[],d=[];let h,p,y,b;const C=(M,O,H)=>{H instanceof oa?(H!==this&&(i&&H.targets().add(this),d.push(H)),l.push({op:H,name:M,index:O})):u.set(M,O,H)};for(h in e)if(p=e[h],"pulse"===h)Mr(p).forEach(M=>{M instanceof oa?M!==this&&(M.targets().add(this),d.push(M)):Pt("Pulse parameters must be operator instances.")}),this.source=p;else if(Sn(p))for(u.set(h,-1,Array(y=p.length)),b=0;b<y;++b)C(h,b,p[b]);else C(h,-1,p);return this.marshall().clear(),a&&(l.initonly=!0),d},marshall(e){const i=this._argval||vh,a=this._argops;let u,l,d,h;if(a){const p=a.length;for(l=0;l<p;++l)u=a[l],d=u.op,h=d.modified()&&d.stamp===e,i.set(u.name,u.index,d.value,h);if(a.initonly){for(l=0;l<p;++l)u=a[l],u.op.targets().remove(this);this._argops=null,this._update=null}}return i},detach(){const e=this._argops;let i,a,u,l;if(e)for(i=0,a=e.length;i<a;++i)u=e[i],l=u.op,l._targets&&l._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const i=this._update;if(i){const a=this.marshall(e.stamp),u=i.call(this,a,e);if(a.clear(),u!==this.value)this.value=u;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let i;return this.skip()?(this.skip(!1),i=0):i=this.evaluate(e),this.pulse=i||e}};let iV=0;function vg(e,i,a){this.id=++iV,this.value=null,a&&(this.receive=a),e&&(this._filter=e),i&&(this._apply=i)}function dp(e,i,a){return new vg(e,i,a)}function sE(){return(sE=(0,Mo.Z)(function*(e,i){const a=this;let l,u=0;try{l=yield a.loader().load(e,{context:"dataflow",response:yg(i&&i.type)});try{l=a.parse(l,i)}catch(d){u=-2,a.warn("Data ingestion failed",e,d)}}catch(d){u=-1,a.warn("Loading failed",e,d)}return{data:l,status:u}})).apply(this,arguments)}function aE(){return(aE=(0,Mo.Z)(function*(e,i,a){const u=this,l=u._pending||xF(u);l.requests+=1;const d=yield u.request(i,a);return u.pulse(e,u.changeset().remove(Aa).insert(d.data||[])),l.done(),d})).apply(this,arguments)}function xF(e){let i;const a=new Promise(u=>i=u);return a.requests=0,a.done=()=>{0==--a.requests&&(e._pending=null,i(e))},e._pending=a}vg.prototype={_filter:Aa,_apply:vs,targets(){return this._targets||(this._targets=cD(ra))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const i=this.value=this._apply(e),a=this._targets,u=a?a.length:0;for(let l=0;l<u;++l)a[l].receive(i);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const i=dp(e);return this.targets().add(i),i},apply(e){const i=dp(null,e);return this.targets().add(i),i},merge(){const e=dp();this.targets().add(e);for(let i=0,a=arguments.length;i<a;++i)arguments[i].targets().add(e);return e},throttle(e){let i=-1;return this.filter(()=>{const a=Date.now();return a-i>e?(i=a,1):0})},debounce(e){const i=dp();return this.targets().add(dp(null,null,Mt(e,a=>{const u=a.dataflow;i.receive(a),u&&u.run&&u.run()}))),i},between(e,i){let a=!1;return e.targets().add(dp(null,null,()=>a=!0)),i.targets().add(dp(null,null,()=>a=!1)),this.filter(()=>a)},detach(){this._filter=Aa,this._targets=null}};const pD={skip:!0};function cT(e,i,a,u,l,d){const h=Nt({},d,pD);let p,y;ur(a)||(a=Xe(a)),void 0===u?p=b=>e.touch(a(b)):ur(u)?(y=new oa(null,u,l,!1),p=b=>{y.evaluate(b);const C=a(b),M=y.value;uT(M)?e.pulse(C,M,d):e.update(C,M,h)}):p=b=>e.update(a(b),u,h),i.apply(p)}function oE(e,i,a,u,l,d){if(void 0===u)i.targets().add(a);else{const h=d||{},p=new oa(null,function(e,i){return i=ur(i)?i:Xe(i),e?function(a,u){const l=i(a,u);return e.skip()||(e.skip(l!==this.value).value=l),l}:i}(a,u),l,!1);p.modified(h.force),p.rank=i.rank,i.targets().add(p),a&&(p.skip(!0),p.value=a.value,p.targets().add(a),e.connect(a,[p]))}}const gD={};function ua(e,i,a){this.dataflow=e,this.stamp=null==i?-1:i,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=a||null}function lv(e,i){const a=[];return xl(e,i,u=>a.push(u)),a}function lE(e,i){const a={};return e.visit(i,u=>{a[Zr(u)]=1}),u=>a[Zr(u)]?null:u}function cv(e,i){return e?(a,u)=>e(a,u)&&i(a,u):i}function nl(e,i,a,u){const l=this,d=a.length;let h=0;this.dataflow=e,this.stamp=i,this.fields=null,this.encode=u||null,this.pulses=a;for(let p=0;p<d;++p){const y=a[p];if(y.stamp===i){if(y.fields){const b=l.fields||(l.fields={});for(const C in y.fields)b[C]=1}y.changed(l.ADD)&&(h|=l.ADD),y.changed(l.REM)&&(h|=l.REM),y.changed(l.MOD)&&(h|=l.MOD)}}this.changes=h}function fv(){return(fv=(0,Mo.Z)(function*(e,i,a){const u=this,l=[];if(u._pulse)return dE(u);if(u._pending&&(yield u._pending),i&&(yield av(u,i)),!u._touched.length)return u.debug("Dataflow invoked, but nothing to do."),u;const d=++u._clock;u._pulse=new ua(u,d,e),u._touched.forEach(C=>u._enqueue(C,!0)),u._touched=cD(ra);let p,y,b,h=0;try{for(;u._heap.size()>0;)p=u._heap.pop(),p.rank===p.qrank?(y=p.run(u._getPulse(p,e)),y.then?y=yield y:y.async&&(l.push(y.async),y=gD),y!==gD&&p._targets&&p._targets.forEach(C=>u._enqueue(C)),++h):u._enqueue(p,!0)}catch(C){u._heap.clear(),b=C}if(u._input={},u._pulse=null,u.debug(`Pulse ${d}: ${h} operators`),b&&(u._postrun=[],u.error(b)),u._postrun.length){const C=u._postrun.sort((M,O)=>O.priority-M.priority);u._postrun=[];for(let M=0;M<C.length;++M)yield av(u,C[M].callback)}return a&&(yield av(u,a)),l.length&&Promise.all(l).then(C=>u.runAsync(null,()=>{C.forEach(M=>{try{M(u)}catch(O){u.error(O)}})})),u})).apply(this,arguments)}function cE(){return(cE=(0,Mo.Z)(function*(e,i,a){for(;this._running;)yield this._running;const u=()=>this._running=null;return(this._running=this.evaluate(e,i,a)).then(u,u),this._running})).apply(this,arguments)}function dE(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}ua.prototype={StopPropagation:gD,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new ua(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new ua(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,i){const a=this;return a.stamp=e.stamp,a.encode=e.encode,e.fields&&!(64&i)&&(a.fields=e.fields),1&i?(a.addF=e.addF,a.add=e.add):(a.addF=null,a.add=[]),2&i?(a.remF=e.remF,a.rem=e.rem):(a.remF=null,a.rem=[]),4&i?(a.modF=e.modF,a.mod=e.mod):(a.modF=null,a.mod=[]),32&i?(a.srcF=null,a.source=null):(a.srcF=e.srcF,a.source=e.source,e.cleans&&(a.cleans=e.cleans)),a},runAfter(e){this.dataflow.runAfter(e)},changed(e){const i=e||7;return 1&i&&this.add.length||2&i&&this.rem.length||4&i&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const i=this.add.length,a=this.source&&this.source.length;return a&&a!==i&&(this.mod=this.source,i&&this.filter(4,lE(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const i=this.fields||(this.fields={});return Sn(e)?e.forEach(a=>i[a]=!0):i[e]=!0,this},modified(e,i){const a=this.fields;return!(!i&&!this.mod.length||!a)&&(arguments.length?Sn(e)?e.some(u=>a[u]):a[e]:!!a)},filter(e,i){const a=this;return 1&e&&(a.addF=cv(a.addF,i)),2&e&&(a.remF=cv(a.remF,i)),4&e&&(a.modF=cv(a.modF,i)),16&e&&(a.srcF=cv(a.srcF,i)),a},materialize(e){const i=this;return 1&(e=e||7)&&i.addF&&(i.add=lv(i.add,i.addF),i.addF=null),2&e&&i.remF&&(i.rem=lv(i.rem,i.remF),i.remF=null),4&e&&i.modF&&(i.mod=lv(i.mod,i.modF),i.modF=null),16&e&&i.srcF&&(i.source=i.source.filter(i.srcF),i.srcF=null),i},visit(e,i){const a=this,u=i;if(16&e)return xl(a.source,a.srcF,u),a;1&e&&xl(a.add,a.addF,u),2&e&&xl(a.rem,a.remF,u),4&e&&xl(a.mod,a.modF,u);const l=a.source;if(8&e&&l){const d=a.add.length+a.mod.length;d===l.length||xl(l,d?lE(a,5):a.srcF,u)}return a}},qt(nl,ua,{fork(e){const i=new ua(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&i.ADD&&this.visit(i.ADD,a=>i.add.push(a)),e&i.REM&&this.visit(i.REM,a=>i.rem.push(a)),e&i.MOD&&this.visit(i.MOD,a=>i.mod.push(a))),i},changed(e){return this.changes&e},modified(e){const i=this,a=i.fields;return a&&i.changes&i.MOD?Sn(e)?e.some(u=>a[u]):a[e]:0},filter(){Pt("MultiPulse does not support filtering.")},materialize(){Pt("MultiPulse does not support materialization.")},visit(e,i){const a=this,u=a.pulses,l=u.length;let d=0;if(e&a.SOURCE)for(;d<l;++d)u[d].visit(e,i);else for(;d<l;++d)u[d].stamp===a.stamp&&u[d].visit(e,i);return a}});const fE={skip:!1,force:!1};function gT(e,i,a,u){let l,d;const h=e[a];for(;a>i&&(d=a-1>>1,l=e[d],u(h,l)<0);)e[a]=l,a=d;return e[a]=h}function X0(){this.logger(wu()),this.logLevel(Zu),this._clock=0,this._rank=0,this._locale=YC();try{this._loader=sv()}catch(e){}this._touched=cD(ra),this._input={},this._pulse=null,this._heap=function(e){let i=[];return{clear:()=>i=[],size:()=>i.length,peek:()=>i[0],push:a=>(i.push(a),gT(i,0,i.length-1,e)),pop:()=>{const a=i.pop();let u;return i.length?(u=i[0],i[0]=a,function(e,i,a){const u=i,l=e.length,d=e[i];let p,h=1+(i<<1);for(;h<l;)p=h+1,p<l&&a(e[h],e[p])>=0&&(h=p),e[i]=e[h],h=1+((i=h)<<1);e[i]=d,gT(e,u,i,a)}(i,0,e)):u=a,u}}}((e,i)=>e.qrank-i.qrank),this._postrun=[]}function bg(e){return function(){return this._log[e].apply(this,arguments)}}function nn(e,i){oa.call(this,e,null,i)}X0.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:bg("error"),warn:bg("warn"),info:bg("info"),debug:bg("debug"),logLevel:bg("level"),cleanThreshold:1e4,add:function(e,i,a,u){let d,l=1;return e instanceof oa?d=e:e&&e.prototype instanceof oa?d=new e:ur(e)?d=new oa(null,e):(l=0,d=new oa(e,i)),this.rank(d),l&&(u=a,a=i),a&&this.connect(d,d.parameters(a,u)),this.touch(d),d},connect:function(e,i){const a=e.rank,u=i.length;for(let l=0;l<u;++l)if(a<i[l].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const i=[e];let a,u,l;for(;i.length;)if(this.rank(a=i.pop()),u=a._targets)for(l=u.length;--l>=0;)i.push(a=u[l]),a===e&&Pt("Cycle detected in dataflow graph.")},pulse:function(e,i,a){this.touch(e,a||fE);const u=new ua(this,this._clock+(this._pulse?0:1)),l=e.pulse&&e.pulse.source||[];return u.target=e,this._input[e.id]=i.pulse(u,l),this},touch:function(e,i){const a=i||fE;return this._pulse?this._enqueue(e):this._touched.add(e),a.skip&&e.skip(!0),this},update:function(e,i,a){const u=a||fE;return(e.set(i)||u.force)&&this.touch(e,u),this},changeset:K0,ingest:function(e,i,a){return i=this.parse(i,a),this.pulse(e,this.changeset().insert(i))},parse:function(e,i){const a=this.locale();return iT(e,i,a.timeParse,a.utcParse)},preload:function(e,i,a){return aE.apply(this,arguments)},request:function(e,i){return sE.apply(this,arguments)},events:function(e,i,a,u){const l=this,d=dp(a,u),h=function(b){b.dataflow=l;try{d.receive(b)}catch(C){l.error(C)}finally{l.run()}};let p;p="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Mr(e);const y=p.length;for(let b=0;b<y;++b)p[b].addEventListener(i,h);return d},on:function(e,i,a,u,l){return(e instanceof oa?oE:cT)(this,e,i,a,u,l),this},evaluate:function(e,i,a){return fv.apply(this,arguments)},run:function(e,i,a){return this._pulse?dE(this):(this.evaluate(e,i,a),this)},runAsync:function(e,i,a){return cE.apply(this,arguments)},runAfter:function(e,i,a){if(this._pulse||i)this._postrun.push({priority:a||0,callback:e});else try{e(this)}catch(u){this.error(u)}},_enqueue:function(e,i){const a=e.stamp<this._clock;a&&(e.stamp=this._clock),(a||i)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,i){const a=e.source,u=this._clock;return a&&Sn(a)?new nl(this,u,a.map(l=>l.pulse),i):this._input[e.id]||function(e,i){return i&&i.stamp===e.stamp?i:(e=e.fork(),i&&i!==gD&&(e.source=i.source),e)}(this._pulse,a&&a.pulse)}},qt(nn,oa,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let i;return this.skip()?this.skip(!1):i=this.evaluate(e),i=i||e,i.then?i=i.then(a=>this.pulse=a):i!==e.StopPropagation&&(this.pulse=i),i},evaluate(e){const i=this.marshall(e.stamp),a=this.transform(i,e);return i.clear(),a},transform(){}});const Ey={};function xg(e){const i=_T(e);return i&&i.Definition||null}function _T(e){return e=e&&e.toLowerCase(),bn(Ey,e)?Ey[e]:null}function Z0(e,i){let a;if(void 0===i)for(const u of e)null!=u&&(a<u||void 0===a&&u>=u)&&(a=u);else{let u=-1;for(let l of e)null!=(l=i(l,++u,e))&&(a<l||void 0===a&&l>=l)&&(a=l)}return a}function pE(e,i){let a;if(void 0===i)for(const u of e)null!=u&&(a>u||void 0===a&&u>=u)&&(a=u);else{let u=-1;for(let l of e)null!=(l=i(l,++u,e))&&(a>l||void 0===a&&l>=l)&&(a=l)}return a}function yT(e,i,a=0,u=e.length-1,l=vf){for(;u>a;){if(u-a>600){const y=u-a+1,b=i-a+1,C=Math.log(y),M=.5*Math.exp(2*C/3),O=.5*Math.sqrt(C*M*(y-M)/y)*(b-y/2<0?-1:1);yT(e,i,Math.max(a,Math.floor(i-b*M/y+O)),Math.min(u,Math.floor(i+(y-b)*M/y+O)),l)}const d=e[i];let h=a,p=u;for(hv(e,a,i),l(e[u],d)>0&&hv(e,a,u);h<p;){for(hv(e,h,p),++h,--p;l(e[h],d)<0;)++h;for(;l(e[p],d)>0;)--p}0===l(e[a],d)?hv(e,a,p):(++p,hv(e,p,u)),p<=i&&(a=p+1),i<=p&&(u=p-1)}return e}function hv(e,i,a){const u=e[i];e[i]=e[a],e[a]=u}function pv(e){return null===e?NaN:+e}function yD(e,i,a){if(e=Float64Array.from(function*(e,i){if(void 0===i)for(let a of e)null!=a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let u of e)null!=(u=i(u,++a,e))&&(u=+u)>=u&&(yield u)}}(e,a)),u=e.length){if((i=+i)<=0||u<2)return pE(e);if(i>=1)return Z0(e);var u,l=(u-1)*i,d=Math.floor(l),h=Z0(yT(e,d).subarray(0,d+1));return h+(pE(e.subarray(d+1))-h)*(l-d)}}function vT(e,i,a=pv){if(u=e.length){if((i=+i)<=0||u<2)return+a(e[0],0,e);if(i>=1)return+a(e[u-1],u-1,e);var u,l=(u-1)*i,d=Math.floor(l),h=+a(e[d],d,e);return h+(+a(e[d+1],d+1,e)-h)*(l-d)}}function IF(e,i){return yD(e,.5,i)}function*mE(e,i){if(null==i)for(let a of e)null!=a&&""!==a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let u of e)u=i(u,++a,e),null!=u&&""!==u&&(u=+u)>=u&&(yield u)}}function gE(e,i,a){const u=Float64Array.from(mE(e,a));return u.sort(vf),i.map(l=>vT(u,l))}function _E(e,i){return gE(e,[.25,.5,.75],i)}function yE(e,i){const a=e.length,u=function(e,i){const a=function(e,i){let u,a=0,l=0,d=0;if(void 0===i)for(let h of e)null!=h&&(h=+h)>=h&&(u=h-l,l+=u/++a,d+=u*(h-l));else{let h=-1;for(let p of e)null!=(p=i(p,++h,e))&&(p=+p)>=p&&(u=p-l,l+=u/++a,d+=u*(p-l))}if(a>1)return d/(a-1)}(e,i);return a&&Math.sqrt(a)}(e,i),l=_E(e,i);return 1.06*(Math.min(u,(l[2]-l[0])/1.34)||u||Math.abs(l[0])||1)*Math.pow(a,-.2)}function J0(e){const i=e.maxbins||20,a=e.base||10,u=Math.log(a),l=e.divide||[5,2];let p,y,b,C,M,O,d=e.extent[0],h=e.extent[1];const H=e.span||h-d||Math.abs(d)||1;if(e.step)p=e.step;else if(e.steps){for(C=H/i,M=0,O=e.steps.length;M<O&&e.steps[M]<C;++M);p=e.steps[Math.max(0,M-1)]}else{for(y=Math.ceil(Math.log(i)/u),b=e.minstep||0,p=Math.max(b,Math.pow(a,Math.round(Math.log(H)/u)-y));Math.ceil(H/p)>i;)p*=a;for(M=0,O=l.length;M<O;++M)C=p/l[M],C>=b&&H/C<=i&&(p=C)}C=Math.log(p);const te=Math.pow(a,-(C>=0?0:1+~~(-C/u))-1);return(e.nice||void 0===e.nice)&&(C=Math.floor(d/p+te)*p,d=d<C?C-p:C,h=Math.ceil(h/p)*p),{start:d,stop:h===d?d+p:h,step:p}}var lu=Math.random;function xT(e){lu=e}function NF(e,i,a,u){if(!e.length)return[void 0,void 0];const l=Float64Array.from(mE(e,u)),d=l.length,h=i;let p,y,b,C;for(b=0,C=Array(h);b<h;++b){for(p=0,y=0;y<d;++y)p+=l[~~(lu()*d)];C[b]=p/d}return C.sort(vf),[yD(C,a/2),yD(C,1-a/2)]}function vE(e,i,a,u){u=u||(O=>O);const l=e.length,d=new Float64Array(l);let M,h=0,p=1,y=u(e[0]),b=y,C=y+i;for(;p<l;++p){if(M=u(e[p]),M>=C){for(b=(y+b)/2;h<p;++h)d[h]=b;C=M+i,y=M}b=M}for(b=(y+b)/2;h<p;++h)d[h]=b;return a?function(e,i){const a=e.length;let d,h,u=0,l=1;for(;e[u]===e[l];)++l;for(;l<a;){for(d=l+1;e[l]===e[d];)++d;if(e[l]-e[l-1]<i){for(h=l+(u+d-l-l>>1);h<l;)e[h++]=e[l];for(;h>l;)e[h--]=e[u]}u=l,l=d}return e}(d,i+i/4):d}function Bd(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function bE(e,i){let a,u,l;null==i&&(i=e,e=0);const d={min(h){return arguments.length?(a=h||0,l=u-a,d):a},max(h){return arguments.length?(u=h||0,l=u-a,d):u},sample:()=>a+Math.floor(l*lu()),pdf:h=>h===Math.floor(h)&&h>=a&&h<u?1/l:0,cdf(h){const p=Math.floor(h);return p<a?0:p>=u?1:(p-a+1)/l},icdf:h=>h>=0&&h<=1?a-1+Math.floor(h*l):NaN};return d.min(e).max(i)}const vD=Math.sqrt(2*Math.PI),OF=Math.SQRT2;let Q0=NaN;function Dg(e,i){e=e||0,i=null==i?1:i;let l,d,a=0,u=0;if(Q0==Q0)a=Q0,Q0=NaN;else{do{a=2*lu()-1,u=2*lu()-1,l=a*a+u*u}while(0===l||l>1);d=Math.sqrt(-2*Math.log(l)/l),a*=d,Q0=u*d}return e+a*i}function bD(e,i,a){const u=(e-(i||0))/(a=null==a?1:a);return Math.exp(-.5*u*u)/(a*vD)}function mv(e,i,a){const u=(e-(i=i||0))/(a=null==a?1:a),l=Math.abs(u);let d;if(l>37)d=0;else{const h=Math.exp(-l*l/2);let p;l<7.07106781186547?(p=.0352624965998911*l+.700383064443688,p=p*l+6.37396220353165,p=p*l+33.912866078383,p=p*l+112.079291497871,p=p*l+221.213596169931,p=p*l+220.206867912376,d=h*p,p=.0883883476483184*l+1.75566716318264,p=p*l+16.064177579207,p=p*l+86.7807322029461,p=p*l+296.564248779674,p=p*l+637.333633378831,p=p*l+793.826512519948,p=p*l+440.413735824752,d/=p):(p=l+.65,p=l+4/p,p=l+3/p,p=l+2/p,p=l+1/p,d=h/p/2.506628274631)}return u>0?1-d:d}function My(e,i,a){return e<0||e>1?NaN:(i||0)+(null==a?1:a)*OF*function(e){let a,i=-Math.log((1-e)*(1+e));return i<6.25?(i-=3.125,a=-364441206401782e-35,a=a*i-16850591381820166e-35,a=128584807152564e-32+a*i,a=11157877678025181e-33+a*i,a=a*i-1333171662854621e-31,a=20972767875968562e-33+a*i,a=6637638134358324e-30+a*i,a=a*i-4054566272975207e-29,a=a*i-8151934197605472e-29,a=26335093153082323e-28+a*i,a=a*i-12975133253453532e-27,a=a*i-5415412054294628e-26,a=1.0512122733215323e-9+a*i,a=a*i-4.112633980346984e-9,a=a*i-2.9070369957882005e-8,a=4.2347877827932404e-7+a*i,a=a*i-13654692000834679e-22,a=a*i-13882523362786469e-21,a=.00018673420803405714+a*i,a=a*i-.000740702534166267,a=a*i-.006033670871430149,a=.24015818242558962+a*i,a=1.6536545626831027+a*i):i<16?(i=Math.sqrt(i)-3.25,a=2.2137376921775787e-9,a=9.075656193888539e-8+a*i,a=a*i-2.7517406297064545e-7,a=1.8239629214389228e-8+a*i,a=15027403968909828e-22+a*i,a=a*i-4013867526981546e-21,a=29234449089955446e-22+a*i,a=12475304481671779e-21+a*i,a=a*i-47318229009055734e-21,a=6828485145957318e-20+a*i,a=24031110387097894e-21+a*i,a=a*i-.0003550375203628475,a=.0009532893797373805+a*i,a=a*i-.0016882755560235047,a=.002491442096107851+a*i,a=a*i-.003751208507569241,a=.005370914553590064+a*i,a=1.0052589676941592+a*i,a=3.0838856104922208+a*i):Number.isFinite(i)?(i=Math.sqrt(i)-5,a=-27109920616438573e-27,a=a*i-2.555641816996525e-10,a=1.5076572693500548e-9+a*i,a=a*i-3.789465440126737e-9,a=7.61570120807834e-9+a*i,a=a*i-1.496002662714924e-8,a=2.914795345090108e-8+a*i,a=a*i-6.771199775845234e-8,a=2.2900482228026655e-7+a*i,a=a*i-9.9298272942317e-7,a=4526062597223154e-21+a*i,a=a*i-1968177810553167e-20,a=7599527703001776e-20+a*i,a=a*i-.00021503011930044477,a=a*i-.00013871931833623122,a=1.0103004648645344+a*i,a=4.849906401408584+a*i):a=1/0,a*e}(2*e-1)}function xD(e,i){let a,u;const l={mean(d){return arguments.length?(a=d||0,l):a},stdev(d){return arguments.length?(u=null==d?1:d,l):u},sample:()=>Dg(a,u),pdf:d=>bD(d,a,u),cdf:d=>mv(d,a,u),icdf:d=>My(d,a,u)};return l.mean(e).stdev(i)}function DE(e,i){const a=xD();let u=0;const l={data(d){return arguments.length?(e=d,u=d?d.length:0,l.bandwidth(i)):e},bandwidth(d){return arguments.length?(!(i=d)&&e&&(i=yE(e)),l):i},sample:()=>e[~~(lu()*u)]+i*a.sample(),pdf(d){let h=0,p=0;for(;p<u;++p)h+=a.pdf((d-e[p])/i);return h/i/u},cdf(d){let h=0,p=0;for(;p<u;++p)h+=a.cdf((d-e[p])/i);return h/u},icdf(){throw Error("KDE icdf not supported.")}};return l.data(e)}function wg(e,i){return e=e||0,i=null==i?1:i,Math.exp(e+Dg()*i)}function gv(e,i,a){if(e<=0)return 0;i=i||0,a=null==a?1:a;const u=(Math.log(e)-i)/a;return Math.exp(-.5*u*u)/(a*vD*e)}function DD(e,i,a){return mv(Math.log(e),i,a)}function wE(e,i,a){return Math.exp(My(e,i,a))}function wD(e,i){let a,u;const l={mean(d){return arguments.length?(a=d||0,l):a},stdev(d){return arguments.length?(u=null==d?1:d,l):u},sample:()=>wg(a,u),pdf:d=>gv(d,a,u),cdf:d=>DD(d,a,u),icdf:d=>wE(d,a,u)};return l.mean(e).stdev(i)}function DT(e,i){let u,a=0;const d={weights(h){return arguments.length?(u=function(h){const p=[];let b,y=0;for(b=0;b<a;++b)y+=p[b]=null==h[b]?1:+h[b];for(b=0;b<a;++b)p[b]/=y;return p}(i=h||[]),d):i},distributions(h){return arguments.length?(h?(a=h.length,e=h):(a=0,e=[]),d.weights(i)):e},sample(){const h=lu();let p=e[a-1],y=u[0],b=0;for(;b<a-1;y+=u[++b])if(h<y){p=e[b];break}return p.sample()},pdf(h){let p=0,y=0;for(;y<a;++y)p+=u[y]*e[y].pdf(h);return p},cdf(h){let p=0,y=0;for(;y<a;++y)p+=u[y]*e[y].cdf(h);return p},icdf(){throw Error("Mixture icdf not supported.")}};return d.distributions(e).weights(i)}function CE(e,i){return null==i&&(i=null==e?1:e,e=0),e+(i-e)*lu()}function EE(e,i,a){return null==a&&(a=null==i?1:i,i=0),e>=i&&e<=a?1/(a-i):0}function _v(e,i,a){return null==a&&(a=null==i?1:i,i=0),e<i?0:e>a?1:(e-i)/(a-i)}function ME(e,i,a){return null==a&&(a=null==i?1:i,i=0),e>=0&&e<=1?i+e*(a-i):NaN}function SE(e,i){let a,u;const l={min(d){return arguments.length?(a=d||0,l):a},max(d){return arguments.length?(u=null==d?1:d,l):u},sample:()=>CE(a,u),pdf:d=>EE(d,a,u),cdf:d=>_v(d,a,u),icdf:d=>ME(d,a,u)};return null==i&&(i=null==e?1:e,e=0),l.min(e).max(i)}function q0(e,i,a,u){const l=u-e*e,d=Math.abs(l)<1e-24?0:(a-e*i)/l;return[i-d*e,d]}function Sy(e,i,a,u){e=e.filter(H=>{let Y=i(H),te=a(H);return null!=Y&&(Y=+Y)>=Y&&null!=te&&(te=+te)>=te}),u&&e.sort((H,Y)=>i(H)-i(Y));const l=e.length,d=new Float64Array(l),h=new Float64Array(l);let C,M,O,p=0,y=0,b=0;for(O of e)d[p]=C=+i(O),h[p]=M=+a(O),++p,y+=(C-y)/p,b+=(M-b)/p;for(p=0;p<l;++p)d[p]-=y,h[p]-=b;return[d,h,y,b]}function Ay(e,i,a,u){let d,h,l=-1;for(const p of e)d=i(p),h=a(p),null!=d&&(d=+d)>=d&&null!=h&&(h=+h)>=h&&u(d,h,++l)}function Cg(e,i,a,u,l){let d=0,h=0;return Ay(e,i,a,(p,y)=>{const b=y-l(p),C=y-u;d+=b*b,h+=C*C}),1-d/h}function AE(e,i,a){let u=0,l=0,d=0,h=0,p=0;Ay(e,i,a,(C,M)=>{++p,u+=(C-u)/p,l+=(M-l)/p,d+=(C*M-d)/p,h+=(C*C-h)/p});const y=q0(u,l,d,h),b=C=>y[0]+y[1]*C;return{coef:y,predict:b,rSquared:Cg(e,i,a,l,b)}}function wT(e,i,a){let u=0,l=0,d=0,h=0,p=0;Ay(e,i,a,(C,M)=>{++p,C=Math.log(C),u+=(C-u)/p,l+=(M-l)/p,d+=(C*M-d)/p,h+=(C*C-h)/p});const y=q0(u,l,d,h),b=C=>y[0]+y[1]*Math.log(C);return{coef:y,predict:b,rSquared:Cg(e,i,a,l,b)}}function TE(e,i,a){const[u,l,d,h]=Sy(e,i,a);let O,H,Y,p=0,y=0,b=0,C=0,M=0;Ay(e,i,a,(Ce,Ve)=>{O=u[M++],H=Math.log(Ve),Y=O*Ve,p+=(Ve*H-p)/M,y+=(Y-y)/M,b+=(Y*H-b)/M,C+=(O*Y-C)/M});const[te,se]=q0(y/h,p/h,b/h,C/h),ye=Ce=>Math.exp(te+se*(Ce-d));return{coef:[Math.exp(te-se*d),se],predict:ye,rSquared:Cg(e,i,a,h,ye)}}function kE(e,i,a){let u=0,l=0,d=0,h=0,p=0,y=0;Ay(e,i,a,(M,O)=>{const H=Math.log(M),Y=Math.log(O);++y,u+=(H-u)/y,l+=(Y-l)/y,d+=(H*Y-d)/y,h+=(H*H-h)/y,p+=(O-p)/y});const b=q0(u,l,d,h),C=M=>b[0]*Math.pow(M,b[1]);return b[0]=Math.exp(b[0]),{coef:b,predict:C,rSquared:Cg(e,i,a,p,C)}}function rm(e,i,a){const[u,l,d,h]=Sy(e,i,a),p=u.length;let H,Y,te,se,y=0,b=0,C=0,M=0,O=0;for(H=0;H<p;)Y=u[H],te=l[H++],se=Y*Y,y+=(se-y)/H,b+=(se*Y-b)/H,C+=(se*se-C)/H,M+=(Y*te-M)/H,O+=(se*te-O)/H;const ye=C-y*y,Ce=y*ye-b*b,Ve=(O*y-M*b)/Ce,Ue=(M*ye-O*b)/Ce,qe=-Ve*y,tt=Ge=>Ve*(Ge-=d)*Ge+Ue*Ge+qe+h;return{coef:[qe-Ue*d+Ve*d*d+h,Ue-2*Ve*d,Ve],predict:tt,rSquared:Cg(e,i,a,h,tt)}}function IE(e,i,a,u){if(1===u)return AE(e,i,a);if(2===u)return rm(e,i,a);const[l,d,h,p]=Sy(e,i,a),y=l.length,b=[],C=[],M=u+1;let O,H,Y,te,se;for(O=0;O<M;++O){for(Y=0,te=0;Y<y;++Y)te+=Math.pow(l[Y],O)*d[Y];for(b.push(te),se=new Float64Array(M),H=0;H<M;++H){for(Y=0,te=0;Y<y;++Y)te+=Math.pow(l[Y],O+H);se[H]=te}C.push(se)}C.push(b);const ye=function(e){const i=e.length-1,a=[];let u,l,d,h,p;for(u=0;u<i;++u){for(h=u,l=u+1;l<i;++l)Math.abs(e[u][l])>Math.abs(e[u][h])&&(h=l);for(d=u;d<i+1;++d)p=e[d][u],e[d][u]=e[d][h],e[d][h]=p;for(l=u+1;l<i;++l)for(d=i;d>=u;d--)e[d][l]-=e[d][u]*e[u][l]/e[u][u]}for(l=i-1;l>=0;--l){for(p=0,d=l+1;d<i;++d)p+=e[d][l]*a[d];a[l]=(e[i][l]-p)/e[l][l]}return a}(C),Ce=Ve=>{let Ue=p+ye[0]+ye[1]*(Ve-=h)+ye[2]*Ve*Ve;for(O=3;O<M;++O)Ue+=ye[O]*Math.pow(Ve,O);return Ue};return{coef:CT(M,ye,-h,p),predict:Ce,rSquared:Cg(e,i,a,p,Ce)}}function CT(e,i,a,u){const l=Array(e);let d,h,p,y;for(d=0;d<e;++d)l[d]=0;for(d=e-1;d>=0;--d)for(p=i[d],y=1,l[d]+=p,h=1;h<=d;++h)y*=(d+1-h)/h,l[d-h]+=p*Math.pow(a,h)*y;return l[0]+=u,l}function q(e,i,a,u){const[l,d,h,p]=Sy(e,i,a,!0),y=l.length,b=Math.max(2,~~(u*y)),C=new Float64Array(y),M=new Float64Array(y),O=new Float64Array(y).fill(1);for(let H=-1;++H<=2;){const Y=[0,b-1];for(let se=0;se<y;++se){const ye=l[se],Ce=Y[0],Ve=Y[1];let qe=0,tt=0,Ge=0,mt=0,Ot=0;const Tt=1/Math.abs(l[ye-l[Ce]>l[Ve]-ye?Ce:Ve]-ye||1);for(let jt=Ce;jt<=Ve;++jt){const En=l[jt],Rt=d[jt],An=ae(Math.abs(ye-En)*Tt)*O[jt],Jn=En*An;qe+=An,tt+=Jn,Ge+=Rt*An,mt+=Rt*Jn,Ot+=En*Jn}const[St,Gt]=q0(tt/qe,Ge/qe,mt/qe,Ot/qe);C[se]=St+Gt*ye,M[se]=Math.abs(d[se]-C[se]),Z(l,se+1,Y)}if(2===H)break;const te=IF(M);if(Math.abs(te)<1e-12)break;for(let ye,Ce,se=0;se<y;++se)ye=M[se]/(6*te),O[se]=ye>=1?1e-12:(Ce=1-ye*ye)*Ce}return function(e,i,a,u){const l=e.length,d=[];let b,h=0,p=0,y=[];for(;h<l;++h)b=e[h]+a,y[0]===b?y[1]+=(i[h]-y[1])/++p:(p=0,y[1]+=u,y=[b,i[h]],d.push(y));return y[1]+=u,d}(l,C,h,p)}function ae(e){return(e=1-e*e*e)*e*e}function Z(e,i,a){const u=e[i];let l=a[0],d=a[1]+1;if(!(d>=e.length))for(;i>l&&e[d]-u<=u-e[l];)a[0]=++l,a[1]=d,++d}const me=.5*Math.PI/180;function xe(e,i,a,u){a=a||25,u=Math.max(a,u||200);const l=te=>[te,e(te)],d=i[0],h=i[1],p=h-d,y=p/u,b=[l(d)],C=[];if(a===u){for(let te=1;te<u;++te)b.push(l(d+te/a*p));return b.push(l(h)),b}C.push(l(h));for(let te=a;--te>0;)C.push(l(d+te/a*p));let M=b[0],O=C[C.length-1];const H=1/p,Y=function(e,i){let a=e,u=e;const l=i.length;for(let d=0;d<l;++d){const h=i[d][1];h<a&&(a=h),h>u&&(u=h)}return 1/(u-a)}(M[1],C);for(;O;){const te=l((M[0]+O[0])/2);te[0]-M[0]>=y&&Ye(M,te,O,H,Y)>me?C.push(te):(M=O,b.push(O),C.pop()),O=C[C.length-1]}return b}function Ye(e,i,a,u,l){const d=Math.atan2(l*(a[1]-e[1]),u*(a[0]-e[0])),h=Math.atan2(l*(i[1]-e[1]),u*(i[0]-e[0]));return Math.abs(d-h)}function lt(e,i,a){e=+e,i=+i,a=(l=arguments.length)<2?(i=e,e=0,1):l<3?1:+a;for(var u=-1,l=0|Math.max(0,Math.ceil((i-e)/a)),d=new Array(l);++u<l;)d[u]=e+u*a;return d}function vt(e){return e&&e.length?1===e.length?e[0]:function(e){return i=>{const a=e.length;let u=1,l=String(e[0](i));for(;u<a;++u)l+="|"+e[u](i);return l}}(e):function(){return""}}function Yt(e,i,a){return a||e+(i?"_"+i:"")}const hn=()=>{},Fn={init:hn,add:hn,rem:hn,idx:0},Un={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,i)=>e.sum+=+i,rem:(e,i)=>e.sum-=i},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,i)=>e.product*=i,rem:(e,i)=>e.product/=i},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,i)=>(e.mean_d=i-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,i)=>(e.mean_d=i-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,i)=>e.dev+=e.mean_d*(i-e.mean),rem:(e,i)=>e.dev-=e.mean_d*(i-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,i)=>{(i<e.min||void 0===e.min)&&(e.min=i)},rem:(e,i)=>{i<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,i)=>{(i>e.max||void 0===e.max)&&(e.max=i)},rem:(e,i)=>{i>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,i,a)=>{i<e.min&&(e.argmin=a)},rem:(e,i)=>{i<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,i,a)=>{i>e.max&&(e.argmax=a)},rem:(e,i)=>{i>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},$n=Object.keys(Un);function ls(e,i){return Un[e](i)}function ga(e,i){return e.idx-i.idx}function Ci(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function Zs(e,i){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(a=>a.add(this,e,i))):++this.missing}function yo(e,i){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(a=>a.rem(this,e,i))):--this.missing}function vo(e){return this._out.forEach(i=>e[i.out]=i.value(this)),e}function Gi(e,i){const a=i||vs,u=function(e){const i={};e.forEach(u=>i[u.name]=u);const a=u=>{!u.req||u.req.forEach(l=>{i[l]||a(i[l]=Un[l]())})};return e.forEach(a),Object.values(i).sort(ga)}(e),l=e.slice().sort(ga);function d(h){this._ops=u,this._out=l,this.cell=h,this.init()}return d.prototype.init=Ci,d.prototype.add=Zs,d.prototype.rem=yo,d.prototype.set=vo,d.prototype.get=a,d.fields=e.map(h=>h.out),d}function la(e){this._key=e?Ur(e):Zr,this.reset()}$n.forEach(e=>{Un[e]=function(e,i){return a=>Nt({name:e,out:a||e},Fn,i)}(e,Un[e])});const ca=la.prototype;function Ou(e){nn.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function ud(e){nn.call(this,null,e)}function e_(e,i,a){const u=e;let l=i||[],d=a||[],h={},p=0;return{add:y=>d.push(y),remove:y=>h[u(y)]=++p,size:()=>l.length,data:(y,b)=>(p&&(l=l.filter(C=>!h[u(C)]),h={},p=0),b&&y&&l.sort(y),d.length&&(l=y?Oi(y,l,d.sort(y)):l.concat(d),d=[]),l)}}function Sf(e){nn.call(this,[],e)}function t_(e){oa.call(this,null,Ty,e)}function Ty(e){return this.value&&!e.modified()?this.value:Ws(e.fields,e.orders)}function OE(e){nn.call(this,null,e)}function Wt(e){nn.call(this,null,e)}ca.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},ca.add=function(e){this._add.push(e)},ca.rem=function(e){this._rem.push(e)},ca.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,i=this._rem,a=this._key,u=e.length,l=i.length,d=Array(u-l),h={};let p,y,b;for(p=0;p<l;++p)h[a(i[p])]=1;for(p=0,y=0;p<u;++p)h[a(b=e[p])]?h[a(b)]=0:d[y++]=b;return this._rem=[],this._add=d},ca.distinct=function(e){const i=this.values(),a={};let d,u=i.length,l=0;for(;--u>=0;)d=e(i[u])+"",bn(a,d)||(a[d]=1,++l);return l},ca.extent=function(e){if(this._get!==e||!this._ext){const i=this.values(),a=Vn(i,e);this._ext=[i[a[0]],i[a[1]]],this._get=e}return this._ext},ca.argmin=function(e){return this.extent(e)[0]||{}},ca.argmax=function(e){return this.extent(e)[1]||{}},ca.min=function(e){const i=this.extent(e)[0];return null!=i?e(i):void 0},ca.max=function(e){const i=this.extent(e)[1];return null!=i?e(i):void 0},ca.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=_E(this.values(),e),this._get=e),this._q},ca.q1=function(e){return this.quartile(e)[0]},ca.q2=function(e){return this.quartile(e)[1]},ca.q3=function(e){return this.quartile(e)[2]},ca.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=NF(this.values(),1e3,.05,e),this._get=e),this._ci},ca.ci0=function(e){return this.ci(e)[0]},ca.ci1=function(e){return this.ci(e)[1]},Ou.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:$n},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},qt(Ou,nn,{transform(e,i){const a=this,u=i.fork(i.NO_SOURCE|i.NO_FIELDS),l=e.modified();return a.stamp=u.stamp,a.value&&(l||i.modified(a._inputs,!0))?(a._prev=a.value,a.value=l?a.init(e):{},i.visit(i.SOURCE,d=>a.add(d))):(a.value=a.value||a.init(e),i.visit(i.REM,d=>a.rem(d)),i.visit(i.ADD,d=>a.add(d))),u.modifies(a._outputs),a._drop=!1!==e.drop,e.cross&&a._dims.length>1&&(a._drop=!1,a.cross()),i.clean()&&a._drop&&u.clean(!0).runAfter(()=>this.clean()),a.changes(u)},cross(){const e=this,i=e.value,a=e._dnames,u=a.map(()=>({})),l=a.length;function d(p){let y,b,C,M;for(y in p)for(C=p[y].tuple,b=0;b<l;++b)u[b][M=C[a[b]]]=M}d(e._prev),d(i),function h(p,y,b){const C=a[b],M=u[b++];for(const O in M){const H=p?p+"|"+O:O;y[C]=M[O],b<l?h(H,y,b):i[H]||e.cell(H,y)}}("",{},0)},init(e){const i=this._inputs=[],a=this._outputs=[],u={};function l(se){const ye=Mr(mr(se)),Ce=ye.length;let Ue,Ve=0;for(;Ve<Ce;++Ve)u[Ue=ye[Ve]]||(u[Ue]=1,i.push(Ue))}this._dims=Mr(e.groupby),this._dnames=this._dims.map(se=>{const ye=hi(se);return l(se),a.push(ye),ye}),this.cellkey=e.key?e.key:vt(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const d=e.fields||[null],h=e.ops||["count"],p=e.as||[],y=d.length,b={};let C,M,O,H,Y,te;for(y!==h.length&&Pt("Unmatched number of fields and aggregate ops."),te=0;te<y;++te)C=d[te],M=h[te],null==C&&"count"!==M&&Pt("Null aggregate field specified."),H=hi(C),Y=Yt(M,H,p[te]),a.push(Y),"count"!==M?(O=b[H],O||(l(C),O=b[H]=[],O.field=C,this._measures.push(O)),"count"!==M&&(this._countOnly=!1),O.push(ls(M,Y))):this._counts.push(Y);return this._measures=this._measures.map(se=>Gi(se,se.field)),{}},cellkey:vt(),cell(e,i){let a=this.value[e];return a?0===a.num&&this._drop&&a.stamp<this.stamp?(a.stamp=this.stamp,this._adds[this._alen++]=a):a.stamp<this.stamp&&(a.stamp=this.stamp,this._mods[this._mlen++]=a):(a=this.value[e]=this.newcell(e,i),this._adds[this._alen++]=a),a},newcell(e,i){const a={key:e,num:0,agg:null,tuple:this.newtuple(i,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const u=this._measures,l=u.length;a.agg=Array(l);for(let d=0;d<l;++d)a.agg[d]=new u[d](a)}return a.store&&(a.data=new la),a},newtuple(e,i){const a=this._dnames,u=this._dims,l=u.length,d={};for(let h=0;h<l;++h)d[a[h]]=u[h](e);return i?oT(i.tuple,d):Xs(d)},clean(){const e=this.value;for(const i in e)0===e[i].num&&delete e[i]},add(e){const i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,this._countOnly)return;a.store&&a.data.add(e);const u=a.agg;for(let l=0,d=u.length;l<d;++l)u[l].add(u[l].get(e),e)},rem(e){const i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,this._countOnly)return;a.store&&a.data.rem(e);const u=a.agg;for(let l=0,d=u.length;l<d;++l)u[l].rem(u[l].get(e),e)},celltuple(e){const i=e.tuple,a=this._counts;e.store&&e.data.values();for(let u=0,l=a.length;u<l;++u)i[a[u]]=e.num;if(!this._countOnly){const u=e.agg;for(let l=0,d=u.length;l<d;++l)u[l].set(i)}return i},changes(e){const i=this._adds,a=this._mods,u=this._prev,l=this._drop,d=e.add,h=e.rem,p=e.mod;let y,b,C,M;if(u)for(b in u)y=u[b],(!l||y.num)&&h.push(y.tuple);for(C=0,M=this._alen;C<M;++C)d.push(this.celltuple(i[C])),i[C]=null;for(C=0,M=this._mlen;C<M;++C)y=a[C],(0===y.num&&l?h:p).push(this.celltuple(y)),a[C]=null;return this._alen=this._mlen=0,this._prev=null,e}}),ud.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},qt(ud,nn,{transform(e,i){const a=!1!==e.interval,u=this._bins(e),l=u.start,d=u.step,h=e.as||["bin0","bin1"],p=h[0],y=h[1];let b;return b=e.modified()?(i=i.reflow(!0)).SOURCE:i.modified(mr(e.field))?i.ADD_MOD:i.ADD,i.visit(b,a?C=>{const M=u(C);C[p]=M,C[y]=null==M?null:l+d*(1+(M-l)/d)}:C=>C[p]=u(C)),i.modifies(a?h:p)},_bins(e){if(this.value&&!e.modified())return this.value;const i=e.field,a=J0(e),u=a.step;let h,p,l=a.start,d=l+Math.ceil((a.stop-l)/u)*u;null!=(h=e.anchor)&&(p=h-(l+u*Math.floor((h-l)/u)),l+=p,d+=p);const y=function(b){let C=rs(i(b));return null==C?null:C<l?-1/0:C>d?1/0:(C=Math.max(l,Math.min(C,d-u)),l+u*Math.floor(1e-14+(C-l)/u))};return y.start=l,y.stop=a.stop,y.step=u,this.value=Tr(y,mr(i),e.name||"bin_"+hi(i))}}),Sf.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},qt(Sf,nn,{transform(e,i){const a=i.fork(i.ALL),u=e_(Zr,this.value,a.materialize(a.ADD).add),l=e.sort,d=i.changed()||l&&(e.modified("sort")||i.modified(l.fields));return a.visit(a.REM,u.remove),this.modified(d),this.value=a.source=u.data(Ef(l),d),i.source&&i.source.root&&(this.value.root=i.source.root),a}}),qt(t_,oa),OE.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},qt(OE,nn,{transform(e,i){const a=M=>O=>{for(var Y,H=function(e,i,a){switch(i){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(a)}(p(O),e.case,d)||[],te=0,se=H.length;te<se;++te)h.test(Y=H[te])||M(Y)},u=this._parameterCheck(e,i),l=this._counts,d=this._match,h=this._stop,p=e.field,y=e.as||["text","count"],b=a(M=>l[M]=1+(l[M]||0)),C=a(M=>l[M]-=1);return u?i.visit(i.SOURCE,b):(i.visit(i.ADD,b),i.visit(i.REM,C)),this._finish(i,y)},_parameterCheck(e,i){let a=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),a=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),a=!0),(e.modified("field")||i.modified(e.field.fields))&&(a=!0),a&&(this._counts={}),a},_finish(e,i){const a=this._counts,u=this._tuples||(this._tuples={}),l=i[0],d=i[1],h=e.fork(e.NO_SOURCE|e.NO_FIELDS);let p,y,b;for(p in a)y=u[p],b=a[p]||0,!y&&b?(u[p]=y=Xs({}),y[l]=p,y[d]=b,h.add.push(y)):0===b?(y&&h.rem.push(y),a[p]=null,u[p]=null):y[d]!==b&&(y[d]=b,h.mod.push(y));return h.modifies(i)}}),Wt.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},qt(Wt,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE),u=e.as||["a","b"],l=u[0],d=u[1],h=!this.value||i.changed(i.ADD_REM)||e.modified("as")||e.modified("filter");let p=this.value;return h?(p&&(a.rem=p),p=i.materialize(i.SOURCE).source,a.add=this.value=function(e,i,a,u){for(var y,b,l=[],d={},h=e.length,p=0;p<h;++p)for(d[i]=b=e[p],y=0;y<h;++y)d[a]=e[y],u(d)&&(l.push(Xs(d)),(d={})[i]=b);return l}(p,l,d,e.filter||Aa)):a.mod=p,a.source=this.value,a.modifies(u)}});const LE={kde:DE,mixture:DT,normal:xD,lognormal:wD,uniform:SE},FF="function";function ET(e,i){const a=e[FF];bn(LE,a)||Pt("Unknown distribution function: "+a);const u=LE[a]();for(const l in e)"field"===l?u.data((e.from||i()).map(e[l])):"distributions"===l?u[l](e[l].map(d=>ET(d,i))):typeof u[l]===FF&&u[l](e[l]);return u}function sm(e){nn.call(this,null,e)}const MT=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function YJ(e,i){return e?e.map((a,u)=>i[u]||hi(a)):null}function ST(e,i,a){const u=[],l=M=>M(y);let d,h,p,y,b,C;if(null==i)u.push(e.map(a));else for(d={},h=0,p=e.length;h<p;++h)y=e[h],b=i.map(l),C=d[b],C||(d[b]=C=[],C.dims=b,u.push(C)),C.push(a(y));return u}function am(e){nn.call(this,null,e)}function FE(e){oa.call(this,null,RF,e),this.modified(!0)}function RF(e){const i=e.expr;return this.value&&!e.modified("expr")?this.value:Tr(a=>i(a,e),mr(i),hi(i))}function dV(e){nn.call(this,[void 0,void 0],e)}function BF(e,i){oa.call(this,e),this.parent=i,this.count=0}function PE(e){nn.call(this,{},e),this._keys=dr();const i=this._targets=[];i.active=0,i.forEach=a=>{for(let u=0,l=i.active;u<l;++u)a(i[u],u,i)}}function KJ(e){oa.call(this,null,XJ,e)}function XJ(e){return this.value&&!e.modified()?this.value:Sn(e.name)?Mr(e.name).map(i=>Ur(i)):Ur(e.name,e.as)}function fV(e){nn.call(this,dr(),e)}function TT(e){nn.call(this,[],e)}function kT(e){nn.call(this,[],e)}function $F(e){nn.call(this,null,e)}function IT(e){nn.call(this,[],e)}sm.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:MT.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:MT},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},qt(sm,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||e.modified()){const u=ET(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(i)),l=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;let h=e.method||"pdf";"pdf"!==h&&"cdf"!==h&&Pt("Invalid density method: "+h),!e.extent&&!u.data&&Pt("Missing density extent parameter."),h=u[h];const p=e.as||["value","density"],b=xe(h,e.extent||Dn(u.data()),l,d).map(C=>{const M={};return M[p[0]]=C[0],M[p[1]]=C[1],Xs(M)});this.value&&(a.rem=this.value),this.value=a.add=a.source=b}return a}}),am.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},qt(am,nn,{transform(e,i){if(this.value&&!e.modified()&&!i.changed())return i;const a=i.materialize(i.SOURCE).source,u=ST(i.source,e.groupby,vs),l=e.smooth||!1,d=e.field,h=e.step||((e,i)=>ma(Dn(e,i))/30)(a,d),p=Ef((Y,te)=>d(Y)-d(te)),y=e.as||"bin",b=u.length;let H,C=1/0,M=-1/0,O=0;for(;O<b;++O){const Y=u[O].sort(p);H=-1;for(const te of vE(Y,h,l,d))te<C&&(C=te),te>M&&(M=te),Y[++H][y]=te}return this.value={start:C,stop:M,step:h},i.reflow(!0).modifies(y)}}),qt(FE,oa),dV.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},qt(dV,nn,{transform(e,i){const a=this.value,u=e.field,l=i.changed()||i.modified(u.fields)||e.modified("field");let d=a[0],h=a[1];if((l||null==d)&&(d=1/0,h=-1/0),i.visit(l?i.SOURCE:i.ADD,p=>{const y=rs(u(p));null!=y&&(y<d&&(d=y),y>h&&(h=y))}),!Number.isFinite(d)||!Number.isFinite(h)){let p=hi(u);p&&(p=` for field "${p}"`),i.dataflow.warn(`Infinite extent${p}: [${d}, ${h}]`),d=h=void 0}this.value=[d,h]}}),qt(BF,oa,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),qt(PE,nn,{activate(e){this._targets[this._targets.active++]=e},subflow(e,i,a,u){const l=this.value;let h,p,d=bn(l,e)&&l[e];return d?d.value.stamp<a.stamp&&(d.init(a),this.activate(d)):(p=u||(p=this._group[e])&&p.tuple,h=a.dataflow,d=new BF(a.fork(a.NO_SOURCE),this),h.add(d).connect(i(h,e,p)),l[e]=d,this.activate(d)),d},clean(){const e=this.value;let i=0;for(const a in e)if(0===e[a].count){const u=e[a].detachSubflow;u&&u(),delete e[a],++i}if(i){const a=this._targets.filter(u=>u&&u.count>0);this.initTargets(a)}},initTargets(e){const i=this._targets,a=i.length,u=e?e.length:0;let l=0;for(;l<u;++l)i[l]=e[l];for(;l<a&&null!=i[l];++l)i[l]=null;i.active=u},transform(e,i){const a=i.dataflow,u=e.key,l=e.subflow,d=this._keys,h=e.modified("key"),p=y=>this.subflow(y,l,i);return this._group=e.group||{},this.initTargets(),i.visit(i.REM,y=>{const b=Zr(y),C=d.get(b);void 0!==C&&(d.delete(b),p(C).rem(y))}),i.visit(i.ADD,y=>{const b=u(y);d.set(Zr(y),b),p(b).add(y)}),h||i.modified(u.fields)?i.visit(i.MOD,y=>{const b=Zr(y),C=d.get(b),M=u(y);C===M?p(M).mod(y):(d.set(b,M),p(C).rem(y),p(M).add(y))}):i.changed(i.MOD)&&i.visit(i.MOD,y=>{p(d.get(Zr(y))).mod(y)}),h&&i.visit(i.REFLOW,y=>{const b=Zr(y),C=d.get(b),M=u(y);C!==M&&(d.set(b,M),p(C).rem(y),p(M).add(y))}),i.clean()?a.runAfter(()=>{this.clean(),d.clean()}):d.empty>a.cleanThreshold&&a.runAfter(d.clean),i}}),qt(KJ,oa),fV.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},qt(fV,nn,{transform(e,i){const a=i.dataflow,u=this.value,l=i.fork(),d=l.add,h=l.rem,p=l.mod,y=e.expr;let b=!0;function C(M){const O=Zr(M),H=y(M,e),Y=u.get(O);H&&Y?(u.delete(O),d.push(M)):H||Y?b&&H&&!Y&&p.push(M):(u.set(O,1),h.push(M))}return i.visit(i.REM,M=>{const O=Zr(M);u.has(O)?u.delete(O):h.push(M)}),i.visit(i.ADD,M=>{y(M,e)?d.push(M):u.set(Zr(M),1)}),i.visit(i.MOD,C),e.modified()&&(b=!1,i.visit(i.REFLOW,C)),u.empty>a.cleanThreshold&&a.runAfter(u.clean),l}}),TT.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},qt(TT,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE),u=e.fields,l=YJ(u,e.as||[]),d=e.index||null,h=l.length;return a.rem=this.value,i.visit(i.SOURCE,p=>{const y=u.map(Y=>Y(p)),b=y.reduce((Y,te)=>Math.max(Y,te.length),0);let M,O,H,C=0;for(;C<b;++C){for(O=eE(p),M=0;M<h;++M)O[l[M]]=null==(H=y[M][C])?null:H;d&&(O[d]=C),a.add.push(O)}}),this.value=a.source=a.add,d&&a.modifies(d),a.modifies(l)}}),kT.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},qt(kT,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE),u=e.fields,l=u.map(hi),d=e.as||["key","value"],h=d[0],p=d[1],y=u.length;return a.rem=this.value,i.visit(i.SOURCE,b=>{for(let M,C=0;C<y;++C)M=eE(b),M[h]=l[C],M[p]=u[C](b),a.add.push(M)}),this.value=a.source=a.add,a.modifies(d)}}),$F.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},qt($F,nn,{transform(e,i){const a=e.expr,u=e.as,l=e.modified(),d=e.initonly?i.ADD:l?i.SOURCE:i.modified(a.fields)||i.modified(u)?i.ADD_MOD:i.ADD;return l&&(i=i.materialize().reflow(!0)),e.initonly||i.modifies(u),i.visit(d,h=>h[u]=a(h,e))}}),qt(IT,nn,{transform(e,i){const a=i.fork(i.ALL),u=e.generator;let h,p,y,l=this.value,d=e.size-l.length;if(d>0){for(h=[];--d>=0;)h.push(y=Xs(u(e))),l.push(y);a.add=a.add.length?a.materialize(a.ADD).add.concat(h):h}else p=l.slice(0,-d),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(p):p,l=l.slice(-d);return a.source=this.value=l,a}});const VF={value:"value",median:IF,mean:function(e,i){let a=0,u=0;if(void 0===i)for(let l of e)null!=l&&(l=+l)>=l&&(++a,u+=l);else{let l=-1;for(let d of e)null!=(d=i(d,++l,e))&&(d=+d)>=d&&(++a,u+=d)}if(a)return u/a},min:pE,max:Z0},i_e=[];function hV(e){nn.call(this,[],e)}function pV(e){Ou.call(this,e)}function mV(e){nn.call(this,null,e)}function ZJ(e){oa.call(this,null,u_e,e)}function u_e(e){return this.value&&!e.modified()?this.value:lr(e.fields,e.flat)}function JJ(e){nn.call(this,[],e),this._pending=null}function RE(e,i,a){a.forEach(Xs);const u=i.fork(i.NO_FIELDS&i.NO_SOURCE);return u.rem=e.value,e.value=u.source=u.add=a,e._pending=null,u.rem.length&&u.clean(!0),u}function zF(e){nn.call(this,{},e)}function jF(e){oa.call(this,null,WF,e)}function WF(e){if(this.value&&!e.modified())return this.value;const i=e.extents,a=i.length;let d,h,u=1/0,l=-1/0;for(d=0;d<a;++d)h=i[d],h[0]<u&&(u=h[0]),h[1]>l&&(l=h[1]);return[u,l]}function HF(e){oa.call(this,null,UF,e)}function UF(e){return this.value&&!e.modified()?this.value:e.values.reduce((i,a)=>i.concat(a),[])}function gV(e){nn.call(this,null,e)}function Eg(e){Ou.call(this,e)}function NT(e){PE.call(this,e)}function YF(e){nn.call(this,null,e)}function vV(e){nn.call(this,null,e)}function GF(e){nn.call(this,null,e)}function vv(e){nn.call(this,null,e)}function $E(e){nn.call(this,[],e),this.count=0}function Iy(e){nn.call(this,null,e)}function CD(e){nn.call(this,null,e),this.modified(!0)}function Ny(e){nn.call(this,null,e)}hV.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},qt(hV,nn,{transform(e,i){var O,H,Y,te,se,ye,Ce,Ve,Ue,qe,a=i.fork(i.ALL),u=function(e){var a,i=e.method||VF.value;if(null!=VF[i])return i===VF.value?(a=void 0!==e.value?e.value:0,()=>a):VF[i];Pt("Unrecognized imputation method: "+i)}(e),l=function(e){const i=e.field;return a=>a?i(a):NaN}(e),d=hi(e.field),h=hi(e.key),p=(e.groupby||[]).map(hi),y=function(e,i,a,u){var b,C,M,O,H,Y,te,se,l=ye=>ye(se),d=[],h=u?u.slice():[],p={},y={};for(h.forEach((ye,Ce)=>p[ye]=Ce+1),O=0,te=e.length;O<te;++O)Y=a(se=e[O]),H=p[Y]||(p[Y]=h.push(Y)),(M=y[C=(b=i?i.map(l):i_e)+""])||(M=y[C]=[],d.push(M),M.values=b),M[H-1]=se;return d.domain=h,d}(i.source,e.groupby,e.key,e.keyvals),b=[],C=this.value,M=y.domain.length;for(se=0,Ve=y.length;se<Ve;++se)for(Y=(O=y[se]).values,H=NaN,Ce=0;Ce<M;++Ce)if(null==O[Ce]){for(te=y.domain[Ce],qe={_impute:!0},ye=0,Ue=Y.length;ye<Ue;++ye)qe[p[ye]]=Y[ye];qe[h]=te,qe[d]=Number.isNaN(H)?H=u(O,l):H,b.push(Xs(qe))}return b.length&&(a.add=a.materialize(a.ADD).add.concat(b)),C.length&&(a.rem=a.materialize(a.REM).rem.concat(C)),this.value=b,a}}),pV.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:$n},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},qt(pV,Ou,{transform(e,i){const a=this,u=e.modified();let l;return a.value&&(u||i.modified(a._inputs,!0))?(l=a.value=u?a.init(e):{},i.visit(i.SOURCE,d=>a.add(d))):(l=a.value=a.value||this.init(e),i.visit(i.REM,d=>a.rem(d)),i.visit(i.ADD,d=>a.add(d))),a.changes(),i.visit(i.SOURCE,d=>{Nt(d,l[a.cellkey(d)].tuple)}),i.reflow(u).modifies(this._outputs)},changes(){const e=this._adds,i=this._mods;let a,u;for(a=0,u=this._alen;a<u;++a)this.celltuple(e[a]),e[a]=null;for(a=0,u=this._mlen;a<u;++a)this.celltuple(i[a]),i[a]=null;this._alen=this._mlen=0}}),mV.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},qt(mV,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||e.modified()){const u=i.materialize(i.SOURCE).source,l=ST(u,e.groupby,e.field),d=(e.groupby||[]).map(hi),h=e.bandwidth,p=e.cumulative?"cdf":"pdf",y=e.as||["value","density"],b=[];let C=e.extent,M=e.steps||e.minsteps||25,O=e.steps||e.maxsteps||200;"pdf"!==p&&"cdf"!==p&&Pt("Invalid density method: "+p),"shared"===e.resolve&&(C||(C=Dn(u,e.field)),M=O=e.steps||O),l.forEach(H=>{const Y=DE(H,h)[p],te=e.counts?H.length:1;xe(Y,C||Dn(H),M,O).forEach(ye=>{const Ce={};for(let Ve=0;Ve<d.length;++Ve)Ce[d[Ve]]=H.dims[Ve];Ce[y[0]]=ye[0],Ce[y[1]]=ye[1]*te,b.push(Xs(Ce))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=b}return a}}),qt(ZJ,oa),qt(JJ,nn,{transform(e,i){const a=i.dataflow;return this._pending?RE(this,i,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?i.StopPropagation:e.values?RE(this,i,a.parse(e.values,e.format)):e.async?{async:a.request(e.url,e.format).then(l=>(this._pending=Mr(l.data),d=>d.touch(this)))}:a.request(e.url,e.format).then(u=>RE(this,i,Mr(u.data)))}}),zF.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},qt(zF,nn,{transform(e,i){const a=e.fields,u=e.index,l=e.values,d=null==e.default?null:e.default,h=e.modified(),p=a.length;let M,O,H,y=h?i.SOURCE:i.ADD,b=i,C=e.as;return l?(O=l.length,p>1&&!C&&Pt('Multi-field lookup requires explicit "as" parameter.'),C&&C.length!==p*O&&Pt('The "as" parameter has too few output field names.'),C=C||l.map(hi),M=function(Y){for(var ye,Ce,te=0,se=0;te<p;++te)if(null==(Ce=u.get(a[te](Y))))for(ye=0;ye<O;++ye,++se)Y[C[se]]=d;else for(ye=0;ye<O;++ye,++se)Y[C[se]]=l[ye](Ce)}):(C||Pt("Missing output field names."),M=function(Y){for(var se,te=0;te<p;++te)se=u.get(a[te](Y)),Y[C[te]]=null==se?d:se}),h?b=i.reflow(!0):(H=a.some(Y=>i.modified(Y.fields)),y|=H?i.MOD:0),i.visit(y,M),b.modifies(C)}}),qt(jF,oa),qt(HF,oa),qt(gV,nn,{transform(e,i){return this.modified(e.modified()),this.value=e,i.fork(i.NO_SOURCE|i.NO_FIELDS)}}),Eg.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:$n,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},qt(Eg,Ou,{_transform:Ou.prototype.transform,transform(e,i){return this._transform(function(e,i){const a=e.field,u=e.value,l=("count"===e.op?"__count__":e.op)||"sum",d=mr(a).concat(mr(u)),h=function(e,i,a){const u={},l=[];return a.visit(a.SOURCE,d=>{const h=e(d);u[h]||(u[h]=1,l.push(h))}),l.sort(Wi),i?l.slice(0,i):l}(a,e.limit||0,i);return i.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:h.map(()=>l),fields:h.map(p=>function(e,i,a,u){return Tr(l=>i(l)===e?a(l):NaN,u,e+"")}(p,a,u,d)),as:h.map(p=>p+""),modified:e.modified.bind(e)}}(e,i),i)}}),qt(NT,PE,{transform(e,i){const a=e.subflow,u=e.field,l=d=>this.subflow(Zr(d),a,i,d);return(e.modified("field")||u&&i.modified(mr(u)))&&Pt("PreFacet does not support field modification."),this.initTargets(),u?(i.visit(i.MOD,d=>{const h=l(d);u(d).forEach(p=>h.mod(p))}),i.visit(i.ADD,d=>{const h=l(d);u(d).forEach(p=>h.add(Xs(p)))}),i.visit(i.REM,d=>{const h=l(d);u(d).forEach(p=>h.rem(p))})):(i.visit(i.MOD,d=>l(d).mod(d)),i.visit(i.ADD,d=>l(d).add(d)),i.visit(i.REM,d=>l(d).rem(d))),i.clean()&&i.runAfter(()=>this.clean()),i}}),YF.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},qt(YF,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE),u=e.fields,l=YJ(e.fields,e.as||[]),d=u?(p,y)=>function(e,i,a,u){for(let l=0,d=a.length;l<d;++l)i[u[l]]=a[l](e);return i}(p,y,u,l):ov;let h;return this.value?h=this.value:(i=i.addAll(),h=this.value={}),i.visit(i.REM,p=>{const y=Zr(p);a.rem.push(h[y]),h[y]=null}),i.visit(i.ADD,p=>{const y=d(p,Xs({}));h[Zr(p)]=y,a.add.push(y)}),i.visit(i.MOD,p=>{a.mod.push(d(p,h[Zr(p)]))}),a}}),qt(vV,nn,{transform(e,i){return this.value=e.value,e.modified("value")?i.fork(i.NO_SOURCE|i.NO_FIELDS):i.StopPropagation}}),GF.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},qt(GF,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE|i.NO_FIELDS),u=e.as||["prob","value"];if(this.value&&!e.modified()&&!i.changed())return a.source=this.value,a;const d=ST(i.materialize(i.SOURCE).source,e.groupby,e.field),h=(e.groupby||[]).map(hi),p=[],y=e.step||.01,b=e.probs||lt(y/2,1-1e-14,y),C=b.length;return d.forEach(M=>{const O=gE(M,b);for(let H=0;H<C;++H){const Y={};for(let te=0;te<h.length;++te)Y[h[te]]=M.dims[te];Y[u[0]]=b[H],Y[u[1]]=O[H],p.push(Xs(Y))}}),this.value&&(a.rem=this.value),this.value=a.add=a.source=p,a}}),qt(vv,nn,{transform(e,i){let a,u;return this.value?u=this.value:(a=i=i.addAll(),u=this.value={}),e.derive&&(a=i.fork(i.NO_SOURCE),i.visit(i.REM,l=>{const d=Zr(l);a.rem.push(u[d]),u[d]=null}),i.visit(i.ADD,l=>{const d=eE(l);u[Zr(l)]=d,a.add.push(d)}),i.visit(i.MOD,l=>{const d=u[Zr(l)];for(const h in l)d[h]=l[h],a.modifies(h);a.mod.push(d)})),a}}),$E.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},qt($E,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE),u=e.modified("size"),l=e.size,d=this.value.reduce((C,M)=>(C[Zr(M)]=1,C),{});let h=this.value,p=this.count,y=0;function b(C){let M,O;h.length<l?h.push(C):(O=~~((p+1)*lu()),O<h.length&&O>=y&&(M=h[O],d[Zr(M)]&&a.rem.push(M),h[O]=C)),++p}if(i.rem.length&&(i.visit(i.REM,C=>{const M=Zr(C);d[M]&&(d[M]=-1,a.rem.push(C)),--p}),h=h.filter(C=>-1!==d[Zr(C)])),(i.rem.length||u)&&h.length<l&&i.source&&(y=p=h.length,i.visit(i.SOURCE,C=>{d[Zr(C)]||b(C)}),y=-1),u&&h.length>l){const C=h.length-l;for(let M=0;M<C;++M)d[Zr(h[M])]=-1,a.rem.push(h[M]);h=h.slice(C)}return i.mod.length&&i.visit(i.MOD,C=>{d[Zr(C)]&&a.mod.push(C)}),i.add.length&&i.visit(i.ADD,b),(i.add.length||y<0)&&(a.add=h.filter(C=>!d[Zr(C)])),this.count=p,this.value=a.source=h,a}}),Iy.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},qt(Iy,nn,{transform(e,i){if(this.value&&!e.modified())return;const a=i.materialize().fork(i.MOD),u=e.as||"data";return a.rem=this.value?i.rem.concat(this.value):i.rem,this.value=lt(e.start,e.stop,e.step||1).map(l=>{const d={};return d[u]=l,Xs(d)}),a.add=i.add.concat(this.value),a}}),qt(CD,nn,{transform(e,i){return this.value=i.source,i.changed()?i.fork(i.NO_SOURCE|i.NO_FIELDS):i.StopPropagation}});const bV=["unit0","unit1"];function KF(e){nn.call(this,dr(),e)}function XF(e){nn.call(this,null,e)}Ny.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:cg,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:bV}]},qt(Ny,nn,{transform(e,i){const a=e.field,u=!1!==e.interval,l="utc"===e.timezone,d=this._floor(e,i),h=(l?Df:Od)(d.unit).offset,p=e.as||bV,y=p[0],b=p[1],C=d.step;let M=d.start||1/0,O=d.stop||-1/0,H=i.ADD;return(e.modified()||i.modified(mr(a)))&&(H=(i=i.reflow(!0)).SOURCE,M=1/0,O=-1/0),i.visit(H,Y=>{const te=a(Y);let se,ye;null==te?(Y[y]=null,u&&(Y[b]=null)):(Y[y]=se=ye=d(te),u&&(Y[b]=ye=h(se,C)),se<M&&(M=se),ye>O&&(O=ye))}),d.start=M,d.stop=O,i.modifies(u?p:y)},_floor(e,i){const a="utc"===e.timezone,{units:u,step:l}=e.units?{units:e.units,step:e.step||1}:py({extent:e.extent||Dn(i.materialize(i.SOURCE).source,e.field),maxbins:e.maxbins}),d=k0(u),h=this.value||{},p=(a?ip:F0)(d,l);return p.unit=Kr(d),p.units=d,p.step=l,p.start=h.start,p.stop=h.stop,this.value=p}}),qt(KF,nn,{transform(e,i){const a=i.dataflow,u=e.field,l=this.value,d=p=>l.set(u(p),p);let h=!0;return e.modified("field")||i.modified(u.fields)?(l.clear(),i.visit(i.SOURCE,d)):i.changed()?(i.visit(i.REM,p=>l.delete(u(p))),i.visit(i.ADD,d)):h=!1,this.modified(h),l.empty>a.cleanThreshold&&a.runAfter(l.clean),i.fork()}}),qt(XF,nn,{transform(e,i){(!this.value||e.modified("field")||e.modified("sort")||i.changed()||e.sort&&i.modified(e.sort.fields))&&(this.value=(e.sort?i.source.slice().sort(Ef(e.sort)):i.source).map(e.field))}});const bv={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:i=>{const a=i.index,u=i.data;return a&&i.compare(u[a-1],u[a])?e=a+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:i=>{const a=i.index,u=i.data;return a&&i.compare(u[a-1],u[a])?++e:e}}},percent_rank:function(){const e=bv.rank(),i=e.next;return{init:e.init,next:a=>(i(a)-1)/(a.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:i=>{const a=i.data,u=i.compare;let l=i.index;if(e<l){for(;l+1<a.length&&!u(a[l],a[l+1]);)++l;e=l}return(1+e)/a.length}}},ntile:function(e,i){(i=+i)>0||Pt("ntile num must be greater than zero.");const a=bv.cume_dist(),u=a.next;return{init:a.init,next:l=>Math.ceil(i*u(l))}},lag:function(e,i){return i=+i||1,{next:a=>{const u=a.index-i;return u>=0?e(a.data[u]):null}}},lead:function(e,i){return i=+i||1,{next:a=>{const u=a.index+i,l=a.data;return u<l.length?e(l[u]):null}}},first_value:function(e){return{next:i=>e(i.data[i.i0])}},last_value:function(e){return{next:i=>e(i.data[i.i1-1])}},nth_value:function(e,i){return(i=+i)>0||Pt("nth_value nth must be greater than zero."),{next:a=>{const u=a.i0+(i-1);return u<a.i1?e(a.data[u]):null}}},prev_value:function(e){let i;return{init:()=>i=null,next:a=>{const u=e(a.data[a.index]);return null!=u?i=u:i}}},next_value:function(e){let i,a;return{init:()=>(i=null,a=-1),next:u=>{const l=u.data;return u.index<=a?i:(a=function(e,i,a){for(let u=i.length;a<u;++a)if(null!=e(i[a]))return a;return-1}(e,l,u.index))<0?(a=l.length,i=null):i=e(l[a])}}}},OT=Object.keys(bv);function DV(e){const i=Mr(e.ops),a=Mr(e.fields),u=Mr(e.params),l=Mr(e.as),d=this.outputs=[],h=this.windows=[],p={},y={},b=[],C=[];let M=!0;function O(H){Mr(mr(H)).forEach(Y=>p[Y]=1)}O(e.sort),i.forEach((H,Y)=>{const te=a[Y],se=hi(te),ye=Yt(H,se,l[Y]);if(O(te),d.push(ye),bn(bv,H))h.push(function(e,i,a,u){const l=bv[e](i,a);return{init:l.init||or,update:function(d,h){h[u]=l.next(d)}}}(H,a[Y],u[Y],ye));else{if(null==te&&"count"!==H&&Pt("Null aggregate field specified."),"count"===H)return void b.push(ye);M=!1;let Ce=y[se];Ce||(Ce=y[se]=[],Ce.field=te,C.push(Ce)),Ce.push(ls(H,ye))}}),(b.length||C.length)&&(this.cell=function(e,i,a){e=e.map(y=>Gi(y,y.field));const u={num:0,agg:null,store:!1,count:i};if(!a)for(var l=e.length,d=u.agg=Array(l),h=0;h<l;++h)d[h]=new e[h](u);if(u.store)var p=u.data=new la;return u.add=function(y){if(u.num+=1,!a){p&&p.add(y);for(let b=0;b<l;++b)d[b].add(d[b].get(y),y)}},u.rem=function(y){if(u.num-=1,!a){p&&p.rem(y);for(let b=0;b<l;++b)d[b].rem(d[b].get(y),y)}},u.set=function(y){let b,C;for(p&&p.values(),b=0,C=i.length;b<C;++b)y[i[b]]=u.num;if(!a)for(b=0,C=d.length;b<C;++b)d[b].set(y)},u.init=function(){u.num=0,p&&p.reset();for(let y=0;y<l;++y)d[y].init()},u}(C,b,M)),this.inputs=Object.keys(p)}const JF=DV.prototype;function LT(e){nn.call(this,{},e),this._mlen=0,this._mods=[]}function wV(e,i,a,u){const l=u.sort,d=l&&!u.ignorePeers,h=u.frame||[null,0],p=e.data(a),y=p.length,b=d?ju(l):null,C={i0:0,i1:0,p0:0,p1:0,index:0,data:p,compare:l||Xe(-1)};i.init();for(let M=0;M<y;++M)qJ(C,h,M,y),d&&CV(C,b),i.update(C,p[M])}function qJ(e,i,a,u){e.p0=e.i0,e.p1=e.i1,e.i0=null==i[0]?0:Math.max(0,a-Math.abs(i[0])),e.i1=null==i[1]?u:Math.min(u,a+Math.abs(i[1])+1),e.index=a}function CV(e,i){const a=e.i0,u=e.i1-1,l=e.compare,d=e.data,h=d.length-1;a>0&&!l(d[a],d[a-1])&&(e.i0=i.left(d,d[a])),u<h&&!l(d[u],d[u+1])&&(e.i1=i.right(d,d[u]))}function FT(e,i,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+i)/6,(e._y0+4*e._y1+a)/6)}function PT(e){this._context=e}function Oy(){}function EV(e){this._context=e}function eQ(e){this._context=e}function tQ(e,i){this._basis=new PT(e),this._beta=i}JF.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},JF.update=function(e,i){const a=this.cell,u=this.windows,l=e.data,d=u&&u.length;let h;if(a){for(h=e.p0;h<e.i0;++h)a.rem(l[h]);for(h=e.p1;h<e.i1;++h)a.add(l[h]);a.set(i)}for(h=0;h<d;++h)u[h].update(e,i)},LT.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:OT.concat($n)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},qt(LT,nn,{transform(e,i){this.stamp=i.stamp;const a=e.modified(),u=Ef(e.sort),l=vt(e.groupby),d=p=>this.group(l(p));let h=this.state;(!h||a)&&(h=this.state=new DV(e)),a||i.modified(h.inputs)?(this.value={},i.visit(i.SOURCE,p=>d(p).add(p))):(i.visit(i.REM,p=>d(p).remove(p)),i.visit(i.ADD,p=>d(p).add(p)));for(let p=0,y=this._mlen;p<y;++p)wV(this._mods[p],h,u,e);return this._mlen=0,this._mods=[],i.reflow(a).modifies(h.outputs)},group(e){let i=this.value[e];return i||(i=this.value[e]=e_(Zr),i.stamp=-1),i.stamp<this.stamp&&(i.stamp=this.stamp,this._mods[this._mlen++]=i),i}}),PT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:FT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:FT(this,e,i)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=i}},EV.prototype={areaStart:Oy,areaEnd:Oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1,this._x2=e,this._y2=i;break;case 1:this._point=2,this._x3=e,this._y3=i;break;case 2:this._point=3,this._x4=e,this._y4=i,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+i)/6);break;default:FT(this,e,i)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=i}},eQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,u=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(a,u):this._context.moveTo(a,u);break;case 3:this._point=4;default:FT(this,e,i)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=i}},tQ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,i=this._y,a=e.length-1;if(a>0)for(var y,u=e[0],l=i[0],d=e[a]-u,h=i[a]-l,p=-1;++p<=a;)this._basis.point(this._beta*e[p]+(1-this._beta)*(u+(y=p/a)*d),this._beta*i[p]+(1-this._beta)*(l+y*h));this._x=this._y=null,this._basis.lineEnd()},point:function(e,i){this._x.push(+e),this._y.push(+i)}};const nQ=function e(i){function a(u){return 1===i?new PT(u):new tQ(u,i)}return a.beta=function(u){return e(+u)},a}(.85);function ED(e,i,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-i),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function RT(e,i){this._context=e,this._k=(1-i)/6}RT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ED(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 1:this._point=2,this._x1=e,this._y1=i;break;case 2:this._point=3;default:ED(this,e,i)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const rQ=function e(i){function a(u){return new RT(u,i)}return a.tension=function(u){return e(+u)},a}(0);function QF(e,i){this._context=e,this._k=(1-i)/6}QF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ED(this,e,i)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const iQ=function e(i){function a(u){return new QF(u,i)}return a.tension=function(u){return e(+u)},a}(0);function BT(e,i){this._context=e,this._k=(1-i)/6}BT.prototype={areaStart:Oy,areaEnd:Oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1,this._x3=e,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=i);break;case 2:this._point=3,this._x5=e,this._y5=i;break;default:ED(this,e,i)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const sQ=function e(i){function a(u){return new BT(u,i)}return a.tension=function(u){return e(+u)},a}(0);var qF=Math.abs,ld=Math.atan2,xv=Math.cos,SV=Math.max,$T=Math.min,Mg=Math.sin,Vd=Math.sqrt,Kl=1e-12,Ly=Math.PI,VT=Ly/2,zT=2*Ly;function AV(e){return e>1?0:e<-1?Ly:Math.acos(e)}function TV(e){return e>=1?VT:e<=-1?-VT:Math.asin(e)}function eP(e,i,a){var u=e._x1,l=e._y1,d=e._x2,h=e._y2;if(e._l01_a>Kl){var p=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,y=3*e._l01_a*(e._l01_a+e._l12_a);u=(u*p-e._x0*e._l12_2a+e._x2*e._l01_2a)/y,l=(l*p-e._y0*e._l12_2a+e._y2*e._l01_2a)/y}if(e._l23_a>Kl){var b=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,C=3*e._l23_a*(e._l23_a+e._l12_a);d=(d*b+e._x1*e._l23_2a-i*e._l12_2a)/C,h=(h*b+e._y1*e._l23_2a-a*e._l12_2a)/C}e._context.bezierCurveTo(u,l,d,h,e._x2,e._y2)}function kV(e,i){this._context=e,this._alpha=i}kV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){if(e=+e,i=+i,this._point){var a=this._x2-e,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 1:this._point=2;break;case 2:this._point=3;default:eP(this,e,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const tP=function e(i){function a(u){return i?new kV(u,i):new RT(u,0)}return a.alpha=function(u){return e(+u)},a}(.5);function IV(e,i){this._context=e,this._alpha=i}IV.prototype={areaStart:Oy,areaEnd:Oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,i){if(e=+e,i=+i,this._point){var a=this._x2-e,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=i);break;case 2:this._point=3,this._x5=e,this._y5=i;break;default:eP(this,e,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const aQ=function e(i){function a(u){return i?new IV(u,i):new BT(u,0)}return a.alpha=function(u){return e(+u)},a}(.5);function VE(e,i){this._context=e,this._alpha=i}VE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){if(e=+e,i=+i,this._point){var a=this._x2-e,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eP(this,e,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const nP=function e(i){function a(u){return i?new VE(u,i):new QF(u,0)}return a.alpha=function(u){return e(+u)},a}(.5);function NV(e){this._context=e}function zE(e){return new NV(e)}function jT(e){this._context=e}function LV(e){return e<0?-1:1}function FV(e,i,a){var u=e._x1-e._x0,l=i-e._x1,d=(e._y1-e._y0)/(u||l<0&&-0),h=(a-e._y1)/(l||u<0&&-0),p=(d*l+h*u)/(u+l);return(LV(d)+LV(h))*Math.min(Math.abs(d),Math.abs(h),.5*Math.abs(p))||0}function WT(e,i){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-i)/2:i}function PV(e,i,a){var u=e._x0,d=e._x1,h=e._y1,p=(d-u)/3;e._context.bezierCurveTo(u+p,e._y0+p*i,d-p,h-p*a,d,h)}function HT(e){this._context=e}function rP(e){this._context=new iP(e)}function iP(e){this._context=e}function sP(e){this._context=e}function Sg(e){var i,u,a=e.length-1,l=new Array(a),d=new Array(a),h=new Array(a);for(l[0]=0,d[0]=2,h[0]=e[0]+2*e[1],i=1;i<a-1;++i)l[i]=1,d[i]=4,h[i]=4*e[i]+2*e[i+1];for(l[a-1]=2,d[a-1]=7,h[a-1]=8*e[a-1]+e[a],i=1;i<a;++i)d[i]-=u=l[i]/d[i-1],h[i]-=u*h[i-1];for(l[a-1]=h[a-1]/d[a-1],i=a-2;i>=0;--i)l[i]=(h[i]-l[i+1])/d[i];for(d[a-1]=(e[a]+l[a-1])/2,i=0;i<a-1;++i)d[i]=2*e[i+1]-l[i+1];return[l,d]}function YT(e,i){this._context=e,this._t=i}NV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 1:this._point=2;default:this._context.lineTo(e,i)}}},jT.prototype={areaStart:Oy,areaEnd:Oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,i){e=+e,i=+i,this._point?this._context.lineTo(e,i):(this._point=1,this._context.moveTo(e,i))}},HT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PV(this,this._t0,WT(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,i){var a=NaN;if(i=+i,(e=+e)!==this._x1||i!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 1:this._point=2;break;case 2:this._point=3,PV(this,WT(this,a=FV(this,e,i)),a);break;default:PV(this,this._t0,a=FV(this,e,i))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=i,this._t0=a}}},(rP.prototype=Object.create(HT.prototype)).point=function(e,i){HT.prototype.point.call(this,i,e)},iP.prototype={moveTo:function(e,i){this._context.moveTo(i,e)},closePath:function(){this._context.closePath()},lineTo:function(e,i){this._context.lineTo(i,e)},bezierCurveTo:function(e,i,a,u,l,d){this._context.bezierCurveTo(i,e,u,a,d,l)}},sP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,i=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],i[0]):this._context.moveTo(e[0],i[0]),2===a)this._context.lineTo(e[1],i[1]);else for(var u=Sg(e),l=Sg(i),d=0,h=1;h<a;++d,++h)this._context.bezierCurveTo(u[0][d],l[0][d],u[1][d],l[1][d],e[h],i[h]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,i){this._x.push(+e),this._y.push(+i)}},YT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,i){switch(e=+e,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(e,i);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,i)}}this._x=e,this._y=i}};const GT=Math.PI,Dv=2*GT,om=1e-6,uQ=Dv-om;function jE(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function aP(){return new jE}jE.prototype=aP.prototype={constructor:jE,moveTo:function(e,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,i){this._+="L"+(this._x1=+e)+","+(this._y1=+i)},quadraticCurveTo:function(e,i,a,u){this._+="Q"+ +e+","+ +i+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(e,i,a,u,l,d){this._+="C"+ +e+","+ +i+","+ +a+","+ +u+","+(this._x1=+l)+","+(this._y1=+d)},arcTo:function(e,i,a,u,l){var d=this._x1,h=this._y1,p=(a=+a)-(e=+e),y=(u=+u)-(i=+i),b=d-e,C=h-i,M=b*b+C*C;if((l=+l)<0)throw new Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=i);else if(M>om)if(Math.abs(C*p-y*b)>om&&l){var O=a-d,H=u-h,Y=p*p+y*y,te=O*O+H*H,se=Math.sqrt(Y),ye=Math.sqrt(M),Ce=l*Math.tan((GT-Math.acos((Y+M-te)/(2*se*ye)))/2),Ve=Ce/ye,Ue=Ce/se;Math.abs(Ve-1)>om&&(this._+="L"+(e+Ve*b)+","+(i+Ve*C)),this._+="A"+l+","+l+",0,0,"+ +(C*O>b*H)+","+(this._x1=e+Ue*p)+","+(this._y1=i+Ue*y)}else this._+="L"+(this._x1=e)+","+(this._y1=i)},arc:function(e,i,a,u,l,d){e=+e,i=+i,d=!!d;var h=(a=+a)*Math.cos(u),p=a*Math.sin(u),y=e+h,b=i+p,C=1^d,M=d?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+y+","+b:(Math.abs(this._x1-y)>om||Math.abs(this._y1-b)>om)&&(this._+="L"+y+","+b),a&&(M<0&&(M=M%Dv+Dv),M>uQ?this._+="A"+a+","+a+",0,1,"+C+","+(e-h)+","+(i-p)+"A"+a+","+a+",0,1,"+C+","+(this._x1=y)+","+(this._y1=b):M>om&&(this._+="A"+a+","+a+",0,"+ +(M>=GT)+","+C+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=i+a*Math.sin(l))))},rect:function(e,i,a,u){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+i)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}};const MD=aP;function _a(e){return function(){return e}}function lQ(e){return e.innerRadius}function oP(e){return e.outerRadius}function cQ(e){return e.startAngle}function dQ(e){return e.endAngle}function $V(e){return e&&e.padAngle}function SD(e,i,a,u,l,d,h,p){var y=a-e,b=u-i,C=h-l,M=p-d,O=M*y-C*b;if(!(O*O<Kl))return[e+(O=(C*(i-d)-M*(e-l))/O)*y,i+O*b]}function WE(e,i,a,u,l,d,h){var p=e-a,y=i-u,b=(h?d:-d)/Vd(p*p+y*y),C=b*y,M=-b*p,O=e+C,H=i+M,Y=a+C,te=u+M,se=(O+Y)/2,ye=(H+te)/2,Ce=Y-O,Ve=te-H,Ue=Ce*Ce+Ve*Ve,qe=l-d,tt=O*te-Y*H,Ge=(Ve<0?-1:1)*Vd(SV(0,qe*qe*Ue-tt*tt)),mt=(tt*Ve-Ce*Ge)/Ue,Ot=(-tt*Ce-Ve*Ge)/Ue,Tt=(tt*Ve+Ce*Ge)/Ue,St=(-tt*Ce+Ve*Ge)/Ue,Gt=mt-se,jt=Ot-ye,En=Tt-se,Rt=St-ye;return Gt*Gt+jt*jt>En*En+Rt*Rt&&(mt=Tt,Ot=St),{cx:mt,cy:Ot,x01:-C,y01:-M,x11:mt*(l/qe-1),y11:Ot*(l/qe-1)}}function wv(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function VV(e){return e[0]}function zV(e){return e[1]}function jV(e,i){var a=_a(!0),u=null,l=zE,d=null;function h(p){var y,C,O,b=(p=wv(p)).length,M=!1;for(null==u&&(d=l(O=MD())),y=0;y<=b;++y)!(y<b&&a(C=p[y],y,p))===M&&((M=!M)?d.lineStart():d.lineEnd()),M&&d.point(+e(C,y,p),+i(C,y,p));if(O)return d=null,O+""||null}return e="function"==typeof e?e:void 0===e?VV:_a(e),i="function"==typeof i?i:void 0===i?zV:_a(i),h.x=function(p){return arguments.length?(e="function"==typeof p?p:_a(+p),h):e},h.y=function(p){return arguments.length?(i="function"==typeof p?p:_a(+p),h):i},h.defined=function(p){return arguments.length?(a="function"==typeof p?p:_a(!!p),h):a},h.curve=function(p){return arguments.length?(l=p,null!=u&&(d=l(u)),h):l},h.context=function(p){return arguments.length?(null==p?u=d=null:d=l(u=p),h):u},h}function WV(e,i,a){var u=null,l=_a(!0),d=null,h=zE,p=null;function y(C){var M,O,H,te,ye,Y=(C=wv(C)).length,se=!1,Ce=new Array(Y),Ve=new Array(Y);for(null==d&&(p=h(ye=MD())),M=0;M<=Y;++M){if(!(M<Y&&l(te=C[M],M,C))===se)if(se=!se)O=M,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),H=M-1;H>=O;--H)p.point(Ce[H],Ve[H]);p.lineEnd(),p.areaEnd()}se&&(Ce[M]=+e(te,M,C),Ve[M]=+i(te,M,C),p.point(u?+u(te,M,C):Ce[M],a?+a(te,M,C):Ve[M]))}if(ye)return p=null,ye+""||null}function b(){return jV().defined(l).curve(h).context(d)}return e="function"==typeof e?e:void 0===e?VV:_a(+e),i="function"==typeof i?i:_a(void 0===i?0:+i),a="function"==typeof a?a:void 0===a?zV:_a(+a),y.x=function(C){return arguments.length?(e="function"==typeof C?C:_a(+C),u=null,y):e},y.x0=function(C){return arguments.length?(e="function"==typeof C?C:_a(+C),y):e},y.x1=function(C){return arguments.length?(u=null==C?null:"function"==typeof C?C:_a(+C),y):u},y.y=function(C){return arguments.length?(i="function"==typeof C?C:_a(+C),a=null,y):i},y.y0=function(C){return arguments.length?(i="function"==typeof C?C:_a(+C),y):i},y.y1=function(C){return arguments.length?(a=null==C?null:"function"==typeof C?C:_a(+C),y):a},y.lineX0=y.lineY0=function(){return b().x(e).y(i)},y.lineY1=function(){return b().x(e).y(a)},y.lineX1=function(){return b().x(u).y(i)},y.defined=function(C){return arguments.length?(l="function"==typeof C?C:_a(!!C),y):l},y.curve=function(C){return arguments.length?(h=C,null!=d&&(p=h(d)),y):h},y.context=function(C){return arguments.length?(null==C?d=p=null:p=h(d=C),y):d},y}const hQ={draw:function(e,i){var a=Math.sqrt(i/Ly);e.moveTo(a,0),e.arc(0,0,a,0,zT)}};Math.sqrt(1/3);Math.sin(Ly/10),Math.sin(7*Ly/10);function Cv(e,i){if("undefined"!=typeof document&&document.createElement){const a=document.createElement("canvas");if(a&&a.getContext)return a.width=e,a.height=i,a}return null}Math.sin(zT/10),Math.cos(zT/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);const pP=ju(vf),HE=pP.right,_Q=pP.left,UE=(ju(pv),HE);function Tg(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e)}return this}function n_(e,i){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof i?this.interpolator(i):this.range(i)}return this}const YV=Symbol("implicit");function ZT(){var e=new Map,i=[],a=[],u=YV;function l(d){var h=d+"",p=e.get(h);if(!p){if(u!==YV)return u;e.set(h,p=i.push(d))}return a[(p-1)%a.length]}return l.domain=function(d){if(!arguments.length)return i.slice();i=[],e=new Map;for(const h of d){const p=h+"";e.has(p)||e.set(p,i.push(h))}return l},l.range=function(d){return arguments.length?(a=Array.from(d),l):a.slice()},l.unknown=function(d){return arguments.length?(u=d,l):u},l.copy=function(){return ZT(i,a).unknown(u)},Tg.apply(l,arguments),l}var Ev=v(2905);function GV(e,i,a,u){var d,l=Ha(e,i,a);switch((u=(0,Ev.formatSpecifier)(null==u?",f":u)).type){case"s":var h=Math.max(Math.abs(e),Math.abs(i));return null==u.precision&&!isNaN(d=(0,Ev.precisionPrefix)(l,h))&&(u.precision=d),(0,Ev.formatPrefix)(u,h);case"":case"e":case"g":case"p":case"r":null==u.precision&&!isNaN(d=(0,Ev.precisionRound)(l,Math.max(Math.abs(e),Math.abs(i))))&&(u.precision=d-("e"===u.type));break;case"f":case"%":null==u.precision&&!isNaN(d=(0,Ev.precisionFixed)(l))&&(u.precision=d-2*("%"===u.type))}return(0,Ev.format)(u)}function YE(e,i,a){e.prototype=i.prototype=a,a.constructor=e}function JT(e,i){var a=Object.create(e.prototype);for(var u in i)a[u]=i[u];return a}function kg(){}var Sv=1/.7,Av="\\s*([+-]?\\d+)\\s*",QT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y_e=/^#([0-9a-f]{3,8})$/,v_e=new RegExp("^rgb\\("+[Av,Av,Av]+"\\)$"),b_e=new RegExp("^rgb\\("+[rl,rl,rl]+"\\)$"),KV=new RegExp("^rgba\\("+[Av,Av,Av,QT]+"\\)$"),XV=new RegExp("^rgba\\("+[rl,rl,rl,QT]+"\\)$"),ZV=new RegExp("^hsl\\("+[QT,rl,rl]+"\\)$"),yQ=new RegExp("^hsla\\("+[QT,rl,rl,QT]+"\\)$"),vQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mP(){return this.rgb().formatHex()}function JV(){return this.rgb().formatRgb()}function Tv(e){var i,a;return e=(e+"").trim().toLowerCase(),(i=y_e.exec(e))?(a=i[1].length,i=parseInt(i[1],16),6===a?QV(i):3===a?new wc(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===a?qT(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===a?qT(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=v_e.exec(e))?new wc(i[1],i[2],i[3],1):(i=b_e.exec(e))?new wc(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=KV.exec(e))?qT(i[1],i[2],i[3],i[4]):(i=XV.exec(e))?qT(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=ZV.exec(e))?_P(i[1],i[2]/100,i[3]/100,1):(i=yQ.exec(e))?_P(i[1],i[2]/100,i[3]/100,i[4]):vQ.hasOwnProperty(e)?QV(vQ[e]):"transparent"===e?new wc(NaN,NaN,NaN,0):null}function QV(e){return new wc(e>>16&255,e>>8&255,255&e,1)}function qT(e,i,a,u){return u<=0&&(e=i=a=NaN),new wc(e,i,a,u)}function gP(e){return e instanceof kg||(e=Tv(e)),e?new wc((e=e.rgb()).r,e.g,e.b,e.opacity):new wc}function Py(e,i,a,u){return 1===arguments.length?gP(e):new wc(e,i,a,null==u?1:u)}function wc(e,i,a,u){this.r=+e,this.g=+i,this.b=+a,this.opacity=+u}function qV(){return"#"+Ry(this.r)+Ry(this.g)+Ry(this.b)}function GE(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Ry(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function _P(e,i,a,u){return u<=0?e=i=a=NaN:a<=0||a>=1?e=i=NaN:i<=0&&(e=NaN),new Ig(e,i,a,u)}function fp(e){if(e instanceof Ig)return new Ig(e.h,e.s,e.l,e.opacity);if(e instanceof kg||(e=Tv(e)),!e)return new Ig;if(e instanceof Ig)return e;var i=(e=e.rgb()).r/255,a=e.g/255,u=e.b/255,l=Math.min(i,a,u),d=Math.max(i,a,u),h=NaN,p=d-l,y=(d+l)/2;return p?(h=i===d?(a-u)/p+6*(a<u):a===d?(u-i)/p+2:(i-a)/p+4,p/=y<.5?d+l:2-d-l,h*=60):p=y>0&&y<1?0:h,new Ig(h,p,y,e.opacity)}function By(e,i,a,u){return 1===arguments.length?fp(e):new Ig(e,i,a,null==u?1:u)}function Ig(e,i,a,u){this.h=+e,this.s=+i,this.l=+a,this.opacity=+u}function yP(e,i,a){return 255*(e<60?i+(a-i)*e/60:e<180?a:e<240?i+(a-i)*(240-e)/60:i)}function ek(e,i,a,u,l){var d=e*e,h=d*e;return((1-3*e+3*d-h)*i+(4-6*d+3*h)*a+(1+3*e+3*d-3*h)*u+h*l)/6}function um(e){var i=e.length-1;return function(a){var u=a<=0?a=0:a>=1?(a=1,i-1):Math.floor(a*i),l=e[u],d=e[u+1];return ek((a-u/i)*i,u>0?e[u-1]:2*l-d,l,d,u<i-1?e[u+2]:2*d-l)}}function AD(e){var i=e.length;return function(a){var u=Math.floor(((a%=1)<0?++a:a)*i);return ek((a-u/i)*i,e[(u+i-1)%i],e[u%i],e[(u+1)%i],e[(u+2)%i])}}YE(kg,Tv,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:mP,formatHex:mP,formatHsl:function(){return fp(this).formatHsl()},formatRgb:JV,toString:JV}),YE(wc,Py,JT(kg,{brighter:function(e){return e=null==e?Sv:Math.pow(Sv,e),new wc(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new wc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qV,formatHex:qV,formatRgb:GE,toString:GE})),YE(Ig,By,JT(kg,{brighter:function(e){return e=null==e?Sv:Math.pow(Sv,e),new Ig(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ig(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),i=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,u=a+(a<.5?a:1-a)*i,l=2*a-u;return new wc(yP(e>=240?e-240:e+120,l,u),yP(e,l,u),yP(e<120?e+240:e-120,l,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const wl=e=>()=>e;function $y(e,i){return function(a){return e+a*i}}function zd(e,i){var a=i-e;return a?$y(e,a>180||a<-180?a-360*Math.round(a/360):a):wl(isNaN(e)?i:e)}function cu(e,i){var a=i-e;return a?$y(e,a):wl(isNaN(e)?i:e)}const Vy=function e(i){var a=function(e){return 1==(e=+e)?cu:function(i,a){return a-i?function(e,i,a){return e=Math.pow(e,a),i=Math.pow(i,a)-e,a=1/a,function(u){return Math.pow(e+u*i,a)}}(i,a,e):wl(isNaN(i)?a:i)}}(i);function u(l,d){var h=a((l=Py(l)).r,(d=Py(d)).r),p=a(l.g,d.g),y=a(l.b,d.b),b=cu(l.opacity,d.opacity);return function(C){return l.r=h(C),l.g=p(C),l.b=y(C),l.opacity=b(C),l+""}}return u.gamma=e,u}(1);function kv(e){return function(i){var h,p,a=i.length,u=new Array(a),l=new Array(a),d=new Array(a);for(h=0;h<a;++h)p=Py(i[h]),u[h]=p.r||0,l[h]=p.g||0,d[h]=p.b||0;return u=e(u),l=e(l),d=e(d),p.opacity=1,function(y){return p.r=u(y),p.g=l(y),p.b=d(y),p+""}}}var TD=kv(um),kD=kv(AD);function zy(e,i){i||(i=[]);var l,a=e?Math.min(i.length,e.length):0,u=i.slice();return function(d){for(l=0;l<a;++l)u[l]=e[l]*(1-d)+i[l]*d;return u}}function Iv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ID(e,i){return(Iv(i)?zy:Nv)(e,i)}function Nv(e,i){var h,a=i?i.length:0,u=e?Math.min(a,e.length):0,l=new Array(u),d=new Array(a);for(h=0;h<u;++h)l[h]=r_(e[h],i[h]);for(;h<a;++h)d[h]=i[h];return function(p){for(h=0;h<u;++h)d[h]=l[h](p);return d}}function vP(e,i){var a=new Date;return e=+e,i=+i,function(u){return a.setTime(e*(1-u)+i*u),a}}function hp(e,i){return e=+e,i=+i,function(a){return e*(1-a)+i*a}}function bP(e,i){var l,a={},u={};for(l in(null===e||"object"!=typeof e)&&(e={}),(null===i||"object"!=typeof i)&&(i={}),i)l in e?a[l]=r_(e[l],i[l]):u[l]=i[l];return function(d){for(l in a)u[l]=a[l](d);return u}}var nk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rk=new RegExp(nk.source,"g");function xP(e,i){var u,l,d,a=nk.lastIndex=rk.lastIndex=0,h=-1,p=[],y=[];for(e+="",i+="";(u=nk.exec(e))&&(l=rk.exec(i));)(d=l.index)>a&&(d=i.slice(a,d),p[h]?p[h]+=d:p[++h]=d),(u=u[0])===(l=l[0])?p[h]?p[h]+=l:p[++h]=l:(p[++h]=null,y.push({i:h,x:hp(u,l)})),a=rk.lastIndex;return a<i.length&&(d=i.slice(a),p[h]?p[h]+=d:p[++h]=d),p.length<2?y[0]?function(e){return function(i){return e(i)+""}}(y[0].x):function(e){return function(){return e}}(i):(i=y.length,function(b){for(var M,C=0;C<i;++C)p[(M=y[C]).i]=M.x(b);return p.join("")})}function r_(e,i){var u,a=typeof i;return null==i||"boolean"===a?wl(i):("number"===a?hp:"string"===a?(u=Tv(i))?(i=u,Vy):xP:i instanceof Tv?Vy:i instanceof Date?vP:Iv(i)?zy:Array.isArray(i)?Nv:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?bP:hp)(e,i)}function KE(e,i){return e=+e,i=+i,function(a){return Math.round(e*(1-a)+i*a)}}function DP(e){return+e}var Cc=[0,1];function jd(e){return e}function wP(e,i){return(i-=e=+e)?function(a){return(a-e)/i}:function(e){return function(){return e}}(isNaN(i)?NaN:.5)}function bQ(e,i,a){var u=e[0],l=e[1],d=i[0],h=i[1];return l<u?(u=wP(l,u),d=a(h,d)):(u=wP(u,l),d=a(d,h)),function(p){return d(u(p))}}function nz(e,i,a){var u=Math.min(e.length,i.length)-1,l=new Array(u),d=new Array(u),h=-1;for(e[u]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++h<u;)l[h]=wP(e[h],e[h+1]),d[h]=a(i[h],i[h+1]);return function(p){var y=UE(e,p,1,u)-1;return d[y](l[y](p))}}function XE(e,i){return i.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ZE(){var u,l,d,p,y,b,e=Cc,i=Cc,a=r_,h=jd;function C(){var O=Math.min(e.length,i.length);return h!==jd&&(h=function(e,i){var a;return e>i&&(a=e,e=i,i=a),function(u){return Math.max(e,Math.min(i,u))}}(e[0],e[O-1])),p=O>2?nz:bQ,y=b=null,M}function M(O){return null==O||isNaN(O=+O)?d:(y||(y=p(e.map(u),i,a)))(u(h(O)))}return M.invert=function(O){return h(l((b||(b=p(i,e.map(u),hp)))(O)))},M.domain=function(O){return arguments.length?(e=Array.from(O,DP),C()):e.slice()},M.range=function(O){return arguments.length?(i=Array.from(O),C()):i.slice()},M.rangeRound=function(O){return i=Array.from(O),a=KE,C()},M.clamp=function(O){return arguments.length?(h=!!O||jd,C()):h!==jd},M.interpolate=function(O){return arguments.length?(a=O,C()):a},M.unknown=function(O){return arguments.length?(d=O,M):d},function(O,H){return u=O,l=H,C()}}function rz(){return ZE()(jd,jd)}function Ov(e){var i=e.domain;return e.ticks=function(a){var u=i();return po(u[0],u[u.length-1],null==a?10:a)},e.tickFormat=function(a,u){var l=i();return GV(l[0],l[l.length-1],null==a?10:a,u)},e.nice=function(a){null==a&&(a=10);var y,b,u=i(),l=0,d=u.length-1,h=u[l],p=u[d],C=10;for(p<h&&(b=h,h=p,p=b,b=l,l=d,d=b);C-- >0;){if((b=Wa(h,p,a))===y)return u[l]=h,u[d]=p,i(u);if(b>0)h=Math.floor(h/b)*b,p=Math.ceil(p/b)*b;else{if(!(b<0))break;h=Math.ceil(h*b)/b,p=Math.floor(p*b)/b}y=b}return e},e}function CP(e,i){var h,a=0,u=(e=e.slice()).length-1,l=e[a],d=e[u];return d<l&&(h=a,a=u,u=h,h=l,l=d,d=h),e[a]=i.floor(l),e[u]=i.ceil(d),e}function DQ(e){return Math.log(e)}function wQ(e){return Math.exp(e)}function D_e(e){return-Math.log(-e)}function CQ(e){return-Math.exp(-e)}function w_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ik(e){return function(i){return-e(-i)}}function JE(e){var l,d,i=e(DQ,wQ),a=i.domain,u=10;function h(){return l=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(i){return Math.log(i)/e})}(u),d=function(e){return 10===e?w_e:e===Math.E?Math.exp:function(i){return Math.pow(e,i)}}(u),a()[0]<0?(l=ik(l),d=ik(d),e(D_e,CQ)):e(DQ,wQ),i}return i.base=function(p){return arguments.length?(u=+p,h()):u},i.domain=function(p){return arguments.length?(a(p),h()):a()},i.ticks=function(p){var M,y=a(),b=y[0],C=y[y.length-1];(M=C<b)&&(O=b,b=C,C=O);var Y,te,se,O=l(b),H=l(C),ye=null==p?10:+p,Ce=[];if(!(u%1)&&H-O<ye){if(O=Math.floor(O),H=Math.ceil(H),b>0){for(;O<=H;++O)for(te=1,Y=d(O);te<u;++te)if(!((se=Y*te)<b)){if(se>C)break;Ce.push(se)}}else for(;O<=H;++O)for(te=u-1,Y=d(O);te>=1;--te)if(!((se=Y*te)<b)){if(se>C)break;Ce.push(se)}2*Ce.length<ye&&(Ce=po(b,C,ye))}else Ce=po(O,H,Math.min(H-O,ye)).map(d);return M?Ce.reverse():Ce},i.tickFormat=function(p,y){if(null==y&&(y=10===u?".0e":","),"function"!=typeof y&&(y=(0,Ev.format)(y)),p===1/0)return y;null==p&&(p=10);var b=Math.max(1,u*p/i.ticks().length);return function(C){var M=C/d(Math.round(l(C)));return M*u<u-.5&&(M*=u),M<=b?y(C):""}},i.nice=function(){return a(CP(a(),{floor:function(p){return d(Math.floor(l(p)))},ceil:function(p){return d(Math.ceil(l(p)))}}))},i}function SQ(e){return function(i){return i<0?-Math.pow(-i,e):Math.pow(i,e)}}function C_e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function E_e(e){return e<0?-e*e:e*e}function EP(e){var i=e(jd,jd),a=1;function u(){return 1===a?e(jd,jd):.5===a?e(C_e,E_e):e(SQ(a),SQ(1/a))}return i.exponent=function(l){return arguments.length?(a=+l,u()):a},Ov(i)}function sk(){var e=EP(ZE());return e.copy=function(){return XE(e,sk()).exponent(e.exponent())},Tg.apply(e,arguments),e}function az(e){return function(i){return Math.sign(i)*Math.log1p(Math.abs(i/e))}}function Lv(e){return function(i){return Math.sign(i)*Math.expm1(Math.abs(i))*e}}function MP(e){var i=1,a=e(az(i),Lv(i));return a.constant=function(u){return arguments.length?e(az(i=+u),Lv(i)):i},Ov(a)}function oz(e,i,a,u,l,d){const h=[[gc,1,is],[gc,5,5e3],[gc,15,15e3],[gc,30,3e4],[d,1,Qr],[d,5,5*Qr],[d,15,15*Qr],[d,30,30*Qr],[l,1,Pi],[l,3,3*Pi],[l,6,6*Pi],[l,12,12*Pi],[u,1,Oa],[u,2,2*Oa],[a,1,pf],[i,1,Jh],[i,3,3*Jh],[e,1,zi]];function y(b,C,M){const O=Math.abs(C-b)/M,H=ju(([,,se])=>se).right(h,O);if(H===h.length)return e.every(Ha(b/zi,C/zi,M));if(0===H)return nd.every(Math.max(Ha(b,C,M),1));const[Y,te]=h[O/h[H-1][2]<h[H][2]/O?H-1:H];return Y.every(te)}return[function(b,C,M){const O=C<b;O&&([b,C]=[C,b]);const H=M&&"function"==typeof M.range?M:y(b,C,M),Y=H?H.range(b,+C+1):[];return O?Y.reverse():Y},y]}const[uz,ak]=oz(rd,Yp,Wl,Ei,lg,fr),[AQ,lz]=oz(mc,Hp,Qh,Ai,zu,oo);function TQ(e){return new Date(e)}function kQ(e){return e instanceof Date?+e:+new Date(+e)}function AP(e,i,a,u,l,d,h,p,y,b){var C=rz(),M=C.invert,O=C.domain,H=b(".%L"),Y=b(":%S"),te=b("%I:%M"),se=b("%I %p"),ye=b("%a %d"),Ce=b("%b %d"),Ve=b("%B"),Ue=b("%Y");function qe(tt){return(y(tt)<tt?H:p(tt)<tt?Y:h(tt)<tt?te:d(tt)<tt?se:u(tt)<tt?l(tt)<tt?ye:Ce:a(tt)<tt?Ve:Ue)(tt)}return C.invert=function(tt){return new Date(M(tt))},C.domain=function(tt){return arguments.length?O(Array.from(tt,kQ)):O().map(TQ)},C.ticks=function(tt){var Ge=O();return e(Ge[0],Ge[Ge.length-1],null==tt?10:tt)},C.tickFormat=function(tt,Ge){return null==Ge?qe:b(Ge)},C.nice=function(tt){var Ge=O();return(!tt||"function"!=typeof tt.range)&&(tt=i(Ge[0],Ge[Ge.length-1],null==tt?10:tt)),tt?O(CP(Ge,tt)):C},C.copy=function(){return XE(C,AP(e,i,a,u,l,d,h,p,y,b))},C}function QE(){var a,u,l,d,y,e=0,i=1,h=jd,p=!1;function b(M){return null==M||isNaN(M=+M)?y:h(0===l?.5:(M=(d(M)-a)*l,p?Math.max(0,Math.min(1,M)):M))}function C(M){return function(O){var H,Y;return arguments.length?([H,Y]=O,h=M(H,Y),b):[h(0),h(1)]}}return b.domain=function(M){return arguments.length?([e,i]=M,a=d(e=+e),u=d(i=+i),l=a===u?0:1/(u-a),b):[e,i]},b.clamp=function(M){return arguments.length?(p=!!M,b):p},b.interpolator=function(M){return arguments.length?(h=M,b):h},b.range=C(r_),b.rangeRound=C(KE),b.unknown=function(M){return arguments.length?(y=M,b):y},function(M){return d=M,a=M(e),u=M(i),l=a===u?0:1/(u-a),b}}function jy(e,i){return i.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ok(){var e=Ov(QE()(jd));return e.copy=function(){return jy(e,ok())},n_.apply(e,arguments)}function cz(){var e=EP(QE());return e.copy=function(){return jy(e,cz()).exponent(e.exponent())},n_.apply(e,arguments)}function IP(e,i){void 0===i&&(i=e,e=r_);for(var a=0,u=i.length-1,l=i[0],d=new Array(u<0?0:u);a<u;)d[a]=e(l,l=i[++a]);return function(h){var p=Math.max(0,Math.min(u-1,Math.floor(h*=u)));return d[p](h-p)}}function NP(){var l,d,h,p,y,C,O,e=0,i=.5,a=1,u=1,b=jd,M=!1;function H(te){return isNaN(te=+te)?O:(te=.5+((te=+C(te))-d)*(u*te<u*d?p:y),b(M?Math.max(0,Math.min(1,te)):te))}function Y(te){return function(se){var ye,Ce,Ve;return arguments.length?([ye,Ce,Ve]=se,b=IP(te,[ye,Ce,Ve]),H):[b(0),b(.5),b(1)]}}return H.domain=function(te){return arguments.length?([e,i,a]=te,l=C(e=+e),d=C(i=+i),h=C(a=+a),p=l===d?0:.5/(d-l),y=d===h?0:.5/(h-d),u=d<l?-1:1,H):[e,i,a]},H.clamp=function(te){return arguments.length?(M=!!te,H):M},H.interpolator=function(te){return arguments.length?(b=te,H):b},H.range=Y(r_),H.rangeRound=Y(KE),H.unknown=function(te){return arguments.length?(O=te,H):O},function(te){return C=te,l=te(e),d=te(i),h=te(a),p=l===d?0:.5/(d-l),y=d===h?0:.5/(h-d),u=d<l?-1:1,H}}function qE(){var e=EP(NP());return e.copy=function(){return jy(e,qE()).exponent(e.exponent())},n_.apply(e,arguments)}function S_e(e){var i=e.length;return function(a){return e[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}}function LQ(e,i){var a=zd(+e,+i);return function(u){var l=a(u);return l-360*Math.floor(l/360)}}var gs,lk=180/Math.PI,eM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fz(e,i,a,u,l,d){var h,p,y;return(h=Math.sqrt(e*e+i*i))&&(e/=h,i/=h),(y=e*a+i*u)&&(a-=e*y,u-=i*y),(p=Math.sqrt(a*a+u*u))&&(a/=p,u/=p,y/=p),e*u<i*a&&(e=-e,i=-i,y=-y,h=-h),{translateX:l,translateY:d,rotate:Math.atan2(i,e)*lk,skewX:Math.atan(y)*lk,scaleX:h,scaleY:p}}function dk(e,i,a,u){function l(b){return b.length?b.pop()+" ":""}return function(b,C){var M=[],O=[];return b=e(b),C=e(C),function(b,C,M,O,H,Y){if(b!==M||C!==O){var te=H.push("translate(",null,i,null,a);Y.push({i:te-4,x:hp(b,M)},{i:te-2,x:hp(C,O)})}else(M||O)&&H.push("translate("+M+i+O+a)}(b.translateX,b.translateY,C.translateX,C.translateY,M,O),function(b,C,M,O){b!==C?(b-C>180?C+=360:C-b>180&&(b+=360),O.push({i:M.push(l(M)+"rotate(",null,u)-2,x:hp(b,C)})):C&&M.push(l(M)+"rotate("+C+u)}(b.rotate,C.rotate,M,O),function(b,C,M,O){b!==C?O.push({i:M.push(l(M)+"skewX(",null,u)-2,x:hp(b,C)}):C&&M.push(l(M)+"skewX("+C+u)}(b.skewX,C.skewX,M,O),function(b,C,M,O,H,Y){if(b!==M||C!==O){var te=H.push(l(H)+"scale(",null,",",null,")");Y.push({i:te-4,x:hp(b,M)},{i:te-2,x:hp(C,O)})}else(1!==M||1!==O)&&H.push(l(H)+"scale("+M+","+O+")")}(b.scaleX,b.scaleY,C.scaleX,C.scaleY,M,O),b=C=null,function(H){for(var se,Y=-1,te=O.length;++Y<te;)M[(se=O[Y]).i]=se.x(H);return M.join("")}}}var hr=dk(function(e){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?eM:fz(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),pz=dk(function(e){return null!=e&&(gs||(gs=document.createElementNS("http://www.w3.org/2000/svg","g")),gs.setAttribute("transform",e),e=gs.transform.baseVal.consolidate())?fz((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eM},", ",")",")");function OP(e){return((e=Math.exp(e))+1/e)/2}const gn=function e(i,a,u){function l(d,h){var se,ye,p=d[0],y=d[1],b=d[2],O=h[2],H=h[0]-p,Y=h[1]-y,te=H*H+Y*Y;if(te<1e-12)ye=Math.log(O/b)/i,se=function(Ge){return[p+Ge*H,y+Ge*Y,b*Math.exp(i*Ge*ye)]};else{var Ce=Math.sqrt(te),Ve=(O*O-b*b+u*te)/(2*b*a*Ce),Ue=(O*O-b*b-u*te)/(2*O*a*Ce),qe=Math.log(Math.sqrt(Ve*Ve+1)-Ve),tt=Math.log(Math.sqrt(Ue*Ue+1)-Ue);ye=(tt-qe)/i,se=function(Ge){var mt=Ge*ye,Ot=OP(qe),Tt=b/(a*Ce)*(Ot*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(i*mt+qe)-function(e){return((e=Math.exp(e))-1/e)/2}(qe));return[p+Tt*H,y+Tt*Y,b*Ot/OP(i*mt+qe)]}}return se.duration=1e3*ye*i/Math.SQRT2,se}return l.rho=function(d){var h=Math.max(.001,+d),p=h*h;return e(h,p,p*p)},l}(Math.SQRT2,2,4);function gz(e){return function(i,a){var u=e((i=By(i)).h,(a=By(a)).h),l=cu(i.s,a.s),d=cu(i.l,a.l),h=cu(i.opacity,a.opacity);return function(p){return i.h=u(p),i.s=l(p),i.l=d(p),i.opacity=h(p),i+""}}}const Fv=gz(zd);var Pv=gz(cu);const Rv=Math.PI/180,tM=180/Math.PI,BP=4/29,Bv=6/29,$P=3*Bv*Bv;function PQ(e){if(e instanceof pp)return new pp(e.l,e.a,e.b,e.opacity);if(e instanceof lm)return jP(e);e instanceof wc||(e=gP(e));var d,h,i=zP(e.r),a=zP(e.g),u=zP(e.b),l=VP((.2225045*i+.7168786*a+.0606169*u)/1);return i===a&&a===u?d=h=l:(d=VP((.4360747*i+.3850649*a+.1430804*u)/.96422),h=VP((.0139322*i+.0971045*a+.7141733*u)/.82521)),new pp(116*l-16,500*(d-l),200*(l-h),e.opacity)}function fk(e,i,a,u){return 1===arguments.length?PQ(e):new pp(e,i,a,null==u?1:u)}function pp(e,i,a,u){this.l=+e,this.a=+i,this.b=+a,this.opacity=+u}function VP(e){return e>.008856451679035631?Math.pow(e,1/3):e/$P+BP}function Uu(e){return e>Bv?e*e*e:$P*(e-BP)}function hk(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function zP(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yz(e){if(e instanceof lm)return new lm(e.h,e.c,e.l,e.opacity);if(e instanceof pp||(e=PQ(e)),0===e.a&&0===e.b)return new lm(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var i=Math.atan2(e.b,e.a)*tM;return new lm(i<0?i+360:i,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function pk(e,i,a,u){return 1===arguments.length?yz(e):new lm(e,i,a,null==u?1:u)}function lm(e,i,a,u){this.h=+e,this.c=+i,this.l=+a,this.opacity=+u}function jP(e){if(isNaN(e.h))return new pp(e.l,0,0,e.opacity);var i=e.h*Rv;return new pp(e.l,Math.cos(i)*e.c,Math.sin(i)*e.c,e.opacity)}function ND(e,i){var a=cu((e=fk(e)).l,(i=fk(i)).l),u=cu(e.a,i.a),l=cu(e.b,i.b),d=cu(e.opacity,i.opacity);return function(h){return e.l=a(h),e.a=u(h),e.b=l(h),e.opacity=d(h),e+""}}function vz(e){return function(i,a){var u=e((i=pk(i)).h,(a=pk(a)).h),l=cu(i.c,a.c),d=cu(i.l,a.l),h=cu(i.opacity,a.opacity);return function(p){return i.h=u(p),i.c=l(p),i.l=d(p),i.opacity=h(p),i+""}}}YE(pp,fk,JT(kg,{brighter:function(e){return new pp(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new pp(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,i=isNaN(this.a)?e:e+this.a/500,a=isNaN(this.b)?e:e-this.b/200;return new wc(hk(3.1338561*(i=.96422*Uu(i))-1.6168667*(e=1*Uu(e))-.4906146*(a=.82521*Uu(a))),hk(-.9787684*i+1.9161415*e+.033454*a),hk(.0719453*i-.2289914*e+1.4052427*a),this.opacity)}})),YE(lm,pk,JT(kg,{brighter:function(e){return new lm(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new lm(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return jP(this).rgb()}}));const BQ=vz(zd);var bz=vz(cu),mk=1.78277,Dz=-.29227,i_=-.90649,Ti=1.97294,cm=Ti*i_,wz=Ti*mk,mp=mk*Dz- -.14861*i_;function Ng(e){if(e instanceof Ec)return new Ec(e.h,e.s,e.l,e.opacity);e instanceof wc||(e=gP(e));var a=e.g/255,u=e.b/255,l=(mp*u+cm*(e.r/255)-wz*a)/(mp+cm-wz),d=u-l,h=(Ti*(a-l)-Dz*d)/i_,p=Math.sqrt(h*h+d*d)/(Ti*l*(1-l)),y=p?Math.atan2(h,d)*tM-120:NaN;return new Ec(y<0?y+360:y,p,l,e.opacity)}function wh(e,i,a,u){return 1===arguments.length?Ng(e):new Ec(e,i,a,null==u?1:u)}function Ec(e,i,a,u){this.h=+e,this.s=+i,this.l=+a,this.opacity=+u}function WP(e){return function i(a){function u(l,d){var h=e((l=wh(l)).h,(d=wh(d)).h),p=cu(l.s,d.s),y=cu(l.l,d.l),b=cu(l.opacity,d.opacity);return function(C){return l.h=h(C),l.s=p(C),l.l=y(Math.pow(C,a)),l.opacity=b(C),l+""}}return a=+a,u.gamma=i,u}(1)}YE(Ec,wh,JT(kg,{brighter:function(e){return e=null==e?Sv:Math.pow(Sv,e),new Ec(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ec(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Rv,i=+this.l,a=isNaN(this.s)?0:this.s*i*(1-i),u=Math.cos(e),l=Math.sin(e);return new wc(255*(i+a*(-.14861*u+mk*l)),255*(i+a*(Dz*u+i_*l)),255*(i+a*(Ti*u)),this.opacity)}}));const Cz=WP(zd);var $Q=WP(cu);function VQ(e,i){for(var a=new Array(i),u=0;u<i;++u)a[u]=e(u/(i-1));return a}function HP(e,i,a){const u=e-i+2*a;return e?u>0?u:1:0}const Wy="linear",Ch="log",rM="pow",OD="sqrt",gk="symlog",Hy="time",Uy="utc",Eh="sequential",LD="diverging",$v="quantile",qn="quantize",Xl="threshold",Xa="ordinal",_k="point",yk="bin-ordinal",il="continuous",FD="discrete",PD="discretizing",Mh="interpolating",vk="temporal";function YP(){const e=ZT().unknown(void 0),i=e.domain,a=e.range;let l,d,u=[0,1],h=!1,p=0,y=0,b=.5;function C(){const M=i().length,O=u[1]<u[0],H=u[1-O],Y=HP(M,p,y);let te=u[O-0];l=(H-te)/(Y||1),h&&(l=Math.floor(l)),te+=(H-te-l*(M-p))*b,d=l*(1-p),h&&(te=Math.round(te),d=Math.round(d));const se=lt(M).map(ye=>te+l*ye);return a(O?se.reverse():se)}return delete e.unknown,e.domain=function(M){return arguments.length?(i(M),C()):i()},e.range=function(M){return arguments.length?(u=[+M[0],+M[1]],C()):u.slice()},e.rangeRound=function(M){return u=[+M[0],+M[1]],h=!0,C()},e.bandwidth=function(){return d},e.step=function(){return l},e.round=function(M){return arguments.length?(h=!!M,C()):h},e.padding=function(M){return arguments.length?(y=Math.max(0,Math.min(1,M)),p=y,C()):p},e.paddingInner=function(M){return arguments.length?(p=Math.max(0,Math.min(1,M)),C()):p},e.paddingOuter=function(M){return arguments.length?(y=Math.max(0,Math.min(1,M)),C()):y},e.align=function(M){return arguments.length?(b=Math.max(0,Math.min(1,M)),C()):b},e.invertRange=function(M){if(null==M[0]||null==M[1])return;const O=u[1]<u[0],H=O?a().reverse():a(),Y=H.length-1;let ye,Ce,Ve,te=+M[0],se=+M[1];return te!=te||se!=se||(se<te&&(Ve=te,te=se,se=Ve),se<H[0]||te>u[1-O])?void 0:(ye=Math.max(0,HE(H,te)-1),Ce=te===se?ye:HE(H,se)-1,te-H[ye]>d+1e-10&&++ye,O&&(Ve=ye,ye=Y-Ce,Ce=Y-Ve),ye>Ce?void 0:i().slice(ye,Ce+1))},e.invert=function(M){const O=e.invertRange([M,M]);return O&&O[0]},e.copy=function(){return YP().domain(i()).range(u).round(h).paddingInner(p).paddingOuter(y).align(b)},C()}function GP(e){const i=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return GP(i())},e}var UQ=Array.prototype.map;function YQ(e){return UQ.call(e,rs)}const GQ=Array.prototype.slice,bk={};function KQ(e,i,a){const u=function(){const d=i();return d.invertRange||(d.invertRange=d.invert?function(e){return function(i){let l,a=i[0],u=i[1];return u<a&&(l=a,a=u,u=l),[e.invert(a),e.invert(u)]}}(d):d.invertExtent?function(e){return function(i){const a=e.range();let h,p,y,b,u=i[0],l=i[1],d=-1;for(l<u&&(p=u,u=l,l=p),y=0,b=a.length;y<b;++y)a[y]>=u&&a[y]<=l&&(d<0&&(d=y),h=y);if(!(d<0))return u=e.invertExtent(a[d]),l=e.invertExtent(a[h]),[void 0===u[0]?u[1]:u[0],void 0===l[1]?l[0]:l[1]]}}(d):void 0),d.type=e,d};return u.metadata=Di(Mr(a)),u}function fa(e,i,a){return arguments.length>1?(bk[e]=KQ(e,i,a),this):Mz(e)?bk[e]:void 0}function Mz(e){return bn(bk,e)}function Vv(e,i){const a=bk[e];return a&&a.metadata[i]}function KP(e){return Vv(e,il)}function RD(e){return Vv(e,FD)}function XP(e){return Vv(e,PD)}function Sz(e){return Vv(e,Ch)}function ZP(e){return Vv(e,Mh)}function JP(e){return Vv(e,$v)}fa("identity",function iz(e){var i;function a(u){return null==u||isNaN(u=+u)?i:u}return a.invert=a,a.domain=a.range=function(u){return arguments.length?(e=Array.from(u,DP),a):e.slice()},a.unknown=function(u){return arguments.length?(i=u,a):i},a.copy=function(){return iz(e).unknown(i)},e=arguments.length?Array.from(e,DP):[0,1],Ov(a)}),fa(Wy,function xQ(){var e=rz();return e.copy=function(){return XE(e,xQ())},Tg.apply(e,arguments),Ov(e)},il),fa(Ch,function sz(){var e=JE(ZE()).domain([1,10]);return e.copy=function(){return XE(e,sz()).base(e.base())},Tg.apply(e,arguments),e},[il,Ch]),fa(rM,sk,il),fa(OD,function(){return sk.apply(null,arguments).exponent(.5)},il),fa(gk,function SP(){var e=MP(ZE());return e.copy=function(){return XE(e,SP()).constant(e.constant())},Tg.apply(e,arguments)},il),fa(Hy,function(){return Tg.apply(AP(AQ,lz,mc,Hp,Qh,Ai,zu,oo,gc,z0).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[il,vk]),fa(Uy,function(){return Tg.apply(AP(uz,ak,rd,Yp,Wl,Ei,lg,fr,gc,gy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[il,vk]),fa(Eh,ok,[il,Mh]),fa("".concat(Eh,"-").concat(Wy),ok,[il,Mh]),fa("".concat(Eh,"-").concat(Ch),function TP(){var e=JE(QE()).domain([1,10]);return e.copy=function(){return jy(e,TP()).base(e.base())},n_.apply(e,arguments)},[il,Mh,Ch]),fa("".concat(Eh,"-").concat(rM),cz,[il,Mh]),fa("".concat(Eh,"-").concat(OD),function(){return cz.apply(null,arguments).exponent(.5)},[il,Mh]),fa("".concat(Eh,"-").concat(gk),function uk(){var e=MP(QE());return e.copy=function(){return jy(e,uk()).constant(e.constant())},n_.apply(e,arguments)},[il,Mh]),fa("".concat(LD,"-").concat(Wy),function xt(){var e=Ov(NP()(jd));return e.copy=function(){return jy(e,xt())},n_.apply(e,arguments)},[il,Mh]),fa("".concat(LD,"-").concat(Ch),function dz(){var e=JE(NP()).domain([.1,1,10]);return e.copy=function(){return jy(e,dz()).base(e.base())},n_.apply(e,arguments)},[il,Mh,Ch]),fa("".concat(LD,"-").concat(rM),qE,[il,Mh]),fa("".concat(LD,"-").concat(OD),function(){return qE.apply(null,arguments).exponent(.5)},[il,Mh]),fa("".concat(LD,"-").concat(gk),function Xt(){var e=MP(NP());return e.copy=function(){return jy(e,Xt()).constant(e.constant())},n_.apply(e,arguments)},[il,Mh]),fa($v,function _t(){var u,e=[],i=[],a=[];function l(){var h=0,p=Math.max(1,i.length);for(a=new Array(p-1);++h<p;)a[h-1]=vT(e,h/p);return d}function d(h){return null==h||isNaN(h=+h)?u:i[UE(a,h)]}return d.invertExtent=function(h){var p=i.indexOf(h);return p<0?[NaN,NaN]:[p>0?a[p-1]:e[0],p<a.length?a[p]:e[e.length-1]]},d.domain=function(h){if(!arguments.length)return e.slice();e=[];for(let p of h)null!=p&&!isNaN(p=+p)&&e.push(p);return e.sort(vf),l()},d.range=function(h){return arguments.length?(i=Array.from(h),l()):i.slice()},d.unknown=function(h){return arguments.length?(u=h,d):u},d.quantiles=function(){return a.slice()},d.copy=function(){return _t().domain(e).range(i).unknown(u)},Tg.apply(d,arguments)},[PD,$v]),fa(qn,function yt(){var d,e=0,i=1,a=1,u=[.5],l=[0,1];function h(y){return null!=y&&y<=y?l[UE(u,y,0,a)]:d}function p(){var y=-1;for(u=new Array(a);++y<a;)u[y]=((y+1)*i-(y-a)*e)/(a+1);return h}return h.domain=function(y){return arguments.length?([e,i]=y,e=+e,i=+i,p()):[e,i]},h.range=function(y){return arguments.length?(a=(l=Array.from(y)).length-1,p()):l.slice()},h.invertExtent=function(y){var b=l.indexOf(y);return b<0?[NaN,NaN]:b<1?[e,u[0]]:b>=a?[u[a-1],i]:[u[b-1],u[b]]},h.unknown=function(y){return arguments.length&&(d=y),h},h.thresholds=function(){return u.slice()},h.copy=function(){return yt().domain([e,i]).range(l).unknown(d)},Tg.apply(Ov(h),arguments)},PD),fa(Xl,function da(){var a,e=[.5],i=[0,1],u=1;function l(d){return null!=d&&d<=d?i[UE(e,d,0,u)]:a}return l.domain=function(d){return arguments.length?(e=Array.from(d),u=Math.min(e.length,i.length-1),l):e.slice()},l.range=function(d){return arguments.length?(i=Array.from(d),u=Math.min(e.length,i.length-1),l):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return[e[h-1],e[h]]},l.unknown=function(d){return arguments.length?(a=d,l):a},l.copy=function(){return da().domain(e).range(i).unknown(a)},Tg.apply(l,arguments)},PD),fa(yk,function Ez(){let e=[],i=[];function a(u){return null==u||u!=u?void 0:i[(UE(e,u)-1)%i.length]}return a.domain=function(u){return arguments.length?(e=YQ(u),a):e.slice()},a.range=function(u){return arguments.length?(i=GQ.call(u),a):i.slice()},a.tickFormat=function(u,l){return GV(e[0],Kr(e),null==u?10:u,l)},a.copy=function(){return Ez().domain(a.domain()).range(a.range())},a},[FD,PD]),fa(Xa,ZT,FD),fa("band",YP,FD),fa(_k,function(){return GP(YP().paddingInner(1))},FD);const Tz=["clamp","base","constant","exponent"];function QP(e,i){const a=i[0],u=Kr(i)-a;return function(l){return e(a+l*u)}}function iM(e,i,a){return IP(Wd(i||"rgb",a),e)}function qP(e,i){const a=new Array(i),u=i+1;for(let l=0;l<i;)a[l]=e(++l/u);return a}function eR(e,i,a){const u=a-i;let l,d,h;return u&&Number.isFinite(u)?(l=(d=e.type).indexOf("-"),d=l<0?d:d.slice(l+1),h=fa(d)().domain([i,a]).range([0,1]),Tz.forEach(p=>e[p]?h[p](e[p]()):0),h):Xe(.5)}function Wd(e,i){const a=I[function(e){return"interpolate"+e.toLowerCase().split("-").map(i=>i[0].toUpperCase()+i.slice(1)).join("")}(e)];return null!=i&&a&&a.gamma?a.gamma(i):a}function Iz(e){const i=e.length/6|0,a=new Array(i);for(let u=0;u<i;)a[u]="#"+e.slice(6*u,6*++u);return a}function jv(e,i){for(const a in e)Mc(a,i(e[a]))}const JQ={};function Mc(e,i){return e=e&&e.toLowerCase(),arguments.length>1?(JQ[e]=i,this):JQ[e]}jv({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Iz),jv({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>iM(Iz(e)));const tR="symbol",T_e=e=>Sn(e)?e.map(i=>String(i)):String(e),Er=(e,i)=>e[1]-i[1],QQ=(e,i)=>i[1]-e[1];function nR(e,i,a){let u;return Ft(i)&&(e.bins&&(i=Math.max(i,e.bins.length)),null!=a&&(i=Math.min(i,Math.floor(ma(e.domain())/a||1)))),$e(i)&&(u=i.step,i=i.interval),wn(i)&&(i=e.type===Hy?Od(i):e.type==Uy?Df(i):Pt("Only time and utc scales accept interval strings."),u&&(i=i.every(u))),i}function Lz(e,i,a){let u=e.range(),l=u[0],d=Kr(u),h=Er;if(l>d&&(u=d,d=l,l=u,h=QQ),l=Math.floor(l),d=Math.ceil(d),i=i.map(p=>[p,e(p)]).filter(p=>l<=p[1]&&p[1]<=d).sort(h).map(p=>p[0]),a>0&&i.length>1){const p=[i[0],Kr(i)];for(;i.length>a&&i.length>=3;)i=i.filter((y,b)=>!(b%2));i.length<3&&(i=p)}return i}function BD(e,i){return e.bins?Lz(e,e.bins):e.ticks?e.ticks(i):e.domain()}function Fz(e,i,a,u,l,d){const h=i.type;let p=T_e;if(h===Hy||l===Hy)p=e.timeFormat(u);else if(h===Uy||l===Uy)p=e.utcFormat(u);else if(Sz(h)){const y=e.formatFloat(u);if(d||i.bins)p=y;else{const b=sM(i,a,!1);p=C=>b(C)?y(C):""}}else if(i.tickFormat){const y=i.domain();p=e.formatSpan(y[0],y[y.length-1],a,u)}else u&&(p=e.format(u));return p}function sM(e,i,a){const u=BD(e,i),l=e.base(),d=Math.log(l),h=Math.max(1,l*i/u.length),p=y=>{let b=y/Math.pow(l,Math.round(Math.log(y)/d));return b*l<l-.5&&(b*=l),b<=h};return a?u.filter(p):p}const $D={[$v]:"quantiles",[qn]:"thresholds",[Xl]:"domain"},du={[$v]:"quantiles",[qn]:"domain"};function qQ(e,i){return e.bins?function(e){const i=e.slice(0,-1);return i.max=Kr(e),i}(e.bins):e.type===Ch?sM(e,i,!0):$D[e.type]?function(e){const i=[-1/0].concat(e);return i.max=1/0,i}(e[$D[e.type]]()):BD(e,i)}function iR(e,i,a,u,l,d,h){const p=du[i.type]&&d!==Hy&&d!==Uy?function(e,i,a){const u=i[du[i.type]](),l=u.length;let h,d=l>1?u[1]-u[0]:u[0];for(h=1;h<l;++h)d=Math.min(d,u[h]-u[h-1]);return e.formatSpan(0,d,30,a)}(e,i,l):Fz(e,i,a,l,d,h);return u===tR&&(e=>$D[e.type]||e.bins)(i)?Bz(p):"discrete"===u?tq(p):nq(p)}const Bz=e=>(i,a,u)=>{const l=sR(u[a+1],sR(u.max,1/0)),d=$z(i,e),h=$z(l,e);return d&&h?d+" \u2013 "+h:h?"< "+h:"\u2265 "+d},sR=(e,i)=>null!=e?e:i,tq=e=>(i,a)=>a?e(i):null,nq=e=>i=>e(i),$z=(e,i)=>Number.isFinite(e)?i(e):null;function Vz(e,i,a){a=a||{};const u=Math.max(3,a.maxlen||7),l=function(e,i,a,u){const l=u||i.type;return wn(a)&&function(e){return Vv(e,vk)}(l)&&(a=a.replace(/%a/g,"%A").replace(/%b/g,"%B")),a||l!==Hy?a||l!==Uy?iR(e,i,5,null,a,u,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,i,a.format,a.formatType);if(XP(i.type)){const d=qQ(i).slice(1).map(l),h=d.length;return"".concat(h," boundar").concat(1===h?"y":"ies",": ").concat(d.join(", "))}if(RD(i.type)){const d=i.domain(),h=d.length,p=h>u?d.slice(0,u-2).map(l).join(", ")+", ending with "+d.slice(-1).map(l):d.map(l).join(", ");return"".concat(h," value").concat(1===h?"":"s",": ").concat(p)}{const d=i.domain();return"values from ".concat(l(d[0])," to ").concat(l(Kr(d)))}}let zz=0;function Dk(e){return e&&e.gradient}function aR(e,i,a){const u=e.gradient;let l=e.id,d="radial"===u?"p_":"";return l||(l=e.id="gradient_"+zz++,"radial"===u?(e.x1=Og(e.x1,.5),e.y1=Og(e.y1,.5),e.r1=Og(e.r1,0),e.x2=Og(e.x2,.5),e.y2=Og(e.y2,.5),e.r2=Og(e.r2,.5),d="p_"):(e.x1=Og(e.x1,0),e.y1=Og(e.y1,0),e.x2=Og(e.x2,1),e.y2=Og(e.y2,0))),i[l]=e,"url("+(a||"")+"#"+d+l+")"}function Og(e,i){return null!=e?e:i}function VD(e,i){var u,a=[];return u={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:i?i[0]:1,y2:i?i[1]:0,stops:a,stop:function(l,d){return a.push({offset:l,color:d}),u}}}const zD={basis:{curve:function(e){return new PT(e)}},"basis-closed":{curve:function(e){return new EV(e)}},"basis-open":{curve:function(e){return new eQ(e)}},bundle:{curve:nQ,tension:"beta",value:.85},cardinal:{curve:rQ,tension:"tension",value:0},"cardinal-open":{curve:iQ,tension:"tension",value:0},"cardinal-closed":{curve:sQ,tension:"tension",value:0},"catmull-rom":{curve:tP,tension:"alpha",value:.5},"catmull-rom-closed":{curve:aQ,tension:"alpha",value:.5},"catmull-rom-open":{curve:nP,tension:"alpha",value:.5},linear:{curve:zE},"linear-closed":{curve:function(e){return new jT(e)}},monotone:{horizontal:function(e){return new rP(e)},vertical:function(e){return new HT(e)}},natural:{curve:function(e){return new sP(e)}},step:{curve:function(e){return new YT(e,.5)}},"step-after":{curve:function(e){return new YT(e,1)}},"step-before":{curve:function(e){return new YT(e,0)}}};function oR(e,i,a){var u=bn(zD,e)&&zD[e],l=null;return u&&(l=u.curve||u[i||"vertical"],u.tension&&null!=a&&(l=l[u.tension](a))),l}const iq={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},uM=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function Wv(e){const i=[];let a,u,l,d,h,p,y,b,C,M;const O=e.slice().replace(uM[0],"###$1").split(uM[1]).slice(1);for(y=0,C=O.length;y<C;++y){for(a=O[y],u=a.slice(1).trim().replace(uM[2],"$1###$2").replace(uM[3],"$1###$2").split(uM[4]),h=a.charAt(0),l=[h],b=0,M=u.length;b<M;++b)(d=+u[b])===d&&l.push(d);if(p=iq[h.toLowerCase()],l.length-1>p){const H=l.length;for(b=1,i.push([h].concat(l.slice(b,b+=p))),h="M"===h?"L":"m"===h?"l":h;b<H;b+=p)i.push([h].concat(l.slice(b,b+p)))}else i.push(l)}return i}const s_=Math.PI/180,Hv=Math.PI/2,dm=2*Math.PI,jD=Math.sqrt(3)/2;var uR={},Wz={},sq=[].join;function I_e(e){const i=sq.call(e);if(Wz[i])return Wz[i];var a=e[0],u=e[1],l=e[2],d=e[3],h=e[4],p=e[5],y=e[6],b=e[7];const C=b*h,M=-y*p,O=y*h,H=b*p,Y=Math.cos(l),te=Math.sin(l),se=Math.cos(d),ye=Math.sin(d),Ce=.5*(d-l),Ve=Math.sin(.5*Ce),Ue=8/3*Ve*Ve/Math.sin(Ce),qe=a+Y-Ue*te,tt=u+te+Ue*Y,Ge=a+se,mt=u+ye,Ot=Ge+Ue*ye,Tt=mt-Ue*se;return Wz[i]=[C*qe+M*tt,O*qe+H*tt,C*Ot+M*Tt,O*Ot+H*Tt,C*Ge+M*mt,O*Ge+H*mt]}const Sh=["l",0,0,0,0,0,0,0];function wk(e,i,a){const u=Sh[0]=e[0];if("a"===u||"A"===u)Sh[1]=i*e[1],Sh[2]=a*e[2],Sh[3]=e[3],Sh[4]=e[4],Sh[5]=e[5],Sh[6]=i*e[6],Sh[7]=a*e[7];else if("h"===u||"H"===u)Sh[1]=i*e[1];else if("v"===u||"V"===u)Sh[1]=a*e[1];else for(var l=1,d=e.length;l<d;++l)Sh[l]=(l%2==1?i:a)*e[l];return Sh}function lM(e,i,a,u,l,d){var h,O,H,Y,te,p=null,y=0,b=0,C=0,M=0;null==a&&(a=0),null==u&&(u=0),null==l&&(l=1),null==d&&(d=l),e.beginPath&&e.beginPath();for(var se=0,ye=i.length;se<ye;++se){switch(h=i[se],(1!==l||1!==d)&&(h=wk(h,l,d)),h[0]){case"l":e.lineTo((y+=h[1])+a,(b+=h[2])+u);break;case"L":e.lineTo((y=h[1])+a,(b=h[2])+u);break;case"h":e.lineTo((y+=h[1])+a,b+u);break;case"H":e.lineTo((y=h[1])+a,b+u);break;case"v":e.lineTo(y+a,(b+=h[1])+u);break;case"V":e.lineTo(y+a,(b=h[1])+u);break;case"m":e.moveTo((y+=h[1])+a,(b+=h[2])+u);break;case"M":e.moveTo((y=h[1])+a,(b=h[2])+u);break;case"c":e.bezierCurveTo(y+h[1]+a,b+h[2]+u,(C=y+h[3])+a,(M=b+h[4])+u,(O=y+h[5])+a,(H=b+h[6])+u),y=O,b=H;break;case"C":e.bezierCurveTo(h[1]+a,h[2]+u,(C=h[3])+a,(M=h[4])+u,(y=h[5])+a,(b=h[6])+u);break;case"s":e.bezierCurveTo((C=2*y-C)+a,(M=2*b-M)+u,y+h[1]+a,b+h[2]+u,(O=y+h[3])+a,(H=b+h[4])+u),C=y+h[1],M=b+h[2],y=O,b=H;break;case"S":e.bezierCurveTo((C=2*y-C)+a,(M=2*b-M)+u,h[1]+a,h[2]+u,(O=h[3])+a,(H=h[4])+u),y=O,b=H,C=h[1],M=h[2];break;case"q":e.quadraticCurveTo((C=y+h[1])+a,(M=b+h[2])+u,(O=y+h[3])+a,(H=b+h[4])+u),y=O,b=H;break;case"Q":e.quadraticCurveTo(h[1]+a,h[2]+u,(O=h[3])+a,(H=h[4])+u),y=O,b=H,C=h[1],M=h[2];break;case"t":O=y+h[1],H=b+h[2],null===p[0].match(/[QqTt]/)?(C=y,M=b):"t"===p[0]?(C=2*y-Y,M=2*b-te):"q"===p[0]&&(C=2*y-C,M=2*b-M),Y=C,te=M,e.quadraticCurveTo(C+a,M+u,O+a,H+u),C=(y=O)+h[1],M=(b=H)+h[2];break;case"T":e.quadraticCurveTo((C=2*y-C)+a,(M=2*b-M)+u,(O=h[1])+a,(H=h[2])+u),y=O,b=H;break;case"a":Hz(e,y+a,b+u,[h[1],h[2],h[3],h[4],h[5],h[6]+y+a,h[7]+b+u]),y+=h[6],b+=h[7];break;case"A":Hz(e,y+a,b+u,[h[1],h[2],h[3],h[4],h[5],h[6]+a,h[7]+u]),y=h[6],b=h[7];break;case"z":case"Z":e.closePath()}p=h}}function Hz(e,i,a,u){const l=function(e,i,a,u,l,d,h,p,y){const b=sq.call(arguments);if(uR[b])return uR[b];const C=h*s_,M=Math.sin(C),O=Math.cos(C),H=O*(p-e)*.5+M*(y-i)*.5,Y=O*(y-i)*.5-M*(p-e)*.5;let te=H*H/((a=Math.abs(a))*a)+Y*Y/((u=Math.abs(u))*u);te>1&&(te=Math.sqrt(te),a*=te,u*=te);const se=O/a,ye=M/a,Ce=-M/u,Ve=O/u,Ue=se*p+ye*y,qe=Ce*p+Ve*y,tt=se*e+ye*i,Ge=Ce*e+Ve*i;let Ot=1/((tt-Ue)*(tt-Ue)+(Ge-qe)*(Ge-qe))-.25;Ot<0&&(Ot=0);let Tt=Math.sqrt(Ot);d==l&&(Tt=-Tt);const St=.5*(Ue+tt)-Tt*(Ge-qe),Gt=.5*(qe+Ge)+Tt*(tt-Ue),jt=Math.atan2(qe-Gt,Ue-St);let Rt=Math.atan2(Ge-Gt,tt-St)-jt;Rt<0&&1===d?Rt+=dm:Rt>0&&0===d&&(Rt-=dm);const An=Math.ceil(Math.abs(Rt/(Hv+.001))),Jn=[];for(let Ar=0;Ar<An;++Ar)Jn[Ar]=[St,Gt,jt+Ar*Rt/An,jt+(Ar+1)*Rt/An,a,u,M,O];return uR[b]=Jn}(u[5],u[6],u[0],u[1],u[3],u[4],u[2],i,a);for(let d=0;d<l.length;++d){const h=I_e(l[d]);e.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5])}}const lR=.5773502691896257,WD={circle:{draw:function(e,i){const a=Math.sqrt(i)/2;e.moveTo(a,0),e.arc(0,0,a,0,dm)}},cross:{draw:function(e,i){var a=Math.sqrt(i)/2,u=a/2.5;e.moveTo(-a,-u),e.lineTo(-a,u),e.lineTo(-u,u),e.lineTo(-u,a),e.lineTo(u,a),e.lineTo(u,u),e.lineTo(a,u),e.lineTo(a,-u),e.lineTo(u,-u),e.lineTo(u,-a),e.lineTo(-u,-a),e.lineTo(-u,-u),e.closePath()}},diamond:{draw:function(e,i){const a=Math.sqrt(i)/2;e.moveTo(-a,0),e.lineTo(0,-a),e.lineTo(a,0),e.lineTo(0,a),e.closePath()}},square:{draw:function(e,i){var a=Math.sqrt(i),u=-a/2;e.rect(u,u,a,a)}},arrow:{draw:function(e,i){var a=Math.sqrt(i)/2,u=a/7,l=a/2.5,d=a/8;e.moveTo(-u,a),e.lineTo(u,a),e.lineTo(u,-d),e.lineTo(l,-d),e.lineTo(0,-a),e.lineTo(-l,-d),e.lineTo(-u,-d),e.closePath()}},wedge:{draw:function(e,i){var a=Math.sqrt(i)/2,u=jD*a,l=u-a*lR,d=a/4;e.moveTo(0,-u-l),e.lineTo(-d,u-l),e.lineTo(d,u-l),e.closePath()}},triangle:{draw:function(e,i){var a=Math.sqrt(i)/2,u=jD*a,l=u-a*lR;e.moveTo(0,-u-l),e.lineTo(-a,u-l),e.lineTo(a,u-l),e.closePath()}},"triangle-up":{draw:function(e,i){var a=Math.sqrt(i)/2,u=jD*a;e.moveTo(0,-u),e.lineTo(-a,u),e.lineTo(a,u),e.closePath()}},"triangle-down":{draw:function(e,i){var a=Math.sqrt(i)/2,u=jD*a;e.moveTo(0,u),e.lineTo(-a,-u),e.lineTo(a,-u),e.closePath()}},"triangle-right":{draw:function(e,i){var a=Math.sqrt(i)/2,u=jD*a;e.moveTo(u,0),e.lineTo(-u,-a),e.lineTo(-u,a),e.closePath()}},"triangle-left":{draw:function(e,i){var a=Math.sqrt(i)/2,u=jD*a;e.moveTo(-u,0),e.lineTo(u,-a),e.lineTo(u,a),e.closePath()}},stroke:{draw:function(e,i){const a=Math.sqrt(i)/2;e.moveTo(-a,0),e.lineTo(a,0)}}};function Uz(e){return bn(WD,e)?WD[e]:function(e){if(!bn(cR,e)){const i=Wv(e);cR[e]={draw:function(a,u){lM(a,i,0,0,Math.sqrt(u)/2)}}}return cR[e]}(e)}var cR={};const Yy=.448084975506;function oq(e){return e.x}function Yz(e){return e.y}function uq(e){return e.width}function lq(e){return e.height}function Af(e){return"function"==typeof e?e:()=>+e}function Ck(e,i,a){return Math.max(i,Math.min(e,a))}function dR(){var e=oq,i=Yz,a=uq,u=lq,l=Af(0),d=l,h=l,p=l,y=null;function b(C,M,O){var H,Y=null!=M?M:+e.call(this,C),te=null!=O?O:+i.call(this,C),se=+a.call(this,C),ye=+u.call(this,C),Ce=Math.min(se,ye)/2,Ve=Ck(+l.call(this,C),0,Ce),Ue=Ck(+d.call(this,C),0,Ce),qe=Ck(+h.call(this,C),0,Ce),tt=Ck(+p.call(this,C),0,Ce);if(y||(y=H=MD()),Ve<=0&&Ue<=0&&qe<=0&&tt<=0)y.rect(Y,te,se,ye);else{var Ge=Y+se,mt=te+ye;y.moveTo(Y+Ve,te),y.lineTo(Ge-Ue,te),y.bezierCurveTo(Ge-Yy*Ue,te,Ge,te+Yy*Ue,Ge,te+Ue),y.lineTo(Ge,mt-tt),y.bezierCurveTo(Ge,mt-Yy*tt,Ge-Yy*tt,mt,Ge-tt,mt),y.lineTo(Y+qe,mt),y.bezierCurveTo(Y+Yy*qe,mt,Y,mt-Yy*qe,Y,mt-qe),y.lineTo(Y,te+Ve),y.bezierCurveTo(Y,te+Yy*Ve,Y+Yy*Ve,te,Y+Ve,te),y.closePath()}if(H)return y=null,H+""||null}return b.x=function(C){return arguments.length?(e=Af(C),b):e},b.y=function(C){return arguments.length?(i=Af(C),b):i},b.width=function(C){return arguments.length?(a=Af(C),b):a},b.height=function(C){return arguments.length?(u=Af(C),b):u},b.cornerRadius=function(C,M,O,H){return arguments.length?(l=Af(C),d=null!=M?Af(M):l,p=null!=O?Af(O):l,h=null!=H?Af(H):d,b):l},b.context=function(C){return arguments.length?(y=null==C?null:C,b):y},b}function Gz(){var e,i,a,u,d,h,p,y,l=null;function b(M,O,H){const Y=H/2;if(d){var te=p-O,se=M-h;if(te||se){var ye=Math.sqrt(te*te+se*se),Ce=(te/=ye)*y,Ve=(se/=ye)*y,Ue=Math.atan2(se,te);l.moveTo(h-Ce,p-Ve),l.lineTo(M-te*Y,O-se*Y),l.arc(M,O,Y,Ue-Math.PI,Ue),l.lineTo(h+Ce,p+Ve),l.arc(h,p,y,Ue,Ue+Math.PI)}else l.arc(M,O,Y,0,dm);l.closePath()}else d=1;h=M,p=O,y=Y}function C(M){var O,Y,se,H=M.length,te=!1;for(null==l&&(l=se=MD()),O=0;O<=H;++O)!(O<H&&u(Y=M[O],O,M))===te&&(te=!te)&&(d=0),te&&b(+e(Y,O,M),+i(Y,O,M),+a(Y,O,M));if(se)return l=null,se+""||null}return C.x=function(M){return arguments.length?(e=M,C):e},C.y=function(M){return arguments.length?(i=M,C):i},C.size=function(M){return arguments.length?(a=M,C):a},C.defined=function(M){return arguments.length?(u=M,C):u},C.context=function(M){return arguments.length?(l=null==M?null:M,C):l},C}function HD(e,i){return null!=e?e:i}const cM=e=>e.x||0,UD=e=>e.y||0,Ek=e=>!1!==e.defined,Dq=function(){var e=lQ,i=oP,a=_a(0),u=null,l=cQ,d=dQ,h=$V,p=null;function y(){var b,C,M=+e.apply(this,arguments),O=+i.apply(this,arguments),H=l.apply(this,arguments)-VT,Y=d.apply(this,arguments)-VT,te=qF(Y-H),se=Y>H;if(p||(p=b=MD()),O<M&&(C=O,O=M,M=C),O>Kl)if(te>zT-Kl)p.moveTo(O*xv(H),O*Mg(H)),p.arc(0,0,O,H,Y,!se),M>Kl&&(p.moveTo(M*xv(Y),M*Mg(Y)),p.arc(0,0,M,Y,H,se));else{var Gt,jt,ye=H,Ce=Y,Ve=H,Ue=Y,qe=te,tt=te,Ge=h.apply(this,arguments)/2,mt=Ge>Kl&&(u?+u.apply(this,arguments):Vd(M*M+O*O)),Ot=$T(qF(O-M)/2,+a.apply(this,arguments)),Tt=Ot,St=Ot;if(mt>Kl){var En=TV(mt/M*Mg(Ge)),Rt=TV(mt/O*Mg(Ge));(qe-=2*En)>Kl?(Ve+=En*=se?1:-1,Ue-=En):(qe=0,Ve=Ue=(H+Y)/2),(tt-=2*Rt)>Kl?(ye+=Rt*=se?1:-1,Ce-=Rt):(tt=0,ye=Ce=(H+Y)/2)}var An=O*xv(ye),Jn=O*Mg(ye),Ar=M*xv(Ue),Yr=M*Mg(Ue);if(Ot>Kl){var yl,Es=O*xv(Ce),Ro=O*Mg(Ce),Rl=M*xv(Ve),Xc=M*Mg(Ve);if(te<Ly&&(yl=SD(An,Jn,Rl,Xc,Es,Ro,Ar,Yr))){var df=An-yl[0],M0=Jn-yl[1],zA=Es-yl[0],Hx=Ro-yl[1],Ir=1/Mg(AV((df*zA+M0*Hx)/(Vd(df*df+M0*M0)*Vd(zA*zA+Hx*Hx)))/2),ns=Vd(yl[0]*yl[0]+yl[1]*yl[1]);Tt=$T(Ot,(M-ns)/(Ir-1)),St=$T(Ot,(O-ns)/(Ir+1))}}tt>Kl?St>Kl?(Gt=WE(Rl,Xc,An,Jn,O,St,se),jt=WE(Es,Ro,Ar,Yr,O,St,se),p.moveTo(Gt.cx+Gt.x01,Gt.cy+Gt.y01),St<Ot?p.arc(Gt.cx,Gt.cy,St,ld(Gt.y01,Gt.x01),ld(jt.y01,jt.x01),!se):(p.arc(Gt.cx,Gt.cy,St,ld(Gt.y01,Gt.x01),ld(Gt.y11,Gt.x11),!se),p.arc(0,0,O,ld(Gt.cy+Gt.y11,Gt.cx+Gt.x11),ld(jt.cy+jt.y11,jt.cx+jt.x11),!se),p.arc(jt.cx,jt.cy,St,ld(jt.y11,jt.x11),ld(jt.y01,jt.x01),!se))):(p.moveTo(An,Jn),p.arc(0,0,O,ye,Ce,!se)):p.moveTo(An,Jn),M>Kl&&qe>Kl?Tt>Kl?(Gt=WE(Ar,Yr,Es,Ro,M,-Tt,se),jt=WE(An,Jn,Rl,Xc,M,-Tt,se),p.lineTo(Gt.cx+Gt.x01,Gt.cy+Gt.y01),Tt<Ot?p.arc(Gt.cx,Gt.cy,Tt,ld(Gt.y01,Gt.x01),ld(jt.y01,jt.x01),!se):(p.arc(Gt.cx,Gt.cy,Tt,ld(Gt.y01,Gt.x01),ld(Gt.y11,Gt.x11),!se),p.arc(0,0,M,ld(Gt.cy+Gt.y11,Gt.cx+Gt.x11),ld(jt.cy+jt.y11,jt.cx+jt.x11),se),p.arc(jt.cx,jt.cy,Tt,ld(jt.y11,jt.x11),ld(jt.y01,jt.x01),!se))):p.arc(0,0,M,Ue,Ve,se):p.lineTo(Ar,Yr)}else p.moveTo(0,0);if(p.closePath(),b)return p=null,b+""||null}return y.centroid=function(){var b=(+e.apply(this,arguments)+ +i.apply(this,arguments))/2,C=(+l.apply(this,arguments)+ +d.apply(this,arguments))/2-Ly/2;return[xv(C)*b,Mg(C)*b]},y.innerRadius=function(b){return arguments.length?(e="function"==typeof b?b:_a(+b),y):e},y.outerRadius=function(b){return arguments.length?(i="function"==typeof b?b:_a(+b),y):i},y.cornerRadius=function(b){return arguments.length?(a="function"==typeof b?b:_a(+b),y):a},y.padRadius=function(b){return arguments.length?(u=null==b?null:"function"==typeof b?b:_a(+b),y):u},y.startAngle=function(b){return arguments.length?(l="function"==typeof b?b:_a(+b),y):l},y.endAngle=function(b){return arguments.length?(d="function"==typeof b?b:_a(+b),y):d},y.padAngle=function(b){return arguments.length?(h="function"==typeof b?b:_a(+b),y):h},y.context=function(b){return arguments.length?(p=null==b?null:b,y):p},y}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),Jz=WV().x(cM).y1(UD).y0(e=>(e.y||0)+(e.height||0)).defined(Ek),Qz=WV().y(UD).x1(cM).x0(e=>(e.x||0)+(e.width||0)).defined(Ek),Sc=jV().x(cM).y(UD).defined(Ek),wq=dR().x(cM).y(UD).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>HD(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>HD(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>HD(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>HD(e.cornerRadiusBottomLeft,e.cornerRadius)||0),YD=function(e,i){var a=null;function u(){var l;if(a||(a=l=MD()),e.apply(this,arguments).draw(a,+i.apply(this,arguments)),l)return a=null,l+""||null}return e="function"==typeof e?e:_a(e||hQ),i="function"==typeof i?i:_a(void 0===i?64:+i),u.type=function(l){return arguments.length?(e="function"==typeof l?l:_a(l),u):e},u.size=function(l){return arguments.length?(i="function"==typeof l?l:_a(+l),u):i},u.context=function(l){return arguments.length?(a=null==l?null:l,u):a},u}().type(e=>Uz(e.shape||"circle")).size(e=>HD(e.size,64)),dM=Gz().x(cM).y(UD).defined(Ek).size(e=>e.size||1);function pR(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Uv(e,i,a,u){return wq.context(e)(i,a,u)}var Mk=1;function qz(){Mk=1}function Rs(e,i,a){var u=i.clip,l=e._defs,d=i.clip_id||(i.clip_id="clip"+Mk++),h=l.clipping[d]||(l.clipping[d]={id:d});return ur(u)?h.path=u(null):pR(a)?h.path=Uv(null,a,0,0):(h.width=a.width||0,h.height=a.height||0),"url(#"+d+")"}function Cl(e){this.clear(),e&&this.union(e)}function fM(e){this.mark=e,this.bounds=this.bounds||new Cl}function hM(e){fM.call(this,e),this.items=this.items||[]}function Sk(e){this._pending=0,this._loader=e||sv()}function Sq(e){e._pending+=1}function pM(e){e._pending-=1}function sl(e,i,a){if(i.stroke&&0!==i.opacity&&0!==i.strokeOpacity){const u=null!=i.strokeWidth?+i.strokeWidth:1;e.expand(u+(a?function(e,i){return e.strokeJoin&&"miter"!==e.strokeJoin?0:i}(i,u):0))}return e}Cl.prototype={clone(){return new Cl(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,i,a,u){return a<e?(this.x2=e,this.x1=a):(this.x1=e,this.x2=a),u<i?(this.y2=i,this.y1=u):(this.y1=i,this.y2=u),this},add(e,i){return e<this.x1&&(this.x1=e),i<this.y1&&(this.y1=i),e>this.x2&&(this.x2=e),i>this.y2&&(this.y2=i),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,i){return this.x1+=e,this.x2+=e,this.y1+=i,this.y2+=i,this},rotate(e,i,a){const u=this.rotatedPoints(e,i,a);return this.clear().add(u[0],u[1]).add(u[2],u[3]).add(u[4],u[5]).add(u[6],u[7])},rotatedPoints(e,i,a){var{x1:u,y1:l,x2:d,y2:h}=this,p=Math.cos(e),y=Math.sin(e),b=i-i*p+a*y,C=a-i*y-a*p;return[p*u-y*l+b,y*u+p*l+C,p*u-y*h+b,y*u+p*h+C,p*d-y*l+b,y*d+p*l+C,p*d-y*h+b,y*d+p*h+C]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,i){return!(e<this.x1||e>this.x2||i<this.y1||i>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},qt(hM,fM),Sk.prototype={pending(){return this._pending},sanitizeURL(e){const i=this;return Sq(i),i._loader.sanitize(e,{context:"href"}).then(a=>(pM(i),a)).catch(()=>(pM(i),null))},loadImage(e){const i=this,a="undefined"!=typeof Image?Image:null;return Sq(i),i._loader.sanitize(e,{context:"image"}).then(u=>{const l=u.href;if(!l||!a)throw{url:l};const d=new a,h=bn(u,"crossOrigin")?u.crossOrigin:"anonymous";return null!=h&&(d.crossOrigin=h),d.onload=()=>pM(i),d.onerror=()=>pM(i),d.src=l,d}).catch(u=>(pM(i),{complete:!1,width:0,height:0,src:u&&u.url||""}))},ready(){const e=this;return new Promise(i=>{!function a(u){e.pending()?setTimeout(()=>{a(!0)},10):i(u)}(!1)})}};const yR=dm-1e-8;let Yv,Ak,a_,Gv,ej,Tk,Ji,kk;const Kv=(e,i)=>Yv.add(e,i),o_=(e,i)=>Kv(Ak=e,a_=i),cd=e=>Kv(e,Yv.y1),tj=e=>Kv(Yv.x1,e),GD=(e,i)=>ej*e+Ji*i,Xv=(e,i)=>Tk*e+kk*i,vR=(e,i)=>Kv(GD(e,i),Xv(e,i)),bR=(e,i)=>o_(GD(e,i),Xv(e,i));function Zv(e,i){return Yv=e,i?(Gv=i*s_,ej=kk=Math.cos(Gv),Tk=Math.sin(Gv),Ji=-Tk):(ej=kk=1,Gv=Tk=Ji=0),Ik}const Ik={beginPath(){},closePath(){},moveTo:bR,lineTo:bR,rect(e,i,a,u){Gv?(vR(e+a,i),vR(e+a,i+u),vR(e,i+u),bR(e,i)):(Kv(e+a,i+u),o_(e,i))},quadraticCurveTo(e,i,a,u){const l=GD(e,i),d=Xv(e,i),h=GD(a,u),p=Xv(a,u);xR(Ak,l,h,cd),xR(a_,d,p,tj),o_(h,p)},bezierCurveTo(e,i,a,u,l,d){const h=GD(e,i),p=Xv(e,i),y=GD(a,u),b=Xv(a,u),C=GD(l,d),M=Xv(l,d);DR(Ak,h,y,C,cd),DR(a_,p,b,M,tj),o_(C,M)},arc(e,i,a,u,l,d){if(u+=Gv,l+=Gv,Ak=a*Math.cos(l)+e,a_=a*Math.sin(l)+i,Math.abs(l-u)>yR)Kv(e-a,i-a),Kv(e+a,i+a);else{const h=b=>Kv(a*Math.cos(b)+e,a*Math.sin(b)+i);let p,y;if(h(u),h(l),l!==u)if((u%=dm)<0&&(u+=dm),(l%=dm)<0&&(l+=dm),l<u&&(d=!d,p=u,u=l,l=p),d)for(l-=dm,p=u-u%Hv,y=0;y<4&&p>l;++y,p-=Hv)h(p);else for(p=u-u%Hv+Hv,y=0;y<4&&p<l;++y,p+=Hv)h(p)}}};function xR(e,i,a,u){const l=(e-i)/(e+a-2*i);0<l&&l<1&&u(e+(i-e)*l)}function DR(e,i,a,u,l){const d=u-e+3*i-3*a,h=e+a-2*i,p=e-i;let C,y=0,b=0;Math.abs(d)>1e-14?(C=h*h+p*d,C>=0&&(C=Math.sqrt(C),y=(-h+C)/d,b=(-h-C)/d)):y=.5*p/h,0<y&&y<1&&l(nj(y,e,i,a,u)),0<b&&b<1&&l(nj(b,e,i,a,u))}function nj(e,i,a,u,l){const d=1-e,h=d*d,p=e*e;return h*d*i+3*h*e*a+3*d*p*u+p*e*l}var Jv=(Jv=Cv(1,1))?Jv.getContext("2d"):null;const wR=new Cl;function CR(e){return function(i,a){if(!Jv)return!0;e(Jv,i),wR.clear().union(i.bounds).intersect(a).round();const{x1:u,y1:l,x2:d,y2:h}=wR;for(let p=l;p<=h;++p)for(let y=u;y<=d;++y)if(Jv.isPointInPath(y,p))return!0;return!1}}function ER(e,i){return i.contains(e.x||0,e.y||0)}function MR(e,i){const a=e.x||0,u=e.y||0;return i.intersects(wR.set(a,u,a+(e.width||0),u+(e.height||0)))}function SR(e,i){const a=e.x||0,u=e.y||0;return Qv(i,a,u,null!=e.x2?e.x2:a,null!=e.y2?e.y2:u)}function Qv(e,i,a,u,l){const{x1:d,y1:h,x2:p,y2:y}=e,b=u-i,C=l-a;let H,Y,te,se,M=0,O=1;for(se=0;se<4;++se){if(0===se&&(H=-b,Y=-(d-i)),1===se&&(H=b,Y=p-i),2===se&&(H=-C,Y=-(h-a)),3===se&&(H=C,Y=y-a),Math.abs(H)<1e-10&&Y<0)return!1;if(te=Y/H,H<0){if(te>O)return!1;te>M&&(M=te)}else if(H>0){if(te<M)return!1;te<O&&(O=te)}}return!0}function KD(e,i){e.globalCompositeOperation=i.blend||"source-over"}function fm(e,i){return null==e?i:e}function AR(e,i){const a=i.length;for(let u=0;u<a;++u)e.addColorStop(i[u].offset,i[u].color);return e}function rj(e,i,a){return Dk(a)?function(e,i,a){const u=a.width(),l=a.height();let d;if("radial"===i.gradient)d=e.createRadialGradient(a.x1+fm(i.x1,.5)*u,a.y1+fm(i.y1,.5)*l,Math.max(u,l)*fm(i.r1,0),a.x1+fm(i.x2,.5)*u,a.y1+fm(i.y2,.5)*l,Math.max(u,l)*fm(i.r2,.5));else{const h=fm(i.x1,0),p=fm(i.y1,0),y=fm(i.x2,1),b=fm(i.y2,0);if(h!==y&&p!==b&&u!==l){const C=Cv(Math.ceil(u),Math.ceil(l)),M=C.getContext("2d");return M.scale(u,l),M.fillStyle=AR(M.createLinearGradient(h,p,y,b),i.stops),M.fillRect(0,0,u,l),e.createPattern(C,"no-repeat")}d=e.createLinearGradient(a.x1+h*u,a.y1+p*l,a.x1+y*u,a.y1+b*l)}return AR(d,i.stops)}(e,a,i.bounds):a}function gM(e,i,a){return(a*=null==i.fillOpacity?1:i.fillOpacity)>0&&(e.globalAlpha=a,e.fillStyle=rj(e,i,i.fill),!0)}var XD=[];function u_(e,i,a){var u=null!=(u=i.strokeWidth)?u:1;return!(u<=0)&&(a*=null==i.strokeOpacity?1:i.strokeOpacity)>0&&(e.globalAlpha=a,e.strokeStyle=rj(e,i,i.stroke),e.lineWidth=u,e.lineCap=i.strokeCap||"butt",e.lineJoin=i.strokeJoin||"miter",e.miterLimit=i.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(i.strokeDash||XD),e.lineDashOffset=i.strokeDashOffset||0),!0)}function _M(e,i){return e.zindex-i.zindex||e.index-i.index}function TR(e){if(!e.zdirty)return e.zitems;var u,l,d,i=e.items,a=[];for(l=0,d=i.length;l<d;++l)(u=i[l]).index=l,u.zindex&&a.push(u);return e.zdirty=!1,e.zitems=a.sort(_M)}function hm(e,i){var u,l,a=e.items;if(!a||!a.length)return;const d=TR(e);if(d&&d.length){for(u=0,l=a.length;u<l;++u)a[u].zindex||i(a[u]);a=d}for(u=0,l=a.length;u<l;++u)i(a[u])}function kR(e,i){var u,l,a=e.items;if(!a||!a.length)return null;const d=TR(e);for(d&&d.length&&(a=d),l=a.length;--l>=0;)if(u=i(a[l]))return u;if(a===d)for(l=(a=e.items).length;--l>=0;)if(!a[l].zindex&&(u=i(a[l])))return u;return null}function IR(e){return function(i,a,u){hm(a,l=>{(!u||u.intersects(l.bounds))&&ij(e,i,l,l)})}}function Hd(e){return function(i,a,u){a.items.length&&(!u||u.intersects(a.bounds))&&ij(e,i,a.items[0],a.items)}}function ij(e,i,a,u){var l=null==a.opacity?1:a.opacity;0!==l&&(e(i,u)||(KD(i,a),a.fill&&gM(i,a,l)&&i.fill(),a.stroke&&u_(i,a,l)&&i.stroke()))}function Nk(e){return e=e||Aa,function(i,a,u,l,d,h){return u*=i.pixelRatio,l*=i.pixelRatio,kR(a,p=>{const y=p.bounds;if((!y||y.contains(d,h))&&y&&e(i,p,u,l,d,h))return p})}}function yM(e,i){return function(a,u,l,d){var b,C,h=Array.isArray(u)?u[0]:u,p=null==i?h.fill:i,y=h.stroke&&a.isPointInStroke;return y&&(C=h.strokeCap,a.lineWidth=null!=(b=h.strokeWidth)?b:1,a.lineCap=null!=C?C:"butt"),!e(a,u)&&(p&&a.isPointInPath(l,d)||y&&a.isPointInStroke(l,d))}}function NR(e){return Nk(yM(e))}function qv(e,i){return"translate("+e+","+i+")"}function OR(e){return"rotate("+e+")"}function Tq(e){return qv(e.x||0,e.y||0)}function LR(e,i,a){function d(h,p){var y=p.x||0,b=p.y||0,C=p.angle||0;h.translate(y,b),C&&h.rotate(C*=s_),h.beginPath(),i(h,p),C&&h.rotate(-C),h.translate(-y,-b)}return{type:e,tag:"path",nested:!1,attr:function(h,p){h("transform",function(e){return qv(e.x||0,e.y||0)+(e.angle?" "+OR(e.angle):"")}(p)),h("d",i(null,p))},bound:function(h,p){return i(Zv(h,p.angle),p),sl(h,p).translate(p.x||0,p.y||0)},draw:IR(d),pick:NR(d),isect:a||CR(d)}}var Iq=LR("arc",function(e,i){return Dq.context(e)(i)});function FR(e,i,a){function d(y,b){y.beginPath(),i(y,b)}const h=yM(d);return{type:e,tag:"path",nested:!0,attr:function(y,b){var C=b.mark.items;C.length&&y("d",i(null,C))},bound:function(y,b){var C=b.items;return 0===C.length?y:(i(Zv(y),C),sl(y,C[0]))},draw:Hd(d),pick:function(y,b,C,M,O,H){var Y=b.items,te=b.bounds;return!Y||!Y.length||te&&!te.contains(O,H)?null:h(y,Y,C*=y.pixelRatio,M*=y.pixelRatio)?Y[0]:null},isect:ER,tip:a}}var Oq=FR("area",function(e,i){const a=i[0];return("horizontal"===a.orient?Qz:Jz).curve(oR(a.interpolate||"linear",a.orient,a.tension)).context(e)(i)},function(e,i){for(var h,p,a="horizontal"===e[0].orient?i[1]:i[0],u="horizontal"===e[0].orient?"y":"x",l=e.length,d=1/0;--l>=0;)!1!==e[l].defined&&(p=Math.abs(e[l][u]-a))<d&&(d=p,h=e[l]);return h});function sj(e,i){e.beginPath(),pR(i)?Uv(e,i,0,0):e.rect(0,0,i.width||0,i.height||0),e.clip()}function Ud(e){const i=fm(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&i>.5&&i<1.5?.5-Math.abs(i-1):0}function aj(e,i){const a=Ud(i);e("d",Uv(null,i,a,a))}function ZD(e,i,a,u){const l=Ud(i);e.beginPath(),Uv(e,i,(a||0)+l,(u||0)+l)}const Fq=yM(ZD),Pq=yM(ZD,!1),cj=yM(ZD,!0);var Fk={type:"group",tag:"g",nested:!1,attr:function(e,i){e("transform",Tq(i))},bound:function(e,i){if(!i.clip&&i.items){const a=i.items,u=a.length;for(let l=0;l<u;++l)e.union(a[l].bounds)}return(i.clip||i.width||i.height)&&!i.noBound&&e.add(0,0).add(i.width||0,i.height||0),sl(e,i),e.translate(i.x||0,i.y||0)},draw:function(e,i,a){hm(i,u=>{const l=u.x||0,d=u.y||0,h=u.strokeForeground,p=null==u.opacity?1:u.opacity;(u.stroke||u.fill)&&p&&(ZD(e,u,l,d),KD(e,u),u.fill&&gM(e,u,p)&&e.fill(),u.stroke&&!h&&u_(e,u,p)&&e.stroke()),e.save(),e.translate(l,d),u.clip&&sj(e,u),a&&a.translate(-l,-d),hm(u,y=>{this.draw(e,y,a)}),a&&a.translate(l,d),e.restore(),h&&u.stroke&&p&&(ZD(e,u,l,d),KD(e,u),u_(e,u,p)&&e.stroke())})},pick:function(e,i,a,u,l,d){if(i.bounds&&!i.bounds.contains(l,d)||!i.items)return null;const h=a*e.pixelRatio,p=u*e.pixelRatio;return kR(i,y=>{let b,C,M;const O=y.bounds;if(O&&!O.contains(l,d))return;C=y.x||0,M=y.y||0;const te=y.clip;if(te&&(l<C||l>C+(y.width||0)||d<M||d>M+(y.height||0)))return;if(e.save(),e.translate(C,M),C=l-C,M=d-M,te&&pR(y)&&!cj(e,y,h,p))return e.restore(),null;const se=y.strokeForeground,ye=!1!==i.interactive;return ye&&se&&y.stroke&&Pq(e,y,h,p)?(e.restore(),y):(b=kR(y,Ce=>function(e,i,a){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(i,a)}(Ce,C,M)?this.pick(Ce,a,u,C,M):null),!b&&ye&&(y.fill||!se&&y.stroke)&&Fq(e,y,h,p)&&(b=y),e.restore(),b||null)})},isect:MR,content:function(e,i,a){e("clip-path",i.clip?Rs(a,i,i):null)},background:function(e,i){e("class","background"),e("aria-hidden",!0),aj(e,i)},foreground:function(e,i){e("class","foreground"),e("aria-hidden",!0),i.strokeForeground?aj(e,i):e("d","")}},Pk={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function tb(e,i){var a=e.image;return(!a||e.url&&e.url!==a.url)&&(a={complete:!1,width:0,height:0},i.loadImage(e.url).then(u=>{e.image=u,e.image.url=e.url})),a}function ha(e,i){return null!=e.width?e.width:i&&i.width?!1!==e.aspect&&e.height?e.height*i.width/i.height:i.width:0}function Lg(e,i){return null!=e.height?e.height:i&&i.height?!1!==e.aspect&&e.width?e.width*i.height/i.width:i.height:0}function l_(e,i){return"center"===e?i/2:"right"===e?i:0}function Gy(e,i){return"middle"===e?i/2:"bottom"===e?i:0}var RR={type:"image",tag:"image",nested:!1,attr:function(e,i,a){const u=tb(i,a),l=ha(i,u),d=Lg(i,u),h=(i.x||0)-l_(i.align,l),p=(i.y||0)-Gy(i.baseline,d);e("href",!u.src&&u.toDataURL?u.toDataURL():u.src||"",Pk["xmlns:xlink"],"xlink:href"),e("transform",qv(h,p)),e("width",l),e("height",d),e("preserveAspectRatio",!1===i.aspect?"none":"xMidYMid")},bound:function(e,i){const a=i.image,u=ha(i,a),l=Lg(i,a),d=(i.x||0)-l_(i.align,u),h=(i.y||0)-Gy(i.baseline,l);return e.set(d,h,d+u,h+l)},draw:function(e,i,a){hm(i,u=>{if(a&&!a.intersects(u.bounds))return;const l=tb(u,this);let d=ha(u,l),h=Lg(u,l);if(0===d||0===h)return;let b,C,M,O,p=(u.x||0)-l_(u.align,d),y=(u.y||0)-Gy(u.baseline,h);!1!==u.aspect&&(C=l.width/l.height,M=u.width/u.height,C==C&&M==M&&C!==M&&(M<C?(O=d/C,y+=(h-O)/2,h=O):(O=h*C,p+=(d-O)/2,d=O))),(l.complete||l.toDataURL)&&(KD(e,u),e.globalAlpha=null!=(b=u.opacity)?b:1,e.imageSmoothingEnabled=!1!==u.smooth,e.drawImage(l,p,y,d,h))})},pick:Nk(),isect:Aa,get:tb,xOffset:l_,yOffset:Gy},nb=FR("line",function(e,i){const a=i[0];return Sc.curve(oR(a.interpolate||"linear",a.orient,a.tension)).context(e)(i)},function(e,i){for(var l,d,a=Math.pow(e[0].strokeWidth||1,2),u=e.length;--u>=0;)if(!1!==e[u].defined&&(l=e[u].x-i[0])*l+(d=e[u].y-i[1])*d<a)return e[u];return null});function vM(e,i){var a=i.path;if(null==a)return!0;var u=i.x||0,l=i.y||0,d=i.scaleX||1,h=i.scaleY||1,p=(i.angle||0)*s_,y=i.pathCache;(!y||y.path!==a)&&((i.pathCache=y=Wv(a)).path=a),p&&e.rotate&&e.translate?(e.translate(u,l),e.rotate(p),lM(e,y,0,0,d,h),e.rotate(-p),e.translate(-u,-l)):lM(e,y,u,l,d,h)}var P_e={type:"path",tag:"path",nested:!1,attr:function(e,i){(1!==(i.scaleX||1)||1!==(i.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function(e){return qv(e.x||0,e.y||0)+(e.angle?" "+OR(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,i){return"scale("+e+","+i+")"}(e.scaleX||1,e.scaleY||1):"")}(i)),e("d",i.path)},bound:function(e,i){return vM(Zv(e,i.angle),i)?e.set(0,0,0,0):sl(e,i,!0)},draw:IR(vM),pick:NR(vM),isect:CR(vM)};function Ah(e,i){e.beginPath(),Uv(e,i)}var fu={type:"rect",tag:"path",nested:!1,attr:function(e,i){e("d",Uv(null,i))},bound:function(e,i){var a,u;return sl(e.set(a=i.x||0,u=i.y||0,a+i.width||0,u+i.height||0),i)},draw:IR(Ah),pick:NR(Ah),isect:MR};function pj(e,i,a){var u,l,d,h;return!(!i.stroke||!u_(e,i,a)||(u=i.x||0,l=i.y||0,d=null!=i.x2?i.x2:u,h=null!=i.y2?i.y2:l,e.beginPath(),e.moveTo(u,l),e.lineTo(d,h),0))}var JD={type:"rule",tag:"line",nested:!1,attr:function(e,i){e("transform",Tq(i)),e("x2",null!=i.x2?i.x2-(i.x||0):0),e("y2",null!=i.y2?i.y2-(i.y||0):0)},bound:function(e,i){var a,u;return sl(e.set(a=i.x||0,u=i.y||0,null!=i.x2?i.x2:a,null!=i.y2?i.y2:u),i)},draw:function(e,i,a){hm(i,u=>{if(!a||a.intersects(u.bounds)){var l=null==u.opacity?1:u.opacity;l&&pj(e,u,l)&&(KD(e,u),e.stroke())}})},pick:Nk(function(e,i,a,u){return!!e.isPointInStroke&&pj(e,i,1)&&e.isPointInStroke(a,u)}),isect:SR},bM=LR("shape",function(e,i){return(i.mark.shape||i.shape).context(e)(i)}),Vq=LR("symbol",function(e,i){return YD.context(e)(i)},ER);const Ky=Ni();var Fg={height:Yd,measureWidth:DM,estimateWidth:xM,width:xM,canvas:$R};function $R(e){Fg.width=e&&Jv?DM:xM}function xM(e,i){return QD(c_(e,i),Yd(e))}function QD(e,i){return~~(.8*e.length*i)}function DM(e,i){return Yd(e)<=0||!(i=c_(e,i))?0:VR(i,ew(e))}function VR(e,i){const a=`(${i}) ${e}`;let u=Ky.get(a);return void 0===u&&(Jv.font=i,u=Jv.measureText(e).width,Ky.set(a,u)),u}function Yd(e){return null!=e.fontSize?+e.fontSize||0:11}function Xy(e){return null!=e.lineHeight?e.lineHeight:Yd(e)+2}function qD(e){return function(e){return Sn(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!Sn(e.text)?e.text.split(e.lineBreak):e.text)}function Bk(e){const i=qD(e);return(Sn(i)?i.length-1:0)*Xy(e)}function c_(e,i){const a=null==i?"":(i+"").trim();return e.limit>0&&a.length?function(e,i){var a=+e.limit,u=function(e){if(Fg.width===DM){const i=ew(e);return a=>VR(a,i)}{const i=Yd(e);return a=>QD(a,i)}}(e);if(u(i)<a)return i;var y,l=e.ellipsis||"\u2026",d="rtl"===e.dir,h=0,p=i.length;if(a-=u(l),d){for(;h<p;)u(i.slice(y=h+p>>>1))>a?h=y+1:p=y;return l+i.slice(h)}for(;h<p;)u(i.slice(0,y=1+(h+p>>>1)))<a?h=y:p=y-1;return i.slice(0,h)+l}(e,a):a}function rb(e,i){var a=e.font;return(i&&a?String(a).replace(/"/g,"'"):a)||"sans-serif"}function ew(e,i){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Yd(e)+"px "+rb(e,i)}function gj(e){var i=e.baseline,a=Yd(e);return Math.round("top"===i?.79*a:"middle"===i?.3*a:"bottom"===i?-.21*a:"line-top"===i?.29*a+.5*Xy(e):"line-bottom"===i?.29*a-.5*Xy(e):0)}$R(!0);const R_e={left:"start",center:"middle",right:"end"},bi=new Cl;function zR(e){var l,i=e.x||0,a=e.y||0,u=e.radius||0;return u&&(l=(e.theta||0)-Hv,i+=u*Math.cos(l),a+=u*Math.sin(l)),bi.x1=i,bi.y1=a,bi}function jR(e,i,a){var M,u=Fg.height(i),l=i.align,d=zR(i),h=d.x1,p=d.y1,y=i.dx||0,b=(i.dy||0)+gj(i)-Math.round(.8*u),C=qD(i);if(Sn(C)?(u+=Xy(i)*(C.length-1),M=C.reduce((O,H)=>Math.max(O,Fg.width(i,H)),0)):M=Fg.width(i,C),"center"===l?y-=M/2:"right"===l&&(y-=M),e.set(y+=h,b+=p,y+M,b+u),i.angle&&!a)e.rotate(i.angle*s_,h,p);else if(2===a)return e.rotatedPoints(i.angle*s_,h,p);return e}var Za={arc:Iq,area:Oq,group:Fk,image:RR,line:nb,path:P_e,rect:fu,rule:JD,shape:bM,symbol:Vq,text:{type:"text",tag:"text",nested:!1,attr:function(e,i){var y,a=i.dx||0,u=(i.dy||0)+gj(i),l=zR(i),d=l.x1,h=l.y1,p=i.angle||0;e("text-anchor",R_e[i.align]||"start"),p?(y=qv(d,h)+" "+OR(p),(a||u)&&(y+=" "+qv(a,u))):y=qv(d+a,h+u),e("transform",y)},bound:jR,draw:function(e,i,a){hm(i,u=>{var d,h,p,y,b,C,M,l=null==u.opacity?1:u.opacity;if(!(a&&!a.intersects(u.bounds)||0===l||u.fontSize<=0||null==u.text||0===u.text.length)){if(e.font=ew(u),e.textAlign=u.align||"left",h=(d=zR(u)).x1,p=d.y1,u.angle&&(e.save(),e.translate(h,p),e.rotate(u.angle*s_),h=p=0),h+=u.dx||0,p+=(u.dy||0)+gj(u),C=qD(u),KD(e,u),Sn(C))for(b=Xy(u),y=0;y<C.length;++y)M=c_(u,C[y]),u.fill&&gM(e,u,l)&&e.fillText(M,h,p),u.stroke&&u_(e,u,l)&&e.strokeText(M,h,p),p+=b;else M=c_(u,C),u.fill&&gM(e,u,l)&&e.fillText(M,h,p),u.stroke&&u_(e,u,l)&&e.strokeText(M,h,p);u.angle&&e.restore()}})},pick:Nk(function(e,i,a,u,l,d){if(i.fontSize<=0)return!1;if(!i.angle)return!0;var h=zR(i),p=h.x1,y=h.y1,b=jR(bi,i,1),C=-i.angle*s_,M=Math.cos(C),O=Math.sin(C);return b.contains(M*l-O*d+(p-M*p+O*y),O*l+M*d+(y-O*p-M*y))}),isect:function(e,i){const a=jR(bi,e,2);return Qv(i,a[0],a[1],a[2],a[3])||Qv(i,a[0],a[1],a[4],a[5])||Qv(i,a[4],a[5],a[6],a[7])||Qv(i,a[2],a[3],a[6],a[7])}},trail:FR("trail",function(e,i){return dM.context(e)(i)},function(e,i){for(var u,l,a=e.length;--a>=0;)if(!1!==e[a].defined&&(u=e[a].x-i[0])*u+(l=e[a].y-i[1])*l<(u=e[a].size||1)*u)return e[a];return null})};function WR(e,i,a){var u=Za[e.mark.marktype];return u.nested&&(e=e.mark),(i||u.bound)(e.bounds||(e.bounds=new Cl),e,a)}var _j={mark:null};function Vk(e,i,a){var p,y,b,C,u=Za[e.marktype],l=u.bound,d=e.items,h=d&&d.length;if(u.nested)return h?b=d[0]:(_j.mark=e,b=_j),C=WR(b,l,a),i&&i.union(C)||C;if(i=i||e.bounds&&e.bounds.clear()||new Cl,h)for(p=0,y=d.length;p<y;++p)i.union(WR(d[p],l,a));return e.bounds=i}const Uq=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function yj(e,i){return JSON.stringify(e,Uq,i)}function vj(e){return bj("string"==typeof e?JSON.parse(e):e)}function bj(e){var u,l,d,i=e.marktype,a=e.items;if(a)for(l=0,d=a.length;l<d;++l)a[l][u=i?"mark":"group"]=e,a[l].zindex&&(a[l][u].zdirty=!0),"group"===(i||u)&&bj(a[l]);return i&&Vk(e),e}function HR(e){arguments.length?this.root=vj(e):(this.root=xj({marktype:"group",name:"root",role:"frame"}),this.root.items=[new hM(this.root)])}function xj(e,i){const a={bounds:new Cl,clip:!!e.clip,group:i,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(a.aria=e.aria),e.description&&(a.description=e.description),a}function Pg(e,i,a){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?a?e.createElementNS(a,i):e.createElement(i):null}function UR(e,i){i=i.toLowerCase();for(var a=e.childNodes,u=0,l=a.length;u<l;++u)if(a[u].tagName.toLowerCase()===i)return a[u]}function Tf(e,i,a,u){var d,l=e.childNodes[i];return(!l||l.tagName.toLowerCase()!==a.toLowerCase())&&(d=l||null,l=Pg(e.ownerDocument,a,u),e.insertBefore(l,d)),l}function _p(e,i){for(var a=e.childNodes,u=a.length;u>i;)e.removeChild(a[--u]);return e}function zk(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function jk(e,i){const a=i.getBoundingClientRect();return[e.clientX-a.left-(i.clientLeft||0),e.clientY-a.top-(i.clientTop||0)]}function Zy(e,i){this._active=null,this._handlers={},this._loader=e||sv(),this._tooltip=i||Yq}function Yq(e,i,a,u){e.element().setAttribute("title",u||"")}function Rg(e){this._el=null,this._bgcolor=null,this._loader=new Sk(e)}HR.prototype={toJSON(e){return yj(this.root,e||0)},mark(e,i,a){const u=xj(e,i=i||this.root.items[0]);return i.items[a]=u,u.zindex&&(u.group.zdirty=!0),u}},Zy.prototype={initialize(e,i,a){return this._el=e,this._obj=a||null,this.origin(i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,i,a){for(let u=e?e.length:0;--u>=0;)if(e[u].type===i&&(!a||e[u].handler===a))return u;return-1},handlers(e){const i=this._handlers,a=[];if(e)a.push(...i[this.eventName(e)]);else for(const u in i)a.push(...i[u]);return a},eventName(e){const i=e.indexOf(".");return i<0?e:e.slice(0,i)},handleHref(e,i,a){this._loader.sanitize(a,{context:"href"}).then(u=>{const l=new MouseEvent(e.type,e),d=Pg(null,"a");for(const h in u)d.setAttribute(h,u[h]);d.dispatchEvent(l)}).catch(()=>{})},handleTooltip(e,i,a){i&&null!=i.tooltip&&(i=function(e,i,a,u){var d,h,l=e&&e.mark;if(l&&(d=Za[l.marktype]).tip){for((h=jk(i,a))[0]-=u[0],h[1]-=u[1];e=e.mark.group;)h[0]-=e.x||0,h[1]-=e.y||0;e=d.tip(l.items,h)}return e}(i,e,this.canvas(),this._origin),this._tooltip.call(this._obj,this,e,i,a&&i&&i.tooltip||null))},getItemBoundingClientRect(e){const i=this.canvas();if(!i)return;const a=i.getBoundingClientRect(),u=this._origin,l=e.bounds,d=l.width(),h=l.height();let p=l.x1+u[0]+a.left,y=l.y1+u[1]+a.top;for(;e.mark&&(e=e.mark.group);)p+=e.x||0,y+=e.y||0;return{x:p,y,width:d,height:h,left:p,top:y,right:p+d,bottom:y+h}}},Rg.prototype={initialize(e,i,a,u,l){return this._el=e,this.resize(i,a,u,l)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,i,a,u){return this._width=e,this._height=i,this._origin=a||[0,0],this._scale=u||1,this},dirty(){},render(e){const i=this;return i._call=function(){i._render(e)},i._call(),i._call=null,i},_render(){},renderAsync(e){const i=this.render(e);return this._ready?this._ready.then(()=>i):Promise.resolve(i)},_load(e,i){var a=this,u=a._loader[e](i);if(!a._ready){const l=a._call;a._ready=a._loader.ready().then(d=>{d&&l(),a._ready=null})}return u},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const tw="dragenter",Wk="dragleave",Dj="dragover",Hk="mousedown",YR="mousemove",nw="mouseout",wj="mouseover",Uk="click",Cj="mousewheel",EM="touchstart",Yk="touchmove",Gk="touchend",Ej=YR,Kk=nw,MM=Uk;function SM(e,i){Zy.call(this,e,i),this._down=null,this._touch=null,this._first=!0,this._events={}}function Mj(e,i){(e=>e===EM||e===Yk||e===Gk?[EM,Yk,Gk]:[e])(i).forEach(a=>function(e,i){const a=e.canvas();a&&!e._events[i]&&(e._events[i]=1,a.addEventListener(i,e[i]?u=>e[i](u):u=>e.fire(i,u)))}(e,a))}function Sj(e,i,a){return function(u){const l=this._active,d=this.pickEvent(u);d===l||((!l||!l.exit)&&this.fire(a,u),this._active=d,this.fire(i,u)),this.fire(e,u)}}function Aj(e){return function(i){this.fire(e,i),this._active=null}}qt(SM,Zy,{initialize(e,i,a){return this._canvas=e&&UR(e,"canvas"),[Uk,Hk,YR,nw,Wk].forEach(u=>Mj(this,u)),Zy.prototype.initialize.call(this,e,i,a)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",tw,Wk,Dj,Hk,"mouseup",YR,nw,wj,Uk,"dblclick","wheel",Cj,EM,Yk,Gk],DOMMouseScroll(e){this.fire(Cj,e)},mousemove:Sj(YR,wj,nw),dragover:Sj(Dj,tw,Wk),mouseout:Aj(nw),dragleave:Aj(Wk),mousedown(e){this._down=this._active,this.fire(Hk,e)},click(e){this._down===this._active&&(this.fire(Uk,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(EM,e,!0)},touchmove(e){this.fire(Yk,e,!0)},touchend(e){this.fire(Gk,e,!0),this._touch=null},fire(e,i,a){const u=a?this._touch:this._active,l=this._handlers[e];if(i.vegaType=e,e===MM&&u&&u.href?this.handleHref(i,u,u.href):(e===Ej||e===Kk)&&this.handleTooltip(i,u,e!==Kk),l)for(let d=0,h=l.length;d<h;++d)l[d].handler.call(this._obj,i,u)},on(e,i){const a=this.eventName(e),u=this._handlers;return this._handlerIndex(u[a],e,i)<0&&(Mj(this,e),(u[a]||(u[a]=[])).push({type:e,handler:i})),this},off(e,i){const a=this.eventName(e),u=this._handlers[a],l=this._handlerIndex(u,e,i);return l>=0&&u.splice(l,1),this},pickEvent(e){const i=jk(e,this._canvas),a=this._origin;return this.pick(this._scene,i[0],i[1],i[0]-a[0],i[1]-a[1])},pick(e,i,a,u,l){const d=this.context();return Za[e.marktype].pick.call(this,d,e,i,a,u,l)}});var GR="undefined"!=typeof window&&window.devicePixelRatio||1;function d_(e){Rg.call(this,e),this._options={},this._redraw=!1,this._dirty=new Cl,this._tempb=new Cl}const Ac=Rg.prototype;function AM(e,i){Zy.call(this,e,i);const a=this;a._hrefHandler=KR(a,(u,l)=>{l&&l.href&&a.handleHref(u,l,l.href)}),a._tooltipHandler=KR(a,(u,l)=>{a.handleTooltip(u,l,u.type!==Kk)})}qt(d_,Rg,{initialize(e,i,a,u,l,d){return this._options=d||{},this._canvas=this._options.externalContext?null:Cv(1,1),e&&this._canvas&&(_p(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Ac.initialize.call(this,e,i,a,u,l)},resize(e,i,a,u){if(Ac.resize.call(this,e,i,a,u),this._canvas)!function(e,i,a,u,l,d){const h="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,p=e.getContext("2d"),y=h?GR:l;e.width=i*y,e.height=a*y;for(const b in d)p[b]=d[b];h&&1!==y&&(e.style.width=i+"px",e.style.height=a+"px"),p.pixelRatio=y,p.setTransform(y,0,0,y,y*u[0],y*u[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const l=this._options.externalContext;l||Pt("CanvasRenderer is missing a valid canvas or context"),l.scale(this._scale,this._scale),l.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const i=this._tempb.clear().union(e.bounds);let a=e.mark.group;for(;a;)i.translate(a.x||0,a.y||0),a=a.mark.group;this._dirty.union(i)},_render(e){const i=this.context(),a=this._origin,u=this._width,l=this._height,d=this._dirty,h=((e,i,a)=>(new Cl).set(0,0,i,a).translate(-e[0],-e[1]))(a,u,l);i.save();const p=this._redraw||d.empty()?(this._redraw=!1,h.expand(1)):function(e,i,a){return i.expand(1).round(),e.pixelRatio%1&&i.scale(e.pixelRatio).round().scale(1/e.pixelRatio),i.translate(-a[0]%1,-a[1]%1),e.beginPath(),e.rect(i.x1,i.y1,i.width(),i.height()),e.clip(),i}(i,h.intersect(d),a);return this.clear(-a[0],-a[1],u,l),this.draw(i,e,p),i.restore(),d.clear(),this},draw(e,i,a){const u=Za[i.marktype];i.clip&&function(e,i){var a=i.clip;e.save(),ur(a)?(e.beginPath(),a(e),e.clip()):sj(e,i.group)}(e,i),u.draw.call(this,e,i,a),i.clip&&e.restore()},clear(e,i,a,u){const l=this._options,d=this.context();"pdf"!==l.type&&!l.externalContext&&d.clearRect(e,i,a,u),null!=this._bgcolor&&(d.fillStyle=this._bgcolor,d.fillRect(e,i,a,u))}});const KR=(e,i)=>a=>{let u=a.target.__data__;u=Array.isArray(u)?u[0]:u,a.vegaType=a.type,i.call(e._obj,a,u)};qt(AM,Zy,{initialize(e,i,a){let u=this._svg;return u&&(u.removeEventListener(MM,this._hrefHandler),u.removeEventListener(Ej,this._tooltipHandler),u.removeEventListener(Kk,this._tooltipHandler)),this._svg=u=e&&UR(e,"svg"),u&&(u.addEventListener(MM,this._hrefHandler),u.addEventListener(Ej,this._tooltipHandler),u.addEventListener(Kk,this._tooltipHandler)),Zy.prototype.initialize.call(this,e,i,a)},canvas(){return this._svg},on(e,i){const a=this.eventName(e),u=this._handlers;if(this._handlerIndex(u[a],e,i)<0){const d={type:e,handler:i,listener:KR(this,i)};(u[a]||(u[a]=[])).push(d),this._svg&&this._svg.addEventListener(a,d.listener)}return this},off(e,i){const a=this.eventName(e),u=this._handlers[a],l=this._handlerIndex(u,e,i);return l>=0&&(this._svg&&this._svg.removeEventListener(a,u[l].listener),u.splice(l,1)),this}});const XR="aria-hidden",Xk="aria-label",Zk="role",ZR="aria-roledescription",Ij="graphics-object",JR="graphics-symbol",QR=(e,i,a)=>({[Zk]:e,[ZR]:i,[Xk]:a||void 0}),tee=Di(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),nee={axis:{desc:"axis",caption:function(e){const i=e.datum,a=e.orient,u=i.title?Rj(e):null,l=e.context,d=l.scales[i.scale].value,h=l.dataflow.locale(),p=d.type;return("left"===a||"right"===a?"Y":"X")+"-axis"+(u?` titled '${u}'`:"")+` for a ${RD(p)?"discrete":p} scale with ${Vz(h,d,e)}`}},legend:{desc:"legend",caption:function(e){const i=e.datum,a=i.title?Rj(e):null,u=`${i.type||""} legend`.trim(),l=i.scales,d=Object.keys(l),h=e.context,p=h.scales[l[d[0]]].value,y=h.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(u)+(a?` titled '${a}'`:"")+` for ${function(e){return(e=e.map(i=>i+("fill"===i||"stroke"===i?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Kr(e)}(d)} with ${Vz(y,p,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${Fj(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Fj(e)}'`}},Nj={ariaRole:Zk,ariaRoleDescription:ZR,description:Xk};function Oj(e,i){const a=!1===i.aria;if(e(XR,a||void 0),a||null==i.description)for(const u in Nj)e(Nj[u],void 0);else{const u=i.mark.marktype;e(Xk,i.description),e(Zk,i.ariaRole||("group"===u?Ij:JR)),e(ZR,i.ariaRoleDescription||`${u} mark`)}}function ib(e){return!1===e.aria?{[XR]:!0}:tee[e.role]?null:nee[e.role]?function(e,i){try{const a=e.items[0],u=i.caption||(()=>"");return QR(i.role||JR,i.desc,a.description||u(a))}catch(a){return null}}(e,nee[e.role]):function(e){const i=e.marktype,a="group"===i||"text"===i||e.items.some(u=>null!=u.description&&!1!==u.aria);return QR(a?Ij:JR,`${i} mark container`,e.description)}(e)}function Fj(e){return Mr(e.text).join(" ")}function Rj(e){try{return Mr(Kr(e.items).items[0].text).join(" ")}catch(i){return null}}const TM=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function rw(){let e="",i="",a="";const u=[],l=()=>i=a="",h=(y,b)=>(null!=b&&(i+=` ${y}="${(e=>TM(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))(b)}"`),p),p={open(y,...b){(y=>{i&&(e+=`${i}>${a}`,l()),u.push(y)})(y),i="<"+y;for(const C of b)for(const M in C)h(M,C[M]);return p},close(){const y=u.pop();return e+=i?i+(a?`>${a}</${y}>`:"/>"):`</${y}>`,l(),p},attr:h,text:y=>(a+=TM(y),p),toString:()=>e};return p}const Bj=e=>$j(rw(),e)+"";function $j(e,i){if(e.open(i.tagName),i.hasAttributes()){const a=i.attributes,u=a.length;for(let l=0;l<u;++l)e.attr(a[l].name,a[l].value)}if(i.hasChildNodes()){const a=i.childNodes,u=a.length;for(let l=0;l<u;l++){const d=a[l];3===d.nodeType?e.text(d.nodeValue):$j(e,d)}}return e.close()}const Jk={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Vj={fill:"none","stroke-miterlimit":10},zj="http://www.w3.org/2000/xmlns/",hu=Pk.xmlns;function Qk(e){Rg.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const qk=Rg.prototype;function e3(e,i){for(;e&&e.dirty!==i;e=e.mark.group){if(e.dirty=i,!e.mark||e.mark.dirty===i)return;e.mark.dirty=i}}function jj(e,i,a){let u,l,d;if("radial"===i.gradient){let h=Tf(e,a++,"pattern",hu);yp(h,{id:"p_"+i.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),h=Tf(h,0,"rect",hu),yp(h,{width:1,height:1,fill:`url(${Hr()}#${i.id})`}),yp(e=Tf(e,a++,"radialGradient",hu),{id:i.id,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})}else yp(e=Tf(e,a++,"linearGradient",hu),{id:i.id,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(u=0,l=i.stops.length;u<l;++u)d=Tf(e,u,"stop",hu),d.setAttribute("offset",i.stops[u].offset),d.setAttribute("stop-color",i.stops[u].color);return _p(e,u),a}function Wj(e,i,a){let u;return(e=Tf(e,a,"clipPath",hu)).setAttribute("id",i.id),i.path?(u=Tf(e,0,"path",hu),u.setAttribute("d",i.path)):(u=Tf(e,0,"rect",hu),yp(u,{x:0,y:0,width:i.width,height:i.height})),_p(e,1),a+1}function Hj(e,i,a,u,l){let h,d=e._svg;if(!d&&(h=i.ownerDocument,d=Pg(h,u,hu),e._svg=d,e.mark&&(d.__data__=e,d.__values__={fill:"default"},"g"===u))){const p=Pg(h,"path",hu);d.appendChild(p),p.__data__=e;const y=Pg(h,"g",hu);d.appendChild(y),y.__data__=e;const b=Pg(h,"path",hu);d.appendChild(b),b.__data__=e,b.__values__={fill:"default"}}return(d.ownerSVGElement!==l||function(e,i){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=i}(d,a))&&i.insertBefore(d,a?a.nextSibling:i.firstChild),d}qt(Qk,Rg,{initialize(e,i,a,u,l){return this._defs={},this._clearDefs(),e&&(this._svg=Tf(e,0,"svg",hu),this._svg.setAttributeNS(zj,"xmlns",hu),this._svg.setAttributeNS(zj,"xmlns:xlink",Pk["xmlns:xlink"]),this._svg.setAttribute("version",Pk.version),this._svg.setAttribute("class","marks"),_p(e,1),this._root=Tf(this._svg,0,"g",hu),yp(this._root,Vj),_p(this._svg,1)),this.background(this._bgcolor),qk.initialize.call(this,e,i,a,u,l)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),qk.background.apply(this,arguments)},resize(e,i,a,u){return qk.resize.call(this,e,i,a,u),this._svg&&(yp(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,i=this._bgcolor;if(!e)return null;let a;i&&(e.removeAttribute("style"),a=Tf(e,0,"rect",hu),yp(a,{width:this._width,height:this._height,fill:i}));const u=Bj(e);return i&&(e.removeChild(a),this._svg.style.setProperty("background-color",i)),u},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),_p(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const i=++this._dirtyID;let a,u,l,d,h,p,y;for(h=0,p=e.length;h<p;++h)if(a=e[h],u=a.mark,u.marktype!==l&&(l=u.marktype,d=Za[l]),u.zdirty&&u.dirty!==i&&(this._dirtyAll=!1,e3(a,i),u.items.forEach(b=>{b.dirty=i})),!u.zdirty){if(a.exit){d.nested&&u.items.length?(y=u.items[0],y._svg&&this._update(d,y._svg,y)):a._svg&&(y=a._svg.parentNode,y&&y.removeChild(a._svg)),a._svg=null;continue}a=d.nested?u.items[0]:a,a._update!==i&&(a._svg&&a._svg.ownerSVGElement?this._update(d,a._svg,a):(this._dirtyAll=!1,e3(a,i)),a._update=i)}return!this._dirtyAll},mark(e,i,a){if(!this.isDirty(i))return i._svg;const u=this._svg,l=Za[i.marktype],d=!1===i.interactive?"none":null,h="g"===l.tag;let p=null,y=0;const b=Hj(i,e,a,"g",u);b.setAttribute("class",zk(i));const C=ib(i);for(const O in C)Gd(b,O,C[O]);h||Gd(b,"pointer-events",d),Gd(b,"clip-path",i.clip?Rs(this,i,i.group):null);const M=O=>{const H=this.isDirty(O),Y=Hj(O,b,p,l.tag,u);H&&(this._update(l,Y,O),h&&function(e,i,a){i=i.lastChild.previousSibling;let u,l=0;hm(a,d=>{u=e.mark(i,d,u),++l}),_p(i,1+l)}(this,Y,O)),p=Y,++y};return l.nested?i.items.length&&M(i.items[0]):hm(i,M),_p(b,y),b},_update(e,i,a){f_=i,dd=i.__values__,Oj(NM,a),e.attr(NM,a,this);const u=iee[e.type];u&&u.call(this,e,i,a),f_&&this.style(f_,a)},style(e,i){if(null!=i)for(const a in Jk){let u="font"===a?rb(i):i[a];if(u===dd[a])continue;const l=Jk[a];null==u?e.removeAttribute(l):(Dk(u)&&(u=aR(u,this._defs.gradient,Hr())),e.setAttribute(l,u+"")),dd[a]=u}},defs(){const e=this._svg,i=this._defs;let a=i.el,u=0;for(const l in i.gradient)a||(i.el=a=Tf(e,1,"defs",hu)),u=jj(a,i.gradient[l],u);for(const l in i.clipping)a||(i.el=a=Tf(e,1,"defs",hu)),u=Wj(a,i.clipping[l],u);a&&(0===u?(e.removeChild(a),i.el=null):_p(a,u))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let f_=null,dd=null;const iee={group(e,i,a){const u=f_=i.childNodes[2];dd=u.__values__,e.foreground(NM,a,this),dd=i.__values__,f_=i.childNodes[1],e.content(NM,a,this);const l=f_=i.childNodes[0];e.background(NM,a,this);const d=!1===a.mark.interactive?"none":null;if(d!==dd.events&&(Gd(u,"pointer-events",d),Gd(l,"pointer-events",d),dd.events=d),a.strokeForeground&&a.stroke){const h=a.fill;Gd(u,"display",null),this.style(l,a),Gd(l,"stroke",null),h&&(a.fill=null),dd=u.__values__,this.style(u,a),h&&(a.fill=h),f_=null}else Gd(u,"display","none")},image(e,i,a){!1===a.smooth?(sb(i,"image-rendering","optimizeSpeed"),sb(i,"image-rendering","pixelated")):sb(i,"image-rendering",null)},text(e,i,a){const u=qD(a);let l,d,h,p;Sn(u)?(d=u.map(y=>c_(a,y)),l=d.join("\n"),l!==dd.text&&(_p(i,0),h=i.ownerDocument,p=Xy(a),d.forEach((y,b)=>{const C=Pg(h,"tspan",hu);C.__data__=a,C.textContent=y,b&&(C.setAttribute("x",0),C.setAttribute("dy",p)),i.appendChild(C)}),dd.text=l)):(d=c_(a,u),d!==dd.text&&(i.textContent=d,dd.text=d)),Gd(i,"font-family",rb(a)),Gd(i,"font-size",Yd(a)+"px"),Gd(i,"font-style",a.fontStyle),Gd(i,"font-variant",a.fontVariant),Gd(i,"font-weight",a.fontWeight)}};function NM(e,i,a){i!==dd[e]&&(a?function(e,i,a,u){null!=a?e.setAttributeNS(u,i,a):e.removeAttributeNS(u,i)}(f_,e,i,a):Gd(f_,e,i),dd[e]=i)}function sb(e,i,a){a!==dd[i]&&(null==a?e.style.removeProperty(i):e.style.setProperty(i,a+""),dd[i]=a)}function yp(e,i){for(const a in i)Gd(e,a,i[a])}function Gd(e,i,a){null!=a?e.setAttribute(i,a):e.removeAttribute(i)}function Hr(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function i3(e){Rg.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}qt(i3,Rg,{svg(){return this._text},_render(e){const i=rw();i.open("svg",Nt({},Pk,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const a=this._bgcolor;return a&&"transparent"!==a&&"none"!==a&&i.open("rect",{width:this._width,height:this._height,fill:a}).close(),i.open("g",Vj,{transform:"translate("+this._origin+")"}),this.mark(i,e),i.close(),this.defs(i),this._text=i.close()+"",this},mark(e,i){const a=Za[i.marktype],u=a.tag,l=[Oj,a.attr];e.open("g",{class:zk(i),"clip-path":i.clip?Rs(this,i,i.group):null},ib(i),{"pointer-events":"g"!==u&&!1===i.interactive?"none":null});const d=h=>{const p=this.href(h);if(p&&e.open("a",p),e.open(u,this.attr(i,h,l,"g"!==u?u:null)),"text"===u){const y=qD(h);if(Sn(y)){const b={x:0,dy:Xy(h)};for(let C=0;C<y.length;++C)e.open("tspan",C?b:null).text(c_(h,y[C])).close()}else e.text(c_(h,y))}else if("g"===u){const y=h.strokeForeground,b=h.fill,C=h.stroke;y&&C&&(h.stroke=null),e.open("path",this.attr(i,h,a.background,"bgrect")).close(),e.open("g",this.attr(i,h,a.content)),hm(h,M=>this.mark(e,M)),e.close(),y&&C?(b&&(h.fill=null),h.stroke=C,e.open("path",this.attr(i,h,a.foreground,"bgrect")).close(),b&&(h.fill=b)):e.open("path",this.attr(i,h,a.foreground,"bgfore")).close()}e.close(),p&&e.close()};return a.nested?i.items&&i.items.length&&d(i.items[0]):hm(i,d),e.close()},href(e){const i=e.href;let a;if(i){if(a=this._hrefs&&this._hrefs[i])return a;this.sanitizeURL(i).then(u=>{u["xlink:href"]=u.href,u.href=null,(this._hrefs||(this._hrefs={}))[i]=u})}return null},attr(e,i,a,u){const l={},d=(h,p,y,b)=>{l[b||h]=p};return Array.isArray(a)?a.forEach(h=>h(d,i,this)):a(d,i,this),u&&function(e,i,a,u,l){if(null==i||("bgrect"===u&&!1===a.interactive&&(e["pointer-events"]="none"),"bgfore"===u&&(!1===a.interactive&&(e["pointer-events"]="none"),e.display="none",null!==i.fill)))return e;"image"===u&&!1===i.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===u&&(e["font-family"]=rb(i),e["font-size"]=Yd(i)+"px",e["font-style"]=i.fontStyle,e["font-variant"]=i.fontVariant,e["font-weight"]=i.fontWeight);for(const d in Jk){let h=i[d];const p=Jk[d];"transparent"===h&&("fill"===p||"stroke"===p)||null!=h&&(Dk(h)&&(h=aR(h,l.gradient,"")),e[p]=h)}}(l,i,e,u,this._defs),l},defs(e){const i=this._defs.gradient,a=this._defs.clipping;if(Object.keys(i).length+Object.keys(a).length!==0){e.open("defs");for(const l in i){const d=i[l],h=d.stops;"radial"===d.gradient?(e.open("pattern",{id:"p_"+l,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+l+")"}).close(),e.close(),e.open("radialGradient",{id:l,fx:d.x1,fy:d.y1,fr:d.r1,cx:d.x2,cy:d.y2,r:d.r2})):e.open("linearGradient",{id:l,x1:d.x1,x2:d.x2,y1:d.y1,y2:d.y2});for(let p=0;p<h.length;++p)e.open("stop",{offset:h[p].offset,"stop-color":h[p].color}).close();e.close()}for(const l in a){const d=a[l];e.open("clipPath",{id:l}),d.path?e.open("path",{d:d.path}).close():e.open("rect",{x:0,y:0,width:d.width,height:d.height}).close(),e.close()}e.close()}}});const Bg={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},ab={};function iw(e,i){return e=String(e||"").toLowerCase(),arguments.length>1?(ab[e]=i,this):ab[e]}function nI(e,i,a){const u=[],l=(new Cl).union(i),d=e.marktype;return d?Gj(e,l,a,u):"group"===d?Kj(e,l,a,u):Pt("Intersect scene must be mark node or group item.")}function Gj(e,i,a,u){if(function(e,i,a){return e.bounds&&i.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!a||a(e)))}(e,i,a)){const l=e.items,d=e.marktype,h=l.length;let p=0;if("group"===d)for(;p<h;++p)Kj(l[p],i,a,u);else for(const y=Za[d].isect;p<h;++p){const b=l[p];Xj(b,i,y)&&u.push(b)}}return u}function Kj(e,i,a,u){a&&a(e.mark)&&Xj(e,i,Za.group.isect)&&u.push(e);const l=e.items,d=l&&l.length;if(d){const h=e.x||0,p=e.y||0;i.translate(-h,-p);for(let y=0;y<d;++y)Gj(l[y],i,a,u);i.translate(h,p)}return u}function Xj(e,i,a){const u=e.bounds;return i.encloses(u)||i.intersects(u)&&a(e,i)}ab.canvas=ab.png={renderer:d_,headless:d_,handler:SM},ab.svg={renderer:Qk,headless:i3,handler:AM},ab.none={};const rI=new Cl;function iI(e){const i=e.clip;if(ur(i))i(Zv(rI.clear()));else{if(!i)return;rI.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(rI)}function kf(e,i,a){return e===i||("path"===a?pu(e,i):e instanceof Date&&i instanceof Date?+e==+i:Ft(e)&&Ft(i)?Math.abs(e-i)<=1e-9:e&&i&&($e(e)||$e(i))?function(e,i){var l,d,a=Object.keys(e),u=Object.keys(i);if(a.length!==u.length)return!1;for(a.sort(),u.sort(),d=a.length-1;d>=0;d--)if(a[d]!=u[d])return!1;for(d=a.length-1;d>=0;d--)if(!kf(e[l=a[d]],i[l],l))return!1;return typeof e==typeof i}(e,i):e==i)}function pu(e,i){return kf(Wv(e),Wv(i))}function oee(){qz(),zz=0}const ob="top",vp="left",gm="right",h_="bottom",s3="start",a3="middle",If="end",aw="group",o3="axis",sI="title",LM="legend",u3="row-header",l3="row-footer",FM="row-title",aI="column-header",dee="column-footer",c3="column-title",RM="none",oI="all",f3="each",uI="flush",p_="column",m_="row";function Qj(e){nn.call(this,null,e)}function BM(e,i,a){return i(e.bounds.clear(),e,a)}qt(Qj,nn,{transform(e,i){const a=i.dataflow,u=e.mark,l=u.marktype,d=Za[l],h=d.bound;let y,p=u.bounds;if(d.nested)u.items.length&&a.dirty(u.items[0]),p=BM(u,h),u.items.forEach(b=>{b.bounds.clear().union(p)});else if(l===aw||e.modified())switch(i.visit(i.MOD,b=>a.dirty(b)),p.clear(),u.items.forEach(b=>p.union(BM(b,h))),u.role){case o3:case LM:case sI:i.reflow()}else y=i.changed(i.REM),i.visit(i.ADD,b=>{p.union(BM(b,h))}),i.visit(i.MOD,b=>{y=y||p.alignsWith(b.bounds),a.dirty(b),p.union(BM(b,h))}),y&&(p.clear(),u.items.forEach(b=>p.union(b.bounds)));return iI(u),i.modifies("bounds")}});const h3=":vega_identifier:";function p3(e){nn.call(this,0,e)}function m3(e){nn.call(this,null,e)}function g3(e){nn.call(this,null,e)}p3.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},qt(p3,nn,{transform(e,i){const a=function(e){return e._signals[h3]||(e._signals[h3]=e.add(0))}(i.dataflow),u=e.as;let l=a.value;return i.visit(i.ADD,d=>d[u]=d[u]||++l),a.set(this.value=l),i}}),qt(m3,nn,{transform(e,i){let a=this.value;a||(a=i.dataflow.scenegraph().mark(e.markdef,function(e){const i=e.groups,a=e.parent;return i&&1===i.size?i.get(Object.keys(i.object)[0]):i&&a?i.lookup(a):null}(e),e.index),a.group.context=e.context,e.context.group||(e.context.group=a.group),a.source=this.source,a.clip=e.clip,a.interactive=e.interactive,this.value=a);const u=a.marktype===aw?hM:fM;return i.visit(i.ADD,l=>u.call(l,a)),(e.modified("clip")||e.modified("interactive"))&&(a.clip=e.clip,a.interactive=!!e.interactive,a.zdirty=!0,i.reflow()),a.items=i.source,i}});const _3={parity:e=>e.filter((i,a)=>a%2?i.opacity=0:1),greedy:(e,i)=>{let a;return e.filter((u,l)=>l&&y3(a.bounds,u.bounds,i)?u.opacity=0:(a=u,1))}},y3=(e,i,a)=>a>Math.max(i.x1-e.x2,e.x1-i.x2,i.y1-e.y2,e.y1-i.y2),v3=(e,i)=>{for(var d,a=1,u=e.length,l=e[0].bounds;a<u;l=d,++a)if(y3(l,d=e[a].bounds,i))return!0},gee=e=>{const i=e.bounds;return i.width()>1&&i.height()>1},qj=e=>(e.forEach(i=>i.opacity=1),e),b3=(e,i)=>e.reflow(i.modified()).modifies("opacity");function yee(e){nn.call(this,null,e)}qt(g3,nn,{transform(e,i){const a=_3[e.method]||_3.parity,u=e.separation||0;let d,h,l=i.materialize(i.SOURCE).source;if(!l||!l.length)return;if(!e.method)return e.modified("method")&&(qj(l),i=b3(i,e)),i;if(l=l.filter(gee),!l.length)return;if(e.sort&&(l=l.slice().sort(e.sort)),d=qj(l),i=b3(i,e),d.length>=3&&v3(d,u)){do{d=a(d,u)}while(d.length>=3&&v3(d,u));d.length<3&&!Kr(l).opacity&&(d.length>1&&(Kr(d).opacity=0),Kr(l).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(h=((e,i,a)=>{var u=e.range(),l=new Cl;return i===ob||i===h_?l.set(u[0],-1/0,u[1],1/0):l.set(-1/0,u[0],1/0,u[1]),l.expand(a||1),d=>l.encloses(d.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),l.forEach(y=>{h(y)||(y.opacity=0)}));const p=d[0].mark.bounds.clear();return l.forEach(y=>{y.opacity&&p.union(y.bounds)}),i}}),qt(yee,nn,{transform(e,i){const a=i.dataflow;if(i.visit(i.ALL,u=>a.dirty(u)),i.fields&&i.fields.zindex){const u=i.source&&i.source[0];u&&(u.mark.zdirty=!0)}}});const Xd=new Cl;function $M(e,i,a){return e[i]===a?0:(e[i]=a,1)}function U_e(e){var i=e.items[0].orient;return i===vp||i===gm}function G_e(e,i,a,u){var Ue,qe,l=i.items[0],d=l.datum,h=null!=l.translate?l.translate:.5,p=l.orient,y=function(e){let i=+e.grid;return[e.ticks?i++:-1,e.labels?i++:-1,i+ +e.domain]}(d),b=l.range,C=l.offset,M=l.position,O=l.minExtent,H=l.maxExtent,Y=d.title&&l.items[y[2]].items[0],te=l.titlePadding,se=l.bounds,ye=Y&&Bk(Y),Ce=0,Ve=0;switch(Xd.clear().union(se),se.clear(),(Ue=y[0])>-1&&se.union(l.items[Ue].bounds),(Ue=y[1])>-1&&se.union(l.items[Ue].bounds),p){case ob:Ce=M||0,Ve=-C,qe=Math.max(O,Math.min(H,-se.y1)),se.add(0,-qe).add(b,0),Y&&x3(e,Y,qe,te,ye,0,-1,se);break;case vp:Ce=-C,Ve=M||0,qe=Math.max(O,Math.min(H,-se.x1)),se.add(-qe,0).add(0,b),Y&&x3(e,Y,qe,te,ye,1,-1,se);break;case gm:Ce=a+C,Ve=M||0,qe=Math.max(O,Math.min(H,se.x2)),se.add(0,0).add(qe,b),Y&&x3(e,Y,qe,te,ye,1,1,se);break;case h_:Ce=M||0,Ve=u+C,qe=Math.max(O,Math.min(H,se.y2)),se.add(0,0).add(b,qe),Y&&x3(e,Y,qe,te,0,0,1,se);break;default:Ce=l.x,Ve=l.y}return sl(se.translate(Ce,Ve),l),$M(l,"x",Ce+h)|$M(l,"y",Ve+h)&&(l.bounds=Xd,e.dirty(l),l.bounds=se,e.dirty(l)),l.mark.bounds.clear().union(se)}function x3(e,i,a,u,l,d,h,p){const y=i.bounds;if(i.auto){const b=h*(a+l+u);let C=0,M=0;e.dirty(i),d?C=(i.x||0)-(i.x=b):M=(i.y||0)-(i.y=b),i.mark.bounds.clear().union(y.translate(-C,-M)),e.dirty(i)}p.union(y)}const vee=(e,i)=>Math.floor(Math.min(e,i)),bee=(e,i)=>Math.ceil(Math.max(e,i));function X_e(e){return(new Cl).set(0,0,e.width||0,e.height||0)}function Z_e(e){const i=e.bounds.clone();return i.empty()?i.set(0,0,0,0):i.translate(-(e.x||0),-(e.y||0))}function mu(e,i,a){const u=$e(e)?e[i]:e;return null!=u?u:void 0!==a?a:0}function xee(e){return e<0?Math.ceil(-e):0}function Dee(e,i,a){var tt,Ge,mt,Ot,Tt,St,Gt,jt,En,Rt,An,u=!a.nodirty,l=a.bounds===uI?X_e:Z_e,d=Xd.set(0,0,0,0),h=mu(a.align,p_),p=mu(a.align,m_),y=mu(a.padding,p_),b=mu(a.padding,m_),C=a.columns||i.length,M=C<=0?1:Math.ceil(i.length/C),O=i.length,H=Array(O),Y=Array(C),te=0,se=Array(O),ye=Array(M),Ce=0,Ve=Array(O),Ue=Array(O),qe=Array(O);for(Ge=0;Ge<C;++Ge)Y[Ge]=0;for(Ge=0;Ge<M;++Ge)ye[Ge]=0;for(Ge=0;Ge<O;++Ge)Tt=qe[Ge]=l(St=i[Ge]),St.x=St.x||0,Ve[Ge]=0,St.y=St.y||0,Ue[Ge]=0,mt=Ge%C,Ot=~~(Ge/C),te=Math.max(te,Gt=Math.ceil(Tt.x2)),Ce=Math.max(Ce,jt=Math.ceil(Tt.y2)),Y[mt]=Math.max(Y[mt],Gt),ye[Ot]=Math.max(ye[Ot],jt),H[Ge]=y+xee(Tt.x1),se[Ge]=b+xee(Tt.y1),u&&e.dirty(i[Ge]);for(Ge=0;Ge<O;++Ge)Ge%C==0&&(H[Ge]=0),Ge<C&&(se[Ge]=0);if(h===f3)for(mt=1;mt<C;++mt){for(An=0,Ge=mt;Ge<O;Ge+=C)An<H[Ge]&&(An=H[Ge]);for(Ge=mt;Ge<O;Ge+=C)H[Ge]=An+Y[mt-1]}else if(h===oI){for(An=0,Ge=0;Ge<O;++Ge)Ge%C&&An<H[Ge]&&(An=H[Ge]);for(Ge=0;Ge<O;++Ge)Ge%C&&(H[Ge]=An+te)}else for(h=!1,mt=1;mt<C;++mt)for(Ge=mt;Ge<O;Ge+=C)H[Ge]+=Y[mt-1];if(p===f3)for(Ot=1;Ot<M;++Ot){for(An=0,tt=(Ge=Ot*C)+C;Ge<tt;++Ge)An<se[Ge]&&(An=se[Ge]);for(Ge=Ot*C;Ge<tt;++Ge)se[Ge]=An+ye[Ot-1]}else if(p===oI){for(An=0,Ge=C;Ge<O;++Ge)An<se[Ge]&&(An=se[Ge]);for(Ge=C;Ge<O;++Ge)se[Ge]=An+Ce}else for(p=!1,Ot=1;Ot<M;++Ot)for(tt=(Ge=Ot*C)+C;Ge<tt;++Ge)se[Ge]+=ye[Ot-1];for(En=0,Ge=0;Ge<O;++Ge)Ve[Ge]+=(En=H[Ge]+(Ge%C?En:0))-i[Ge].x;for(mt=0;mt<C;++mt)for(Rt=0,Ge=mt;Ge<O;Ge+=C)Ue[Ge]+=(Rt+=se[Ge])-i[Ge].y;if(h&&mu(a.center,p_)&&M>1)for(Ge=0;Ge<O;++Ge)(En=(Tt=h===oI?te:Y[Ge%C])-qe[Ge].x2-i[Ge].x-Ve[Ge])>0&&(Ve[Ge]+=En/2);if(p&&mu(a.center,m_)&&1!==C)for(Ge=0;Ge<O;++Ge)(Rt=(Tt=p===oI?Ce:ye[~~(Ge/C)])-qe[Ge].y2-i[Ge].y-Ue[Ge])>0&&(Ue[Ge]+=Rt/2);for(Ge=0;Ge<O;++Ge)d.union(qe[Ge].translate(Ve[Ge],Ue[Ge]));switch(En=mu(a.anchor,"x"),Rt=mu(a.anchor,"y"),mu(a.anchor,p_)){case If:En-=d.width();break;case a3:En-=d.width()/2}switch(mu(a.anchor,m_)){case If:Rt-=d.height();break;case a3:Rt-=d.height()/2}for(En=Math.round(En),Rt=Math.round(Rt),d.clear(),Ge=0;Ge<O;++Ge)i[Ge].mark.bounds.clear();for(Ge=0;Ge<O;++Ge)(St=i[Ge]).x+=Ve[Ge]+=En,St.y+=Ue[Ge]+=Rt,d.union(St.mark.bounds.union(St.bounds.translate(Ve[Ge],Ue[Ge]))),u&&e.dirty(St);return d}function Q_e(e,i){return"x1"===i?e.x||0:"y1"===i?e.y||0:"x2"===i?(e.x||0)+(e.width||0):"y2"===i?(e.y||0)+(e.height||0):void 0}function wee(e,i){return e.bounds[i]}function lI(e,i,a,u,l,d,h,p,y,b,C,M,O,H){var ye,Ce,Ve,Ue,qe,tt,Ge,mt,Ot,Y=a.length,te=0,se=0;if(!Y)return te;for(ye=C;ye<Y;ye+=M)a[ye]&&(te=h(te,y(a[ye],b)));if(!i.length)return te;for(i.length>l&&(e.warn("Grid headers exceed limit: "+l),i=i.slice(0,l)),te+=d,Ce=0,Ue=i.length;Ce<Ue;++Ce)e.dirty(i[Ce]),i[Ce].mark.bounds.clear();for(ye=C,Ce=0,Ue=i.length;Ce<Ue;++Ce,ye+=M){for(qe=(tt=i[Ce]).mark.bounds,Ve=ye;Ve>=0&&null==(Ge=a[Ve]);Ve-=O);p?(mt=null==H?Ge.x:Math.round(Ge.bounds.x1+H*Ge.bounds.width()),Ot=te):(mt=te,Ot=null==H?Ge.y:Math.round(Ge.bounds.y1+H*Ge.bounds.height())),qe.union(tt.bounds.translate(mt-(tt.x||0),Ot-(tt.y||0))),tt.x=mt,tt.y=Ot,e.dirty(tt),se=h(se,qe[b])}return se}function e7(e,i,a,u,l,d){if(i){e.dirty(i);var h=a,p=a;u?h=Math.round(l.x1+d*l.width()):p=Math.round(l.y1+d*l.height()),i.bounds.translate(h-(i.x||0),p-(i.y||0)),i.mark.bounds.clear().union(i.bounds),i.x=h,i.y=p,e.dirty(i)}}function tye(e,i,a,u,l,d,h){const p=function(e,i){const a=e[i]||{};return(u,l)=>null!=a[u]?a[u]:null!=e[u]?e[u]:l}(a,i),y=function(e,i){let a=-1/0;return e.forEach(u=>{null!=u.offset&&(a=Math.max(a,u.offset))}),a>-1/0?a:i}(e,p("offset",0)),b=p("anchor",s3),C=b===If?1:b===a3?.5:0,M={align:f3,bounds:p("bounds",uI),columns:"vertical"===p("direction")?1:e.length,padding:p("margin",8),center:p("center"),nodirty:!0};switch(i){case vp:M.anchor={x:Math.floor(u.x1)-y,column:If,y:C*(h||u.height()+2*u.y1),row:b};break;case gm:M.anchor={x:Math.ceil(u.x2)+y,y:C*(h||u.height()+2*u.y1),row:b};break;case ob:M.anchor={y:Math.floor(l.y1)-y,row:If,x:C*(d||l.width()+2*l.x1),column:b};break;case h_:M.anchor={y:Math.ceil(l.y2)+y,x:C*(d||l.width()+2*l.x1),column:b};break;case"top-left":M.anchor={x:y,y};break;case"top-right":M.anchor={x:d-y,y,column:If};break;case"bottom-left":M.anchor={x:y,y:h-y,row:If};break;case"bottom-right":M.anchor={x:d-y,y:h-y,column:If,row:If}}return M}function Cee(e,i){var y,b,a=i.items[0],u=a.datum,l=a.orient,d=a.bounds,h=a.x,p=a.y;return a._bounds?a._bounds.clear().union(d):a._bounds=d.clone(),d.clear(),function(e,i,a){var u=i.padding,l=u-a.x,d=u-a.y;if(i.datum.title){var h=i.items[1].items[0],p=h.anchor,y=i.titlePadding||0,b=u-h.x,C=u-h.y;switch(h.orient){case vp:l+=Math.ceil(h.bounds.width())+y;break;case gm:case h_:break;default:d+=h.bounds.height()+y}switch((l||d)&&cI(e,a,l,d),h.orient){case vp:C+=VM(i,a,h,p,1,1);break;case gm:b+=VM(i,a,h,If,0,0)+y,C+=VM(i,a,h,p,1,1);break;case h_:b+=VM(i,a,h,p,0,0),C+=VM(i,a,h,If,-1,0,1)+y;break;default:b+=VM(i,a,h,p,0,0)}(b||C)&&cI(e,h,b,C),(b=Math.round(h.bounds.x1-u))<0&&(cI(e,a,-b,0),cI(e,h,-b,0))}else(l||d)&&cI(e,a,l,d)}(e,a,a.items[0].items[0]),d=function(e,i){return e.items.forEach(a=>i.union(a.bounds)),i.x1=e.padding,i.y1=e.padding,i}(a,d),y=2*a.padding,b=2*a.padding,d.empty()||(y=Math.ceil(d.width()+y),b=Math.ceil(d.height()+b)),"symbol"===u.type&&function(e){const i=e.reduce((a,u)=>(a[u.column]=Math.max(u.bounds.x2-u.x,a[u.column]||0),a),{});e.forEach(a=>{a.width=i[a.column],a.height=a.bounds.y2-a.y})}(a.items[0].items[0].items[0].items),l!==RM&&(a.x=h=0,a.y=p=0),a.width=y,a.height=b,sl(d.set(h,p,h+y,p+b),a),a.mark.bounds.clear().union(d),a}function VM(e,i,a,u,l,d,h){const y=a.datum.vgrad,C=("symbol"===e.datum.type||!d&&y||h?i:i.items[0]).bounds[l?"y2":"x2"]-e.padding,M=y&&d?C:0,O=y&&d?0:C,H=l<=0?0:Bk(a);return Math.round(u===s3?M:u===If?O-H:.5*(C-H))}function cI(e,i,a,u){i.x+=a,i.y+=u,i.bounds.translate(a,u),i.mark.bounds.translate(a,u),e.dirty(i)}function t7(e){nn.call(this,null,e)}function ub(e,i){let a=0;if(void 0===i)for(let u of e)(u=+u)&&(a+=u);else{let u=-1;for(let l of e)(l=+i(l,++u,e))&&(a+=l)}return a}function ow(e){nn.call(this,null,e)}function n7(e){nn.call(this,null,e)}function Aee(){return Xs({})}function w3(e){nn.call(this,null,e)}function zM(e){nn.call(this,[],e)}qt(t7,nn,{transform(e,i){const a=i.dataflow;return e.mark.items.forEach(u=>{e.layout&&function(e,i,a){var C,M,O,H,Y,te,se,u=function(e){var l,d,i=e.items,a=i.length,u=0;const h={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;u<a;++u)if(d=(l=i[u]).items,l.marktype===aw)switch(l.role){case o3:case LM:case sI:break;case u3:h.rowheaders.push(...d);break;case l3:h.rowfooters.push(...d);break;case aI:h.colheaders.push(...d);break;case dee:h.colfooters.push(...d);break;case FM:h.rowtitle=d[0];break;case c3:h.coltitle=d[0];break;default:h.marks.push(...d)}return h}(i),l=u.marks,d=a.bounds===uI?Q_e:wee,h=a.offset,p=a.columns||l.length,y=p<=0?1:Math.ceil(l.length/p),b=y*p;const ye=Dee(e,l,a);ye.empty()&&ye.set(0,0,0,0),u.rowheaders&&(te=mu(a.headerBand,m_,null),C=lI(e,u.rowheaders,l,0,y,-mu(h,"rowHeader"),vee,0,d,"x1",0,p,1,te)),u.colheaders&&(te=mu(a.headerBand,p_,null),M=lI(e,u.colheaders,l,0,p,-mu(h,"columnHeader"),vee,1,d,"y1",0,1,p,te)),u.rowfooters&&(te=mu(a.footerBand,m_,null),O=lI(e,u.rowfooters,l,0,y,mu(h,"rowFooter"),bee,0,d,"x2",p-1,p,1,te)),u.colfooters&&(te=mu(a.footerBand,p_,null),H=lI(e,u.colfooters,l,0,p,mu(h,"columnFooter"),bee,1,d,"y2",b-p,1,p,te)),u.rowtitle&&(Y=mu(a.titleAnchor,m_),se=mu(h,"rowTitle"),se=Y===If?O+se:C-se,te=mu(a.titleBand,m_,.5),e7(e,u.rowtitle,se,0,ye,te)),u.coltitle&&(Y=mu(a.titleAnchor,p_),se=mu(h,"columnTitle"),se=Y===If?H+se:M-se,te=mu(a.titleBand,p_,.5),e7(e,u.coltitle,se,1,ye,te))}(a,u,e.layout),function(e,i,a){var C,M,O,Y,te,u=i.items,l=Math.max(0,i.width||0),d=Math.max(0,i.height||0),h=(new Cl).set(0,0,l,d),p=h.clone(),y=h.clone(),b=[];for(Y=0,te=u.length;Y<te;++Y)switch(M=u[Y],M.role){case o3:(U_e(M)?p:y).union(G_e(e,M,l,d));break;case sI:C=M;break;case LM:b.push(Cee(e,M));break;case"frame":case"scope":case u3:case l3:case FM:case aI:case dee:case c3:p.union(M.bounds),y.union(M.bounds);break;default:h.union(M.bounds)}if(b.length){const se={};b.forEach(ye=>{(O=ye.orient||gm)!==RM&&(se[O]||(se[O]=[])).push(ye)});for(const ye in se){const Ce=se[ye];Dee(e,Ce,tye(Ce,ye,a.legends,p,y,l,d))}b.forEach(ye=>{const Ce=ye.bounds;if(Ce.equals(ye._bounds)||(ye.bounds=ye._bounds,e.dirty(ye),ye.bounds=Ce,e.dirty(ye)),a.autosize&&"fit"===a.autosize.type)switch(ye.orient){case vp:case gm:h.add(Ce.x1,0).add(Ce.x2,0);break;case ob:case h_:h.add(0,Ce.y1).add(0,Ce.y2)}else h.union(Ce)})}h.union(p).union(y),C&&h.union(function(e,i,a,u,l){var Ve,d=i.items[0],p=d.orient,y=d.anchor,b=d.offset,C=d.padding,M=d.items[0].items[0],O=d.items[1]&&d.items[1].items[0],H=p===vp||p===gm?u:a,Y=0,te=0,se=0,ye=0,Ce=0;if(d.frame!==aw?p===vp?(Y=l.y2,H=l.y1):p===gm?(Y=l.y1,H=l.y2):(Y=l.x1,H=l.x2):p===vp&&(Y=u,H=0),Ve=y===s3?Y:y===If?H:(Y+H)/2,O&&O.text){switch(p){case ob:case h_:Ce=M.bounds.height()+C;break;case vp:ye=M.bounds.width()+C;break;case gm:ye=-M.bounds.width()-C}Xd.clear().union(O.bounds),Xd.translate(ye-(O.x||0),Ce-(O.y||0)),$M(O,"x",ye)|$M(O,"y",Ce)&&(e.dirty(O),O.bounds.clear().union(Xd),O.mark.bounds.clear().union(Xd),e.dirty(O)),Xd.clear().union(O.bounds)}else Xd.clear();switch(Xd.union(M.bounds),p){case ob:te=Ve,se=l.y1-Xd.height()-b;break;case vp:te=l.x1-Xd.width()-b,se=Ve;break;case gm:te=l.x2+Xd.width()+b,se=Ve;break;case h_:te=Ve,se=l.y2+b;break;default:te=d.x,se=d.y}return $M(d,"x",te)|$M(d,"y",se)&&(Xd.translate(te,se),e.dirty(d),d.bounds.clear().union(Xd),i.bounds.clear().union(Xd),e.dirty(d)),d.bounds}(e,C,l,d,h)),i.clip&&h.set(0,0,i.width||0,i.height||0),function(e,i,a,u){const l=u.autosize||{},d=l.type;if(e._autosize<1||!d)return;let h=e._width,p=e._height,y=Math.max(0,i.width||0),b=Math.max(0,Math.ceil(-a.x1)),C=Math.max(0,i.height||0),M=Math.max(0,Math.ceil(-a.y1));const O=Math.max(0,Math.ceil(a.x2-y)),H=Math.max(0,Math.ceil(a.y2-C));if("padding"===l.contains){const Y=e.padding();h-=Y.left+Y.right,p-=Y.top+Y.bottom}d===RM?(b=0,M=0,y=h,C=p):"fit"===d?(y=Math.max(0,h-b-O),C=Math.max(0,p-M-H)):"fit-x"===d?(y=Math.max(0,h-b-O),p=C+M+H):"fit-y"===d?(h=y+b+O,C=Math.max(0,p-M-H)):"pad"===d&&(h=y+b+O,p=C+M+H),e._resizeView(h,p,y,C,[b,M],l.resize)}(e,i,h,a)}(a,u,e)}),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?i.reflow():i}}),qt(ow,nn,{transform(e,i){if(this.value&&!e.modified())return i.StopPropagation;var a=i.dataflow.locale(),u=i.fork(i.NO_SOURCE|i.NO_FIELDS),l=this.value,d=e.scale,p=nR(d,null==e.count?e.values?e.values.length:10:e.count,e.minstep),y=e.format||Fz(a,d,p,e.formatSpecifier,e.formatType,!!e.values),b=e.values?Lz(d,e.values,p):BD(d,p);return l&&(u.rem=l),l=b.map((C,M)=>Xs({index:M/(b.length-1||1),value:C,label:y(C)})),e.extra&&l.length&&l.push(Xs({index:-1,extra:{value:l[0].value},label:""})),u.source=l,u.add=l,this.value=l,u}}),qt(n7,nn,{transform(e,i){var a=i.dataflow,u=i.fork(i.NO_SOURCE|i.NO_FIELDS),l=e.item||Aee,d=e.key||Zr,h=this.value;return Sn(u.encode)&&(u.encode=null),h&&(e.modified("key")||i.modified(d))&&Pt("DataJoin does not support modified key function or fields."),h||(i=i.addAll(),this.value=h=function(e){const i=dr().test(a=>a.exit);return i.lookup=a=>i.get(e(a)),i}(d)),i.visit(i.ADD,p=>{const y=d(p);let b=h.get(y);b?b.exit?(h.empty--,u.add.push(b)):u.mod.push(b):(b=l(p),h.set(y,b),u.add.push(b)),b.datum=p,b.exit=!1}),i.visit(i.MOD,p=>{const y=d(p),b=h.get(y);b&&(b.datum=p,u.mod.push(b))}),i.visit(i.REM,p=>{const y=d(p),b=h.get(y);p===b.datum&&!b.exit&&(u.rem.push(b),b.exit=!0,++h.empty)}),i.changed(i.ADD_MOD)&&u.modifies("datum"),(i.clean()||e.clean&&h.empty>a.cleanThreshold)&&a.runAfter(h.clean),u}}),qt(w3,nn,{transform(e,i){var a=i.fork(i.ADD_REM),u=e.mod||!1,l=e.encoders,d=i.encode;if(Sn(d)){if(!a.changed()&&!d.every(M=>l[M]))return i.StopPropagation;d=d[0],a.encode=null}var h="enter"===d,p=l.update||ia,y=l.enter||ia,b=l.exit||ia,C=(d&&!h?l[d]:p)||ia;if(i.changed(i.ADD)&&(i.visit(i.ADD,M=>{y(M,e),p(M,e)}),a.modifies(y.output),a.modifies(p.output),C!==ia&&C!==p&&(i.visit(i.ADD,M=>{C(M,e)}),a.modifies(C.output))),i.changed(i.REM)&&b!==ia&&(i.visit(i.REM,M=>{b(M,e)}),a.modifies(b.output)),h||C!==ia){const M=i.MOD|(e.modified()?i.REFLOW:0);h?(i.visit(M,O=>{const H=y(O,e)||u;(C(O,e)||H)&&a.mod.push(O)}),a.mod.length&&a.modifies(y.output)):i.visit(M,O=>{(C(O,e)||u)&&a.mod.push(O)}),a.mod.length&&a.modifies(C.output)}return a.changed()?a:i.StopPropagation}}),qt(zM,nn,{transform(e,i){if(null!=this.value&&!e.modified())return i.StopPropagation;var O,H,Y,te,se,a=i.dataflow.locale(),u=i.fork(i.NO_SOURCE|i.NO_FIELDS),l=this.value,d=e.type||tR,h=e.scale,p=+e.limit,y=nR(h,null==e.count?5:e.count,e.minstep),C=e.format||iR(a,h,y,d,e.formatSpecifier,e.formatType,!!e.values||d===tR),M=e.values||qQ(h,y);return l&&(u.rem=l),d===tR?(p&&M.length>p?(i.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=M.slice(0,p-1),se=!0):l=M,ur(Y=e.size)?(!e.values&&0===h(l[0])&&(l=l.slice(1)),te=l.reduce((ye,Ce)=>Math.max(ye,Y(Ce,e)),0)):Y=Xe(te=Y||8),l=l.map((ye,Ce)=>Xs({index:Ce,label:C(ye,Ce,l),value:ye,offset:te,size:Y(ye,e)})),se&&(se=M[l.length],l.push(Xs({index:l.length,label:"\u2026".concat(M.length-l.length," entries"),value:se,offset:te,size:Y(se,e)})))):"gradient"===d?(O=h.domain(),H=eR(h,O[0],Kr(O)),M.length<3&&!e.values&&O[0]!==Kr(O)&&(M=[O[0],Kr(O)]),l=M.map((ye,Ce)=>Xs({index:Ce,label:C(ye,Ce,M),value:ye,perc:H(ye)}))):(Y=M.length-1,H=function(e){const i=e.domain(),a=i.length-1;let u=+i[0],l=+Kr(i),d=l-u;if(e.type===Xl){const h=a?d/a:.1;u-=h,l+=h,d=l-u}return h=>(h-u)/d}(h),l=M.map((ye,Ce)=>Xs({index:Ce,label:C(ye,Ce,M),value:ye,perc:Ce?H(ye):0,perc2:Ce===Y?1:H(M[Ce+1])}))),u.source=l,u.add=l,this.value=l,u}});const Tee=e=>e.source.x,sye=e=>e.source.y,C3=e=>e.target.x,bp=e=>e.target.y;function fI(e){nn.call(this,{},e)}fI.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},qt(fI,nn,{transform(e,i){var a=e.sourceX||Tee,u=e.sourceY||sye,l=e.targetX||C3,d=e.targetY||bp,h=e.as||"path",y=e.shape||"line",b=Lee.get(y+"-"+(e.orient||"vertical"))||Lee.get(y);return b||Pt("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),i.visit(i.SOURCE,C=>{C[h]=b(a(C),u(C),l(C),d(C))}),i.reflow(e.modified()).modifies(h)}});const kee=(e,i,a,u)=>"M"+e+","+i+"L"+a+","+u,Iee=(e,i,a,u)=>{var l=a-e,d=u-i,h=Math.sqrt(l*l+d*d)/2;return"M"+e+","+i+"A"+h+","+h+" "+180*Math.atan2(d,l)/Math.PI+" 0 1 "+a+","+u},Oee=(e,i,a,u)=>{const l=a-e,d=u-i,h=.2*(l+d),p=.2*(d-l);return"M"+e+","+i+"C"+(e+h)+","+(i+p)+" "+(a+p)+","+(u-h)+" "+a+","+u},Lee=dr({line:kee,"line-radial":(e,i,a,u)=>kee(i*Math.cos(e),i*Math.sin(e),u*Math.cos(a),u*Math.sin(a)),arc:Iee,"arc-radial":(e,i,a,u)=>Iee(i*Math.cos(e),i*Math.sin(e),u*Math.cos(a),u*Math.sin(a)),curve:Oee,"curve-radial":(e,i,a,u)=>Oee(i*Math.cos(e),i*Math.sin(e),u*Math.cos(a),u*Math.sin(a)),"orthogonal-horizontal":(e,i,a,u)=>"M"+e+","+i+"V"+u+"H"+a,"orthogonal-vertical":(e,i,a,u)=>"M"+e+","+i+"H"+a+"V"+u,"orthogonal-radial":(e,i,a,u)=>{const l=Math.cos(e),d=Math.sin(e),h=Math.cos(a),p=Math.sin(a);return"M"+i*l+","+i*d+"A"+i+","+i+" 0 0,"+((Math.abs(a-e)>Math.PI?a<=e:a>e)?1:0)+" "+i*h+","+i*p+"L"+u*h+","+u*p},"diagonal-horizontal":(e,i,a,u)=>{const l=(e+a)/2;return"M"+e+","+i+"C"+l+","+i+" "+l+","+u+" "+a+","+u},"diagonal-vertical":(e,i,a,u)=>{const l=(i+u)/2;return"M"+e+","+i+"C"+e+","+l+" "+a+","+l+" "+a+","+u},"diagonal-radial":(e,i,a,u)=>{const l=Math.cos(e),d=Math.sin(e),h=Math.cos(a),p=Math.sin(a),y=(i+u)/2;return"M"+i*l+","+i*d+"C"+y*l+","+y*d+" "+y*h+","+y*p+" "+u*h+","+u*p}});function M3(e){nn.call(this,null,e)}function s7(e){return KP(e)&&e!==Eh}M3.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},qt(M3,nn,{transform(e,i){var Y,te,se,a=e.as||["startAngle","endAngle"],u=a[0],l=a[1],h=e.startAngle||0,p=null!=e.endAngle?e.endAngle:2*Math.PI,y=i.source,b=y.map(e.field||iu),C=b.length,M=h,O=(p-h)/ub(b),H=lt(C);for(e.sort&&H.sort((ye,Ce)=>b[ye]-b[Ce]),Y=0;Y<C;++Y)se=b[H[Y]],(te=y[H[Y]])[u]=M,te[l]=M+=se*O;return this.value=b,i.reflow(e.modified()).modifies(a)}});const cye=Di(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Fee(e){nn.call(this,null,e),this.modified(!0)}function pI(e,i,a){return Sz(e)&&Math.abs(i.reduce((l,d)=>l+(d<0?-1:d>0?1:0),0))!==i.length&&a.warn("Log scale domain includes zero: "+gr(i)),i}function a7(e,i,a){return ur(e)&&(i||a)?QP(e,A3(i||[0,1],a)):e}function A3(e,i){return i?e.slice().reverse():e}function mI(e){nn.call(this,null,e)}qt(Fee,nn,{transform(e,i){var a=i.dataflow,u=this.value,l=function(e){var u,i=e.type,a="";return i===Eh?Eh+"-"+Wy:(function(e){const i=e.type;return KP(i)&&i!==Hy&&i!==Uy&&(e.scheme||e.range&&e.range.length&&e.range.every(wn))}(e)&&(a=2===(u=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?Eh+"-":3===u?LD+"-":""),(a+i||Wy).toLowerCase())}(e);for(l in(!u||l!==u.type)&&(this.value=u=fa(l)()),e)if(!cye[l]){if("padding"===l&&s7(u.type))continue;ur(u[l])?u[l](e[l]):a.warn("Unsupported scale property: "+l)}return function(e,i,a){var u=e.type,l=i.round||!1,d=i.range;if(null!=i.rangeStep)d=function(e,i,a){return"band"!==e&&e!==_k&&Pt("Only band and point scales support rangeStep."),[0,i.rangeStep*HP(a,e===_k?1:(null!=i.paddingInner?i.paddingInner:i.padding)||0,(null!=i.paddingOuter?i.paddingOuter:i.padding)||0)]}(u,i,a);else if(i.scheme&&ur(d=function(e,i,a){var d,u=i.schemeExtent;return Sn(i.scheme)?d=iM(i.scheme,i.interpolate,i.interpolateGamma):(d=Mc(i.scheme.toLowerCase()))||Pt("Unrecognized scheme name: ".concat(i.scheme)),a=e===Xl?a+1:e===yk?a-1:e===$v||e===qn?+i.schemeCount||5:a,ZP(e)?a7(d,u,i.reverse):ur(d)?qP(a7(d,u),a):e===Xa?d:d.slice(0,a)}(u,i,a))){if(e.interpolator)return e.interpolator(d);Pt("Scale type ".concat(u," does not support interpolating color schemes."))}if(d&&ZP(u))return e.interpolator(iM(A3(d,i.reverse),i.interpolate,i.interpolateGamma));d&&i.interpolate&&e.interpolate?e.interpolate(Wd(i.interpolate,i.interpolateGamma)):ur(e.round)?e.round(l):ur(e.rangeRound)&&e.interpolate(l?KE:r_),d&&e.range(A3(d,i.reverse))}(u,e,function(e,i,a){let u=i.bins;if(u&&!Sn(u)){const l=e.domain(),d=l[0],h=Kr(l),p=u.step;let y=null==u.start?d:u.start,b=null==u.stop?h:u.stop;p||Pt("Scale bins parameter missing step property."),y<d&&(y=p*Math.ceil(d/p)),b>h&&(b=p*Math.floor(h/p)),u=lt(y,b+p/2,p)}return u?e.bins=u:e.bins&&delete e.bins,e.type===yk&&(u?!i.domain&&!i.domainRaw&&(e.domain(u),a=u.length):e.bins=e.domain()),a}(u,e,function(e,i,a){const u=function(e,i,a){return i?(e.domain(pI(e.type,i,a)),i.length):-1}(e,i.domainRaw,a);if(u>-1)return u;var p,y,l=i.domain,d=e.type,h=i.zero||void 0===i.zero&&function(e){const i=e.type;return!e.bins&&(i===Wy||i===rM||i===OD)}(e);if(!l)return 0;if(s7(d)&&i.padding&&l[0]!==Kr(l)&&(l=function(e,i,a,u,l,d){var h=Math.abs(Kr(a)-a[0]),p=h/(h-2*u),y=e===Ch?Jr(i,null,p):e===OD?ja(i,null,p,.5):e===rM?ja(i,null,p,l||1):e===gk?Ts(i,null,p,d||1):As(i,null,p);return(i=i.slice())[0]=y[0],i[i.length-1]=y[1],i}(d,l,i.range,i.padding,i.exponent,i.constant)),(h||null!=i.domainMin||null!=i.domainMax||null!=i.domainMid)&&(p=(l=l.slice()).length-1||1,h&&(l[0]>0&&(l[0]=0),l[p]<0&&(l[p]=0)),null!=i.domainMin&&(l[0]=i.domainMin),null!=i.domainMax&&(l[p]=i.domainMax),null!=i.domainMid)){const b=(y=i.domainMid)>l[p]?p+1:y<l[0]?0:p;b!==p&&a.warn("Scale domainMid exceeds domain min or max.",y),l.splice(b,0,y)}return e.domain(pI(d,l,a)),d===Xa&&e.unknown(i.domainImplicit?YV:void 0),i.nice&&e.nice&&e.nice(!0!==i.nice&&nR(e,i.nice)||null),l.length}(u,e,a))),i.fork(i.NO_SOURCE|i.NO_FIELDS)}}),qt(mI,nn,{transform(e,i){const a=e.modified("sort")||i.changed(i.ADD)||i.modified(e.sort.fields)||i.modified("datum");return a&&i.source.sort(Ef(e.sort)),this.modified(a),i}});const o7="normalize",gI=["y0","y1"];function _I(e){nn.call(this,null,e)}function jee(e,i,a,u,l){for(var y,d=(i-e.sum)/2,h=e.length,p=0;p<h;++p)(y=e[p])[u]=d,y[l]=d+=Math.abs(a(y))}function Wee(e,i,a,u,l){for(var C,d=1/e.sum,h=0,p=e.length,y=0,b=0;y<p;++y)(C=e[y])[u]=h,C[l]=h=d*(b+=Math.abs(a(C)))}function I3(e,i,a,u,l){for(var b,C,d=0,h=0,p=e.length,y=0;y<p;++y)(b=+a(C=e[y]))<0?(C[u]=h,C[l]=h+=b):(C[u]=d,C[l]=d+=b)}_I.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center",o7]},{name:"as",type:"string",array:!0,length:2,default:gI}]},qt(_I,nn,{transform(e,i){var y,b,C,M,a=e.as||gI,u=a[0],l=a[1],d=Ef(e.sort),h=e.field||iu,p="center"===e.offset?jee:e.offset===o7?Wee:I3;for(y=function(e,i,a,u){var h,p,y,b,C,M,O,H,Y,l=[],d=te=>te(C);if(null==i)l.push(e.slice());else for(h={},p=0,y=e.length;p<y;++p)C=e[p],(O=h[M=i.map(d)])||(h[M]=O=[],l.push(O)),O.push(C);for(M=0,Y=0,b=l.length;M<b;++M){for(p=0,H=0,y=(O=l[M]).length;p<y;++p)H+=Math.abs(u(O[p]));O.sum=H,H>Y&&(Y=H),a&&O.sort(a)}return l.max=Y,l}(i.source,e.groupby,d,h),b=0,C=y.length,M=y.max;b<C;++b)p(y[b],M,h,u,l);return i.reflow(e.modified()).modifies(a)}});const uw=e=>e;function jM(e,i){e&&xp.hasOwnProperty(e.type)&&xp[e.type](e,i)}var l7={Feature:function(e,i){jM(e.geometry,i)},FeatureCollection:function(e,i){for(var a=e.features,u=-1,l=a.length;++u<l;)jM(a[u].geometry,i)}},xp={Sphere:function(e,i){i.sphere()},Point:function(e,i){i.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,i){for(var a=e.coordinates,u=-1,l=a.length;++u<l;)i.point((e=a[u])[0],e[1],e[2])},LineString:function(e,i){N3(e.coordinates,i,0)},MultiLineString:function(e,i){for(var a=e.coordinates,u=-1,l=a.length;++u<l;)N3(a[u],i,0)},Polygon:function(e,i){Hee(e.coordinates,i)},MultiPolygon:function(e,i){for(var a=e.coordinates,u=-1,l=a.length;++u<l;)Hee(a[u],i)},GeometryCollection:function(e,i){for(var a=e.geometries,u=-1,l=a.length;++u<l;)jM(a[u],i)}};function N3(e,i,a){var d,u=-1,l=e.length-a;for(i.lineStart();++u<l;)i.point((d=e[u])[0],d[1],d[2]);i.lineEnd()}function Hee(e,i){var a=-1,u=e.length;for(i.polygonStart();++a<u;)N3(e[a],i,1);i.polygonEnd()}function g_(e,i){e&&l7.hasOwnProperty(e.type)?l7[e.type](e,i):jM(e,i)}class fd{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){const a=this._partials;let u=0;for(let l=0;l<this._n&&l<32;l++){const d=a[l],h=i+d,p=Math.abs(i)<Math.abs(d)?i-(h-d):d-(h-i);p&&(a[u++]=p),i=h}return a[u]=i,this._n=u+1,this}valueOf(){const i=this._partials;let u,l,d,a=this._n,h=0;if(a>0){for(h=i[--a];a>0&&(u=h,l=i[--a],h=u+l,d=l-(h-u),!d););a>0&&(d<0&&i[a-1]<0||d>0&&i[a-1]>0)&&(l=2*d,u=h+l,l==u-h&&(h=u))}return h}}var oi=1e-6,O3=1e-12,cs=Math.PI,gu=cs/2,yI=cs/4,Zd=2*cs,Lu=180/cs,ds=cs/180,ea=Math.abs,lb=Math.atan,Th=Math.atan2,di=Math.cos,vI=Math.ceil,L3=Math.exp,WM=(Math,Math.hypot),HM=Math.log,F3=Math.pow,ei=Math.sin,_m=Math.sign||function(e){return e>0?1:e<0?-1:0},Nf=Math.sqrt,c7=Math.tan;function P3(e){return e>1?0:e<-1?cs:Math.acos(e)}function Jd(e){return e>1?gu:e<-1?-gu:Math.asin(e)}function kc(){}var B3,Uee,f7,$3,R3=new fd,d7=new fd,$g={point:kc,lineStart:kc,lineEnd:kc,polygonStart:function(){$g.lineStart=Zl,$g.lineEnd=h7},polygonEnd:function(){$g.lineStart=$g.lineEnd=$g.point=kc,R3.add(ea(d7)),d7=new fd},result:function(){var e=R3/2;return R3=new fd,e}};function Zl(){$g.point=pye}function pye(e,i){$g.point=V3,B3=f7=e,Uee=$3=i}function V3(e,i){d7.add($3*e-f7*i),f7=e,$3=i}function h7(){V3(B3,Uee)}const p7=$g;var y_=1/0,bI=y_,UM=-y_,YM=UM;const lw={point:function(e,i){e<y_&&(y_=e),e>UM&&(UM=e),i<bI&&(bI=i),i>YM&&(YM=i)},lineStart:kc,lineEnd:kc,polygonStart:kc,polygonEnd:kc,result:function(){var e=[[y_,bI],[UM,YM]];return UM=YM=-(bI=y_=1/0),e}};var _7,Yee,kh,Vg,GM=0,z3=0,Jy=0,xI=0,cw=0,db=0,al=0,g7=0,KM=0,zg={point:dw,lineStart:Gee,lineEnd:y7,polygonStart:function(){zg.lineStart=Zee,zg.lineEnd=Jee},polygonEnd:function(){zg.point=dw,zg.lineStart=Gee,zg.lineEnd=y7},result:function(){var e=KM?[al/KM,g7/KM]:db?[xI/db,cw/db]:Jy?[GM/Jy,z3/Jy]:[NaN,NaN];return GM=z3=Jy=xI=cw=db=al=g7=KM=0,e}};function dw(e,i){GM+=e,z3+=i,++Jy}function Gee(){zg.point=Kee}function Kee(e,i){zg.point=Xee,dw(kh=e,Vg=i)}function Xee(e,i){var a=e-kh,u=i-Vg,l=Nf(a*a+u*u);xI+=l*(kh+e)/2,cw+=l*(Vg+i)/2,db+=l,dw(kh=e,Vg=i)}function y7(){zg.point=dw}function Zee(){zg.point=mye}function Jee(){v7(_7,Yee)}function mye(e,i){zg.point=v7,dw(_7=kh=e,Yee=Vg=i)}function v7(e,i){var a=e-kh,u=i-Vg,l=Nf(a*a+u*u);xI+=l*(kh+e)/2,cw+=l*(Vg+i)/2,db+=l,al+=(l=Vg*e-kh*i)*(kh+e),g7+=l*(Vg+i),KM+=3*l,dw(kh=e,Vg=i)}const b7=zg;function x7(e){this._context=e}x7.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,i){switch(this._point){case 0:this._context.moveTo(e,i),this._point=1;break;case 1:this._context.lineTo(e,i);break;default:this._context.moveTo(e+this._radius,i),this._context.arc(e,i,this._radius,0,Zd)}},result:kc};var w7,C7,E7,XM,ZM,D7=new fd,DI={point:kc,lineStart:function(){DI.point=ym},lineEnd:function(){w7&&M7(C7,E7),DI.point=kc},polygonStart:function(){w7=!0},polygonEnd:function(){w7=null},result:function(){var e=+D7;return D7=new fd,e}};function ym(e,i){DI.point=M7,C7=XM=e,E7=ZM=i}function M7(e,i){D7.add(Nf((XM-=e)*XM+(ZM-=i)*ZM)),XM=e,ZM=i}const S7=DI;function A7(){this._string=[]}function T7(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Qee(e,i){var u,l,a=4.5;function d(h){return h&&("function"==typeof a&&l.pointRadius(+a.apply(this,arguments)),g_(h,u(l))),l.result()}return d.area=function(h){return g_(h,u(p7)),p7.result()},d.measure=function(h){return g_(h,u(S7)),S7.result()},d.bounds=function(h){return g_(h,u(lw)),lw.result()},d.centroid=function(h){return g_(h,u(b7)),b7.result()},d.projection=function(h){return arguments.length?(u=null==h?(e=null,uw):(e=h).stream,d):e},d.context=function(h){return arguments.length?(l=null==h?(i=null,new A7):new x7(i=h),"function"!=typeof a&&l.pointRadius(a),d):i},d.pointRadius=function(h){return arguments.length?(a="function"==typeof h?h:(l.pointRadius(+h),+h),d):a},d.projection(e).context(i)}function k7(){var i,e=[];return{point:function(a,u,l){i.push([a,u,l])},lineStart:function(){e.push(i=[])},lineEnd:kc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var a=e;return e=[],i=null,a}}}function wI(e,i){return ea(e[0]-i[0])<oi&&ea(e[1]-i[1])<oi}function CI(e,i,a,u){this.x=e,this.z=i,this.o=a,this.e=u,this.v=!1,this.n=this.p=null}function fw(e,i,a,u,l){var p,y,d=[],h=[];if(e.forEach(function(Y){if(!((te=Y.length-1)<=0)){var te,Ce,se=Y[0],ye=Y[te];if(wI(se,ye)){if(!se[2]&&!ye[2]){for(l.lineStart(),p=0;p<te;++p)l.point((se=Y[p])[0],se[1]);return void l.lineEnd()}ye[0]+=2*oi}d.push(Ce=new CI(se,Y,null,!0)),h.push(Ce.o=new CI(se,null,Ce,!1)),d.push(Ce=new CI(ye,Y,null,!1)),h.push(Ce.o=new CI(ye,null,Ce,!0))}}),d.length){for(h.sort(i),j3(d),j3(h),p=0,y=h.length;p<y;++p)h[p].e=a=!a;for(var C,M,b=d[0];;){for(var O=b,H=!0;O.v;)if((O=O.n)===b)return;C=O.z,l.lineStart();do{if(O.v=O.o.v=!0,O.e){if(H)for(p=0,y=C.length;p<y;++p)l.point((M=C[p])[0],M[1]);else u(O.x,O.n.x,1,l);O=O.n}else{if(H)for(p=(C=O.p.z).length-1;p>=0;--p)l.point((M=C[p])[0],M[1]);else u(O.x,O.p.x,-1,l);O=O.p}C=(O=O.o).z,H=!H}while(!O.v);l.lineEnd()}}}function j3(e){if(i=e.length){for(var i,l,a=0,u=e[0];++a<i;)u.n=l=e[a],l.p=u,u=l;u.n=l=e[0],l.p=u}}function W3(e){return[Th(e[1],e[0]),Jd(e[2])]}function fb(e){var i=e[0],a=e[1],u=di(a);return[u*di(i),u*ei(i),ei(a)]}function H3(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function JM(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function I7(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function hw(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function EI(e){var i=Nf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}function U3(e){return ea(e[0])<=cs?e[0]:_m(e[0])*((ea(e[0])+cs)%Zd-cs)}function N7(e){return Array.from(function*(e){for(const i of e)yield*i}(e))}function O7(e,i,a,u){return function(l){var b,C,M,d=i(l),h=k7(),p=i(h),y=!1,O={point:H,lineStart:te,lineEnd:se,polygonStart:function(){O.point=ye,O.lineStart=Ce,O.lineEnd=Ve,C=[],b=[]},polygonEnd:function(){O.point=H,O.lineStart=te,O.lineEnd=se,C=N7(C);var Ue=function(e,i){var a=U3(i),u=i[1],l=ei(u),d=[ei(a),-di(a),0],h=0,p=0,y=new fd;1===l?u=gu+oi:-1===l&&(u=-gu-oi);for(var b=0,C=e.length;b<C;++b)if(O=(M=e[b]).length)for(var M,O,H=M[O-1],Y=U3(H),te=H[1]/2+yI,se=ei(te),ye=di(te),Ce=0;Ce<O;++Ce,Y=Ue,se=tt,ye=Ge,H=Ve){var Ve=M[Ce],Ue=U3(Ve),qe=Ve[1]/2+yI,tt=ei(qe),Ge=di(qe),mt=Ue-Y,Ot=mt>=0?1:-1,Tt=Ot*mt,St=Tt>cs,Gt=se*tt;if(y.add(Th(Gt*Ot*ei(Tt),ye*Ge+Gt*di(Tt))),h+=St?mt+Ot*Zd:mt,St^Y>=a^Ue>=a){var jt=JM(fb(H),fb(Ve));EI(jt);var En=JM(d,jt);EI(En);var Rt=(St^mt>=0?-1:1)*Jd(En[2]);(u>Rt||u===Rt&&(jt[0]||jt[1]))&&(p+=St^mt>=0?1:-1)}}return(h<-oi||h<oi&&y<-O3)^1&p}(b,u);C.length?(y||(l.polygonStart(),y=!0),fw(C,vm,Ue,a,l)):Ue&&(y||(l.polygonStart(),y=!0),l.lineStart(),a(null,null,1,l),l.lineEnd()),y&&(l.polygonEnd(),y=!1),C=b=null},sphere:function(){l.polygonStart(),l.lineStart(),a(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function H(Ue,qe){e(Ue,qe)&&l.point(Ue,qe)}function Y(Ue,qe){d.point(Ue,qe)}function te(){O.point=Y,d.lineStart()}function se(){O.point=H,d.lineEnd()}function ye(Ue,qe){M.push([Ue,qe]),p.point(Ue,qe)}function Ce(){p.lineStart(),M=[]}function Ve(){ye(M[0][0],M[0][1]),p.lineEnd();var tt,mt,Ot,Tt,Ue=p.clean(),qe=h.result(),Ge=qe.length;if(M.pop(),b.push(M),M=null,Ge){if(1&Ue){if((mt=(Ot=qe[0]).length-1)>0){for(y||(l.polygonStart(),y=!0),l.lineStart(),tt=0;tt<mt;++tt)l.point((Tt=Ot[tt])[0],Tt[1]);l.lineEnd()}return}Ge>1&&2&Ue&&qe.push(qe.pop().concat(qe.shift())),C.push(qe.filter(ete))}}return O}}function ete(e){return e.length>1}function vm(e,i){return((e=e.x)[0]<0?e[1]-gu-oi:gu-e[1])-((i=i.x)[0]<0?i[1]-gu-oi:gu-i[1])}A7.prototype={_radius:4.5,_circle:T7(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,i){switch(this._point){case 0:this._string.push("M",e,",",i),this._point=1;break;case 1:this._string.push("L",e,",",i);break;default:null==this._circle&&(this._circle=T7(this._radius)),this._string.push("M",e,",",i,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const tte=O7(function(){return!0},function(e){var l,i=NaN,a=NaN,u=NaN;return{lineStart:function(){e.lineStart(),l=1},point:function(d,h){var p=d>0?cs:-cs,y=ea(d-i);ea(y-cs)<oi?(e.point(i,a=(a+h)/2>0?gu:-gu),e.point(u,a),e.lineEnd(),e.lineStart(),e.point(p,a),e.point(d,a),l=0):u!==p&&y>=cs&&(ea(i-u)<oi&&(i-=u*oi),ea(d-p)<oi&&(d-=p*oi),a=function(e,i,a,u){var l,d,h=ei(e-a);return ea(h)>oi?lb((ei(i)*(d=di(u))*ei(a)-ei(u)*(l=di(i))*ei(e))/(l*d*h)):(i+u)/2}(i,a,d,h),e.point(u,a),e.lineEnd(),e.lineStart(),e.point(p,a),l=0),e.point(i=d,a=h),u=p},lineEnd:function(){e.lineEnd(),i=a=NaN},clean:function(){return 2-l}}},function(e,i,a,u){var l;if(null==e)u.point(-cs,l=a*gu),u.point(0,l),u.point(cs,l),u.point(cs,0),u.point(cs,-l),u.point(0,-l),u.point(-cs,-l),u.point(-cs,0),u.point(-cs,l);else if(ea(e[0]-i[0])>oi){var d=e[0]<i[0]?cs:-cs;u.point(-d,l=a*d/2),u.point(0,l),u.point(d,l)}else u.point(i[0],i[1])},[-cs,-gu]);function G3(e,i){(i=fb(i))[0]-=e,EI(i);var a=P3(-i[1]);return((-i[2]<0?-a:a)+Zd-oi)%Zd}function K3(e){var i=di(e),a=6*ds,u=i>0,l=ea(i)>oi;function h(C,M){return di(C)*di(M)>i}function y(C,M,O){var te=[1,0,0],se=JM(fb(C),fb(M)),ye=H3(se,se),Ce=se[0],Ve=ye-Ce*Ce;if(!Ve)return!O&&C;var Ue=i*ye/Ve,qe=-i*Ce/Ve,tt=JM(te,se),Ge=hw(te,Ue);I7(Ge,hw(se,qe));var Ot=tt,Tt=H3(Ge,Ot),St=H3(Ot,Ot),Gt=Tt*Tt-St*(H3(Ge,Ge)-1);if(!(Gt<0)){var jt=Nf(Gt),En=hw(Ot,(-Tt-jt)/St);if(I7(En,Ge),En=W3(En),!O)return En;var Yr,Rt=C[0],An=M[0],Jn=C[1],Ar=M[1];An<Rt&&(Yr=Rt,Rt=An,An=Yr);var Es=An-Rt,Ro=ea(Es-cs)<oi;if(!Ro&&Ar<Jn&&(Yr=Jn,Jn=Ar,Ar=Yr),Ro||Es<oi?Ro?Jn+Ar>0^En[1]<(ea(En[0]-Rt)<oi?Jn:Ar):Jn<=En[1]&&En[1]<=Ar:Es>cs^(Rt<=En[0]&&En[0]<=An)){var Xc=hw(Ot,(-Tt+jt)/St);return I7(Xc,Ge),[En,W3(Xc)]}}}function b(C,M){var O=u?e:cs-e,H=0;return C<-O?H|=1:C>O&&(H|=2),M<-O?H|=4:M>O&&(H|=8),H}return O7(h,function(C){var M,O,H,Y,te;return{lineStart:function(){Y=H=!1,te=1},point:function(se,ye){var Ve,Ce=[se,ye],Ue=h(se,ye),qe=u?Ue?0:b(se,ye):Ue?b(se+(se<0?cs:-cs),ye):0;if(!M&&(Y=H=Ue)&&C.lineStart(),Ue!==H&&(!(Ve=y(M,Ce))||wI(M,Ve)||wI(Ce,Ve))&&(Ce[2]=1),Ue!==H)te=0,Ue?(C.lineStart(),Ve=y(Ce,M),C.point(Ve[0],Ve[1])):(Ve=y(M,Ce),C.point(Ve[0],Ve[1],2),C.lineEnd()),M=Ve;else if(l&&M&&u^Ue){var tt;!(qe&O)&&(tt=y(Ce,M,!0))&&(te=0,u?(C.lineStart(),C.point(tt[0][0],tt[0][1]),C.point(tt[1][0],tt[1][1]),C.lineEnd()):(C.point(tt[1][0],tt[1][1]),C.lineEnd(),C.lineStart(),C.point(tt[0][0],tt[0][1],3)))}Ue&&(!M||!wI(M,Ce))&&C.point(Ce[0],Ce[1]),M=Ce,H=Ue,O=qe},lineEnd:function(){H&&C.lineEnd(),M=null},clean:function(){return te|(Y&&H)<<1}}},function(C,M,O,H){!function(e,i,a,u,l,d){if(a){var h=di(i),p=ei(i),y=u*a;null==l?(l=i+u*Zd,d=i-y/2):(l=G3(h,l),d=G3(h,d),(u>0?l<d:l>d)&&(l+=u*Zd));for(var b,C=l;u>0?C>d:C<d;C-=y)b=W3([h,-p*di(C),-p*ei(C)]),e.point(b[0],b[1])}}(H,e,a,O,C,M)},u?[0,-e]:[-cs,e-cs])}var Qy=1e9,hb=-Qy;function Z3(e,i,a,u){function l(b,C){return e<=b&&b<=a&&i<=C&&C<=u}function d(b,C,M,O){var H=0,Y=0;if(null==b||(H=h(b,M))!==(Y=h(C,M))||y(b,C)<0^M>0)do{O.point(0===H||3===H?e:a,H>1?u:i)}while((H=(H+M+4)%4)!==Y);else O.point(C[0],C[1])}function h(b,C){return ea(b[0]-e)<oi?C>0?0:3:ea(b[0]-a)<oi?C>0?2:1:ea(b[1]-i)<oi?C>0?1:0:C>0?3:2}function p(b,C){return y(b.x,C.x)}function y(b,C){var M=h(b,1),O=h(C,1);return M!==O?M-O:0===M?C[1]-b[1]:1===M?b[0]-C[0]:2===M?b[1]-C[1]:C[0]-b[0]}return function(b){var O,H,Y,te,se,ye,Ce,Ve,Ue,qe,tt,C=b,M=k7(),Ge={point:mt,lineStart:function(){Ge.point=En,H&&H.push(Y=[]),qe=!0,Ue=!1,Ce=Ve=NaN},lineEnd:function(){O&&(En(te,se),ye&&Ue&&M.rejoin(),O.push(M.result())),Ge.point=mt,Ue&&C.lineEnd()},polygonStart:function(){C=M,O=[],H=[],tt=!0},polygonEnd:function(){var Rt=function(){for(var Rt=0,An=0,Jn=H.length;An<Jn;++An)for(var Rl,Xc,Ar=H[An],Yr=1,Es=Ar.length,Ro=Ar[0],yl=Ro[0],df=Ro[1];Yr<Es;++Yr)Rl=yl,Xc=df,yl=(Ro=Ar[Yr])[0],df=Ro[1],Xc<=u?df>u&&(yl-Rl)*(u-Xc)>(df-Xc)*(e-Rl)&&++Rt:df<=u&&(yl-Rl)*(u-Xc)<(df-Xc)*(e-Rl)&&--Rt;return Rt}(),An=tt&&Rt,Jn=(O=N7(O)).length;(An||Jn)&&(b.polygonStart(),An&&(b.lineStart(),d(null,null,1,b),b.lineEnd()),Jn&&fw(O,p,Rt,d,b),b.polygonEnd()),C=b,O=H=Y=null}};function mt(Rt,An){l(Rt,An)&&C.point(Rt,An)}function En(Rt,An){var Jn=l(Rt,An);if(H&&Y.push([Rt,An]),qe)te=Rt,se=An,ye=Jn,qe=!1,Jn&&(C.lineStart(),C.point(Rt,An));else if(Jn&&Ue)C.point(Rt,An);else{var Ar=[Ce=Math.max(hb,Math.min(Qy,Ce)),Ve=Math.max(hb,Math.min(Qy,Ve))],Yr=[Rt=Math.max(hb,Math.min(Qy,Rt)),An=Math.max(hb,Math.min(Qy,An))];!function(e,i,a,u,l,d){var Y,h=e[0],p=e[1],C=0,M=1,O=i[0]-h,H=i[1]-p;if(Y=a-h,O||!(Y>0)){if(Y/=O,O<0){if(Y<C)return;Y<M&&(M=Y)}else if(O>0){if(Y>M)return;Y>C&&(C=Y)}if(Y=l-h,O||!(Y<0)){if(Y/=O,O<0){if(Y>M)return;Y>C&&(C=Y)}else if(O>0){if(Y<C)return;Y<M&&(M=Y)}if(Y=u-p,H||!(Y>0)){if(Y/=H,H<0){if(Y<C)return;Y<M&&(M=Y)}else if(H>0){if(Y>M)return;Y>C&&(C=Y)}if(Y=d-p,H||!(Y<0)){if(Y/=H,H<0){if(Y>M)return;Y>C&&(C=Y)}else if(H>0){if(Y<C)return;Y<M&&(M=Y)}return C>0&&(e[0]=h+C*O,e[1]=p+C*H),M<1&&(i[0]=h+M*O,i[1]=p+M*H),!0}}}}}(Ar,Yr,e,i,a,u)?Jn&&(C.lineStart(),C.point(Rt,An),tt=!1):(Ue||(C.lineStart(),C.point(Ar[0],Ar[1])),C.point(Yr[0],Yr[1]),Jn||C.lineEnd(),tt=!1)}Ce=Rt,Ve=An,Ue=Jn}return Ge}}function MI(e,i){function a(u,l){return u=e(u,l),i(u[0],u[1])}return e.invert&&i.invert&&(a.invert=function(u,l){return(u=i.invert(u,l))&&e.invert(u[0],u[1])}),a}function J3(e,i){return[ea(e)>cs?e+Math.round(-e/Zd)*Zd:e,i]}function R7(e,i,a){return(e%=Zd)?i||a?MI(B7(e),$7(i,a)):B7(e):i||a?$7(i,a):J3}function Q3(e){return function(i,a){return[(i+=e)>cs?i-Zd:i<-cs?i+Zd:i,a]}}function B7(e){var i=Q3(e);return i.invert=Q3(-e),i}function $7(e,i){var a=di(e),u=ei(e),l=di(i),d=ei(i);function h(p,y){var b=di(y),C=di(p)*b,M=ei(p)*b,O=ei(y),H=O*a+C*u;return[Th(M*l-H*d,C*a-O*u),Jd(H*l+M*d)]}return h.invert=function(p,y){var b=di(y),C=di(p)*b,M=ei(p)*b,O=ei(y),H=O*l-M*d;return[Th(M*l+O*d,C*a+H*u),Jd(H*a-C*u)]},h}function QM(e){return function(i){var a=new Ic;for(var u in e)a[u]=e[u];return a.stream=i,a}}function Ic(){}function pb(e,i,a){var u=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=u&&e.clipExtent(null),g_(a,e.stream(lw)),i(lw.result()),null!=u&&e.clipExtent(u),e}function mb(e,i,a){return pb(e,function(u){var l=i[1][0]-i[0][0],d=i[1][1]-i[0][1],h=Math.min(l/(u[1][0]-u[0][0]),d/(u[1][1]-u[0][1])),p=+i[0][0]+(l-h*(u[1][0]+u[0][0]))/2,y=+i[0][1]+(d-h*(u[1][1]+u[0][1]))/2;e.scale(150*h).translate([p,y])},a)}function SI(e,i,a){return mb(e,[[0,0],i],a)}function pw(e,i,a){return pb(e,function(u){var l=+i,d=l/(u[1][0]-u[0][0]),h=(l-d*(u[1][0]+u[0][0]))/2,p=-d*u[0][1];e.scale(150*d).translate([h,p])},a)}function qM(e,i,a){return pb(e,function(u){var l=+i,d=l/(u[1][1]-u[0][1]),h=-d*u[0][0],p=(l-d*(u[1][1]+u[0][1]))/2;e.scale(150*d).translate([h,p])},a)}J3.invert=J3,Ic.prototype={constructor:Ic,point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var AI=di(30*ds);function z7(e,i){return+i?function(e,i){function a(u,l,d,h,p,y,b,C,M,O,H,Y,te,se){var ye=b-u,Ce=C-l,Ve=ye*ye+Ce*Ce;if(Ve>4*i&&te--){var Ue=h+O,qe=p+H,tt=y+Y,Ge=Nf(Ue*Ue+qe*qe+tt*tt),mt=Jd(tt/=Ge),Ot=ea(ea(tt)-1)<oi||ea(d-M)<oi?(d+M)/2:Th(qe,Ue),Tt=e(Ot,mt),St=Tt[0],Gt=Tt[1],jt=St-u,En=Gt-l,Rt=Ce*jt-ye*En;(Rt*Rt/Ve>i||ea((ye*jt+Ce*En)/Ve-.5)>.3||h*O+p*H+y*Y<AI)&&(a(u,l,d,h,p,y,St,Gt,Ot,Ue/=Ge,qe/=Ge,tt,te,se),se.point(St,Gt),a(St,Gt,Ot,Ue,qe,tt,b,C,M,O,H,Y,te,se))}}return function(u){var l,d,h,p,y,b,C,M,O,H,Y,te,se={point:ye,lineStart:Ce,lineEnd:Ue,polygonStart:function(){u.polygonStart(),se.lineStart=qe},polygonEnd:function(){u.polygonEnd(),se.lineStart=Ce}};function ye(mt,Ot){mt=e(mt,Ot),u.point(mt[0],mt[1])}function Ce(){M=NaN,se.point=Ve,u.lineStart()}function Ve(mt,Ot){var Tt=fb([mt,Ot]),St=e(mt,Ot);a(M,O,C,H,Y,te,M=St[0],O=St[1],C=mt,H=Tt[0],Y=Tt[1],te=Tt[2],16,u),u.point(M,O)}function Ue(){se.point=ye,u.lineEnd()}function qe(){Ce(),se.point=tt,se.lineEnd=Ge}function tt(mt,Ot){Ve(l=mt,Ot),d=M,h=O,p=H,y=Y,b=te,se.point=Ve}function Ge(){a(M,O,C,H,Y,te,d,h,l,p,y,b,16,u),se.lineEnd=Ue,Ue()}return se}}(e,i):function(e){return QM({point:function(i,a){i=e(i,a),this.stream.point(i[0],i[1])}})}(e)}var ate=QM({point:function(e,i){this.stream.point(e*ds,i*ds)}});function W7(e,i,a,u,l,d){if(!d)return function(e,i,a,u,l){function d(h,p){return[i+e*(h*=u),a-e*(p*=l)]}return d.invert=function(h,p){return[(h-i)/e*u,(a-p)/e*l]},d}(e,i,a,u,l);var h=di(d),p=ei(d),y=h*e,b=p*e,C=h/e,M=p/e,O=(p*a-h*i)/e,H=(p*i+h*a)/e;function Y(te,se){return[y*(te*=u)-b*(se*=l)+i,a-b*te-y*se]}return Y.invert=function(te,se){return[u*(C*te-M*se+O),l*(H-M*te-C*se)]},Y}function jg(e){return v_(function(){return e})()}function v_(e){var i,C,ye,Ce,Ve,tt,Ge,mt,Ot,Tt,a=150,u=480,l=250,d=0,h=0,p=0,y=0,b=0,M=0,O=1,H=1,Y=null,te=tte,se=null,Ue=uw,qe=.5;function St(Rt){return mt(Rt[0]*ds,Rt[1]*ds)}function Gt(Rt){return(Rt=mt.invert(Rt[0],Rt[1]))&&[Rt[0]*Lu,Rt[1]*Lu]}function jt(){var Rt=W7(a,0,0,O,H,M).apply(null,i(d,h)),An=W7(a,u-Rt[0],l-Rt[1],O,H,M);return C=R7(p,y,b),Ge=MI(i,An),mt=MI(C,Ge),tt=z7(Ge,qe),En()}function En(){return Ot=Tt=null,St}return St.stream=function(Rt){return Ot&&Tt===Rt?Ot:Ot=ate(function(e){return QM({point:function(i,a){var u=e(i,a);return this.stream.point(u[0],u[1])}})}(C)(te(tt(Ue(Tt=Rt)))))},St.preclip=function(Rt){return arguments.length?(te=Rt,Y=void 0,En()):te},St.postclip=function(Rt){return arguments.length?(Ue=Rt,se=ye=Ce=Ve=null,En()):Ue},St.clipAngle=function(Rt){return arguments.length?(te=+Rt?K3(Y=Rt*ds):(Y=null,tte),En()):Y*Lu},St.clipExtent=function(Rt){return arguments.length?(Ue=null==Rt?(se=ye=Ce=Ve=null,uw):Z3(se=+Rt[0][0],ye=+Rt[0][1],Ce=+Rt[1][0],Ve=+Rt[1][1]),En()):null==se?null:[[se,ye],[Ce,Ve]]},St.scale=function(Rt){return arguments.length?(a=+Rt,jt()):a},St.translate=function(Rt){return arguments.length?(u=+Rt[0],l=+Rt[1],jt()):[u,l]},St.center=function(Rt){return arguments.length?(d=Rt[0]%360*ds,h=Rt[1]%360*ds,jt()):[d*Lu,h*Lu]},St.rotate=function(Rt){return arguments.length?(p=Rt[0]%360*ds,y=Rt[1]%360*ds,b=Rt.length>2?Rt[2]%360*ds:0,jt()):[p*Lu,y*Lu,b*Lu]},St.angle=function(Rt){return arguments.length?(M=Rt%360*ds,jt()):M*Lu},St.reflectX=function(Rt){return arguments.length?(O=Rt?-1:1,jt()):O<0},St.reflectY=function(Rt){return arguments.length?(H=Rt?-1:1,jt()):H<0},St.precision=function(Rt){return arguments.length?(tt=z7(Ge,qe=Rt*Rt),En()):Nf(qe)},St.fitExtent=function(Rt,An){return mb(St,Rt,An)},St.fitSize=function(Rt,An){return SI(St,Rt,An)},St.fitWidth=function(Rt,An){return pw(St,Rt,An)},St.fitHeight=function(Rt,An){return qM(St,Rt,An)},function(){return i=e.apply(this,arguments),St.invert=i.invert&&Gt,jt()}}function gb(e){var i=0,a=cs/3,u=v_(e),l=u(i,a);return l.parallels=function(d){return arguments.length?u(i=d[0]*ds,a=d[1]*ds):[i*Lu,a*Lu]},l}function ute(e,i){var a=ei(e),u=(a+ei(i))/2;if(ea(u)<oi)return function(e){var i=di(e);function a(u,l){return[u*i,ei(l)/i]}return a.invert=function(u,l){return[u/i,Jd(l*i)]},a}(e);var l=1+a*(2*u-a),d=Nf(l)/u;function h(p,y){var b=Nf(l-2*u*ei(y))/u;return[b*ei(p*=u),d-b*di(p)]}return h.invert=function(p,y){var b=d-y,C=Th(p,ea(b))*_m(b);return b*u<0&&(C-=cs*_m(p)*_m(b)),[C/u,Jd((l-(p*p+b*b)*u*u)/(2*u))]},h}function TI(){return gb(ute).scale(155.424).center([0,33.6442])}function H7(){return TI().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function nB(e){return function(i,a){var u=di(i),l=di(a),d=e(u*l);return d===1/0?[2,0]:[d*l*ei(i),d*ei(a)]}}function mw(e){return function(i,a){var u=Nf(i*i+a*a),l=e(u),d=ei(l),h=di(l);return[Th(i*d,u*h),Jd(u&&a*d/u)]}}var U7=nB(function(e){return Nf(2/(1+e))});U7.invert=mw(function(e){return 2*Jd(e/2)});var Y7=nB(function(e){return(e=P3(e))&&e/ei(e)});function qy(e,i){return[e,HM(c7((gu+i)/2))]}function e2(e){var p,y,b,i=jg(e),a=i.center,u=i.scale,l=i.translate,d=i.clipExtent,h=null;function C(){var M=cs*u(),O=i(function(e){function i(a){return(a=e(a[0]*ds,a[1]*ds))[0]*=Lu,a[1]*=Lu,a}return e=R7(e[0]*ds,e[1]*ds,e.length>2?e[2]*ds:0),i.invert=function(a){return(a=e.invert(a[0]*ds,a[1]*ds))[0]*=Lu,a[1]*=Lu,a},i}(i.rotate()).invert([0,0]));return d(null==h?[[O[0]-M,O[1]-M],[O[0]+M,O[1]+M]]:e===qy?[[Math.max(O[0]-M,h),p],[Math.min(O[0]+M,y),b]]:[[h,Math.max(O[1]-M,p)],[y,Math.min(O[1]+M,b)]])}return i.scale=function(M){return arguments.length?(u(M),C()):u()},i.translate=function(M){return arguments.length?(l(M),C()):l()},i.center=function(M){return arguments.length?(a(M),C()):a()},i.clipExtent=function(M){return arguments.length?(null==M?h=p=y=b=null:(h=+M[0][0],p=+M[0][1],y=+M[1][0],b=+M[1][1]),C()):null==h?null:[[h,p],[y,b]]},C()}function x_(e){return c7((gu+e)/2)}function dte(e,i){var a=di(e),u=e===i?ei(e):HM(a/di(i))/HM(x_(i)/x_(e)),l=a*F3(x_(e),u)/u;if(!u)return qy;function d(h,p){l>0?p<-gu+oi&&(p=-gu+oi):p>gu-oi&&(p=gu-oi);var y=l/F3(x_(p),u);return[y*ei(u*h),l-y*di(u*h)]}return d.invert=function(h,p){var y=l-p,b=_m(u)*Nf(h*h+y*y),C=Th(h,ea(y))*_m(y);return y*u<0&&(C-=cs*_m(h)*_m(y)),[C/u,2*lb(F3(l/b,1/u))-gu]},d}function kI(e,i){return[e,i]}function K7(e,i){var a=di(e),u=e===i?ei(e):(a-di(i))/(i-e),l=a/u+e;if(ea(u)<oi)return kI;function d(h,p){var y=l-p,b=u*h;return[y*ei(b),l-y*di(b)]}return d.invert=function(h,p){var y=l-p,b=Th(h,ea(y))*_m(y);return y*u<0&&(b-=cs*_m(h)*_m(y)),[b/u,l-_m(u)*Nf(h*h+y*y)]},d}Y7.invert=mw(function(e){return e}),qy.invert=function(e,i){return[e,2*lb(L3(i))-gu]},kI.invert=kI;var _w=1.340264,_b=-.081106,t2=893e-6,n2=.003796,r2=Nf(3)/2;function II(e,i){var a=Jd(r2*ei(i)),u=a*a,l=u*u*u;return[e*di(a)/(r2*(_w+3*_b*u+l*(7*t2+9*n2*u))),a*(_w+_b*u+l*(t2+n2*u))]}function Z7(e,i){var a=di(i),u=di(e)*a;return[a*ei(e)/u,ei(i)/u]}function pte(e,i){var a=i*i,u=a*a;return[e*(.8707-.131979*a+u*(u*(.003971*a-.001529*u)-.013791)),i*(1.007226+a*(.015085+u*(.028874*a-.044475-.005916*u)))]}function J7(e,i){return[di(i)*ei(e),ei(i)]}function gte(e,i){var a=di(i),u=1+di(e)*a;return[a*ei(e)/u,ei(i)/u]}function _te(e,i){return[HM(c7((gu+i)/2)),-e]}II.invert=function(e,i){for(var h,a=i,u=a*a,l=u*u*u,d=0;d<12&&(l=(u=(a-=h=(a*(_w+_b*u+l*(t2+n2*u))-i)/(_w+3*_b*u+l*(7*t2+9*n2*u)))*a)*u*u,!(ea(h)<O3));++d);return[r2*e*(_w+3*_b*u+l*(7*t2+9*n2*u))/di(a),Jd(ei(a)/r2)]},Z7.invert=mw(lb),pte.invert=function(e,i){var l,a=i,u=25;do{var d=a*a,h=d*d;a-=l=(a*(1.007226+d*(.015085+h*(.028874*d-.044475-.005916*h)))-i)/(1.007226+d*(.045255+h*(.259866*d-.311325-.005916*11*h)))}while(ea(l)>oi&&--u>0);return[e/(.8707+(d=a*a)*(d*(d*d*d*(.003971-.001529*d)-.013791)-.131979)),a]},J7.invert=mw(Jd),gte.invert=mw(function(e){return 2*lb(e)}),_te.invert=function(e,i){return[-i,2*lb(L3(e))-gu]};var yte=Math.abs,Q7=(Math,Math,Math,Math.cos),rB=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),vb=(Math,Math.PI),q7=vb/2,Dte=(Math,i2(2));function wte(e){return e>1?q7:e<-1?-q7:Math.asin(e)}function i2(e){return e>0?Math.sqrt(e):0}function gi(e,i){var l,a=e*rB(i),u=30;do{i-=l=(i+rB(i)-a)/(1+Q7(i))}while(yte(l)>1e-6&&--u>0);return i/2}i2(vb);var Cte=function(e,i,a){function u(l,d){return[e*l*Q7(d=gi(a,d)),i*rB(d)]}return u.invert=function(l,d){return d=wte(d/i),[l/(e*Q7(d)),wte((2*d+rB(2*d))/a)]},u}(Dte/q7,Dte,vb);const tW=Qee(),s2=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Ete(e,i){return function a(){const u=i();return u.type=e,u.path=Qee().projection(u),u.copy=u.copy||function(){const l=a();return s2.forEach(d=>{u[d]&&l[d](u[d]())}),l.path.pointRadius(u.path.pointRadius()),l},u}}function nW(e,i){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(bb[e]=Ete(e,i),this):bb[e]||null}function Mte(e){return e&&e.path||tW}const bb={albers:H7,albersusa:function(){var e,i,u,d,p,y,a=H7(),l=TI().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=TI().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b={point:function(O,H){y=[O,H]}};function C(O){var H=O[0],Y=O[1];return y=null,u.point(H,Y),y||(d.point(H,Y),y)||(p.point(H,Y),y)}function M(){return e=i=null,C}return C.invert=function(O){var H=a.scale(),Y=a.translate(),te=(O[0]-Y[0])/H,se=(O[1]-Y[1])/H;return(se>=.12&&se<.234&&te>=-.425&&te<-.214?l:se>=.166&&se<.234&&te>=-.214&&te<-.115?h:a).invert(O)},C.stream=function(O){return e&&i===O?e:e=function(e){var i=e.length;return{point:function(a,u){for(var l=-1;++l<i;)e[l].point(a,u)},sphere:function(){for(var a=-1;++a<i;)e[a].sphere()},lineStart:function(){for(var a=-1;++a<i;)e[a].lineStart()},lineEnd:function(){for(var a=-1;++a<i;)e[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<i;)e[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<i;)e[a].polygonEnd()}}}([a.stream(i=O),l.stream(O),h.stream(O)])},C.precision=function(O){return arguments.length?(a.precision(O),l.precision(O),h.precision(O),M()):a.precision()},C.scale=function(O){return arguments.length?(a.scale(O),l.scale(.35*O),h.scale(O),C.translate(a.translate())):a.scale()},C.translate=function(O){if(!arguments.length)return a.translate();var H=a.scale(),Y=+O[0],te=+O[1];return u=a.translate(O).clipExtent([[Y-.455*H,te-.238*H],[Y+.455*H,te+.238*H]]).stream(b),d=l.translate([Y-.307*H,te+.201*H]).clipExtent([[Y-.425*H+oi,te+.12*H+oi],[Y-.214*H-oi,te+.234*H-oi]]).stream(b),p=h.translate([Y-.205*H,te+.212*H]).clipExtent([[Y-.214*H+oi,te+.166*H+oi],[Y-.115*H-oi,te+.234*H-oi]]).stream(b),M()},C.fitExtent=function(O,H){return mb(C,O,H)},C.fitSize=function(O,H){return SI(C,O,H)},C.fitWidth=function(O,H){return pw(C,O,H)},C.fitHeight=function(O,H){return qM(C,O,H)},C.scale(1070)},azimuthalequalarea:function(){return jg(U7).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return jg(Y7).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return gb(dte).scale(109.5).parallels([30,30])},conicequalarea:TI,conicequidistant:function(){return gb(K7).scale(131.154).center([0,13.9389])},equalEarth:function(){return jg(II).scale(177.158)},equirectangular:function(){return jg(kI).scale(152.63)},gnomonic:function(){return jg(Z7).scale(144.049).clipAngle(60)},identity:function(){var h,p,b,C,M,se,ye,e=1,i=0,a=0,u=1,l=1,d=0,y=null,O=1,H=1,Y=QM({point:function(Ue,qe){var tt=Ve([Ue,qe]);this.stream.point(tt[0],tt[1])}}),te=uw;function Ce(){return O=e*u,H=e*l,se=ye=null,Ve}function Ve(Ue){var qe=Ue[0]*O,tt=Ue[1]*H;if(d){var Ge=tt*h-qe*p;qe=qe*h+tt*p,tt=Ge}return[qe+i,tt+a]}return Ve.invert=function(Ue){var qe=Ue[0]-i,tt=Ue[1]-a;if(d){var Ge=tt*h+qe*p;qe=qe*h-tt*p,tt=Ge}return[qe/O,tt/H]},Ve.stream=function(Ue){return se&&ye===Ue?se:se=Y(te(ye=Ue))},Ve.postclip=function(Ue){return arguments.length?(te=Ue,y=b=C=M=null,Ce()):te},Ve.clipExtent=function(Ue){return arguments.length?(te=null==Ue?(y=b=C=M=null,uw):Z3(y=+Ue[0][0],b=+Ue[0][1],C=+Ue[1][0],M=+Ue[1][1]),Ce()):null==y?null:[[y,b],[C,M]]},Ve.scale=function(Ue){return arguments.length?(e=+Ue,Ce()):e},Ve.translate=function(Ue){return arguments.length?(i=+Ue[0],a=+Ue[1],Ce()):[i,a]},Ve.angle=function(Ue){return arguments.length?(p=ei(d=Ue%360*ds),h=di(d),Ce()):d*Lu},Ve.reflectX=function(Ue){return arguments.length?(u=Ue?-1:1,Ce()):u<0},Ve.reflectY=function(Ue){return arguments.length?(l=Ue?-1:1,Ce()):l<0},Ve.fitExtent=function(Ue,qe){return mb(Ve,Ue,qe)},Ve.fitSize=function(Ue,qe){return SI(Ve,Ue,qe)},Ve.fitWidth=function(Ue,qe){return pw(Ve,Ue,qe)},Ve.fitHeight=function(Ue,qe){return qM(Ve,Ue,qe)},Ve},mercator:function(){return e2(qy).scale(961/Zd)},mollweide:function(){return jg(Cte).scale(169.529)},naturalEarth1:function(){return jg(pte).scale(175.295)},orthographic:function(){return jg(J7).scale(249.5).clipAngle(90+oi)},stereographic:function(){return jg(gte).scale(250).clipAngle(142)},transversemercator:function(){var e=e2(_te),i=e.center,a=e.rotate;return e.center=function(u){return arguments.length?i([-u[1],u[0]]):[(u=i())[1],-u[0]]},e.rotate=function(u){return arguments.length?a([u[0],u[1],u.length>2?u[2]+90:90]):[(u=a())[0],u[1],u[2]-90]},a([0,0,90]).scale(159.155)}};for(const e in bb)nW(e,bb[e]);function a2(e,i,a){var u=lt(e,i-oi,a).concat(i);return function(l){return u.map(function(d){return[l,d]})}}function o2(e,i,a){var u=lt(e,i-oi,a).concat(i);return function(l){return u.map(function(d){return[d,l]})}}function Tye(){}const t1=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ste(){var e=1,i=1,a=p;function u(y,b){return b.map(C=>l(y,C))}function l(y,b){var C=[],M=[];return function(y,b,C){var H,Y,se,ye,Ce,M=new Array,O=new Array;for(H=Y=-1,t1[(se=y[0]>=b)<<1].forEach(Ve);++H<e-1;)t1[se|(se=y[H+1]>=b)<<1].forEach(Ve);for(t1[se<<0].forEach(Ve);++Y<i-1;){for(H=-1,t1[(se=y[Y*e+e]>=b)<<1|(ye=y[Y*e]>=b)<<2].forEach(Ve);++H<e-1;)Ce=ye,t1[se|(se=y[Y*e+e+H+1]>=b)<<1|(ye=y[Y*e+H+1]>=b)<<2|Ce<<3].forEach(Ve);t1[se|ye<<3].forEach(Ve)}for(H=-1,t1[(ye=y[Y*e]>=b)<<2].forEach(Ve);++H<e-1;)Ce=ye,t1[(ye=y[Y*e+H+1]>=b)<<2|Ce<<3].forEach(Ve);function Ve(Ue){var Ot,Tt,qe=[Ue[0][0]+H,Ue[0][1]+Y],tt=[Ue[1][0]+H,Ue[1][1]+Y],Ge=h(qe),mt=h(tt);(Ot=O[Ge])?(Tt=M[mt])?(delete O[Ot.end],delete M[Tt.start],Ot===Tt?(Ot.ring.push(tt),C(Ot.ring)):M[Ot.start]=O[Tt.end]={start:Ot.start,end:Tt.end,ring:Ot.ring.concat(Tt.ring)}):(delete O[Ot.end],Ot.ring.push(tt),O[Ot.end=mt]=Ot):(Ot=M[mt])?(Tt=O[Ge])?(delete M[Ot.start],delete O[Tt.end],Ot===Tt?(Ot.ring.push(tt),C(Ot.ring)):M[Tt.start]=O[Ot.end]={start:Tt.start,end:Ot.end,ring:Tt.ring.concat(Ot.ring)}):(delete M[Ot.start],Ot.ring.unshift(qe),M[Ot.start=Ge]=Ot):M[Ge]=O[mt]={start:Ge,end:mt,ring:[qe,tt]}}t1[ye<<3].forEach(Ve)}(y,b,O=>{a(O,y,b),function(e){for(var i=0,a=e.length,u=e[a-1][1]*e[0][0]-e[a-1][0]*e[0][1];++i<a;)u+=e[i-1][1]*e[i][0]-e[i-1][0]*e[i][1];return u}(O)>0?C.push([O]):M.push(O)}),M.forEach(O=>{for(var te,H=0,Y=C.length;H<Y;++H)if(-1!==Tte((te=C[H])[0],O))return void te.push(O)}),{type:"MultiPolygon",value:b,coordinates:C}}function h(y){return 2*y[0]+y[1]*(e+1)*4}function p(y,b,C){y.forEach(M=>{var se,O=M[0],H=M[1],Y=0|O,te=0|H,ye=b[te*e+Y];O>0&&O<e&&Y===O&&(M[0]=O+(C-(se=b[te*e+Y-1]))/(ye-se)-.5),H>0&&H<i&&te===H&&(M[1]=H+(C-(se=b[(te-1)*e+Y]))/(ye-se)-.5)})}return u.contour=l,u.size=function(y){if(!arguments.length)return[e,i];var b=Math.floor(y[0]),C=Math.floor(y[1]);return b>=0&&C>=0||Pt("invalid size"),e=b,i=C,u},u.smooth=function(y){return arguments.length?(a=y?p:Tye,u):a===p},u}function Tte(e,i){for(var l,a=-1,u=i.length;++a<u;)if(l=iW(e,i[a]))return l;return 0}function iW(e,i){for(var a=i[0],u=i[1],l=-1,d=0,h=e.length,p=h-1;d<h;p=d++){var y=e[d],b=y[0],C=y[1],M=e[p],O=M[0],H=M[1];if(kte(y,M,i))return 0;C>u!=H>u&&a<(O-b)*(u-C)/(H-C)+b&&(l=-l)}return l}function kte(e,i,a){var u;return function(e,i,a){return(i[0]-e[0])*(a[1]-e[1])==(a[0]-e[0])*(i[1]-e[1])}(e,i,a)&&function(e,i,a){return e<=i&&i<=a||a<=i&&i<=e}(e[u=+(e[0]===i[0])],a[u],i[u])}function Oh(e,i,a){return function(u){var l=Dn(u),d=a?Math.min(l[0],0):l[0],h=l[1],p=h-d,y=i?Ha(d,h,e):p/(e+1);return lt(d+y,h,y)}}function u2(e){nn.call(this,null,e)}function sW(e,i,a,u,l){const d=e.x1||0,h=e.y1||0,p=i*a<0;function y(M){M.forEach(b)}function b(M){p&&M.reverse(),M.forEach(C)}function C(M){M[0]=(M[0]-d)*i+u,M[1]=(M[1]-h)*a+l}return function(M){return M.coordinates.forEach(y),M}}function aW(e,i,a){const u=e>=0?e:yE(i,a);return Math.round((Math.sqrt(4*u*u+1)-1)/2)}function xb(e){return ur(e)?e:Xe(+e)}function oW(){var e=y=>y[0],i=y=>y[1],a=iu,u=[-1,-1],l=960,d=500,h=2;function p(y,b){const C=aW(u[0],y,e)>>h,M=aW(u[1],y,i)>>h,O=C?C+2:0,H=M?M+2:0,Y=2*O+(l>>h),te=2*H+(d>>h),se=new Float32Array(Y*te),ye=new Float32Array(Y*te);let Ce=se;y.forEach(Ue=>{const qe=O+(+e(Ue)>>h),tt=H+(+i(Ue)>>h);qe>=0&&qe<Y&&tt>=0&&tt<te&&(se[qe+tt*Y]+=+a(Ue))}),C>0&&M>0?(Zo(Y,te,se,ye,C),ui(Y,te,ye,se,M),Zo(Y,te,se,ye,C),ui(Y,te,ye,se,M),Zo(Y,te,se,ye,C),ui(Y,te,ye,se,M)):C>0?(Zo(Y,te,se,ye,C),Zo(Y,te,ye,se,C),Zo(Y,te,se,ye,C),Ce=ye):M>0&&(ui(Y,te,se,ye,M),ui(Y,te,ye,se,M),ui(Y,te,se,ye,M),Ce=ye);const Ve=b?Math.pow(2,-2*h):1/ub(Ce);for(let Ue=0,qe=Y*te;Ue<qe;++Ue)Ce[Ue]*=Ve;return{values:Ce,scale:1<<h,width:Y,height:te,x1:O,y1:H,x2:O+(l>>h),y2:H+(d>>h)}}return p.x=function(y){return arguments.length?(e=xb(y),p):e},p.y=function(y){return arguments.length?(i=xb(y),p):i},p.weight=function(y){return arguments.length?(a=xb(y),p):a},p.size=function(y){if(!arguments.length)return[l,d];var b=+y[0],C=+y[1];return b>=0&&C>=0||Pt("invalid size"),l=b,d=C,p},p.cellSize=function(y){return arguments.length?((y=+y)>=1||Pt("invalid cell size"),h=Math.floor(Math.log(y)/Math.LN2),p):1<<h},p.bandwidth=function(y){return arguments.length?(1===(y=Mr(y)).length&&(y=[+y[0],+y[0]]),2!==y.length&&Pt("invalid bandwidth"),u=y,p):u},p}function Zo(e,i,a,u,l){const d=1+(l<<1);for(let h=0;h<i;++h)for(let p=0,y=0;p<e+l;++p)p<e&&(y+=a[p+h*e]),p>=l&&(p>=d&&(y-=a[p-d+h*e]),u[p-l+h*e]=y/Math.min(p+1,e-1+d-p,d))}function ui(e,i,a,u,l){const d=1+(l<<1);for(let h=0;h<e;++h)for(let p=0,y=0;p<i+l;++p)p<i&&(y+=a[h+p*e]),p>=l&&(p>=d&&(y-=a[h+(p-d)*e]),u[h+(p-l)*e]=y/Math.min(p+1,i-1+d-p,d))}function Xi(e){nn.call(this,null,e)}u2.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},qt(u2,nn,{transform(e,i){if(this.value&&!i.changed()&&!e.modified())return i.StopPropagation;var a=i.fork(i.NO_SOURCE|i.NO_FIELDS),u=i.materialize(i.SOURCE).source,l=e.field||vs,d=Ste().smooth(!1!==e.smooth),h=e.thresholds||function(e,i,a){const u=Oh(a.levels||10,a.nice,!1!==a.zero);return"shared"!==a.resolve?u:u(e.map(l=>Z0(i(l).values)))}(u,l,e),p=null===e.as?null:e.as||"contour",y=[];return u.forEach(b=>{const C=l(b),M=d.size([C.width,C.height])(C.values,Sn(h)?h:h(C.values));(function(e,i,a,u){let l=u.scale||i.scale,d=u.translate||i.translate;if(ur(l)&&(l=l(a,u)),ur(d)&&(d=d(a,u)),(1===l||null==l)&&!d)return;const h=(Ft(l)?l:l[0])||1,p=(Ft(l)?l:l[1])||1;e.forEach(sW(i,h,p,d&&d[0]||0,d&&d[1]||0))})(M,C,b,e),M.forEach(O=>{y.push(ov(b,Xs(null!=p?{[p]:O}:O)))})}),this.value&&(a.rem=this.value),this.value=a.source=a.add=y,a}}),Xi.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const uW=["x","y","weight","size","cellSize","bandwidth"];function l2(e,i){return uW.forEach(a=>null!=i[a]?e[a](i[a]):0),e}function vw(e){nn.call(this,null,e)}qt(Xi,nn,{transform(e,i){if(this.value&&!i.changed()&&!e.modified())return i.StopPropagation;var y,a=i.fork(i.NO_SOURCE|i.NO_FIELDS),l=function(e,i){var l,d,h,p,y,b,a=[],u=C=>C(p);if(null==i)a.push(e);else for(l={},d=0,h=e.length;d<h;++d)p=e[d],(b=l[y=i.map(u)])||(l[y]=b=[],b.dims=y,a.push(b)),b.push(p);return a}(i.materialize(i.SOURCE).source,e.groupby),d=(e.groupby||[]).map(hi),h=l2(oW(),e),p=e.as||"grid";return y=l.map(C=>Xs(function(C,M){for(let O=0;O<d.length;++O)C[d[O]]=M[O];return C}({[p]:h(C,e.counts)},C.dims))),this.value&&(a.rem=this.value),this.value=a.source=a.add=y,a}}),vw.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},qt(vw,nn,{transform(e,i){if(this.value&&!i.changed()&&!e.modified())return i.StopPropagation;var p,y,a=i.fork(i.NO_SOURCE|i.NO_FIELDS),u=Ste().smooth(!1!==e.smooth),l=e.values,d=e.thresholds||Oh(e.count||10,e.nice,!!l),h=e.size;return l||(l=i.materialize(i.SOURCE).source,y=sW(p=l2(oW(),e)(l,!0),p.scale||1,p.scale||1,0,0),h=[p.width,p.height],l=p.values),d=Sn(d)?d:d(l),l=u.size(h)(l,d),y&&l.forEach(y),this.value&&(a.rem=this.value),this.value=a.source=a.add=(l||[]).map(Xs),a}});const Lh="Feature",iB="FeatureCollection";function sB(e){nn.call(this,null,e)}function Ja(e){nn.call(this,null,e)}function bw(e){nn.call(this,null,e)}function aB(e){nn.call(this,null,e)}function oB(e){nn.call(this,[],e),this.generator=function(){var e,i,a,u,l,d,h,p,O,H,Y,te,y=10,b=y,C=90,M=360,se=2.5;function ye(){return{type:"MultiLineString",coordinates:Ce()}}function Ce(){return lt(vI(u/C)*C,a,C).map(Y).concat(lt(vI(p/M)*M,h,M).map(te)).concat(lt(vI(i/y)*y,e,y).filter(function(Ve){return ea(Ve%C)>oi}).map(O)).concat(lt(vI(d/b)*b,l,b).filter(function(Ve){return ea(Ve%M)>oi}).map(H))}return ye.lines=function(){return Ce().map(function(Ve){return{type:"LineString",coordinates:Ve}})},ye.outline=function(){return{type:"Polygon",coordinates:[Y(u).concat(te(h).slice(1),Y(a).reverse().slice(1),te(p).reverse().slice(1))]}},ye.extent=function(Ve){return arguments.length?ye.extentMajor(Ve).extentMinor(Ve):ye.extentMinor()},ye.extentMajor=function(Ve){return arguments.length?(p=+Ve[0][1],h=+Ve[1][1],(u=+Ve[0][0])>(a=+Ve[1][0])&&(Ve=u,u=a,a=Ve),p>h&&(Ve=p,p=h,h=Ve),ye.precision(se)):[[u,p],[a,h]]},ye.extentMinor=function(Ve){return arguments.length?(d=+Ve[0][1],l=+Ve[1][1],(i=+Ve[0][0])>(e=+Ve[1][0])&&(Ve=i,i=e,e=Ve),d>l&&(Ve=d,d=l,l=Ve),ye.precision(se)):[[i,d],[e,l]]},ye.step=function(Ve){return arguments.length?ye.stepMajor(Ve).stepMinor(Ve):ye.stepMinor()},ye.stepMajor=function(Ve){return arguments.length?(C=+Ve[0],M=+Ve[1],ye):[C,M]},ye.stepMinor=function(Ve){return arguments.length?(y=+Ve[0],b=+Ve[1],ye):[y,b]},ye.precision=function(Ve){return arguments.length?(se=+Ve,O=a2(d,l,90),H=o2(i,e,se),Y=a2(p,h,90),te=o2(u,a,se),ye):se},ye.extentMajor([[-180,-90+oi],[180,90-oi]]).extentMinor([[-180,-80-oi],[180,80+oi]])}()}function OI(e){nn.call(this,null,e)}function FI(e){if(!ur(e))return!1;const i=Di(mr(e));return i.$x||i.$y||i.$value||i.$max}function lB(e){nn.call(this,null,e),this.modified(!0)}function lW(e,i,a){ur(e[i])&&e[i](a)}function c2(e,i,a,u){if(isNaN(i)||isNaN(a))return e;var l,M,O,H,Y,te,se,ye,Ce,d=e._root,h={data:u},p=e._x0,y=e._y0,b=e._x1,C=e._y1;if(!d)return e._root=h,e;for(;d.length;)if((te=i>=(M=(p+b)/2))?p=M:b=M,(se=a>=(O=(y+C)/2))?y=O:C=O,l=d,!(d=d[ye=se<<1|te]))return l[ye]=h,e;if(H=+e._x.call(null,d.data),Y=+e._y.call(null,d.data),i===H&&a===Y)return h.next=d,l?l[ye]=h:e._root=h,e;do{l=l?l[ye]=new Array(4):e._root=new Array(4),(te=i>=(M=(p+b)/2))?p=M:b=M,(se=a>=(O=(y+C)/2))?y=O:C=O}while((ye=se<<1|te)==(Ce=(Y>=O)<<1|H>=M));return l[Ce]=d,l[ye]=h,e}function hd(e,i,a,u,l){this.node=e,this.x0=i,this.y0=a,this.x1=u,this.y1=l}function Gte(e){return e[0]}function hB(e){return e[1]}function RI(e,i,a){var u=new pB(null==i?Gte:i,null==a?hB:a,NaN,NaN,NaN,NaN);return null==e?u:u.addAll(e)}function pB(e,i,a,u,l,d){this._x=e,this._y=i,this._x0=a,this._y0=u,this._x1=l,this._y1=d,this._root=void 0}function Xte(e){for(var i={data:e.data},a=i;e=e.next;)a=a.next={data:e.data};return i}sB.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},qt(sB,nn,{transform(e,i){var b,a=this._features,u=this._points,l=e.fields,d=l&&l[0],h=l&&l[1],p=e.geojson||!l&&vs,y=i.ADD;b=e.modified()||i.changed(i.REM)||i.modified(mr(p))||d&&i.modified(mr(d))||h&&i.modified(mr(h)),(!this.value||b)&&(y=i.SOURCE,this._features=a=[],this._points=u=[]),p&&i.visit(y,C=>a.push(p(C))),d&&h&&(i.visit(y,C=>{var M=d(C),O=h(C);null!=M&&null!=O&&(M=+M)===M&&(O=+O)===O&&u.push([M,O])}),a=a.concat({type:Lh,geometry:{type:"MultiPoint",coordinates:u}})),this.value={type:iB,features:a}}}),Ja.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},qt(Ja,nn,{transform(e,i){var a=i.fork(i.ALL),u=this.value,l=e.field||vs,d=e.as||"path",h=a.SOURCE;!u||e.modified()?(this.value=u=Mte(e.projection),a.materialize().reflow()):h=l===vs||i.modified(l.fields)?a.ADD_MOD:a.ADD;const p=function(e,i){const a=e.pointRadius();return e.context(null),null!=i&&e.pointRadius(i),a}(u,e.pointRadius);return a.visit(h,y=>y[d]=u(l(y))),u.pointRadius(p),a.modifies(d)}}),bw.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},qt(bw,nn,{transform(e,i){var y,a=e.projection,u=e.fields[0],l=e.fields[1],d=e.as||["x","y"],h=d[0],p=d[1];function b(C){const M=a([u(C),l(C)]);M?(C[h]=M[0],C[p]=M[1]):(C[h]=void 0,C[p]=void 0)}return e.modified()?i=i.materialize().reflow(!0).visit(i.SOURCE,b):(y=i.modified(u.fields)||i.modified(l.fields),i.visit(y?i.ADD_MOD:i.ADD,b)),i.modifies(d)}}),aB.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},qt(aB,nn,{transform(e,i){var a=i.fork(i.ALL),u=this.value,l=e.as||"shape",d=a.ADD;return(!u||e.modified())&&(this.value=u=function(e,i,a){const u=null==a?l=>e(i(l)):l=>{var d=e.pointRadius(),h=e.pointRadius(a)(i(l));return e.pointRadius(d),h};return u.context=l=>(e.context(l),u),u}(Mte(e.projection),e.field||Ur("datum"),e.pointRadius),a.materialize().reflow(),d=a.SOURCE),a.visit(d,h=>h[l]=u),a.modifies(l)}}),oB.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},qt(oB,nn,{transform(e,i){var l,a=this.value,u=this.generator;if(!a.length||e.modified())for(const d in e)ur(u[d])&&u[d](e[d]);return l=u(),a.length?i.mod.push(oT(a[0],l)):i.add.push(Xs(l)),a[0]=l,i}}),OI.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},qt(OI,nn,{transform(e,i){if(!i.changed()&&!e.modified())return i.StopPropagation;var a=i.materialize(i.SOURCE).source,u="shared"===e.resolve,l=e.field||vs,d=function(e,i){let a;return ur(e)?(a=u=>e(u,i),a.dep=FI(e)):e?a=Xe(e):(a=u=>u.$value/u.$max||0,a.dep=!0),a}(e.opacity,e),h=function(e,i){let a;return ur(e)?(a=u=>Py(e(u,i)),a.dep=FI(e)):a=Xe(Py(e||"#888")),a}(e.color,e),p=e.as||"image",y={$x:0,$y:0,$value:0,$max:u?Z0(a.map(b=>Z0(l(b).values))):0};return a.forEach(b=>{const C=l(b),M=Nt({},b,y);u||(M.$max=Z0(C.values||[])),b[p]=function(e,i,a,u){const l=e.width,h=e.x1||0,p=e.y1||0,y=e.x2||l,b=e.y2||e.height,C=e.values,M=C?se=>C[se]:or,O=Cv(y-h,b-p),H=O.getContext("2d"),Y=H.getImageData(0,0,y-h,b-p),te=Y.data;for(let se=p,ye=0;se<b;++se){i.$y=se-p;for(let Ce=h,Ve=se*l;Ce<y;++Ce,ye+=4){i.$x=Ce-h,i.$value=M(Ce+Ve);const Ue=a(i);te[ye+0]=Ue.r,te[ye+1]=Ue.g,te[ye+2]=Ue.b,te[ye+3]=~~(255*u(i))}}return H.putImageData(Y,0,0),O}(C,M,h.dep?h:Xe(h(M)),d.dep?d:Xe(d(M)))}),i.reflow(!0).modifies(p)}}),qt(lB,nn,{transform(e,i){let a=this.value;return!a||e.modified("type")?(this.value=a=function(e){const i=nW((e||"mercator").toLowerCase());return i||Pt("Unrecognized projection type: "+e),i()}(e.type),s2.forEach(u=>{null!=e[u]&&lW(a,u,e[u])})):s2.forEach(u=>{e.modified(u)&&lW(a,u,e[u])}),null!=e.pointRadius&&a.path.pointRadius(e.pointRadius),e.fit&&function(e,i){const a=function(e){return 1===(e=Mr(e)).length?e[0]:{type:iB,features:e.reduce((i,a)=>i.concat(function(e){return e.type===iB?e.features:Mr(e).filter(i=>null!=i).map(i=>i.type===Lh?i:{type:Lh,geometry:i})}(a)),[])}}(i.fit);i.extent?e.fitExtent(i.extent,a):i.size&&e.fitSize(i.size,a)}(a,e),i.fork(i.NO_SOURCE|i.NO_FIELDS)}});var Qd=RI.prototype=pB.prototype;function qd(e){return function(){return e}}function n1(e){return 1e-6*(e()-.5)}function Zte(e){return e.x+e.vx}function Fh(e){return e.y+e.vy}Qd.copy=function(){var a,u,e=new pB(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=Xte(i),e;for(a=[{source:i,target:e._root=new Array(4)}];i=a.pop();)for(var l=0;l<4;++l)(u=i.source[l])&&(u.length?a.push({source:u,target:i.target[l]=new Array(4)}):i.target[l]=Xte(u));return e},Qd.add=function(e){const i=+this._x.call(null,e),a=+this._y.call(null,e);return c2(this.cover(i,a),i,a,e)},Qd.addAll=function(e){var i,a,l,d,u=e.length,h=new Array(u),p=new Array(u),y=1/0,b=1/0,C=-1/0,M=-1/0;for(a=0;a<u;++a)isNaN(l=+this._x.call(null,i=e[a]))||isNaN(d=+this._y.call(null,i))||(h[a]=l,p[a]=d,l<y&&(y=l),l>C&&(C=l),d<b&&(b=d),d>M&&(M=d));if(y>C||b>M)return this;for(this.cover(y,b).cover(C,M),a=0;a<u;++a)c2(this,h[a],p[a],e[a]);return this},Qd.cover=function(e,i){if(isNaN(e=+e)||isNaN(i=+i))return this;var a=this._x0,u=this._y0,l=this._x1,d=this._y1;if(isNaN(a))l=(a=Math.floor(e))+1,d=(u=Math.floor(i))+1;else{for(var y,b,h=l-a||1,p=this._root;a>e||e>=l||u>i||i>=d;)switch(b=(i<u)<<1|e<a,y=new Array(4),y[b]=p,p=y,h*=2,b){case 0:l=a+h,d=u+h;break;case 1:a=l-h,d=u+h;break;case 2:l=a+h,u=d-h;break;case 3:a=l-h,u=d-h}this._root&&this._root.length&&(this._root=p)}return this._x0=a,this._y0=u,this._x1=l,this._y1=d,this},Qd.data=function(){var e=[];return this.visit(function(i){if(!i.length)do{e.push(i.data)}while(i=i.next)}),e},Qd.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Qd.find=function(e,i,a){var u,h,p,y,b,Y,te,l=this._x0,d=this._y0,C=this._x1,M=this._y1,O=[],H=this._root;for(H&&O.push(new hd(H,l,d,C,M)),null==a?a=1/0:(l=e-a,d=i-a,C=e+a,M=i+a,a*=a);Y=O.pop();)if(!(!(H=Y.node)||(h=Y.x0)>C||(p=Y.y0)>M||(y=Y.x1)<l||(b=Y.y1)<d))if(H.length){var se=(h+y)/2,ye=(p+b)/2;O.push(new hd(H[3],se,ye,y,b),new hd(H[2],h,ye,se,b),new hd(H[1],se,p,y,ye),new hd(H[0],h,p,se,ye)),(te=(i>=ye)<<1|e>=se)&&(Y=O[O.length-1],O[O.length-1]=O[O.length-1-te],O[O.length-1-te]=Y)}else{var Ce=e-+this._x.call(null,H.data),Ve=i-+this._y.call(null,H.data),Ue=Ce*Ce+Ve*Ve;if(Ue<a){var qe=Math.sqrt(a=Ue);l=e-qe,d=i-qe,C=e+qe,M=i+qe,u=H.data}}return u},Qd.remove=function(e){if(isNaN(C=+this._x.call(null,e))||isNaN(M=+this._y.call(null,e)))return this;var i,u,l,d,C,M,O,H,Y,te,se,ye,a=this._root,h=this._x0,p=this._y0,y=this._x1,b=this._y1;if(!a)return this;if(a.length)for(;;){if((Y=C>=(O=(h+y)/2))?h=O:y=O,(te=M>=(H=(p+b)/2))?p=H:b=H,i=a,!(a=a[se=te<<1|Y]))return this;if(!a.length)break;(i[se+1&3]||i[se+2&3]||i[se+3&3])&&(u=i,ye=se)}for(;a.data!==e;)if(l=a,!(a=a.next))return this;return(d=a.next)&&delete a.next,l?(d?l.next=d:delete l.next,this):i?(d?i[se]=d:delete i[se],(a=i[0]||i[1]||i[2]||i[3])&&a===(i[3]||i[2]||i[1]||i[0])&&!a.length&&(u?u[ye]=a:this._root=a),this):(this._root=d,this)},Qd.removeAll=function(e){for(var i=0,a=e.length;i<a;++i)this.remove(e[i]);return this},Qd.root=function(){return this._root},Qd.size=function(){var e=0;return this.visit(function(i){if(!i.length)do{++e}while(i=i.next)}),e},Qd.visit=function(e){var a,l,d,h,p,y,i=[],u=this._root;for(u&&i.push(new hd(u,this._x0,this._y0,this._x1,this._y1));a=i.pop();)if(!e(u=a.node,d=a.x0,h=a.y0,p=a.x1,y=a.y1)&&u.length){var b=(d+p)/2,C=(h+y)/2;(l=u[3])&&i.push(new hd(l,b,C,p,y)),(l=u[2])&&i.push(new hd(l,d,C,b,y)),(l=u[1])&&i.push(new hd(l,b,h,p,C)),(l=u[0])&&i.push(new hd(l,d,h,b,C))}return this},Qd.visitAfter=function(e){var u,i=[],a=[];for(this._root&&i.push(new hd(this._root,this._x0,this._y0,this._x1,this._y1));u=i.pop();){var l=u.node;if(l.length){var d,h=u.x0,p=u.y0,y=u.x1,b=u.y1,C=(h+y)/2,M=(p+b)/2;(d=l[0])&&i.push(new hd(d,h,p,C,M)),(d=l[1])&&i.push(new hd(d,C,p,y,M)),(d=l[2])&&i.push(new hd(d,h,M,C,b)),(d=l[3])&&i.push(new hd(d,C,M,y,b))}a.push(u)}for(;u=a.pop();)e(u.node,u.x0,u.y0,u.x1,u.y1);return this},Qd.x=function(e){return arguments.length?(this._x=e,this):this._x},Qd.y=function(e){return arguments.length?(this._y=e,this):this._y};var Jte={value:()=>{}};function pd(){for(var u,e=0,i=arguments.length,a={};e<i;++e){if(!(u=arguments[e]+"")||u in a||/[\s.]/.test(u))throw new Error("illegal type: "+u);a[u]=[]}return new BI(a)}function BI(e){this._=e}function hW(e,i){return e.trim().split(/^|\s+/).map(function(a){var u="",l=a.indexOf(".");if(l>=0&&(u=a.slice(l+1),a=a.slice(0,l)),a&&!i.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:u}})}function mB(e,i){for(var l,a=0,u=e.length;a<u;++a)if((l=e[a]).name===i)return l.value}function $I(e,i,a){for(var u=0,l=e.length;u<l;++u)if(e[u].name===i){e[u]=Jte,e=e.slice(0,u).concat(e.slice(u+1));break}return null!=a&&e.push({name:i,value:a}),e}BI.prototype=pd.prototype={constructor:BI,on:function(e,i){var l,a=this._,u=hW(e+"",a),d=-1,h=u.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++d<h;)if(l=(e=u[d]).type)a[l]=$I(a[l],e.name,i);else if(null==i)for(l in a)a[l]=$I(a[l],e.name,null);return this}for(;++d<h;)if((l=(e=u[d]).type)&&(l=mB(a[l],e.name)))return l},copy:function(){var e={},i=this._;for(var a in i)e[a]=i[a].slice();return new BI(e)},call:function(e,i){if((l=arguments.length-2)>0)for(var l,d,a=new Array(l),u=0;u<l;++u)a[u]=arguments[u+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=0,l=(d=this._[e]).length;u<l;++u)d[u].value.apply(i,a)},apply:function(e,i,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var u=this._[e],l=0,d=u.length;l<d;++l)u[l].value.apply(i,a)}};const Qte=pd;var zI,ef,xw=0,VI=0,Dw=0,gB=0,Nc=0,jI=0,f2="object"==typeof performance&&performance.now?performance:Date,mW="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _B(){return Nc||(mW(qte),Nc=f2.now()+jI)}function qte(){Nc=0}function WI(){this._call=this._time=this._next=null}function gW(e,i,a){var u=new WI;return u.restart(e,i,a),u}function _W(){Nc=(gB=f2.now())+jI,xw=VI=0;try{!function(){_B(),++xw;for(var i,e=zI;e;)(i=Nc-e._time)>=0&&e._call.call(null,i),e=e._next;--xw}()}finally{xw=0,function(){for(var e,a,i=zI,u=1/0;i;)i._call?(u>i._time&&(u=i._time),e=i,i=i._next):(a=i._next,i._next=null,i=e?e._next=a:zI=a);ef=e,yB(u)}(),Nc=0}}function tne(){var e=f2.now(),i=e-gB;i>1e3&&(jI-=i,gB=e)}function yB(e){xw||(VI&&(VI=clearTimeout(VI)),e-Nc>24?(e<1/0&&(VI=setTimeout(_W,e-f2.now()-jI)),Dw&&(Dw=clearInterval(Dw))):(Dw||(gB=f2.now(),Dw=setInterval(tne,1e3)),xw=1,mW(_W)))}WI.prototype=gW.prototype={constructor:WI,restart:function(e,i,a){if("function"!=typeof e)throw new TypeError("callback is not a function");a=(null==a?_B():+a)+(null==i?0:+i),!this._next&&ef!==this&&(ef?ef._next=this:zI=this,ef=this),this._call=e,this._time=a,yB()},stop:function(){this._call&&(this._call=null,this._time=1/0,yB())}};const yW=4294967296;function bW(e){return e.x}function sne(e){return e.y}var ane=Math.PI*(3-Math.sqrt(5));function one(e){return e.index}function une(e,i){var a=e.get(i);if(!a)throw new Error("node not found: "+i);return a}const wW={center:function(e,i){var a,u=1;function l(){var d,p,h=a.length,y=0,b=0;for(d=0;d<h;++d)y+=(p=a[d]).x,b+=p.y;for(y=(y/h-e)*u,b=(b/h-i)*u,d=0;d<h;++d)(p=a[d]).x-=y,p.y-=b}return null==e&&(e=0),null==i&&(i=0),l.initialize=function(d){a=d},l.x=function(d){return arguments.length?(e=+d,l):e},l.y=function(d){return arguments.length?(i=+d,l):i},l.strength=function(d){return arguments.length?(u=+d,l):u},l},collide:function(e){var i,a,u,l=1,d=1;function h(){for(var b,M,O,H,Y,te,se,C=i.length,ye=0;ye<d;++ye)for(M=RI(i,Zte,Fh).visitAfter(p),b=0;b<C;++b)se=(te=a[(O=i[b]).index])*te,H=O.x+O.vx,Y=O.y+O.vy,M.visit(Ce);function Ce(Ve,Ue,qe,tt,Ge){var mt=Ve.data,Ot=Ve.r,Tt=te+Ot;if(!mt)return Ue>H+Tt||tt<H-Tt||qe>Y+Tt||Ge<Y-Tt;if(mt.index>O.index){var St=H-mt.x-mt.vx,Gt=Y-mt.y-mt.vy,jt=St*St+Gt*Gt;jt<Tt*Tt&&(0===St&&(jt+=(St=n1(u))*St),0===Gt&&(jt+=(Gt=n1(u))*Gt),jt=(Tt-(jt=Math.sqrt(jt)))/jt*l,O.vx+=(St*=jt)*(Tt=(Ot*=Ot)/(se+Ot)),O.vy+=(Gt*=jt)*Tt,mt.vx-=St*(Tt=1-Tt),mt.vy-=Gt*Tt)}}}function p(b){if(b.data)return b.r=a[b.data.index];for(var C=b.r=0;C<4;++C)b[C]&&b[C].r>b.r&&(b.r=b[C].r)}function y(){if(i){var b,M,C=i.length;for(a=new Array(C),b=0;b<C;++b)a[(M=i[b]).index]=+e(M,b,i)}}return"function"!=typeof e&&(e=qd(null==e?1:+e)),h.initialize=function(b,C){i=b,u=C,y()},h.iterations=function(b){return arguments.length?(d=+b,h):d},h.strength=function(b){return arguments.length?(l=+b,h):l},h.radius=function(b){return arguments.length?(e="function"==typeof b?b:qd(+b),y(),h):e},h},nbody:function(){var e,i,a,u,d,l=qd(-30),h=1,p=1/0,y=.81;function b(H){var Y,te=e.length,se=RI(e,bW,sne).visitAfter(M);for(u=H,Y=0;Y<te;++Y)i=e[Y],se.visit(O)}function C(){if(e){var H,te,Y=e.length;for(d=new Array(Y),H=0;H<Y;++H)d[(te=e[H]).index]=+l(te,H,e)}}function M(H){var te,se,Ce,Ve,Ue,Y=0,ye=0;if(H.length){for(Ce=Ve=Ue=0;Ue<4;++Ue)(te=H[Ue])&&(se=Math.abs(te.value))&&(Y+=te.value,ye+=se,Ce+=se*te.x,Ve+=se*te.y);H.x=Ce/ye,H.y=Ve/ye}else{(te=H).x=te.data.x,te.y=te.data.y;do{Y+=d[te.data.index]}while(te=te.next)}H.value=Y}function O(H,Y,te,se){if(!H.value)return!0;var ye=H.x-i.x,Ce=H.y-i.y,Ve=se-Y,Ue=ye*ye+Ce*Ce;if(Ve*Ve/y<Ue)return Ue<p&&(0===ye&&(Ue+=(ye=n1(a))*ye),0===Ce&&(Ue+=(Ce=n1(a))*Ce),Ue<h&&(Ue=Math.sqrt(h*Ue)),i.vx+=ye*H.value*u/Ue,i.vy+=Ce*H.value*u/Ue),!0;if(!(H.length||Ue>=p)){(H.data!==i||H.next)&&(0===ye&&(Ue+=(ye=n1(a))*ye),0===Ce&&(Ue+=(Ce=n1(a))*Ce),Ue<h&&(Ue=Math.sqrt(h*Ue)));do{H.data!==i&&(i.vx+=ye*(Ve=d[H.data.index]*u/Ue),i.vy+=Ce*Ve)}while(H=H.next)}}return b.initialize=function(H,Y){e=H,a=Y,C()},b.strength=function(H){return arguments.length?(l="function"==typeof H?H:qd(+H),C(),b):l},b.distanceMin=function(H){return arguments.length?(h=H*H,b):Math.sqrt(h)},b.distanceMax=function(H){return arguments.length?(p=H*H,b):Math.sqrt(p)},b.theta=function(H){return arguments.length?(y=H*H,b):Math.sqrt(y)},b},link:function(e){var u,d,h,p,y,b,i=one,a=function(se){return 1/Math.min(p[se.source.index],p[se.target.index])},l=qd(30),C=1;function O(se){for(var ye=0,Ce=e.length;ye<C;++ye)for(var Ue,qe,tt,Ge,mt,Ot,Tt,Ve=0;Ve<Ce;++Ve)Ge=(tt=(Ue=e[Ve]).target).x+tt.vx-(qe=Ue.source).x-qe.vx||n1(b),mt=tt.y+tt.vy-qe.y-qe.vy||n1(b),mt*=Ot=((Ot=Math.sqrt(Ge*Ge+mt*mt))-d[Ve])/Ot*se*u[Ve],tt.vx-=(Ge*=Ot)*(Tt=y[Ve]),tt.vy-=mt*Tt,qe.vx+=Ge*(Tt=1-Tt),qe.vy+=mt*Tt}function H(){if(h){var se,Ue,ye=h.length,Ce=e.length,Ve=new Map(h.map((qe,tt)=>[i(qe,tt,h),qe]));for(se=0,p=new Array(ye);se<Ce;++se)(Ue=e[se]).index=se,"object"!=typeof Ue.source&&(Ue.source=une(Ve,Ue.source)),"object"!=typeof Ue.target&&(Ue.target=une(Ve,Ue.target)),p[Ue.source.index]=(p[Ue.source.index]||0)+1,p[Ue.target.index]=(p[Ue.target.index]||0)+1;for(se=0,y=new Array(Ce);se<Ce;++se)y[se]=p[(Ue=e[se]).source.index]/(p[Ue.source.index]+p[Ue.target.index]);u=new Array(Ce),Y(),d=new Array(Ce),te()}}function Y(){if(h)for(var se=0,ye=e.length;se<ye;++se)u[se]=+a(e[se],se,e)}function te(){if(h)for(var se=0,ye=e.length;se<ye;++se)d[se]=+l(e[se],se,e)}return null==e&&(e=[]),O.initialize=function(se,ye){h=se,b=ye,H()},O.links=function(se){return arguments.length?(e=se,H(),O):e},O.id=function(se){return arguments.length?(i=se,O):i},O.iterations=function(se){return arguments.length?(C=+se,O):C},O.strength=function(se){return arguments.length?(a="function"==typeof se?se:qd(+se),Y(),O):a},O.distance=function(se){return arguments.length?(l="function"==typeof se?se:qd(+se),te(),O):l},O},x:function(e){var a,u,l,i=qd(.1);function d(p){for(var C,y=0,b=a.length;y<b;++y)(C=a[y]).vx+=(l[y]-C.x)*u[y]*p}function h(){if(a){var p,y=a.length;for(u=new Array(y),l=new Array(y),p=0;p<y;++p)u[p]=isNaN(l[p]=+e(a[p],p,a))?0:+i(a[p],p,a)}}return"function"!=typeof e&&(e=qd(null==e?0:+e)),d.initialize=function(p){a=p,h()},d.strength=function(p){return arguments.length?(i="function"==typeof p?p:qd(+p),h(),d):i},d.x=function(p){return arguments.length?(e="function"==typeof p?p:qd(+p),h(),d):e},d},y:function(e){var a,u,l,i=qd(.1);function d(p){for(var C,y=0,b=a.length;y<b;++y)(C=a[y]).vy+=(l[y]-C.y)*u[y]*p}function h(){if(a){var p,y=a.length;for(u=new Array(y),l=new Array(y),p=0;p<y;++p)u[p]=isNaN(l[p]=+e(a[p],p,a))?0:+i(a[p],p,a)}}return"function"!=typeof e&&(e=qd(null==e?0:+e)),d.initialize=function(p){a=p,h()},d.strength=function(p){return arguments.length?(i="function"==typeof p?p:qd(+p),h(),d):i},d.y=function(p){return arguments.length?(e="function"==typeof p?p:qd(+p),h(),d):e},d}},h2="forces",xB=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Iye=["static","iterations"],cne=["x","y","vx","vy"];function CW(e){nn.call(this,null,e)}function dne(e,i,a,u){var d,h,p,y,l=Mr(i.forces);for(d=0,h=xB.length;d<h;++d)(p=xB[d])!==h2&&i.modified(p)&&e[p](i[p]);for(d=0,h=l.length;d<h;++d)y=h2+d,(p=a||i.modified(h2,d)?fne(l[d]):u&&EW(l[d],u)?e.force(y):null)&&e.force(y,p);for(h=e.numForces||0;d<h;++d)e.force(h2+d,null);return e.numForces=l.length,e}function EW(e,i){var a,u;for(a in e)if(ur(u=e[a])&&i.modified(mr(u)))return 1;return 0}function fne(e){var i,a;for(a in bn(wW,e.force)||Pt("Unrecognized force: "+e.force),i=wW[e.force](),e)ur(i[a])&&Lye(i[a],e[a],e);return i}function Lye(e,i,a){e(ur(i)?u=>i(u,a):i)}function hne(e){var i=0,a=e.children,u=a&&a.length;if(u)for(;--u>=0;)i+=a[u].value;else i=1;e.value=i}function SW(e,i){e instanceof Map?(e=[void 0,e],void 0===i&&(i=Dne)):void 0===i&&(i=Pye);for(var u,d,h,p,y,a=new Db(e),l=[a];u=l.pop();)if((h=i(u.data))&&(y=(h=Array.from(h)).length))for(u.children=h,p=y-1;p>=0;--p)l.push(d=h[p]=new Db(h[p])),d.parent=u,d.depth=u.depth+1;return a.eachBefore(AW)}function Pye(e){return e.children}function Dne(e){return Array.isArray(e)?e[1]:null}function wne(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function AW(e){var i=0;do{e.height=i}while((e=e.parent)&&e.height<++i)}function Db(e){this.data=e,this.depth=this.height=0,this.parent=null}function Rye(e,i){var a,u;if(Cw(i,e))return[i];for(a=0;a<e.length;++a)if(YI(i,e[a])&&Cw(w_(e[a],i),e))return[e[a],i];for(a=0;a<e.length-1;++a)for(u=a+1;u<e.length;++u)if(YI(w_(e[a],e[u]),i)&&YI(w_(e[a],i),e[u])&&YI(w_(e[u],i),e[a])&&Cw(EB(e[a],e[u],i),e))return[e[a],e[u],i];throw new Error}function YI(e,i){var a=e.r-i.r,u=i.x-e.x,l=i.y-e.y;return a<0||a*a<u*u+l*l}function ww(e,i){var a=e.r-i.r+1e-9*Math.max(e.r,i.r,1),u=i.x-e.x,l=i.y-e.y;return a>0&&a*a>u*u+l*l}function Cw(e,i){for(var a=0;a<i.length;++a)if(!ww(e,i[a]))return!1;return!0}function CB(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return w_(e[0],e[1]);case 3:return EB(e[0],e[1],e[2])}}function w_(e,i){var a=e.x,u=e.y,l=e.r,d=i.x,h=i.y,p=i.r,y=d-a,b=h-u,C=p-l,M=Math.sqrt(y*y+b*b);return{x:(a+d+y/M*C)/2,y:(u+h+b/M*C)/2,r:(M+l+p)/2}}function EB(e,i,a){var u=e.x,l=e.y,d=e.r,h=i.x,p=i.y,y=i.r,b=a.x,C=a.y,M=a.r,O=u-h,H=u-b,Y=l-p,te=l-C,se=y-d,ye=M-d,Ce=u*u+l*l-d*d,Ve=Ce-h*h-p*p+y*y,Ue=Ce-b*b-C*C+M*M,qe=H*Y-O*te,tt=(Y*Ue-te*Ve)/(2*qe)-u,Ge=(te*se-Y*ye)/qe,mt=(H*Ve-O*Ue)/(2*qe)-l,Ot=(O*ye-H*se)/qe,Tt=Ge*Ge+Ot*Ot-1,St=2*(d+tt*Ge+mt*Ot),Gt=tt*tt+mt*mt-d*d,jt=-(Tt?(St+Math.sqrt(St*St-4*Tt*Gt))/(2*Tt):Gt/St);return{x:u+tt+Ge*jt,y:l+mt+Ot*jt,r:jt}}function GI(e,i,a){var l,d,p,y,u=e.x-i.x,h=e.y-i.y,b=u*u+h*h;b?(d=i.r+a.r,y=e.r+a.r,(d*=d)>(y*=y)?(l=(b+y-d)/(2*b),p=Math.sqrt(Math.max(0,y/b-l*l)),a.x=e.x-l*u-p*h,a.y=e.y-l*h+p*u):(l=(b+d-y)/(2*b),p=Math.sqrt(Math.max(0,d/b-l*l)),a.x=i.x+l*u-p*h,a.y=i.y+l*h+p*u)):(a.x=i.x+a.r,a.y=i.y)}function KI(e,i){var a=e.r+i.r-1e-6,u=i.x-e.x,l=i.y-e.y;return a>0&&a*a>u*u+l*l}function MB(e){var i=e._,a=e.next._,u=i.r+a.r,l=(i.x*a.r+a.x*i.r)/u,d=(i.y*a.r+a.y*i.r)/u;return l*l+d*d}function m2(e){this._=e,this.next=null,this.previous=null}function kW(e){if(!(l=(e=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var i,a,u,l,d,h,p,y,b,C,M;if((i=e[0]).x=0,i.y=0,!(l>1))return i.r;if(i.x=-(a=e[1]).r,a.x=i.r,a.y=0,!(l>2))return i.r+a.r;GI(a,i,u=e[2]),i=new m2(i),a=new m2(a),u=new m2(u),i.next=u.previous=a,a.next=i.previous=u,u.next=a.previous=i;e:for(p=3;p<l;++p){GI(i._,a._,u=e[p]),u=new m2(u),y=a.next,b=i.previous,C=a._.r,M=i._.r;do{if(C<=M){if(KI(y._,u._)){i.next=a=y,a.previous=i,--p;continue e}C+=y._.r,y=y.next}else{if(KI(b._,u._)){(i=b).next=a,a.previous=i,--p;continue e}M+=b._.r,b=b.previous}}while(y!==b.next);for(u.previous=i,u.next=a,i.next=a.previous=a=u,d=MB(i);(u=u.next)!==a;)(h=MB(u))<d&&(i=u,d=h);a=i.next}for(i=[a._],u=a;(u=u.next)!==a;)i.push(u._);for(u=function(e){for(var l,d,i=0,a=(e=function(e){for(var a,u,i=e.length;i;)u=Math.random()*i--|0,a=e[i],e[i]=e[u],e[u]=a;return e}(Array.from(e))).length,u=[];i<a;)l=e[i],d&&ww(d,l)?++i:(d=CB(u=Rye(u,l)),i=0);return d}(i),p=0;p<l;++p)(i=e[p]).x-=u.x,i.y-=u.y;return u.r}function Sne(e){return null==e?null:XI(e)}function XI(e){if("function"!=typeof e)throw new Error;return e}function Wg(){return 0}function wb(e){return function(){return e}}function $ye(e){return Math.sqrt(e.value)}function ZI(e){return function(i){i.children||(i.r=Math.max(0,+e(i)||0))}}function IW(e,i){return function(a){if(u=a.children){var u,l,p,d=u.length,h=e(a)*i||0;if(h)for(l=0;l<d;++l)u[l].r+=h;if(p=kW(u),h)for(l=0;l<d;++l)u[l].r-=h;a.r=p+h}}}function NW(e){return function(i){var a=i.parent;i.r*=e,a&&(i.x=a.x+e*i.x,i.y=a.y+e*i.y)}}function AB(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function g2(e,i,a,u,l){for(var h,d=e.children,p=-1,y=d.length,b=e.value&&(u-i)/e.value;++p<y;)(h=d[p]).y0=a,h.y1=l,h.x0=i,h.x1=i+=h.value*b}CW.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:cne}]},qt(CW,nn,{transform(e,i){var a=this.value,u=i.changed(i.ADD_REM),l=e.modified(xB),d=e.iterations||300;if(a?(u&&(i.modifies("index"),a.nodes(i.source)),(l||i.changed(i.MOD))&&dne(a,e,0,i)):(this.value=a=function(e,i){const a=function(e){var i,a=1,u=.001,l=1-Math.pow(u,1/300),d=0,h=.6,p=new Map,y=gW(M),b=Qte("tick","end"),C=function(){let e=1;return()=>(e=(1664525*e+1013904223)%yW)/yW}();function M(){O(),b.call("tick",i),a<u&&(y.stop(),b.call("end",i))}function O(te){var se,Ce,ye=e.length;void 0===te&&(te=1);for(var Ve=0;Ve<te;++Ve)for(a+=(d-a)*l,p.forEach(function(Ue){Ue(a)}),se=0;se<ye;++se)null==(Ce=e[se]).fx?Ce.x+=Ce.vx*=h:(Ce.x=Ce.fx,Ce.vx=0),null==Ce.fy?Ce.y+=Ce.vy*=h:(Ce.y=Ce.fy,Ce.vy=0);return i}function H(){for(var ye,te=0,se=e.length;te<se;++te){if((ye=e[te]).index=te,null!=ye.fx&&(ye.x=ye.fx),null!=ye.fy&&(ye.y=ye.fy),isNaN(ye.x)||isNaN(ye.y)){var Ce=10*Math.sqrt(.5+te),Ve=te*ane;ye.x=Ce*Math.cos(Ve),ye.y=Ce*Math.sin(Ve)}(isNaN(ye.vx)||isNaN(ye.vy))&&(ye.vx=ye.vy=0)}}function Y(te){return te.initialize&&te.initialize(e,C),te}return null==e&&(e=[]),H(),i={tick:O,restart:function(){return y.restart(M),i},stop:function(){return y.stop(),i},nodes:function(te){return arguments.length?(e=te,H(),p.forEach(Y),i):e},alpha:function(te){return arguments.length?(a=+te,i):a},alphaMin:function(te){return arguments.length?(u=+te,i):u},alphaDecay:function(te){return arguments.length?(l=+te,i):+l},alphaTarget:function(te){return arguments.length?(d=+te,i):d},velocityDecay:function(te){return arguments.length?(h=1-te,i):1-h},randomSource:function(te){return arguments.length?(C=te,p.forEach(Y),i):C},force:function(te,se){return arguments.length>1?(null==se?p.delete(te):p.set(te,Y(se)),i):p.get(te)},find:function(te,se,ye){var Ue,qe,tt,Ge,mt,Ce=0,Ve=e.length;for(null==ye?ye=1/0:ye*=ye,Ce=0;Ce<Ve;++Ce)(tt=(Ue=te-(Ge=e[Ce]).x)*Ue+(qe=se-Ge.y)*qe)<ye&&(mt=Ge,ye=tt);return mt},on:function(te,se){return arguments.length>1?(b.on(te,se),i):b.on(te)}}}(e),u=a.stop,l=a.restart;let d=!1;return a.stopped=()=>d,a.restart=()=>(d=!1,l()),a.stop=()=>(d=!0,u()),dne(a,i,!0).on("end",()=>d=!0)}(i.source,e),a.on("tick",function(e,i){return()=>e.touch(i).run()}(i.dataflow,this)),e.static||(u=!0,a.tick()),i.modifies("index")),l||u||e.modified(Iye)||i.changed()&&e.restart)if(a.alpha(Math.max(a.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(a.alphaMin(),1/d)),e.static)for(a.stop();--d>=0;)a.tick();else if(a.stopped()&&a.restart(),!u)return i.StopPropagation;return this.finish(e,i)},finish(e,i){const a=i.dataflow;for(let C,p=this._argops,y=0,b=p.length;y<b;++y)if(C=p[y],C.name===h2&&"link"===C.op._argval.force)for(var h,u=C.op._argops,l=0,d=u.length;l<d;++l)if("links"===u[l].name&&(h=u[l].op.source)){a.pulse(h,a.changeset().reflow());break}return i.reflow(e.modified()).modifies(cne)}}),Db.prototype=SW.prototype={constructor:Db,count:function(){return this.eachAfter(hne)},each:function(e,i){let a=-1;for(const u of this)e.call(i,u,++a,this);return this},eachAfter:function(e,i){for(var d,h,p,a=this,u=[a],l=[],y=-1;a=u.pop();)if(l.push(a),d=a.children)for(h=0,p=d.length;h<p;++h)u.push(d[h]);for(;a=l.pop();)e.call(i,a,++y,this);return this},eachBefore:function(e,i){for(var l,d,a=this,u=[a],h=-1;a=u.pop();)if(e.call(i,a,++h,this),l=a.children)for(d=l.length-1;d>=0;--d)u.push(l[d]);return this},find:function(e,i){let a=-1;for(const u of this)if(e.call(i,u,++a,this))return u},sum:function(e){return this.eachAfter(function(i){for(var a=+e(i.data)||0,u=i.children,l=u&&u.length;--l>=0;)a+=u[l].value;i.value=a})},sort:function(e){return this.eachBefore(function(i){i.children&&i.children.sort(e)})},path:function(e){for(var i=this,a=function(e,i){if(e===i)return e;var a=e.ancestors(),u=i.ancestors(),l=null;for(e=a.pop(),i=u.pop();e===i;)l=e,e=a.pop(),i=u.pop();return l}(i,e),u=[i];i!==a;)u.push(i=i.parent);for(var l=u.length;e!==a;)u.splice(l,0,e),e=e.parent;return u},ancestors:function(){for(var e=this,i=[e];e=e.parent;)i.push(e);return i},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(i){i.children||e.push(i)}),e},links:function(){var e=this,i=[];return e.each(function(a){a!==e&&i.push({source:a.parent,target:a})}),i},copy:function(){return SW(this).eachBefore(wne)},[Symbol.iterator]:function*(){var i,u,l,d,e=this,a=[e];do{for(i=a.reverse(),a=[];e=i.pop();)if(yield e,u=e.children)for(l=0,d=u.length;l<d;++l)a.push(u[l])}while(a.length)}};var Tne={depth:-1},OW={};function TB(e){return e.id}function LW(e){return e.parentId}function FW(){var e=TB,i=LW;function a(u){var h,p,y,b,C,M,O,l=Array.from(u),d=l.length,H=new Map;for(p=0;p<d;++p)C=l[p]=new Db(h=l[p]),null!=(M=e(h,p,u))&&(M+="")&&(O=C.id=M,H.set(O,H.has(O)?OW:C)),null!=(M=i(h,p,u))&&(M+="")&&(C.parent=M);for(p=0;p<d;++p)if(M=(C=l[p]).parent){if(!(b=H.get(M)))throw new Error("missing: "+M);if(b===OW)throw new Error("ambiguous: "+M);b.children?b.children.push(C):b.children=[C],C.parent=b}else{if(y)throw new Error("multiple roots");y=C}if(!y)throw new Error("no root");if(y.parent=Tne,y.eachBefore(function(Y){Y.depth=Y.parent.depth+1,--d}).eachBefore(AW),y.parent=null,d>0)throw new Error("cycle");return y}return a.id=function(u){return arguments.length?(e=XI(u),a):e},a.parentId=function(u){return arguments.length?(i=XI(u),a):i},a}function kne(e,i){return e.parent===i.parent?1:2}function kB(e){var i=e.children;return i?i[0]:e.t}function PW(e){var i=e.children;return i?i[i.length-1]:e.t}function Ine(e,i,a){var u=a/(i.i-e.i);i.c-=u,i.s+=a,e.c+=u,i.z+=a,i.m+=a}function RW(e,i,a){return e.a.parent===i.parent?e.a:a}function JI(e,i){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}function zye(e,i){return e.parent===i.parent?1:2}function Wye(e,i){return e+i.x}function One(e,i){return Math.max(e,i.y)}function Ew(e,i,a,u,l){for(var h,d=e.children,p=-1,y=d.length,b=e.value&&(l-a)/e.value;++p<y;)(h=d[p]).x0=i,h.x1=u,h.y0=a,h.y1=a+=h.value*b}JI.prototype=Object.create(Db.prototype);var $W=(1+Math.sqrt(5))/2;function VW(e,i,a,u,l,d){for(var y,b,H,Y,se,ye,Ce,Ve,Ue,qe,tt,h=[],p=i.children,C=0,M=0,O=p.length,te=i.value;C<O;){H=l-a,Y=d-u;do{se=p[M++].value}while(!se&&M<O);for(ye=Ce=se,tt=se*se*(qe=Math.max(Y/H,H/Y)/(te*e)),Ue=Math.max(Ce/tt,tt/ye);M<O;++M){if(se+=b=p[M].value,b<ye&&(ye=b),b>Ce&&(Ce=b),tt=se*se*qe,(Ve=Math.max(Ce/tt,tt/ye))>Ue){se-=b;break}Ue=Ve}h.push(y={value:se,dice:H<Y,children:p.slice(C,M)}),y.dice?g2(y,a,u,l,te?u+=Y*se/te:d):Ew(y,a,u,te?a+=H*se/te:l,d),te-=se,C=M}return h}const Bne=function e(i){function a(u,l,d,h,p){VW(i,u,l,d,h,p)}return a.ratio=function(u){return e((u=+u)>1?u:1)},a}($W),$ne=function e(i){function a(u,l,d,h,p){if((y=u._squarify)&&y.ratio===i)for(var y,b,C,M,H,O=-1,Y=y.length,te=u.value;++O<Y;){for(C=(b=y[O]).children,M=b.value=0,H=C.length;M<H;++M)b.value+=C[M].value;b.dice?g2(b,l,d,h,te?d+=(p-d)*b.value/te:p):Ew(b,l,d,te?l+=(h-l)*b.value/te:h,p),te-=b.value}else u._squarify=y=VW(i,u,l,d,h,p),y.ratio=i}return a.ratio=function(u){return e((u=+u)>1?u:1)},a}($W);function zW(e,i,a){const u={};return e.each(l=>{const d=l.data;a(d)&&(u[i(d)]=l)}),e.lookup=u,e}function NB(e){nn.call(this,null,e)}NB.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Vne=e=>e.values;function zne(){const e=[],i={entries:l=>u(a(l,0),0),key:l=>(e.push(l),i)};function a(l,d){if(d>=e.length)return l;const h=l.length,p=e[d++],y={},b={};let M,O,H,C=-1;for(;++C<h;)M=p(O=l[C])+"",(H=y[M])?H.push(O):y[M]=[O];for(M in y)b[M]=a(y[M],d);return b}function u(l,d){if(++d>e.length)return l;const h=[];for(const p in l)h.push({key:p,values:u(l[p],d)});return h}return i}function C_(e){nn.call(this,null,e)}qt(NB,nn,{transform(e,i){i.source||Pt("Nest transform requires an upstream data source.");var a=e.generate,u=e.modified(),l=i.clone(),d=this.value;return(!d||u||i.changed())&&(d&&d.each(h=>{h.children&&dD(h.data)&&l.rem.push(h.data)}),this.value=d=SW({values:Mr(e.keys).reduce((h,p)=>(h.key(p),h),zne()).entries(l.source)},Vne),a&&d.each(h=>{h.children&&(h=Xs(h.data),l.add.push(h),l.source.push(h))}),zW(d,Zr,Zr)),l.source.root=d,l}});const Yye=(e,i)=>e.parent===i.parent?1:2;qt(C_,nn,{transform(e,i){(!i.source||!i.source.root)&&Pt(this.constructor.name+" transform requires a backing tree data source.");const a=this.layout(e.method),u=this.fields,l=i.source.root,d=e.as||u;e.field?l.sum(e.field):l.count(),e.sort&&l.sort(Ef(e.sort,h=>h.data)),function(e,i,a){for(let u,l=0,d=i.length;l<d;++l)u=i[l],u in a&&e[u](a[u])}(a,this.params,e),a.separation&&a.separation(!1!==e.separation?Yye:iu);try{this.value=a(l)}catch(h){Pt(h)}return l.each(h=>function(e,i,a){const u=e.data,l=i.length-1;for(let d=0;d<l;++d)u[a[d]]=e[i[d]];u[a[l]]=e.children?e.children.length:0}(h,u,d)),i.reflow(e.modified()).modifies(d).modifies("leaf")}});const jW=["x","y","r","depth","children"];function OB(e){C_.call(this,e)}OB.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:jW.length,default:jW}]},qt(OB,C_,{layout:function(){var e=null,i=1,a=1,u=Wg;function l(d){return d.x=i/2,d.y=a/2,e?d.eachBefore(ZI(e)).eachAfter(IW(u,.5)).eachBefore(NW(1)):d.eachBefore(ZI($ye)).eachAfter(IW(Wg,1)).eachAfter(IW(u,d.r/Math.min(i,a))).eachBefore(NW(Math.min(i,a)/(2*d.r))),d}return l.radius=function(d){return arguments.length?(e=Sne(d),l):e},l.size=function(d){return arguments.length?(i=+d[0],a=+d[1],l):[i,a]},l.padding=function(d){return arguments.length?(u="function"==typeof d?d:wb(+d),l):u},l},params:["radius","size","padding"],fields:jW});const Hg=["x0","y0","x1","y1","depth","children"];function LB(e){C_.call(this,e)}function FB(e){nn.call(this,null,e)}LB.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Hg.length,default:Hg}]},qt(LB,C_,{layout:function(){var e=1,i=1,a=0,u=!1;function l(h){var p=h.height+1;return h.x0=h.y0=a,h.x1=e,h.y1=i/p,h.eachBefore(function(h,p){return function(y){y.children&&g2(y,y.x0,h*(y.depth+1)/p,y.x1,h*(y.depth+2)/p);var b=y.x0,C=y.y0,M=y.x1-a,O=y.y1-a;M<b&&(b=M=(b+M)/2),O<C&&(C=O=(C+O)/2),y.x0=b,y.y0=C,y.x1=M,y.y1=O}}(i,p)),u&&h.eachBefore(AB),h}return l.round=function(h){return arguments.length?(u=!!h,l):u},l.size=function(h){return arguments.length?(e=+h[0],i=+h[1],l):[e,i]},l.padding=function(h){return arguments.length?(a=+h,l):a},l},params:["size","round","padding"],fields:Hg}),FB.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},qt(FB,nn,{transform(e,i){i.source||Pt("Stratify transform requires an upstream data source.");let a=this.value;const u=e.modified(),l=i.fork(i.ALL).materialize(i.SOURCE),d=!a||u||i.changed(i.ADD_REM)||i.modified(e.key.fields)||i.modified(e.parentKey.fields);return l.source=l.source.slice(),d&&(a=l.source.length?zW(FW().id(e.key).parentId(e.parentKey)(l.source),e.key,Aa):zW(FW()([{}]),e.key,e.key)),l.source.root=this.value=a,l}});const QI={tidy:function(){var e=kne,i=1,a=1,u=null;function l(b){var C=function(e){for(var a,l,d,h,p,i=new JI(e,0),u=[i];a=u.pop();)if(d=a._.children)for(a.children=new Array(p=d.length),h=p-1;h>=0;--h)u.push(l=a.children[h]=new JI(d[h],h)),l.parent=a;return(i.parent=new JI(null,0)).children=[i],i}(b);if(C.eachAfter(d),C.parent.m=-C.z,C.eachBefore(h),u)b.eachBefore(y);else{var M=b,O=b,H=b;b.eachBefore(function(Ce){Ce.x<M.x&&(M=Ce),Ce.x>O.x&&(O=Ce),Ce.depth>H.depth&&(H=Ce)});var Y=M===O?1:e(M,O)/2,te=Y-M.x,se=i/(O.x+Y+te),ye=a/(H.depth||1);b.eachBefore(function(Ce){Ce.x=(Ce.x+te)*se,Ce.y=Ce.depth*ye})}return b}function d(b){var C=b.children,M=b.parent.children,O=b.i?M[b.i-1]:null;if(C){!function(e){for(var d,i=0,a=0,u=e.children,l=u.length;--l>=0;)(d=u[l]).z+=i,d.m+=i,i+=d.s+(a+=d.c)}(b);var H=(C[0].z+C[C.length-1].z)/2;O?(b.z=O.z+e(b._,O._),b.m=b.z-H):b.z=H}else O&&(b.z=O.z+e(b._,O._));b.parent.A=function(b,C,M){if(C){for(var Ue,O=b,H=b,Y=C,te=O.parent.children[0],se=O.m,ye=H.m,Ce=Y.m,Ve=te.m;Y=PW(Y),O=kB(O),Y&&O;)te=kB(te),(H=PW(H)).a=b,(Ue=Y.z+Ce-O.z-se+e(Y._,O._))>0&&(Ine(RW(Y,b,M),b,Ue),se+=Ue,ye+=Ue),Ce+=Y.m,se+=O.m,Ve+=te.m,ye+=H.m;Y&&!PW(H)&&(H.t=Y,H.m+=Ce-ye),O&&!kB(te)&&(te.t=O,te.m+=se-Ve,M=b)}return M}(b,O,b.parent.A||M[0])}function h(b){b._.x=b.z+b.parent.m,b.m+=b.parent.m}function y(b){b.x*=i,b.y=b.depth*a}return l.separation=function(b){return arguments.length?(e=b,l):e},l.size=function(b){return arguments.length?(u=!1,i=+b[0],a=+b[1],l):u?null:[i,a]},l.nodeSize=function(b){return arguments.length?(u=!0,i=+b[0],a=+b[1],l):u?[i,a]:null},l},cluster:function(){var e=zye,i=1,a=1,u=!1;function l(d){var h,p=0;d.eachAfter(function(O){var H=O.children;H?(O.x=function(e){return e.reduce(Wye,0)/e.length}(H),O.y=function(e){return 1+e.reduce(One,0)}(H)):(O.x=h?p+=e(O,h):0,O.y=0,h=O)});var y=function(e){for(var i;i=e.children;)e=i[0];return e}(d),b=function(e){for(var i;i=e.children;)e=i[i.length-1];return e}(d),C=y.x-e(y,b)/2,M=b.x+e(b,y)/2;return d.eachAfter(u?function(O){O.x=(O.x-d.x)*i,O.y=(d.y-O.y)*a}:function(O){O.x=(O.x-C)/(M-C)*i,O.y=(1-(d.y?O.y/d.y:1))*a})}return l.separation=function(d){return arguments.length?(e=d,l):e},l.size=function(d){return arguments.length?(u=!1,i=+d[0],a=+d[1],l):u?null:[i,a]},l.nodeSize=function(d){return arguments.length?(u=!0,i=+d[0],a=+d[1],l):u?[i,a]:null},l}},qI=["x","y","depth","children"];function WW(e){C_.call(this,e)}function HW(e){nn.call(this,[],e)}WW.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:qI.length,default:qI}]},qt(WW,C_,{layout(e){const i=e||"tidy";if(bn(QI,i))return QI[i]();Pt("Unrecognized Tree layout method: "+i)},params:["size","nodeSize"],fields:qI}),HW.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},qt(HW,nn,{transform(e,i){const a=this.value,u=i.source&&i.source.root,l=i.fork(i.NO_SOURCE),d={};return u||Pt("TreeLinks transform requires a tree data source."),i.changed(i.ADD_REM)?(l.rem=a,i.visit(i.SOURCE,h=>d[Zr(h)]=1),u.each(h=>{const p=h.data,y=h.parent&&h.parent.data;y&&d[Zr(p)]&&d[Zr(y)]&&l.add.push(Xs({source:y,target:p}))}),this.value=l.add):i.changed(i.MOD)&&(i.visit(i.MOD,h=>d[Zr(h)]=1),a.forEach(h=>{(d[Zr(h.source)]||d[Zr(h.target)])&&l.mod.push(h)})),l}});const Wne={binary:function(e,i,a,u,l){var h,y,d=e.children,p=d.length,b=new Array(p+1);for(b[0]=y=h=0;h<p;++h)b[h+1]=y+=d[h].value;!function C(M,O,H,Y,te,se,ye){if(M>=O-1){var Ce=d[M];return Ce.x0=Y,Ce.y0=te,Ce.x1=se,void(Ce.y1=ye)}for(var Ve=b[M],Ue=H/2+Ve,qe=M+1,tt=O-1;qe<tt;){var Ge=qe+tt>>>1;b[Ge]<Ue?qe=Ge+1:tt=Ge}Ue-b[qe-1]<b[qe]-Ue&&M+1<qe&&--qe;var mt=b[qe]-Ve,Ot=H-mt;if(se-Y>ye-te){var Tt=H?(Y*Ot+se*mt)/H:se;C(M,qe,mt,Y,te,Tt,ye),C(qe,O,Ot,Tt,te,se,ye)}else{var St=H?(te*Ot+ye*mt)/H:ye;C(M,qe,mt,Y,te,se,St),C(qe,O,Ot,Y,St,se,ye)}}(0,p,e.value,i,a,u,l)},dice:g2,slice:Ew,slicedice:function(e,i,a,u,l){(1&e.depth?Ew:g2)(e,i,a,u,l)},squarify:Bne,resquarify:$ne},PB=["x0","y0","x1","y1","depth","children"];function UW(e){C_.call(this,e)}function Une(e,i,a,u){const l=e.width,d=e.height,h=a||u,p=Cv(l,d).getContext("2d");i.forEach(se=>Yne(p,se,h));const y=new Uint32Array(p.getImageData(0,0,l,d).data.buffer),b=e.bitmap(),C=h&&e.bitmap();let M,O,H,Y,te;for(O=0;O<d;++O)for(M=0;M<l;++M)te=4278190080&y[O*l+M],te&&(H=e(M),Y=e(O),u||b.set(H,Y),h&&268435456^te&&C.set(H,Y));return[b,C]}function Yne(e,i,a){if(!i.length)return;const u=i[0].mark.marktype;"group"===u?i.forEach(l=>{l.items.forEach(d=>Yne(e,d.items,a))}):Za[u].draw(e,{items:a?i.map(en):i})}function en(e){const i=ov(e,{});return i.stroke&&(i.strokeOpacity=1),i.fill&&(i.fillOpacity=.0625,i.stroke="#000",i.strokeOpacity=1,i.strokeWidth=2),i}UW.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:PB.length,default:PB}]},qt(UW,C_,{layout(){const e=function(){var e=Bne,i=!1,a=1,u=1,l=[0],d=Wg,h=Wg,p=Wg,y=Wg,b=Wg;function C(O){return O.x0=O.y0=0,O.x1=a,O.y1=u,O.eachBefore(M),l=[0],i&&O.eachBefore(AB),O}function M(O){var H=l[O.depth],Y=O.x0+H,te=O.y0+H,se=O.x1-H,ye=O.y1-H;se<Y&&(Y=se=(Y+se)/2),ye<te&&(te=ye=(te+ye)/2),O.x0=Y,O.y0=te,O.x1=se,O.y1=ye,O.children&&(H=l[O.depth+1]=d(O)/2,Y+=b(O)-H,te+=h(O)-H,(se-=p(O)-H)<Y&&(Y=se=(Y+se)/2),(ye-=y(O)-H)<te&&(te=ye=(te+ye)/2),e(O,Y,te,se,ye))}return C.round=function(O){return arguments.length?(i=!!O,C):i},C.size=function(O){return arguments.length?(a=+O[0],u=+O[1],C):[a,u]},C.tile=function(O){return arguments.length?(e=XI(O),C):e},C.padding=function(O){return arguments.length?C.paddingInner(O).paddingOuter(O):C.paddingInner()},C.paddingInner=function(O){return arguments.length?(d="function"==typeof O?O:wb(+O),C):d},C.paddingOuter=function(O){return arguments.length?C.paddingTop(O).paddingRight(O).paddingBottom(O).paddingLeft(O):C.paddingTop()},C.paddingTop=function(O){return arguments.length?(h="function"==typeof O?O:wb(+O),C):h},C.paddingRight=function(O){return arguments.length?(p="function"==typeof O?O:wb(+O),C):p},C.paddingBottom=function(O){return arguments.length?(y="function"==typeof O?O:wb(+O),C):y},C.paddingLeft=function(O){return arguments.length?(b="function"==typeof O?O:wb(+O),C):b},C}();return e.ratio=i=>{const a=e.tile();a.ratio&&e.tile(a.ratio(i))},e.method=i=>{bn(Wne,i)?e.tile(Wne[i]):Pt("Unrecognized Treemap layout method: "+i)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:PB});const Dr=new Uint32Array(33),Rh=new Uint32Array(33);Rh[0]=0,Dr[0]=~Rh[0];for(let e=1;e<=32;++e)Rh[e]=Rh[e-1]<<1|1,Dr[e]=~Rh[e];function Ml(e,i,a,u,l,d){let h=a/2;return e-h<0||e+h>l||i-(h=u/2)<0||i+h>d}function Dp(e,i,a,u,l,d,h,p){const y=l*d/(2*u),b=e(i-y),C=e(i+y),M=e(a-(d/=2)),O=e(a+d);return h.outOfBounds(b,M,C,O)||h.getRange(b,M,C,O)||p&&p.getRange(b,M,C,O)}const wp=[-1,-1,1,1],Gne=[-1,1,-1,1],xo=["right","center","left"],ji=["bottom","middle","top"];function GW(e,i,a,u,l,d,h,p,y,b,C,M){return!(l.outOfBounds(e,a,i,u)||(M&&d?d.getRange(e,a,i,u)||!function(e,i,a,u,l){return l[0]<=e&&a<=l[2]&&l[3]<=i&&u<=l[5]}(h,y,p,b,C):l.getRange(e,a,i,u)))}const Zne={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Jne={naive:function(e,i,a,u){const l=e.width,d=e.height;return function(h){const p=h.datum.datum.items[u].items,y=p.length,b=h.datum.fontSize,C=Fg.width(h.datum,h.datum.text);let O,H,Y,te,se,ye,Ce,M=0;for(let Ve=0;Ve<y;++Ve)O=p[Ve].x,Y=p[Ve].y,H=void 0===p[Ve].x2?O:p[Ve].x2,te=void 0===p[Ve].y2?Y:p[Ve].y2,se=(O+H)/2,ye=(Y+te)/2,Ce=Math.abs(H-O+te-Y),Ce>=M&&(M=Ce,h.x=se,h.y=ye);return se=C/2,ye=b/2,O=h.x-se,H=h.x+se,Y=h.y-ye,te=h.y+ye,h.align="center",O<0&&H<=l?h.align="left":0<=O&&l<H&&(h.align="right"),h.baseline="middle",Y<0&&te<=d?h.baseline="top":0<=Y&&d<te&&(h.baseline="bottom"),!0}},"reduced-search":function(e,i,a,u){const l=e.width,d=e.height,h=i[0],p=i[1];function y(b,C,M,O,H){const Y=e.invert(b),te=e.invert(C);let Ce,se=M,ye=d;if(!Ml(Y,te,O,H,l,d)&&!Dp(e,Y,te,H,O,se,h,p)&&!Dp(e,Y,te,H,O,H,h,null)){for(;ye-se>=1;)Ce=(se+ye)/2,Dp(e,Y,te,H,O,Ce,h,p)?ye=Ce:se=Ce;if(se>M)return[Y,te,se,!0]}}return function(b){const C=b.datum.datum.items[u].items,M=C.length,O=b.datum.fontSize,H=Fg.width(b.datum,b.datum.text);let Ce,Ve,Ue,qe,tt,Ge,mt,Ot,Tt,St,Gt,jt,En,Rt,An,Jn,Ar,Y=a?O:0,te=!1,se=!1,ye=0;for(let Yr=0;Yr<M;++Yr){for(Ce=C[Yr].x,Ue=C[Yr].y,Ve=void 0===C[Yr].x2?Ce:C[Yr].x2,qe=void 0===C[Yr].y2?Ue:C[Yr].y2,Ce>Ve&&(Ar=Ce,Ce=Ve,Ve=Ar),Ue>qe&&(Ar=Ue,Ue=qe,qe=Ar),Tt=e(Ce),Gt=e(Ve),St=~~((Tt+Gt)/2),jt=e(Ue),Rt=e(qe),En=~~((jt+Rt)/2),mt=St;mt>=Tt;--mt)for(Ot=En;Ot>=jt;--Ot)Jn=y(mt,Ot,Y,H,O),Jn&&([b.x,b.y,Y,te]=Jn);for(mt=St;mt<=Gt;++mt)for(Ot=En;Ot<=Rt;++Ot)Jn=y(mt,Ot,Y,H,O),Jn&&([b.x,b.y,Y,te]=Jn);!te&&!a&&(An=Math.abs(Ve-Ce+qe-Ue),tt=(Ce+Ve)/2,Ge=(Ue+qe)/2,An>=ye&&!Ml(tt,Ge,H,O,l,d)&&!Dp(e,tt,Ge,O,H,O,h,null)&&(ye=An,b.x=tt,b.y=Ge,se=!0))}return!(!te&&!se||(tt=H/2,Ge=O/2,h.setRange(e(b.x-tt),e(b.y-Ge),e(b.x+tt),e(b.y+Ge)),b.align="center",b.baseline="middle",0))}},floodfill:function(e,i,a,u){const l=e.width,d=e.height,h=i[0],p=i[1],y=e.bitmap();return function(b){const C=b.datum.datum.items[u].items,M=C.length,O=b.datum.fontSize,H=Fg.width(b.datum,b.datum.text),Y=[];let Ve,Ue,qe,tt,Ge,mt,Ot,Tt,St,Gt,jt,En,te=a?O:0,se=!1,ye=!1,Ce=0;for(let Rt=0;Rt<M;++Rt){for(Ve=C[Rt].x,qe=C[Rt].y,Ue=void 0===C[Rt].x2?Ve:C[Rt].x2,tt=void 0===C[Rt].y2?qe:C[Rt].y2,Y.push([e((Ve+Ue)/2),e((qe+tt)/2)]);Y.length;)if([Ot,Tt]=Y.pop(),!(h.get(Ot,Tt)||p.get(Ot,Tt)||y.get(Ot,Tt))){y.set(Ot,Tt);for(let An=0;An<4;++An)Ge=Ot+wp[An],mt=Tt+Gne[An],y.outOfBounds(Ge,mt,Ge,mt)||Y.push([Ge,mt]);if(Ge=e.invert(Ot),mt=e.invert(Tt),St=te,Gt=d,!Ml(Ge,mt,H,O,l,d)&&!Dp(e,Ge,mt,O,H,St,h,p)&&!Dp(e,Ge,mt,O,H,O,h,null)){for(;Gt-St>=1;)jt=(St+Gt)/2,Dp(e,Ge,mt,O,H,jt,h,p)?Gt=jt:St=jt;St>te&&(b.x=Ge,b.y=mt,te=St,se=!0)}}!se&&!a&&(En=Math.abs(Ue-Ve+tt-qe),Ge=(Ve+Ue)/2,mt=(qe+tt)/2,En>=Ce&&!Ml(Ge,mt,H,O,l,d)&&!Dp(e,Ge,mt,O,H,O,h,null)&&(Ce=En,b.x=Ge,b.y=mt,ye=!0))}return!(!se&&!ye||(Ge=H/2,mt=O/2,h.setRange(e(b.x-Ge),e(b.y-mt),e(b.x+Ge),e(b.y+mt)),b.align="center",b.baseline="middle",0))}}};function Qne(e,i,a,u,l,d,h,p,y,b,C){if(!e.length)return e;const M=Math.max(u.length,l.length),O=function(e,i){const a=new Float64Array(i),u=e.length;for(let l=0;l<u;++l)a[l]=e[l]||0;for(let l=u;l<i;++l)a[l]=a[u-1];return a}(u,M),H=function(e,i){const a=new Int8Array(i),u=e.length;for(let l=0;l<u;++l)a[l]|=Zne[e[l]];for(let l=u;l<i;++l)a[l]=a[u-1];return a}(l,M),Y=function(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),te="group"===Y&&e[0].datum.items[y].marktype,se="area"===te,ye=function(e,i,a,u){const l=d=>[d.x,d.x,d.x,d.y,d.y,d.y];return e?"line"===e||"area"===e?d=>l(d.datum):"line"===i?d=>{const h=d.datum.items[u].items;return l(h.length?h["start"===a?0:h.length-1]:{x:NaN,y:NaN})}:d=>{const h=d.datum.bounds;return[h.x1,(h.x1+h.x2)/2,h.x2,h.y1,(h.y1+h.y2)/2,h.y2]}:l}(Y,te,p,y),Ce=function(e,i,a){const u=Math.max(1,Math.sqrt(e*i/1e6)),l=~~((e+2*a+u)/u),d=~~((i+2*a+u)/u),h=p=>~~((p+a)/u);return h.invert=p=>p*u-a,h.bitmap=()=>function(e,i){const a=new Uint32Array(~~((e*i+32)/32));function u(d,h){a[d]|=h}function l(d,h){a[d]&=h}return{array:a,get:(d,h)=>{const p=h*e+d;return a[p>>>5]&1<<(31&p)},set:(d,h)=>{const p=h*e+d;u(p>>>5,1<<(31&p))},clear:(d,h)=>{const p=h*e+d;l(p>>>5,~(1<<(31&p)))},getRange:(d,h,p,y)=>{let C,M,O,H,b=y;for(;b>=h;--b)if(C=b*e+d,M=b*e+p,O=C>>>5,H=M>>>5,O===H){if(a[O]&Dr[31&C]&Rh[1+(31&M)])return!0}else{if(a[O]&Dr[31&C]||a[H]&Rh[1+(31&M)])return!0;for(let Y=O+1;Y<H;++Y)if(a[Y])return!0}return!1},setRange:(d,h,p,y)=>{let b,C,M,O,H;for(;h<=y;++h)if(b=h*e+d,C=h*e+p,M=b>>>5,O=C>>>5,M===O)u(M,Dr[31&b]&Rh[1+(31&C)]);else for(u(M,Dr[31&b]),u(O,Rh[1+(31&C)]),H=M+1;H<O;++H)u(H,4294967295)},clearRange:(d,h,p,y)=>{let b,C,M,O,H;for(;h<=y;++h)if(b=h*e+d,C=h*e+p,M=b>>>5,O=C>>>5,M===O)l(M,Rh[31&b]|Dr[1+(31&C)]);else for(l(M,Rh[31&b]),l(O,Dr[1+(31&C)]),H=M+1;H<O;++H)l(H,0)},outOfBounds:(d,h,p,y)=>d<0||h<0||y>=i||p>=e}}(l,d),h.ratio=u,h.padding=a,h.width=e,h.height=i,h}(i[0],i[1],b),Ve=se&&"naive"===C,Ue=e.map(Ge=>({datum:Ge,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:ye(Ge)}));let qe;if(!Ve){a&&Ue.sort((mt,Ot)=>a(mt.datum,Ot.datum));let Ge=!1;for(let mt=0;mt<H.length&&!Ge;++mt)Ge=5===H[mt]||O[mt]<0;Y&&(h||se)&&(d=[e.map(mt=>mt.datum)].concat(d)),qe=d.length?Une(Ce,d,Ge,se):function(e,i){const a=e.bitmap();return(i||[]).forEach(u=>a.set(e(u.boundary[0]),e(u.boundary[3]))),[a,void 0]}(Ce,h&&Ue)}const tt=se?Jne[C](Ce,qe,h,y):function(e,i,a,u){const l=e.width,d=e.height,h=i[0],p=i[1],y=u.length;return function(b){const C=b.boundary,M=b.datum.fontSize;if(C[2]<0||C[5]<0||C[0]>l||C[3]>d)return!1;let H,Y,te,se,ye,Ce,Ve,Ue,qe,tt,Ge,mt,Ot,Tt,St,O=0;for(let Gt=0;Gt<y;++Gt){if(H=(3&a[Gt])-1,Y=(a[Gt]>>>2&3)-1,te=0===H&&0===Y||u[Gt]<0,se=H&&Y?Math.SQRT1_2:1,ye=u[Gt]<0?-1:1,Ce=C[1+H]+u[Gt]*H*se,Ge=C[4+Y]+ye*M*Y/2+u[Gt]*Y*se,Ue=Ge-M/2,qe=Ge+M/2,mt=e(Ce),Tt=e(Ue),St=e(qe),!O){if(!GW(mt,mt,Tt,St,h,p,Ce,Ce,Ue,qe,C,te))continue;O=Fg.width(b.datum,b.datum.text)}if(tt=Ce+ye*O*H/2,Ce=tt-O/2,Ve=tt+O/2,mt=e(Ce),Ot=e(Ve),GW(mt,Ot,Tt,St,h,p,Ce,Ve,Ue,qe,C,te))return b.x=H?H*ye<0?Ve:Ce:tt,b.y=Y?Y*ye<0?qe:Ue:Ge,b.align=xo[H*ye+1],b.baseline=ji[Y*ye+1],h.setRange(mt,Tt,Ot,St),!0}return!1}}(Ce,qe,H,O);return Ue.forEach(Ge=>Ge.opacity=+tt(Ge)),Ue}const zB=["x","y","opacity","align","baseline"],KW=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function jB(e){nn.call(this,null,e)}function XW(e,i){var l,d,h,p,y,b,a=[],u=function(C){return C(p)};if(null==i)a.push(e);else for(l={},d=0,h=e.length;d<h;++d)p=e[d],(b=l[y=i.map(u)])||(l[y]=b=[],b.dims=y,a.push(b)),b.push(p);return a}function WB(e){nn.call(this,null,e)}jB.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:KW},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:zB.length,default:zB}]},qt(jB,nn,{transform(e,i){const u=e.modified();if(!(u||i.changed(i.ADD_REM)||function(d){const h=e.sort;return ur(h)&&i.modified(h.fields)}()))return;(!e.size||2!==e.size.length)&&Pt("Size parameter should be specified as a [width, height] array.");const l=e.as||zB;return Qne(i.materialize(i.SOURCE).source,e.size,e.sort,Mr(e.offset||1),Mr(e.anchor||KW),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,e.padding||0,e.method||"naive").forEach(d=>{const h=d.datum;h[l[0]]=d.x,h[l[1]]=d.y,h[l[2]]=d.opacity,h[l[3]]=d.align,h[l[4]]=d.baseline}),i.reflow(u).modifies(l)}}),WB.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},qt(WB,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||e.modified()){const l=XW(i.materialize(i.SOURCE).source,e.groupby),d=(e.groupby||[]).map(hi),h=d.length,p=e.as||[hi(e.x),hi(e.y)],y=[];l.forEach(b=>{q(b,e.x,e.y,e.bandwidth||.3).forEach(C=>{const M={};for(let O=0;O<h;++O)M[d[O]]=b.dims[O];M[p[0]]=C[0],M[p[1]]=C[1],y.push(Xs(M))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=y}return a}});const HB={linear:AE,log:wT,exp:TE,pow:kE,quad:rm,poly:IE};function UB(e){nn.call(this,null,e)}UB.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(HB)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},qt(UB,nn,{transform(e,i){const a=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||e.modified()){const l=XW(i.materialize(i.SOURCE).source,e.groupby),d=(e.groupby||[]).map(hi),h=e.method||"linear",p=e.order||3,y=((e,i)=>"poly"===e?i:"quad"===e?2:1)(h,p),b=e.as||[hi(e.x),hi(e.y)],C=HB[h],M=[];let O=e.extent;bn(HB,h)||Pt("Invalid regression method: "+h),null!=O&&"log"===h&&O[0]<=0&&(i.dataflow.warn("Ignoring extent with values <= 0 for log regression."),O=null),l.forEach(H=>{if(H.length<=y)return void i.dataflow.warn("Skipping regression with more parameters than data points.");const te=C(H,e.x,e.y,p);if(e.params)return void M.push(Xs({keys:H.dims,coef:te.coef,rSquared:te.rSquared}));const se=O||Dn(H,e.x),ye=Ce=>{const Ve={};for(let Ue=0;Ue<d.length;++Ue)Ve[d[Ue]]=H.dims[Ue];Ve[b[0]]=Ce[0],Ve[b[1]]=Ce[1],M.push(Xs(Ve))};"linear"===h?se.forEach(Ce=>ye([Ce,te.predict(Ce)])):xe(te.predict,se,25,200).forEach(ye)}),this.value&&(a.rem=this.value),this.value=a.add=a.source=M}return a}});const ZW=Math.pow(2,-52),eN=new Uint32Array(512);class tN{static from(i,a=tre,u=QW){const l=i.length,d=new Float64Array(2*l);for(let h=0;h<l;h++){const p=i[h];d[2*h]=a(p),d[2*h+1]=u(p)}return new tN(d)}constructor(i){const a=i.length>>1;if(a>0&&"number"!=typeof i[0])throw new Error("Expected coords to contain numbers.");this.coords=i;const u=Math.max(2*a-5,0);this._triangles=new Uint32Array(3*u),this._halfedges=new Int32Array(3*u),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){const{coords:i,_hullPrev:a,_hullNext:u,_hullTri:l,_hullHash:d}=this,h=i.length>>1;let p=1/0,y=1/0,b=-1/0,C=-1/0;for(let Tt=0;Tt<h;Tt++){const St=i[2*Tt],Gt=i[2*Tt+1];St<p&&(p=St),Gt<y&&(y=Gt),St>b&&(b=St),Gt>C&&(C=Gt),this._ids[Tt]=Tt}const M=(p+b)/2,O=(y+C)/2;let Y,te,se,H=1/0;for(let Tt=0;Tt<h;Tt++){const St=YB(M,O,i[2*Tt],i[2*Tt+1]);St<H&&(Y=Tt,H=St)}const ye=i[2*Y],Ce=i[2*Y+1];H=1/0;for(let Tt=0;Tt<h;Tt++){if(Tt===Y)continue;const St=YB(ye,Ce,i[2*Tt],i[2*Tt+1]);St<H&&St>0&&(te=Tt,H=St)}let Ve=i[2*te],Ue=i[2*te+1],qe=1/0;for(let Tt=0;Tt<h;Tt++){if(Tt===Y||Tt===te)continue;const St=Cb(ye,Ce,Ve,Ue,i[2*Tt],i[2*Tt+1]);St<qe&&(se=Tt,qe=St)}let tt=i[2*se],Ge=i[2*se+1];if(qe===1/0){for(let Gt=0;Gt<h;Gt++)this._dists[Gt]=i[2*Gt]-i[0]||i[2*Gt+1]-i[1];Aw(this._ids,this._dists,0,h-1);const Tt=new Uint32Array(h);let St=0;for(let Gt=0,jt=-1/0;Gt<h;Gt++){const En=this._ids[Gt];this._dists[En]>jt&&(Tt[St++]=En,jt=this._dists[En])}return this.hull=Tt.subarray(0,St),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Sw(ye,Ce,Ve,Ue,tt,Ge)){const Tt=te,St=Ve,Gt=Ue;te=se,Ve=tt,Ue=Ge,se=Tt,tt=St,Ge=Gt}const mt=function(e,i,a,u,l,d){const h=a-e,p=u-i,y=l-e,b=d-i,C=h*h+p*p,M=y*y+b*b,O=.5/(h*b-p*y);return{x:e+(b*C-p*M)*O,y:i+(h*M-y*C)*O}}(ye,Ce,Ve,Ue,tt,Ge);this._cx=mt.x,this._cy=mt.y;for(let Tt=0;Tt<h;Tt++)this._dists[Tt]=YB(i[2*Tt],i[2*Tt+1],mt.x,mt.y);Aw(this._ids,this._dists,0,h-1),this._hullStart=Y;let Ot=3;u[Y]=a[se]=te,u[te]=a[Y]=se,u[se]=a[te]=Y,l[Y]=0,l[te]=1,l[se]=2,d.fill(-1),d[this._hashKey(ye,Ce)]=Y,d[this._hashKey(Ve,Ue)]=te,d[this._hashKey(tt,Ge)]=se,this.trianglesLen=0,this._addTriangle(Y,te,se,-1,-1,-1);for(let St,Gt,Tt=0;Tt<this._ids.length;Tt++){const jt=this._ids[Tt],En=i[2*jt],Rt=i[2*jt+1];if(Tt>0&&Math.abs(En-St)<=ZW&&Math.abs(Rt-Gt)<=ZW||(St=En,Gt=Rt,jt===Y||jt===te||jt===se))continue;let An=0;for(let Ro=0,Rl=this._hashKey(En,Rt);Ro<this._hashSize&&(An=d[(Rl+Ro)%this._hashSize],-1===An||An===u[An]);Ro++);An=a[An];let Ar,Jn=An;for(;Ar=u[Jn],!Sw(En,Rt,i[2*Jn],i[2*Jn+1],i[2*Ar],i[2*Ar+1]);)if(Jn=Ar,Jn===An){Jn=-1;break}if(-1===Jn)continue;let Yr=this._addTriangle(Jn,jt,u[Jn],-1,-1,l[Jn]);l[jt]=this._legalize(Yr+2),l[Jn]=Yr,Ot++;let Es=u[Jn];for(;Ar=u[Es],Sw(En,Rt,i[2*Es],i[2*Es+1],i[2*Ar],i[2*Ar+1]);)Yr=this._addTriangle(Es,jt,Ar,l[jt],-1,l[Es]),l[jt]=this._legalize(Yr+2),u[Es]=Es,Ot--,Es=Ar;if(Jn===An)for(;Ar=a[Jn],Sw(En,Rt,i[2*Ar],i[2*Ar+1],i[2*Jn],i[2*Jn+1]);)Yr=this._addTriangle(Ar,jt,Jn,-1,l[Jn],l[Ar]),this._legalize(Yr+2),l[Ar]=Yr,u[Jn]=Jn,Ot--,Jn=Ar;this._hullStart=a[jt]=Jn,u[Jn]=a[Es]=jt,u[jt]=Es,d[this._hashKey(En,Rt)]=jt,d[this._hashKey(i[2*Jn],i[2*Jn+1])]=Jn}this.hull=new Uint32Array(Ot);for(let Tt=0,St=this._hullStart;Tt<Ot;Tt++)this.hull[Tt]=St,St=u[St];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(i,a){return Math.floor(function(e,i){const a=e/(Math.abs(e)+Math.abs(i));return(i>0?3-a:1+a)/4}(i-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(i){const{_triangles:a,_halfedges:u,coords:l}=this;let d=0,h=0;for(;;){const p=u[i],y=i-i%3;if(h=y+(i+2)%3,-1===p){if(0===d)break;i=eN[--d];continue}const b=p-p%3,M=b+(p+2)%3,O=a[h],H=a[i],Y=a[y+(i+1)%3],te=a[M];if(JW(l[2*O],l[2*O+1],l[2*H],l[2*H+1],l[2*Y],l[2*Y+1],l[2*te],l[2*te+1])){a[i]=te,a[p]=O;const ye=u[M];if(-1===ye){let Ve=this._hullStart;do{if(this._hullTri[Ve]===M){this._hullTri[Ve]=i;break}Ve=this._hullPrev[Ve]}while(Ve!==this._hullStart)}this._link(i,ye),this._link(p,u[h]),this._link(h,M);const Ce=b+(p+1)%3;d<eN.length&&(eN[d++]=Ce)}else{if(0===d)break;i=eN[--d]}}return h}_link(i,a){this._halfedges[i]=a,-1!==a&&(this._halfedges[a]=i)}_addTriangle(i,a,u,l,d,h){const p=this.trianglesLen;return this._triangles[p]=i,this._triangles[p+1]=a,this._triangles[p+2]=u,this._link(p,l),this._link(p+1,d),this._link(p+2,h),this.trianglesLen+=3,p}}function YB(e,i,a,u){const l=e-a,d=i-u;return l*l+d*d}function _2(e,i,a,u,l,d){const h=(u-i)*(l-e),p=(a-e)*(d-i);return Math.abs(h-p)>=33306690738754716e-32*Math.abs(h+p)?h-p:0}function Sw(e,i,a,u,l,d){return(_2(l,d,e,i,a,u)||_2(e,i,a,u,l,d)||_2(a,u,l,d,e,i))<0}function JW(e,i,a,u,l,d,h,p){const y=e-h,b=i-p,C=a-h,M=u-p,O=l-h,H=d-p,te=C*C+M*M,se=O*O+H*H;return y*(M*se-te*H)-b*(C*se-te*O)+(y*y+b*b)*(C*H-M*O)<0}function Cb(e,i,a,u,l,d){const h=a-e,p=u-i,y=l-e,b=d-i,C=h*h+p*p,M=y*y+b*b,O=.5/(h*b-p*y),H=(b*C-p*M)*O,Y=(h*M-y*C)*O;return H*H+Y*Y}function Aw(e,i,a,u){if(u-a<=20)for(let l=a+1;l<=u;l++){const d=e[l],h=i[d];let p=l-1;for(;p>=a&&i[e[p]]>h;)e[p+1]=e[p--];e[p+1]=d}else{let d=a+1,h=u;y2(e,a+u>>1,d),i[e[a]]>i[e[u]]&&y2(e,a,u),i[e[d]]>i[e[u]]&&y2(e,d,u),i[e[a]]>i[e[d]]&&y2(e,a,d);const p=e[d],y=i[p];for(;;){do{d++}while(i[e[d]]<y);do{h--}while(i[e[h]]>y);if(h<d)break;y2(e,d,h)}e[a+1]=e[h],e[h]=p,u-d+1>=h-a?(Aw(e,i,d,u),Aw(e,i,a,h-1)):(Aw(e,i,a,h-1),Aw(e,i,d,u))}}function y2(e,i,a){const u=e[i];e[i]=e[a],e[a]=u}function tre(e){return e[0]}function QW(e){return e[1]}class Yg{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(i,a){this._+=`M${this._x0=this._x1=+i},${this._y0=this._y1=+a}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(i,a){this._+=`L${this._x1=+i},${this._y1=+a}`}arc(i,a,u){const l=(i=+i)+(u=+u),d=a=+a;if(u<0)throw new Error("negative radius");null===this._x1?this._+=`M${l},${d}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+l+","+d),u&&(this._+=`A${u},${u},0,1,1,${i-u},${a}A${u},${u},0,1,1,${this._x1=l},${this._y1=d}`)}rect(i,a,u,l){this._+=`M${this._x0=this._x1=+i},${this._y0=this._y1=+a}h${+u}v${+l}h${-u}Z`}value(){return this._||null}}class GB{constructor(){this._=[]}moveTo(i,a){this._.push([i,a])}closePath(){this._.push(this._[0].slice())}lineTo(i,a){this._.push([i,a])}value(){return this._.length?this._:null}}class nre{constructor(i,[a,u,l,d]=[0,0,960,500]){if(!((l=+l)>=(a=+a)&&(d=+d)>=(u=+u)))throw new Error("invalid bounds");this.delaunay=i,this._circumcenters=new Float64Array(2*i.points.length),this.vectors=new Float64Array(2*i.points.length),this.xmax=l,this.xmin=a,this.ymax=d,this.ymin=u,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:i,hull:a,triangles:u},vectors:l}=this,d=this.circumcenters=this._circumcenters.subarray(0,u.length/3*2);for(let se,ye,H=0,Y=0,te=u.length;H<te;H+=3,Y+=2){const Ce=2*u[H],Ve=2*u[H+1],Ue=2*u[H+2],qe=i[Ce],tt=i[Ce+1],Ot=i[Ue],Tt=i[Ue+1],St=i[Ve]-qe,Gt=i[Ve+1]-tt,jt=Ot-qe,En=Tt-tt,Rt=St*St+Gt*Gt,An=jt*jt+En*En,Jn=2*(St*En-Gt*jt);if(Jn)if(Math.abs(Jn)<1e-8)se=(qe+Ot)/2,ye=(tt+Tt)/2;else{const Ar=1/Jn;se=qe+(En*Rt-Gt*An)*Ar,ye=tt+(St*An-jt*Rt)*Ar}else se=(qe+Ot)/2-1e8*En,ye=(tt+Tt)/2+1e8*jt;d[Y]=se,d[Y+1]=ye}let p,b,M,h=a[a.length-1],y=4*h,C=i[2*h],O=i[2*h+1];l.fill(0);for(let H=0;H<a.length;++H)h=a[H],p=y,b=C,M=O,y=4*h,C=i[2*h],O=i[2*h+1],l[p+2]=l[y]=M-O,l[p+3]=l[y+1]=C-b}render(i){const a=null==i?i=new Yg:void 0,{delaunay:{halfedges:u,inedges:l,hull:d},circumcenters:h,vectors:p}=this;if(d.length<=1)return null;for(let C=0,M=u.length;C<M;++C){const O=u[C];if(O<C)continue;const H=2*Math.floor(C/3),Y=2*Math.floor(O/3);this._renderSegment(h[H],h[H+1],h[Y],h[Y+1],i)}let y,b=d[d.length-1];for(let C=0;C<d.length;++C){y=b,b=d[C];const M=2*Math.floor(l[b]/3),O=h[M],H=h[M+1],Y=4*y,te=this._project(O,H,p[Y+2],p[Y+3]);te&&this._renderSegment(O,H,te[0],te[1],i)}return a&&a.value()}renderBounds(i){const a=null==i?i=new Yg:void 0;return i.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(i,a){const u=null==a?a=new Yg:void 0,l=this._clip(i);if(null===l||!l.length)return;a.moveTo(l[0],l[1]);let d=l.length;for(;l[0]===l[d-2]&&l[1]===l[d-1]&&d>1;)d-=2;for(let h=2;h<d;h+=2)(l[h]!==l[h-2]||l[h+1]!==l[h-1])&&a.lineTo(l[h],l[h+1]);return a.closePath(),u&&u.value()}*cellPolygons(){const{delaunay:{points:i}}=this;for(let a=0,u=i.length/2;a<u;++a){const l=this.cellPolygon(a);l&&(l.index=a,yield l)}}cellPolygon(i){const a=new GB;return this.renderCell(i,a),a.value()}_renderSegment(i,a,u,l,d){let h;const p=this._regioncode(i,a),y=this._regioncode(u,l);0===p&&0===y?(d.moveTo(i,a),d.lineTo(u,l)):(h=this._clipSegment(i,a,u,l,p,y))&&(d.moveTo(h[0],h[1]),d.lineTo(h[2],h[3]))}contains(i,a,u){return(a=+a)==a&&(u=+u)==u&&this.delaunay._step(i,a,u)===i}*neighbors(i){const a=this._clip(i);if(a)for(const u of this.delaunay.neighbors(i)){const l=this._clip(u);if(l)e:for(let d=0,h=a.length;d<h;d+=2)for(let p=0,y=l.length;p<y;p+=2)if(a[d]==l[p]&&a[d+1]==l[p+1]&&a[(d+2)%h]==l[(p+y-2)%y]&&a[(d+3)%h]==l[(p+y-1)%y]){yield u;break e}}}_cell(i){const{circumcenters:a,delaunay:{inedges:u,halfedges:l,triangles:d}}=this,h=u[i];if(-1===h)return null;const p=[];let y=h;do{const b=Math.floor(y/3);if(p.push(a[2*b],a[2*b+1]),y=y%3==2?y-2:y+1,d[y]!==i)break;y=l[y]}while(y!==h&&-1!==y);return p}_clip(i){if(0===i&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const a=this._cell(i);if(null===a)return null;const{vectors:u}=this,l=4*i;return u[l]||u[l+1]?this._clipInfinite(i,a,u[l],u[l+1],u[l+2],u[l+3]):this._clipFinite(i,a)}_clipFinite(i,a){const u=a.length;let d,h,b,M,O,l=null,p=a[u-2],y=a[u-1],C=this._regioncode(p,y);for(let H=0;H<u;H+=2)if(d=p,h=y,p=a[H],y=a[H+1],b=C,C=this._regioncode(p,y),0===b&&0===C)M=O,O=0,l?l.push(p,y):l=[p,y];else{let Y,te,se,ye,Ce;if(0===b){if(null===(Y=this._clipSegment(d,h,p,y,b,C)))continue;[te,se,ye,Ce]=Y}else{if(null===(Y=this._clipSegment(p,y,d,h,C,b)))continue;[ye,Ce,te,se]=Y,M=O,O=this._edgecode(te,se),M&&O&&this._edge(i,M,O,l,l.length),l?l.push(te,se):l=[te,se]}M=O,O=this._edgecode(ye,Ce),M&&O&&this._edge(i,M,O,l,l.length),l?l.push(ye,Ce):l=[ye,Ce]}if(l)M=O,O=this._edgecode(l[0],l[1]),M&&O&&this._edge(i,M,O,l,l.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(i,a,u,l,d,h){for(;;){if(0===d&&0===h)return[i,a,u,l];if(d&h)return null;let p,y,b=d||h;8&b?(p=i+(u-i)*(this.ymax-a)/(l-a),y=this.ymax):4&b?(p=i+(u-i)*(this.ymin-a)/(l-a),y=this.ymin):2&b?(y=a+(l-a)*(this.xmax-i)/(u-i),p=this.xmax):(y=a+(l-a)*(this.xmin-i)/(u-i),p=this.xmin),d?d=this._regioncode(i=p,a=y):h=this._regioncode(u=p,l=y)}}_clipInfinite(i,a,u,l,d,h){let y,p=Array.from(a);if((y=this._project(p[0],p[1],u,l))&&p.unshift(y[0],y[1]),(y=this._project(p[p.length-2],p[p.length-1],d,h))&&p.push(y[0],y[1]),p=this._clipFinite(i,p))for(let M,b=0,C=p.length,O=this._edgecode(p[C-2],p[C-1]);b<C;b+=2)M=O,O=this._edgecode(p[b],p[b+1]),M&&O&&(b=this._edge(i,M,O,p,b),C=p.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(p=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return p}_edge(i,a,u,l,d){for(;a!==u;){let h,p;switch(a){case 5:a=4;continue;case 4:a=6,h=this.xmax,p=this.ymin;break;case 6:a=2;continue;case 2:a=10,h=this.xmax,p=this.ymax;break;case 10:a=8;continue;case 8:a=9,h=this.xmin,p=this.ymax;break;case 9:a=1;continue;case 1:a=5,h=this.xmin,p=this.ymin}(l[d]!==h||l[d+1]!==p)&&this.contains(i,h,p)&&(l.splice(d,0,h,p),d+=2)}if(l.length>4)for(let h=0;h<l.length;h+=2){const p=(h+2)%l.length,y=(h+4)%l.length;(l[h]===l[p]&&l[p]===l[y]||l[h+1]===l[p+1]&&l[p+1]===l[y+1])&&(l.splice(p,2),h-=2)}return d}_project(i,a,u,l){let h,p,y,d=1/0;if(l<0){if(a<=this.ymin)return null;(h=(this.ymin-a)/l)<d&&(y=this.ymin,p=i+(d=h)*u)}else if(l>0){if(a>=this.ymax)return null;(h=(this.ymax-a)/l)<d&&(y=this.ymax,p=i+(d=h)*u)}if(u>0){if(i>=this.xmax)return null;(h=(this.xmax-i)/u)<d&&(p=this.xmax,y=a+(d=h)*l)}else if(u<0){if(i<=this.xmin)return null;(h=(this.xmin-i)/u)<d&&(p=this.xmin,y=a+(d=h)*l)}return[p,y]}_edgecode(i,a){return(i===this.xmin?1:i===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(i,a){return(i<this.xmin?1:i>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}}const rre=2*Math.PI,Tw=Math.pow;function ire(e){return e[0]}function sre(e){return e[1]}function ore(e,i,a){return[e+Math.sin(e+i)*a,i+Math.cos(e-i)*a]}class KB{static from(i,a=ire,u=sre,l){return new KB("length"in i?function(e,i,a,u){const l=e.length,d=new Float64Array(2*l);for(let h=0;h<l;++h){const p=e[h];d[2*h]=i.call(u,p,h,e),d[2*h+1]=a.call(u,p,h,e)}return d}(i,a,u,l):Float64Array.from(function*(e,i,a,u){let l=0;for(const d of e)yield i.call(u,d,l,e),yield a.call(u,d,l,e),++l}(i,a,u,l)))}constructor(i){this._delaunator=new tN(i),this.inedges=new Int32Array(i.length/2),this._hullIndex=new Int32Array(i.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const i=this._delaunator,a=this.points;if(i.hull&&i.hull.length>2&&function(e){const{triangles:i,coords:a}=e;for(let u=0;u<i.length;u+=3){const l=2*i[u],d=2*i[u+1],h=2*i[u+2];if((a[h]-a[l])*(a[d+1]-a[l+1])-(a[d]-a[l])*(a[h+1]-a[l+1])>1e-10)return!1}return!0}(i)){this.collinear=Int32Array.from({length:a.length/2},(O,H)=>H).sort((O,H)=>a[2*O]-a[2*H]||a[2*O+1]-a[2*H+1]);const y=this.collinear[0],b=this.collinear[this.collinear.length-1],C=[a[2*y],a[2*y+1],a[2*b],a[2*b+1]],M=1e-8*Math.hypot(C[3]-C[1],C[2]-C[0]);for(let O=0,H=a.length/2;O<H;++O){const Y=ore(a[2*O],a[2*O+1],M);a[2*O]=Y[0],a[2*O+1]=Y[1]}this._delaunator=new tN(a)}else delete this.collinear;const u=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,d=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),p=this._hullIndex.fill(-1);for(let y=0,b=u.length;y<b;++y){const C=d[y%3==2?y-2:y+1];(-1===u[y]||-1===h[C])&&(h[C]=y)}for(let y=0,b=l.length;y<b;++y)p[l[y]]=y;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],h[l[0]]=1,2===l.length&&(h[l[1]]=0))}voronoi(i){return new nre(this,i)}*neighbors(i){const{inedges:a,hull:u,_hullIndex:l,halfedges:d,triangles:h,collinear:p}=this;if(p){const M=p.indexOf(i);return M>0&&(yield p[M-1]),void(M<p.length-1&&(yield p[M+1]))}const y=a[i];if(-1===y)return;let b=y,C=-1;do{if(yield C=h[b],b=b%3==2?b-2:b+1,h[b]!==i)return;if(b=d[b],-1===b){const M=u[(l[i]+1)%u.length];return void(M!==C&&(yield M))}}while(b!==y)}find(i,a,u=0){if((i=+i)!=i||(a=+a)!=a)return-1;const l=u;let d;for(;(d=this._step(u,i,a))>=0&&d!==u&&d!==l;)u=d;return d}_step(i,a,u){const{inedges:l,hull:d,_hullIndex:h,halfedges:p,triangles:y,points:b}=this;if(-1===l[i]||!b.length)return(i+1)%(b.length>>1);let C=i,M=Tw(a-b[2*i],2)+Tw(u-b[2*i+1],2);const O=l[i];let H=O;do{let Y=y[H];const te=Tw(a-b[2*Y],2)+Tw(u-b[2*Y+1],2);if(te<M&&(M=te,C=Y),H=H%3==2?H-2:H+1,y[H]!==i)break;if(H=p[H],-1===H){if(H=d[(h[i]+1)%d.length],H!==Y&&Tw(a-b[2*H],2)+Tw(u-b[2*H+1],2)<M)return H;break}}while(H!==O);return C}render(i){const a=null==i?i=new Yg:void 0,{points:u,halfedges:l,triangles:d}=this;for(let h=0,p=l.length;h<p;++h){const y=l[h];if(y<h)continue;const b=2*d[h],C=2*d[y];i.moveTo(u[b],u[b+1]),i.lineTo(u[C],u[C+1])}return this.renderHull(i),a&&a.value()}renderPoints(i,a=2){const u=null==i?i=new Yg:void 0,{points:l}=this;for(let d=0,h=l.length;d<h;d+=2){const p=l[d],y=l[d+1];i.moveTo(p+a,y),i.arc(p,y,a,0,rre)}return u&&u.value()}renderHull(i){const a=null==i?i=new Yg:void 0,{hull:u,points:l}=this,d=2*u[0],h=u.length;i.moveTo(l[d],l[d+1]);for(let p=1;p<h;++p){const y=2*u[p];i.lineTo(l[y],l[y+1])}return i.closePath(),a&&a.value()}hullPolygon(){const i=new GB;return this.renderHull(i),i.value()}renderTriangle(i,a){const u=null==a?a=new Yg:void 0,{points:l,triangles:d}=this,h=2*d[i*=3],p=2*d[i+1],y=2*d[i+2];return a.moveTo(l[h],l[h+1]),a.lineTo(l[p],l[p+1]),a.lineTo(l[y],l[y+1]),a.closePath(),u&&u.value()}*trianglePolygons(){const{triangles:i}=this;for(let a=0,u=i.length/3;a<u;++a)yield this.trianglePolygon(a)}trianglePolygon(i){const a=new GB;return this.renderTriangle(i,a),a.value()}}function i1(e){nn.call(this,null,e)}i1.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const cre=[-1e5,-1e5,1e5,1e5];function nN(e){const i=e[0][0],a=e[0][1];let u=e.length-1;for(;e[u][0]===i&&e[u][1]===a;--u);return"M"+e.slice(0,u+1).join("L")+"Z"}qt(i1,nn,{transform(e,i){const a=e.as||"path",u=i.source;if(!u||!u.length)return i;let l=e.size;l=l?[0,0,l[0],l[1]]:(l=e.extent)?[l[0][0],l[0][1],l[1][0],l[1][1]]:cre;const d=this.value=KB.from(u,e.x,e.y).voronoi(l);for(let h=0,p=u.length;h<p;++h){const y=d.cellPolygon(h);u[h][a]=y?nN(y):null}return i.reflow(e.modified()).modifies(a)}});var XB=Math.PI/180;function fre(e,i,a,u){if(!i.sprite){var l=e.context,d=e.ratio;l.clearRect(0,0,2048/d,2048/d);var C,M,O,H,Y,h=0,p=0,y=0,b=a.length;for(--u;++u<b;){if(i=a[u],l.save(),l.font=i.style+" "+i.weight+" "+~~((i.size+1)/d)+"px "+i.font,C=l.measureText(i.text+"m").width*d,O=i.size<<1,i.rotate){var te=Math.sin(i.rotate*XB),se=Math.cos(i.rotate*XB),ye=C*se,Ce=C*te,Ve=O*se,Ue=O*te;C=Math.max(Math.abs(ye+Ue),Math.abs(ye-Ue))+31>>5<<5,O=~~Math.max(Math.abs(Ce+Ve),Math.abs(Ce-Ve))}else C=C+31>>5<<5;if(O>y&&(y=O),h+C>=2048&&(h=0,p+=y,y=0),p+O>=2048)break;l.translate((h+(C>>1))/d,(p+(O>>1))/d),i.rotate&&l.rotate(i.rotate*XB),l.fillText(i.text,0,0),i.padding&&(l.lineWidth=2*i.padding,l.strokeText(i.text,0,0)),l.restore(),i.width=C,i.height=O,i.xoff=h,i.yoff=p,i.x1=C>>1,i.y1=O>>1,i.x0=-i.x1,i.y0=-i.y1,i.hasText=!0,h+=C}for(var qe=l.getImageData(0,0,2048/d,2048/d).data,tt=[];--u>=0;)if((i=a[u]).hasText){for(M=(C=i.width)>>5,O=i.y1-i.y0,H=0;H<O*M;H++)tt[H]=0;if(null==(h=i.xoff))return;p=i.yoff;var Ge=0,mt=-1;for(Y=0;Y<O;Y++){for(H=0;H<C;H++){var Tt=qe[2048*(p+Y)+(h+H)<<2]?1<<31-H%32:0;tt[M*Y+(H>>5)]|=Tt,Ge|=Tt}Ge?mt=Y:(i.y0++,O--,Y--,p++)}i.y1=i.y0+mt,i.sprite=tt.slice(0,(i.y1-i.y0)*M)}}}function hre(e,i,a){for(var C,u=e.sprite,l=e.width>>5,d=e.x-(l<<4),h=127&d,p=32-h,y=e.y1-e.y0,b=(e.y+e.y0)*(a>>=5)+(d>>5),M=0;M<y;M++){C=0;for(var O=0;O<=l;O++)if((C<<p|(O<l?(C=u[M*l+O])>>>h:0))&i[b+O])return!0;b+=a}return!1}function iN(e,i){var a=e[0],u=e[1];i.x+i.x0<a.x&&(a.x=i.x+i.x0),i.y+i.y0<a.y&&(a.y=i.y+i.y0),i.x+i.x1>u.x&&(u.x=i.x+i.x1),i.y+i.y1>u.y&&(u.y=i.y+i.y1)}function pre(e,i){return e.x+e.x1>i[0].x&&e.x+e.x0<i[1].x&&e.y+e.y1>i[0].y&&e.y+e.y0<i[1].y}function eH(e){var i=e[0]/e[1];return function(a){return[i*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function Eb(e){return"function"==typeof e?e:function(){return e}}var _re={archimedean:eH,rectangular:function(e){var a=4*e[0]/e[1],u=0,l=0;return function(d){var h=d<0?-1:1;switch(Math.sqrt(1+4*h*d)-h&3){case 0:u+=a;break;case 1:l+=4;break;case 2:u-=a;break;default:l-=4}return[u,l]}}};const tH=["x","y","font","fontSize","fontStyle","fontWeight","angle"],yre=["text","font","rotate","fontSize","fontStyle","fontWeight"];function ZB(e){nn.call(this,function(){var i,a,u,l,d,h,p,e=[256,256],y=eH,b=[],C=Math.random,M={};function H(Y,te,se){for(var Ge,mt,Ot,ye=te.x,Ce=te.y,Ve=Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ue=y(e),qe=C()<.5?1:-1,tt=-qe;(Ge=Ue(tt+=qe))&&(mt=~~Ge[0],Ot=~~Ge[1],!(Math.min(Math.abs(mt),Math.abs(Ot))>=Ve));)if(te.x=ye+mt,te.y=Ce+Ot,!(te.x+te.x0<0||te.y+te.y0<0||te.x+te.x1>e[0]||te.y+te.y1>e[1])&&(!se||!hre(te,Y,e[0]))&&(!se||pre(te,se))){for(var Ar,Tt=te.sprite,St=te.width>>5,Gt=e[0]>>5,jt=te.x-(St<<4),En=127&jt,Rt=32-En,An=te.y1-te.y0,Jn=(te.y+te.y0)*Gt+(jt>>5),Yr=0;Yr<An;Yr++){Ar=0;for(var Es=0;Es<=St;Es++)Y[Jn+Es]|=Ar<<Rt|(Es<St?(Ar=Tt[Yr*St+Es])>>>En:0);Jn+=Gt}return te.sprite=null,!0}return!1}return M.layout=function(){for(var Y=function(Y){Y.width=Y.height=1;var te=Math.sqrt(Y.getContext("2d").getImageData(0,0,1,1).data.length>>2);Y.width=2048/te,Y.height=2048/te;var se=Y.getContext("2d");return se.fillStyle=se.strokeStyle="red",se.textAlign="center",{context:se,ratio:te}}(Cv()),te=function(e){for(var i=[],a=-1;++a<e;)i[a]=0;return i}((e[0]>>5)*e[1]),se=null,ye=b.length,Ce=-1,Ve=[],Ue=b.map(tt=>({text:i(tt),font:a(tt),style:l(tt),weight:d(tt),rotate:h(tt),size:~~(u(tt)+1e-14),padding:p(tt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:tt})).sort((tt,Ge)=>Ge.size-tt.size);++Ce<ye;){var qe=Ue[Ce];qe.x=e[0]*(C()+.5)>>1,qe.y=e[1]*(C()+.5)>>1,fre(Y,qe,Ue,Ce),qe.hasText&&H(te,qe,se)&&(Ve.push(qe),se?iN(se,qe):se=[{x:qe.x+qe.x0,y:qe.y+qe.y0},{x:qe.x+qe.x1,y:qe.y+qe.y1}],qe.x-=e[0]>>1,qe.y-=e[1]>>1)}return Ve},M.words=function(Y){return arguments.length?(b=Y,M):b},M.size=function(Y){return arguments.length?(e=[+Y[0],+Y[1]],M):e},M.font=function(Y){return arguments.length?(a=Eb(Y),M):a},M.fontStyle=function(Y){return arguments.length?(l=Eb(Y),M):l},M.fontWeight=function(Y){return arguments.length?(d=Eb(Y),M):d},M.rotate=function(Y){return arguments.length?(h=Eb(Y),M):h},M.text=function(Y){return arguments.length?(i=Eb(Y),M):i},M.spiral=function(Y){return arguments.length?(y=_re[Y]||Y,M):y},M.fontSize=function(Y){return arguments.length?(u=Eb(Y),M):u},M.padding=function(Y){return arguments.length?(p=Eb(Y),M):p},M.random=function(Y){return arguments.length?(C=Y,M):C},M}(),e)}ZB.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:tH}]},qt(ZB,nn,{transform(e,i){e.size&&(!e.size[0]||!e.size[1])&&Pt("Wordcloud size dimensions must be non-zero.");const u=e.modified();if(!(u||i.changed(i.ADD_REM)||yre.some(function(Y){const te=e[Y];return ur(te)&&i.modified(te.fields)})))return;const l=i.materialize(i.SOURCE).source,d=this.value,h=e.as||tH;let y,p=e.fontSize||14;if(ur(p)?y=e.fontSizeRange:p=Xe(p),y){const Y=p,te=fa("sqrt")().domain(Dn(l,Y)).range(y);p=se=>te(Y(se))}l.forEach(Y=>{Y[h[0]]=NaN,Y[h[1]]=NaN,Y[h[3]]=0});const b=d.words(l).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(p).random(lu).layout(),C=d.size(),M=C[0]>>1,O=C[1]>>1,H=b.length;for(let te,se,Y=0;Y<H;++Y)te=b[Y],se=te.datum,se[h[0]]=te.x+M,se[h[1]]=te.y+O,se[h[2]]=te.font,se[h[3]]=te.size,se[h[4]]=te.style,se[h[5]]=te.weight,se[h[6]]=te.rotate;return i.reflow(u).modifies(h)}});const bre=e=>new Uint8Array(e),nH=e=>new Uint16Array(e),kw=e=>new Uint32Array(e);function sN(e,i,a){const u=(i<257?bre:i<65537?nH:kw)(e);return a&&u.set(a),u}function rH(e,i,a){const u=1<<i;return{one:u,zero:~u,range:a.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(l,d){const h=this,p=h.bisect(h.range,l.value),y=l.index,b=p[0],C=p[1],M=y.length;let O;for(O=0;O<b;++O)d[y[O]]|=u;for(O=C;O<M;++O)d[y[O]]|=u;return h}}}function iH(){let e=kw(0),i=[],a=0;return{insert:function(p,y,b){if(!y.length)return[];const C=a,M=y.length,O=kw(M);let Y,te,se,H=Array(M);for(se=0;se<M;++se)H[se]=p(y[se]),O[se]=se;if(H=function(e,i){return e.sort.call(i,(a,u)=>{const l=e[a],d=e[u];return l<d?-1:l>d?1:0}),function(e,i){return Array.from(i,a=>e[a])}(e,i)}(H,O),C)Y=i,te=e,i=Array(C+M),e=kw(C+M),function(e,i,a,u,l,d,h,p,y){let M,b=0,C=0;for(M=0;b<u&&C<h;++M)i[b]<l[C]?(p[M]=i[b],y[M]=a[b++]):(p[M]=l[C],y[M]=d[C++]+e);for(;b<u;++b,++M)p[M]=i[b],y[M]=a[b];for(;C<h;++C,++M)p[M]=l[C],y[M]=d[C]+e}(b,Y,te,C,H,O,M,i,e);else{if(b>0)for(se=0;se<M;++se)O[se]+=b;i=H,e=O}return a=C+M,{index:O,value:H}},remove:function(p,y){const b=a;let C,M,O;for(M=0;!y[e[M]]&&M<b;++M);for(O=M;M<b;++M)y[C=e[M]]||(e[O]=C,i[O]=i[M],++O);a=b-p},bisect:function(p,y){let b;return y?b=y.length:(y=i,b=a),[_Q(y,p[0],0,b),HE(y,p[1],0,b)]},reindex:function(p){for(let y=0,b=a;y<b;++y)e[y]=p[e[y]]},index:()=>e,size:()=>a}}function JB(e){nn.call(this,function(){let e=8,i=[],a=kw(0),u=sN(0,e),l=sN(0,e);return{data:()=>i,seen:()=>a=function(e,i,a){return e.length>=i?e:((a=a||new e.constructor(i)).set(e),a)}(a,i.length),add(d){for(let b,h=0,p=i.length,y=d.length;h<y;++h)b=d[h],b._index=p++,i.push(b)},remove(d,h){const p=i.length,y=Array(p-d),b=i;let C,M,O;for(M=0;!h[M]&&M<p;++M)y[M]=i[M],b[M]=M;for(O=M;M<p;++M)C=i[M],h[M]?b[M]=-1:(b[M]=O,u[O]=u[M],l[O]=l[M],y[O]=C,C._index=O++),u[M]=0;return i=y,b},size:()=>i.length,curr:()=>u,prev:()=>l,reset:d=>l[d]=u[d],all:()=>e<257?255:e<65537?65535:4294967295,set(d,h){u[d]|=h},clear(d,h){u[d]&=~h},resize(d,h){(d>u.length||h>e)&&(e=Math.max(h,e),u=sN(d,e,u),l=sN(d,e))}}}(),e),this._indices=null,this._dims=null}function QB(e){nn.call(this,null,e)}JB.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},qt(JB,nn,{transform(e,i){return this._dims?e.modified("fields")||e.fields.some(u=>i.modified(u.fields))?this.reinit(e,i):this.eval(e,i):this.init(e,i)},init(e,i){const a=e.fields,u=e.query,l=this._indices={},d=this._dims=[],h=u.length;let y,b,p=0;for(;p<h;++p)y=a[p].fname,b=l[y]||(l[y]=iH()),d.push(rH(b,p,u[p]));return this.eval(e,i)},reinit(e,i){const a=i.materialize().fork(),u=e.fields,l=e.query,d=this._indices,h=this._dims,p=this.value,y=p.curr(),b=p.prev(),C=p.all(),M=a.rem=a.add,O=a.mod,H=l.length,Y={};let te,se,ye,Ce,Ve,Ue,qe,tt,Ge;if(b.set(y),i.rem.length&&(Ve=this.remove(e,i,a)),i.add.length&&p.add(i.add),i.mod.length)for(Ue={},Ce=i.mod,qe=0,tt=Ce.length;qe<tt;++qe)Ue[Ce[qe]._index]=1;for(qe=0;qe<H;++qe)Ge=u[qe],(!h[qe]||e.modified("fields",qe)||i.modified(Ge.fields))&&(ye=Ge.fname,(te=Y[ye])||(d[ye]=se=iH(),Y[ye]=te=se.insert(Ge,i.source,0)),h[qe]=rH(se,qe,l[qe]).onAdd(te,y));for(qe=0,tt=p.data().length;qe<tt;++qe)Ve[qe]||(b[qe]!==y[qe]?M.push(qe):Ue[qe]&&y[qe]!==C&&O.push(qe));return p.mask=(1<<H)-1,a},eval(e,i){const a=i.materialize().fork(),u=this._dims.length;let l=0;return i.rem.length&&(this.remove(e,i,a),l|=(1<<u)-1),e.modified("query")&&!e.modified("fields")&&(l|=this.update(e,i,a)),i.add.length&&(this.insert(e,i,a),l|=(1<<u)-1),i.mod.length&&(this.modify(i,a),l|=(1<<u)-1),this.value.mask=l,a},insert(e,i,a){const u=i.add,l=this.value,d=this._dims,h=this._indices,p=e.fields,y={},b=a.add,C=l.size()+u.length,M=d.length;let H,Y,te,O=l.size();l.resize(C,M),l.add(u);const se=l.curr(),ye=l.prev(),Ce=l.all();for(H=0;H<M;++H)Y=p[H].fname,te=y[Y]||(y[Y]=h[Y].insert(p[H],u,O)),d[H].onAdd(te,se);for(;O<C;++O)ye[O]=Ce,se[O]!==Ce&&b.push(O)},modify(e,i){const a=i.mod,u=this.value,l=u.curr(),d=u.all(),h=e.mod;let p,y,b;for(p=0,y=h.length;p<y;++p)b=h[p]._index,l[b]!==d&&a.push(b)},remove(e,i,a){const u=this._indices,l=this.value,d=l.curr(),h=l.prev(),p=l.all(),y={},b=a.rem,C=i.rem;let M,O,H,Y;for(M=0,O=C.length;M<O;++M)H=C[M]._index,y[H]=1,h[H]=Y=d[H],d[H]=p,Y!==p&&b.push(H);for(H in u)u[H].remove(O,y);return this.reindex(i,O,y),y},reindex(e,i,a){const u=this._indices,l=this.value;e.runAfter(()=>{const d=l.remove(i,a);for(const h in u)u[h].reindex(d)})},update(e,i,a){const u=this._dims,l=e.query,d=i.stamp,h=u.length;let y,b,p=0;for(a.filters=0,b=0;b<h;++b)e.modified("query",b)&&(y=b,++p);if(1===p)p=u[y].one,this.incrementOne(u[y],l[y],a.add,a.rem);else for(b=0,p=0;b<h;++b)!e.modified("query",b)||(p|=u[b].one,this.incrementAll(u[b],l[b],d,a.add),a.rem=a.add);return p},incrementAll(e,i,a,u){const l=this.value,d=l.seen(),h=l.curr(),p=l.prev(),y=e.index(),b=e.bisect(e.range),C=e.bisect(i),M=C[0],O=C[1],H=b[0],Y=b[1],te=e.one;let se,ye,Ce;if(M<H)for(se=M,ye=Math.min(H,O);se<ye;++se)Ce=y[se],d[Ce]!==a&&(p[Ce]=h[Ce],d[Ce]=a,u.push(Ce)),h[Ce]^=te;else if(M>H)for(se=H,ye=Math.min(M,Y);se<ye;++se)Ce=y[se],d[Ce]!==a&&(p[Ce]=h[Ce],d[Ce]=a,u.push(Ce)),h[Ce]^=te;if(O>Y)for(se=Math.max(M,Y),ye=O;se<ye;++se)Ce=y[se],d[Ce]!==a&&(p[Ce]=h[Ce],d[Ce]=a,u.push(Ce)),h[Ce]^=te;else if(O<Y)for(se=Math.max(H,O),ye=Y;se<ye;++se)Ce=y[se],d[Ce]!==a&&(p[Ce]=h[Ce],d[Ce]=a,u.push(Ce)),h[Ce]^=te;e.range=i.slice()},incrementOne(e,i,a,u){const d=this.value.curr(),h=e.index(),p=e.bisect(e.range),y=e.bisect(i),b=y[0],C=y[1],M=p[0],O=p[1],H=e.one;let Y,te,se;if(b<M)for(Y=b,te=Math.min(M,C);Y<te;++Y)se=h[Y],d[se]^=H,a.push(se);else if(b>M)for(Y=M,te=Math.min(b,O);Y<te;++Y)se=h[Y],d[se]^=H,u.push(se);if(C>O)for(Y=Math.max(b,O),te=C;Y<te;++Y)se=h[Y],d[se]^=H,a.push(se);else if(C<O)for(Y=Math.max(M,C),te=O;Y<te;++Y)se=h[Y],d[se]^=H,u.push(se);e.range=i.slice()}}),QB.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},qt(QB,nn,{transform(e,i){const a=~(e.ignore||0),u=e.filter,l=u.mask;if(0==(l&a))return i.StopPropagation;const d=i.fork(i.ALL),h=u.data(),p=u.curr(),y=u.prev(),b=C=>p[C]&a?null:h[C];return d.filter(d.MOD,b),l&l-1?(d.filter(d.ADD,C=>{const M=p[C]&a;return!M&&M^y[C]&a?h[C]:null}),d.filter(d.REM,C=>{const M=p[C]&a;return!M||M^M^y[C]&a?null:h[C]})):(d.filter(d.ADD,b),d.filter(d.REM,C=>(p[C]&a)===l?h[C]:null)),d.filter(d.SOURCE,C=>b(C._index))}});const Iw="Literal",qB="CallExpression";function Dm(e){this.type=e}var Gg,Fr,_n,gd,Ba;Dm.prototype.visit=function(e){let i,a,u;if(e(this))return 1;for(i=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case qB:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case Iw:case"RawCode":default:return[]}}(this),a=0,u=i.length;a<u;++a)if(i[a].visit(e))return 1},(Gg={})[1]="Boolean",Gg[2]="<end>",Gg[3]="Identifier",Gg[4]="Keyword",Gg[5]="Null",Gg[6]="Numeric",Gg[7]="Punctuator",Gg[8]="String",Gg[9]="RegularExpression";var e$="Identifier",Jl="Unexpected token %0",t$="Invalid regular expression",n$="Invalid regular expression: missing /",oH="Octal literals are not allowed in strict mode.",Oc="ILLEGAL",w2="Disabled.",Xre=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),lH=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function oN(e,i){if(!e)throw new Error("ASSERT: "+i)}function M_(e){return e>=48&&e<=57}function r$(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function C2(e){return"01234567".indexOf(e)>=0}function Zre(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function E2(e){return 10===e||13===e||8232===e||8233===e}function M2(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Xre.test(String.fromCharCode(e))}function uN(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&lH.test(String.fromCharCode(e))}const Jre={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function cH(){for(;_n<gd;){const e=Fr.charCodeAt(_n);if(!Zre(e)&&!E2(e))break;++_n}}function lN(e){var i,a,u,l=0;for(a="u"===e?4:2,i=0;i<a;++i)_n<gd&&r$(Fr[_n])?(u=Fr[_n++],l=16*l+"0123456789abcdef".indexOf(u.toLowerCase())):ts({},Jl,Oc);return String.fromCharCode(l)}function Qre(){var e,i;for(i=0,"}"===(e=Fr[_n])&&ts({},Jl,Oc);_n<gd&&r$(e=Fr[_n++]);)i=16*i+"0123456789abcdef".indexOf(e.toLowerCase());return(i>1114111||"}"!==e)&&ts({},Jl,Oc),i<=65535?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10),56320+(i-65536&1023))}function i$(){var e,i;for(e=Fr.charCodeAt(_n++),i=String.fromCharCode(e),92===e&&(117!==Fr.charCodeAt(_n)&&ts({},Jl,Oc),++_n,(!(e=lN("u"))||"\\"===e||!M2(e.charCodeAt(0)))&&ts({},Jl,Oc),i=e);_n<gd&&uN(e=Fr.charCodeAt(_n));)++_n,i+=String.fromCharCode(e),92===e&&(i=i.substr(0,i.length-1),117!==Fr.charCodeAt(_n)&&ts({},Jl,Oc),++_n,(!(e=lN("u"))||"\\"===e||!uN(e.charCodeAt(0)))&&ts({},Jl,Oc),i+=e);return i}function s$(){var a,l,d,h,e=_n,i=Fr.charCodeAt(_n),u=Fr[_n];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++_n,{type:7,value:String.fromCharCode(i),start:e,end:_n};default:if(61===(a=Fr.charCodeAt(_n+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return _n+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(a),start:e,end:_n};case 33:case 61:return 61===Fr.charCodeAt(_n+=2)&&++_n,{type:7,value:Fr.slice(e,_n),start:e,end:_n}}}return">>>="===(h=Fr.substr(_n,4))?{type:7,value:h,start:e,end:_n+=4}:">>>"===(d=h.substr(0,3))||"<<="===d||">>="===d?{type:7,value:d,start:e,end:_n+=3}:u===(l=d.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===l?{type:7,value:l,start:e,end:_n+=2}:("//"===l&&ts({},Jl,Oc),"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:e,end:++_n}:void ts({},Jl,Oc))}function dH(){var e,i,a;if(oN(M_((a=Fr[_n]).charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),i=_n,e="","."!==a){if(e=Fr[_n++],a=Fr[_n],"0"===e){if("x"===a||"X"===a)return++_n,function(e){let i="";for(;_n<gd&&r$(Fr[_n]);)i+=Fr[_n++];return 0===i.length&&ts({},Jl,Oc),M2(Fr.charCodeAt(_n))&&ts({},Jl,Oc),{type:6,value:parseInt("0x"+i,16),start:e,end:_n}}(i);if(C2(a))return function(e){let i="0"+Fr[_n++];for(;_n<gd&&C2(Fr[_n]);)i+=Fr[_n++];return(M2(Fr.charCodeAt(_n))||M_(Fr.charCodeAt(_n)))&&ts({},Jl,Oc),{type:6,value:parseInt(i,8),octal:!0,start:e,end:_n}}(i);a&&M_(a.charCodeAt(0))&&ts({},Jl,Oc)}for(;M_(Fr.charCodeAt(_n));)e+=Fr[_n++];a=Fr[_n]}if("."===a){for(e+=Fr[_n++];M_(Fr.charCodeAt(_n));)e+=Fr[_n++];a=Fr[_n]}if("e"===a||"E"===a)if(e+=Fr[_n++],("+"===(a=Fr[_n])||"-"===a)&&(e+=Fr[_n++]),M_(Fr.charCodeAt(_n)))for(;M_(Fr.charCodeAt(_n));)e+=Fr[_n++];else ts({},Jl,Oc);return M2(Fr.charCodeAt(_n))&&ts({},Jl,Oc),{type:6,value:parseFloat(e),start:i,end:_n}}function fH(){if(cH(),_n>=gd)return{type:2,start:_n,end:_n};const e=Fr.charCodeAt(_n);return M2(e)?function(){var e,i;return e=_n,{type:1===(i=92===Fr.charCodeAt(_n)?i$():function(){var e,i;for(e=_n++;_n<gd;){if(92===(i=Fr.charCodeAt(_n)))return _n=e,i$();if(!uN(i))break;++_n}return Fr.slice(e,_n)}()).length?3:Jre.hasOwnProperty(i)?4:"null"===i?5:"true"===i||"false"===i?1:3,value:i,start:e,end:_n}}():40===e||41===e||59===e?s$():39===e||34===e?function(){var i,a,u,l,e="",d=!1;for(oN("'"===(i=Fr[_n])||'"'===i,"String literal must starts with a quote"),a=_n,++_n;_n<gd;){if((u=Fr[_n++])===i){i="";break}if("\\"===u)if((u=Fr[_n++])&&E2(u.charCodeAt(0)))"\r"===u&&"\n"===Fr[_n]&&++_n;else switch(u){case"u":case"x":"{"===Fr[_n]?(++_n,e+=Qre()):e+=lN(u);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:C2(u)?(0!==(l="01234567".indexOf(u))&&(d=!0),_n<gd&&C2(Fr[_n])&&(d=!0,l=8*l+"01234567".indexOf(Fr[_n++]),"0123".indexOf(u)>=0&&_n<gd&&C2(Fr[_n])&&(l=8*l+"01234567".indexOf(Fr[_n++]))),e+=String.fromCharCode(l)):e+=u}else{if(E2(u.charCodeAt(0)))break;e+=u}}return""!==i&&ts({},Jl,Oc),{type:8,value:e,octal:d,start:a,end:_n}}():46===e?M_(Fr.charCodeAt(_n+1))?dH():s$():M_(e)?dH():s$()}function Lf(){const e=Ba;return _n=e.end,Ba=fH(),_n=e.end,e}function hH(){const e=_n;Ba=fH(),_n=e}function pH(e,i,a){const u=new Dm("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return u.operator=e,u.left=i,u.right=a,u}function cie(e,i){const a=new Dm("CallExpression");return a.callee=e,a.arguments=i,a}function a$(e){const i=new Dm(e$);return i.name=e,i}function cN(e){const i=new Dm("Literal");return i.value=e.value,i.raw=Fr.slice(e.start,e.end),e.regex&&("//"===i.raw&&(i.raw="/(?:)/"),i.regex=e.regex),i}function S2(e,i,a){const u=new Dm("MemberExpression");return u.computed="["===e,u.object=i,u.property=a,u.computed||(a.member=!0),u}function fie(e,i,a){const u=new Dm("Property");return u.key=i,u.value=a,u.kind=e,u}function ts(e,i){var a,u=Array.prototype.slice.call(arguments,2),l=i.replace(/%(\d)/g,(d,h)=>(oN(h<u.length,"Message reference must be in range"),u[h]));throw(a=new Error(l)).index=_n,a.description=l,a}function tf(e){2===e.type&&ts(e,"Unexpected end of input"),6===e.type&&ts(e,"Unexpected number"),8===e.type&&ts(e,"Unexpected string"),3===e.type&&ts(e,"Unexpected identifier"),4===e.type&&ts(e,"Unexpected reserved word"),ts(e,Jl,e.value)}function Dt(e){const i=Lf();(7!==i.type||i.value!==e)&&tf(i)}function Sr(e){return 7===Ba.type&&Ba.value===e}function A2(e){return 4===Ba.type&&Ba.value===e}function a1(){_n=Ba.start;const e=Lf();return 8===e.type||6===e.type?(e.octal&&ts(e,oH),cN(e)):a$(e.value)}function Bh(){var e,i,a;return _n=Ba.start,3===(e=Ba).type?(a=a1(),Dt(":"),fie("init",a,Ow())):2!==e.type&&7!==e.type?(i=a1(),Dt(":"),fie("init",i,Ow())):void tf(e)}const fo={if:1};function Jye(){var e,i,a;if(Sr("("))return function(){Dt("(");const e=Kg();return Dt(")"),e}();if(Sr("["))return function(){const e=[];for(_n=Ba.start,Dt("[");!Sr("]");)Sr(",")?(Lf(),e.push(null)):(e.push(Ow()),Sr("]")||Dt(","));return Lf(),function(e){const i=new Dm("ArrayExpression");return i.elements=e,i}(e)}();if(Sr("{"))return function(){var i,u,e=[],l={},d=String;for(_n=Ba.start,Dt("{");!Sr("}");)u="$"+((i=Bh()).key.type===e$?i.key.name:d(i.key.value)),Object.prototype.hasOwnProperty.call(l,u)?ts({},"Duplicate data property in object literal not allowed in strict mode"):l[u]=!0,e.push(i),Sr("}")||Dt(",");return Dt("}"),function(e){const i=new Dm("ObjectExpression");return i.properties=e,i}(e)}();if(_n=Ba.start,3===(e=Ba.type)||fo[Ba.value])a=a$(Lf().value);else if(8===e||6===e)Ba.octal&&ts(Ba,oH),a=cN(Lf());else{if(4===e)throw new Error(w2);1===e?((i=Lf()).value="true"===i.value,a=cN(i)):5===e?((i=Lf()).value=null,a=cN(i)):Sr("/")||Sr("/=")?(a=cN(function(){var e,i,a,u;return Ba=null,cH(),e=_n,i=function(){var e,i,a,u;for(oN("/"===(e=Fr[_n]),"Regular expression literal must start with a slash"),i=Fr[_n++],a=!1,u=!1;_n<gd;)if(i+=e=Fr[_n++],"\\"===e)E2((e=Fr[_n++]).charCodeAt(0))&&ts({},n$),i+=e;else if(E2(e.charCodeAt(0)))ts({},n$);else if(a)"]"===e&&(a=!1);else{if("/"===e){u=!0;break}"["===e&&(a=!0)}return u||ts({},n$),{value:i.substr(1,i.length-2),literal:i}}(),a=function(){var e,i,a;for(i="",a="";_n<gd&&uN((e=Fr[_n]).charCodeAt(0));)++_n,"\\"===e&&_n<gd?ts({},Jl,Oc):(a+=e,i+=e);return a.search(/[^gimuy]/g)>=0&&ts({},t$,a),{value:a,literal:i}}(),u=function(e,i){let a=e;i.indexOf("u")>=0&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(u,l)=>{if(parseInt(l,16)<=1114111)return"x";ts({},t$)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(u){ts({},t$)}try{return new RegExp(e,i)}catch(u){return null}}(i.value,a.value),{literal:i.literal+a.literal,value:u,regex:{pattern:i.value,flags:a.value},start:e,end:_n}}()),hH()):tf(Lf())}return a}function S_(){const e=[];if(Dt("("),!Sr(")"))for(;_n<gd&&(e.push(Ow()),!Sr(")"));)Dt(",");return Dt(")"),e}function o$(){Dt("[");const e=Kg();return Dt("]"),e}function Nw(){const e=function(){var e;for(e=Jye();;)if(Sr("."))e=S2(".",e,(Dt("."),function(){_n=Ba.start;const e=Lf();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||tf(e),a$(e.value)}()));else if(Sr("("))e=cie(e,S_());else{if(!Sr("["))break;e=S2("[",e,o$())}return e}();if(7===Ba.type&&(Sr("++")||Sr("--")))throw new Error(w2);return e}function dN(){var e,i;if(7!==Ba.type&&4!==Ba.type)i=Nw();else{if(Sr("++")||Sr("--"))throw new Error(w2);if(Sr("+")||Sr("-")||Sr("~")||Sr("!"))e=Lf(),i=dN(),i=function(e,i){const a=new Dm("UnaryExpression");return a.operator=e,a.argument=i,a.prefix=!0,a}(e.value,i);else{if(A2("delete")||A2("void")||A2("typeof"))throw new Error(w2);i=Nw()}}return i}function T2(e){let i=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":i=1;break;case"&&":i=2;break;case"|":i=3;break;case"^":i=4;break;case"&":i=5;break;case"==":case"!=":case"===":case"!==":i=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":i=7;break;case"<<":case">>":case">>>":i=8;break;case"+":case"-":i=9;break;case"*":case"/":case"%":i=11}return i}function Ow(){var e,i;return e=function(){var e,i,a,u,l,d,h,p,y,b;if(e=Ba,y=dN(),0===(l=T2(u=Ba)))return y;for(u.prec=l,Lf(),i=[e,Ba],d=[y,u,h=dN()];(l=T2(Ba))>0;){for(;d.length>2&&l<=d[d.length-2].prec;)h=d.pop(),p=d.pop().value,y=d.pop(),i.pop(),a=pH(p,y,h),d.push(a);(u=Lf()).prec=l,d.push(u),i.push(Ba),a=dN(),d.push(a)}for(a=d[b=d.length-1],i.pop();b>1;)i.pop(),a=pH(d[b-1].value,d[b-2],a),b-=2;return a}(),Sr("?")&&(Lf(),i=Ow(),Dt(":"),e=function(e,i,a){const u=new Dm("ConditionalExpression");return u.test=e,u.consequent=i,u.alternate=a,u}(e,i,Ow())),e}function Kg(){const e=Ow();if(Sr(","))throw new Error(w2);return e}var o1={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function fN(e){function a(h,p,y){return b=>function(h,p,y,b){let C=e(p[0]);return y&&(C=y+"("+C+")",0===y.lastIndexOf("new ",0)&&(C="("+C+")")),C+"."+h+(b<0?"":0===b?"()":"("+p.slice(1).map(e).join(",")+")")}(h,b,p,y)}const u="new Date",l="String",d="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(h){h.length<3&&Pt("Missing arguments to clamp function."),h.length>3&&Pt("Too many arguments to clamp function.");const p=h.map(e);return"Math.max("+p[1]+", Math.min("+p[2]+","+p[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:u,date:a("getDate",u,0),day:a("getDay",u,0),year:a("getFullYear",u,0),month:a("getMonth",u,0),hours:a("getHours",u,0),minutes:a("getMinutes",u,0),seconds:a("getSeconds",u,0),milliseconds:a("getMilliseconds",u,0),time:a("getTime",u,0),timezoneoffset:a("getTimezoneOffset",u,0),utcdate:a("getUTCDate",u,0),utcday:a("getUTCDay",u,0),utcyear:a("getUTCFullYear",u,0),utcmonth:a("getUTCMonth",u,0),utchours:a("getUTCHours",u,0),utcminutes:a("getUTCMinutes",u,0),utcseconds:a("getUTCSeconds",u,0),utcmilliseconds:a("getUTCMilliseconds",u,0),length:a("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:a("toUpperCase",l,0),lower:a("toLowerCase",l,0),substring:a("substring",l),split:a("split",l),trim:a("trim",l,0),regexp:d,test:a("test",d),if:function(h){h.length<3&&Pt("Missing arguments to if function."),h.length>3&&Pt("Too many arguments to if function.");const p=h.map(e);return"("+p[0]+"?"+p[1]+":"+p[2]+")"}}}var pie,pN,Tb,l$,c$,hN=new fd,k2=new fd,Xg={point:kc,lineStart:kc,lineEnd:kc,polygonStart:function(){hN=new fd,Xg.lineStart=mie,Xg.lineEnd=yH},polygonEnd:function(){var e=+hN;k2.add(e<0?Zd+e:e),this.lineStart=this.lineEnd=this.point=kc},sphere:function(){k2.add(Zd)}};function mie(){Xg.point=cl}function yH(){d$(pie,pN)}function cl(e,i){Xg.point=d$,pie=e,pN=i,Tb=e*=ds,l$=di(i=(i*=ds)/2+yI),c$=ei(i)}function d$(e,i){var a=(e*=ds)-Tb,u=a>=0?1:-1,l=u*a,d=di(i=(i*=ds)/2+yI),h=ei(i),p=c$*h,y=l$*d+p*di(l),b=p*u*ei(l);hN.add(Th(b,y)),Tb=e,l$=d,c$=h}var Pu,$h,Yu,Mp,kb,vH,bH,Lw,I2,Ib,Ff,Ca={point:f$,lineStart:h$,lineEnd:Fw,polygonStart:function(){Ca.point=p$,Ca.lineStart=Nb,Ca.lineEnd=gie,I2=new fd,Xg.polygonStart()},polygonEnd:function(){Xg.polygonEnd(),Ca.point=f$,Ca.lineStart=h$,Ca.lineEnd=Fw,hN<0?(Pu=-(Yu=180),$h=-(Mp=90)):I2>oi?Mp=90:I2<-oi&&($h=-90),Ff[0]=Pu,Ff[1]=Yu},sphere:function(){Pu=-(Yu=180),$h=-(Mp=90)}};function f$(e,i){Ib.push(Ff=[Pu=e,Yu=e]),i<$h&&($h=i),i>Mp&&(Mp=i)}function Pf(e,i){var a=fb([e*ds,i*ds]);if(Lw){var u=JM(Lw,a),d=JM([u[1],-u[0],0],u);EI(d),d=W3(d);var b,h=e-kb,p=h>0?1:-1,y=d[0]*Lu*p,C=ea(h)>180;C^(p*kb<y&&y<p*e)?(b=d[1]*Lu)>Mp&&(Mp=b):C^(p*kb<(y=(y+360)%360-180)&&y<p*e)?(b=-d[1]*Lu)<$h&&($h=b):(i<$h&&($h=i),i>Mp&&(Mp=i)),C?e<kb?Rf(Pu,e)>Rf(Pu,Yu)&&(Yu=e):Rf(e,Yu)>Rf(Pu,Yu)&&(Pu=e):Yu>=Pu?(e<Pu&&(Pu=e),e>Yu&&(Yu=e)):e>kb?Rf(Pu,e)>Rf(Pu,Yu)&&(Yu=e):Rf(e,Yu)>Rf(Pu,Yu)&&(Pu=e)}else Ib.push(Ff=[Pu=e,Yu=e]);i<$h&&($h=i),i>Mp&&(Mp=i),Lw=a,kb=e}function h$(){Ca.point=Pf}function Fw(){Ff[0]=Pu,Ff[1]=Yu,Ca.point=f$,Lw=null}function p$(e,i){if(Lw){var a=e-kb;I2.add(ea(a)>180?a+(a>0?360:-360):a)}else vH=e,bH=i;Xg.point(e,i),Pf(e,i)}function Nb(){Xg.lineStart()}function gie(){p$(vH,bH),Xg.lineEnd(),ea(I2)>oi&&(Pu=-(Yu=180)),Ff[0]=Pu,Ff[1]=Yu,Lw=null}function Rf(e,i){return(i-=e)<0?i+360:i}function xH(e,i){return e[0]-i[0]}function DH(e,i){return e[0]<=e[1]?e[0]<=i&&i<=e[1]:i<e[0]||e[1]<i}var N2,Cm,A_,Em,mN,gN,m$,g$,Vh,_N,CH,_ie,yie,Bf,Ql,Al,Mm={sphere:kc,point:_$,lineStart:u1,lineEnd:vN,polygonStart:function(){Mm.lineStart=EH,Mm.lineEnd=v$},polygonEnd:function(){Mm.lineStart=u1,Mm.lineEnd=vN}};function _$(e,i){e*=ds;var a=di(i*=ds);O2(a*di(e),a*ei(e),ei(i))}function O2(e,i,a){++N2,A_+=(e-A_)/N2,Em+=(i-Em)/N2,mN+=(a-mN)/N2}function u1(){Mm.point=y$}function y$(e,i){e*=ds;var a=di(i*=ds);Bf=a*di(e),Ql=a*ei(e),Al=ei(i),Mm.point=yN,O2(Bf,Ql,Al)}function yN(e,i){e*=ds;var a=di(i*=ds),u=a*di(e),l=a*ei(e),d=ei(i),h=Th(Nf((h=Ql*d-Al*l)*h+(h=Al*u-Bf*d)*h+(h=Bf*l-Ql*u)*h),Bf*u+Ql*l+Al*d);Cm+=h,gN+=h*(Bf+(Bf=u)),m$+=h*(Ql+(Ql=l)),g$+=h*(Al+(Al=d)),O2(Bf,Ql,Al)}function vN(){Mm.point=_$}function EH(){Mm.point=bN}function v$(){Sm(_ie,yie),Mm.point=_$}function bN(e,i){_ie=e,yie=i,e*=ds,i*=ds,Mm.point=Sm;var a=di(i);Bf=a*di(e),Ql=a*ei(e),Al=ei(i),O2(Bf,Ql,Al)}function Sm(e,i){e*=ds;var a=di(i*=ds),u=a*di(e),l=a*ei(e),d=ei(i),h=Ql*d-Al*l,p=Al*u-Bf*d,y=Bf*l-Ql*u,b=WM(h,p,y),C=Jd(b),M=b&&-C/b;Vh.add(M*h),_N.add(M*p),CH.add(M*y),Cm+=C,gN+=C*(Bf+(Bf=u)),m$+=C*(Ql+(Ql=l)),g$+=C*(Al+(Al=d)),O2(Bf,Ql,Al)}const b$="Literal";var Zg;(Zg={})[1]="Boolean",Zg[2]="<end>",Zg[3]="Identifier",Zg[4]="Keyword",Zg[5]="Null",Zg[6]="Numeric",Zg[7]="Punctuator",Zg[8]="String",Zg[9]="RegularExpression";const UH="intersect",$w="index:unit";function I$(e,i){for(var h,p,a=i.fields,u=i.values,l=a.length,d=0;d<l;++d)if((p=a[d]).getter=Ur.getter||Ur(p.field),Oe(h=p.getter(e))&&(h=rs(h)),Oe(u[d])&&(u[d]=rs(u[d])),Oe(u[d][0])&&(u[d]=u[d].map(rs)),"E"===p.type){if(Sn(u[d])?u[d].indexOf(h)<0:h!==u[d])return!1}else if("R"===p.type){if(!Hs(h,u[d]))return!1}else if("R-RE"===p.type){if(!Hs(h,u[d],!0,!1))return!1}else if("R-E"===p.type){if(!Hs(h,u[d],!1,!1))return!1}else if("R-LE"===p.type&&!Hs(h,u[d],!1,!0))return!1;return!0}const N$=Ur("_vgsid_"),O$=function(e){let i=e,a=e;function u(h,p,y,b){for(null==y&&(y=0),null==b&&(b=h.length);y<b;){const C=y+b>>>1;a(h[C],p)<0?y=C+1:b=C}return y}return 1===e.length&&(i=(h,p)=>e(h)-p,a=function(e){return(i,a)=>function(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}(e(i),a)}(e)),{left:u,center:function(h,p,y,b){null==y&&(y=0),null==b&&(b=h.length);const C=u(h,p,y,b-1);return C>y&&i(h[C-1],p)>-i(h[C],p)?C-1:C},right:function(h,p,y,b){for(null==y&&(y=0),null==b&&(b=h.length);y<b;){const C=y+b>>>1;a(h[C],p)>0?b=C:y=C+1}return y}}}(N$),Vie=O$.left,YH=O$.right;var KH={E_union:function(e,i){if(!e.length)return i;for(var a=0,u=i.length;a<u;++a)e.indexOf(i[a])<0&&e.push(i[a]);return e},E_intersect:function(e,i){return e.length?e.filter(a=>i.indexOf(a)>=0):i},R_union:function(e,i){var a=rs(i[0]),u=rs(i[1]);return a>u&&(a=i[1],u=i[0]),e.length?(e[0]>a&&(e[0]=a),e[1]<u&&(e[1]=u),e):[a,u]},R_intersect:function(e,i){var a=rs(i[0]),u=rs(i[1]);return a>u&&(a=i[1],u=i[0]),e.length?u<e[0]||e[1]<a?[]:(e[0]<a&&(e[0]=a),e[1]>u&&(e[1]=u),e):[a,u]}};function L$(e,i,a,u){i[0].type!==b$&&Pt("First argument to selection functions must be a string literal.");const l=i[0].value,h="unit",p="@"+h,y=":"+l;(i.length>=2&&Kr(i).value)===UH&&!bn(u,p)&&(u[p]=a.getData(l).indataRef(a,h)),bn(u,y)||(u[y]=a.getData(l).tuplesRef())}function XH(e){const i=this.context.data[e];return i?i.values.value:[]}const Vw=e=>function(i,a){return this.context.dataflow.locale()[e](a)(i)},IN=Vw("format"),ZH=Vw("timeFormat"),NN=Vw("utcFormat"),Uie=Vw("timeParse"),JH=Vw("utcParse"),z2=new Date(2e3,0,1);function zw(e,i,a){return Number.isInteger(e)&&Number.isInteger(i)?(z2.setYear(2e3),z2.setMonth(e),z2.setDate(i),ZH.call(this,z2,a)):""}function W2(e,i,a,u){i[0].type!==Iw&&Pt("First argument to data functions must be a string literal.");const l=i[0].value,d=":"+l;if(!bn(d,u))try{u[d]=a.getData(l).tuplesRef()}catch(h){}}function $f(e,i,a,u){if(i[0].type===Iw)T_(a,u,i[0].value);else for(e in a.scales)T_(a,u,e)}function T_(e,i,a){const u="%"+a;if(!bn(i,u))try{i[u]=e.scaleRef(a)}catch(l){}}function Nm(e,i){let a;return ur(e)?e:wn(e)?(a=i.scales[e])&&a.value:void 0}function Vb(e,i){return function(a,u,l){if(a){const d=Nm(a,(l||this).context);return d&&d.path[e](u)}return i(u)}}const Jie=Vb("area",function(e){return k2=new fd,g_(e,Xg),2*k2}),Qie=Vb("bounds",function(e){var i,a,u,l,d,h,p;if(Mp=Yu=-(Pu=$h=1/0),Ib=[],g_(e,Ca),a=Ib.length){for(Ib.sort(xH),i=1,d=[u=Ib[0]];i<a;++i)DH(u,(l=Ib[i])[0])||DH(u,l[1])?(Rf(u[0],l[1])>Rf(u[0],u[1])&&(u[1]=l[1]),Rf(l[0],u[1])>Rf(u[0],u[1])&&(u[0]=l[0])):d.push(u=l);for(h=-1/0,i=0,u=d[a=d.length-1];i<=a;u=l,++i)(p=Rf(u[1],(l=d[i])[0]))>h&&(h=p,Pu=l[0],Yu=u[1])}return Ib=Ff=null,Pu===1/0||$h===1/0?[[NaN,NaN],[NaN,NaN]]:[[Pu,$h],[Yu,Mp]]}),qH=Vb("centroid",function(e){N2=Cm=A_=Em=mN=gN=m$=g$=0,Vh=new fd,_N=new fd,CH=new fd,g_(e,Mm);var i=+Vh,a=+_N,u=+CH,l=WM(i,a,u);return l<O3&&(i=gN,a=m$,u=g$,Cm<oi&&(i=A_,a=Em,u=mN),(l=WM(i,a,u))<O3)?[NaN,NaN]:[Th(a,i)*Lu,Jd(u/l)*Lu]});function zh(e,i,a){try{e[i].apply(e,["EXPRESSION"].concat([].slice.call(a)))}catch(u){e.warn(u)}return a[a.length-1]}function FN(e){const i=e/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}function H2(e){const i=Py(e);return.2126*FN(i.r)+.7152*FN(i.g)+.0722*FN(i.b)}function R$(e,i){return e===i||e!=e&&i!=i||(Sn(e)?!(!Sn(i)||e.length!==i.length)&&function(e,i){for(let a=0,u=e.length;a<u;++a)if(!R$(e[a],i[a]))return!1;return!0}(e,i):!(!$e(e)||!$e(i))&&rU(e,i))}function rU(e,i){for(const a in e)if(!R$(e[a],i[a]))return!1;return!0}function iU(e){return i=>rU(e,i)}const aU={};function U2(e){return Sn(e)||ArrayBuffer.isView(e)?e:null}function Y2(e){return U2(e)||(wn(e)?e:null)}const dU=e=>e.data;function fU(e,i){const a=XH.call(i,e);return a.root&&a.root.lookup||{}}const cse=()=>"undefined"!=typeof window&&window||null,K2={random:()=>lu(),cumulativeNormal:mv,cumulativeLogNormal:DD,cumulativeUniform:_v,densityNormal:bD,densityLogNormal:gv,densityUniform:EE,quantileNormal:My,quantileLogNormal:wE,quantileUniform:ME,sampleNormal:Dg,sampleLogNormal:wg,sampleUniform:CE,isArray:Sn,isBoolean:sr,isDate:Oe,isDefined:e=>void 0!==e,isNumber:Ft,isObject:$e,isRegExp:fn,isString:wn,isTuple:dD,isValid:e=>null!=e&&e==e,toBoolean:ht,toDate:ff,toNumber:rs,toString:su,indexof:function(e,...i){return Y2(e).indexOf(...i)},join:function(e,...i){return U2(e).join(...i)},lastindexof:function(e,...i){return Y2(e).lastIndexOf(...i)},replace:function(e,i,a){return ur(a)&&Pt("Function argument passed to replace."),String(e).replace(i,a)},reverse:function(e){return U2(e).slice().reverse()},slice:function(e,...i){return Y2(e).slice(...i)},flush:zr,lerp:Vi,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),Nt(...e)},pad:Eu,peek:Kr,pluck:function(e,i){const a=aU[i]||(aU[i]=Ur(i));return Sn(e)?e.map(a):a(e)},span:ma,inrange:Hs,truncate:th,rgb:Py,lab:fk,hcl:pk,hsl:By,luminance:H2,contrast:function(e,i){const a=H2(e),u=H2(i);return(Math.max(a,u)+.05)/(Math.min(a,u)+.05)},sequence:lt,format:IN,utcFormat:NN,utcParse:JH,utcOffset:sp,utcSequence:ap,timeFormat:ZH,timeParse:Uie,timeOffset:Ld,timeSequence:P0,timeUnitSpecifier:yc,monthFormat:function(e){return zw.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return zw.call(this,e,1,"%b")},dayFormat:function(e){return zw.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return zw.call(this,0,2+e,"%a")},quarter:Da,utcquarter:ka,week:I0,utcweek:N0,dayofyear:Gp,utcdayofyear:Xp,warn:function(){return zh(this.context.dataflow,"warn",arguments)},info:function(){return zh(this.context.dataflow,"info",arguments)},debug:function(){return zh(this.context.dataflow,"debug",arguments)},extent:Dn,inScope:function(e){const i=this.context.group;let a=!1;if(i)for(;e;){if(e===i){a=!0;break}e=e.mark.group}return a},intersect:function(e,i,a){if(!e)return[];const[u,l]=e,d=(new Cl).set(u[0],u[1],l[0],l[1]);return nI(a||this.context.dataflow.scenegraph().root,d,function(e){let i=null;if(e){const a=Mr(e.marktype),u=Mr(e.markname);i=l=>(!a.length||a.some(d=>l.marktype===d))&&(!u.length||u.some(d=>l.name===d))}return i}(i))},clampRange:oc,pinchDistance:function(e){const i=e.touches,a=i[0].clientX-i[1].clientX,u=i[0].clientY-i[1].clientY;return Math.sqrt(a*a+u*u)},pinchAngle:function(e){const i=e.touches;return Math.atan2(i[0].clientY-i[1].clientY,i[0].clientX-i[1].clientX)},screen:function(){const e=cse();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,i=e.container&&e.container();return i?[i.clientWidth,i.clientHeight]:[void 0,void 0]},windowSize:function(){const e=cse();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,i,a){return HP(e||0,i||0,a||0)},setdata:function(e,i){const a=this.context.dataflow;return a.pulse(this.context.data[e].input,a.changeset().remove(Aa).insert(i)),1},pathShape:function(e){let i=null;return function(a){return a?lM(a,i=i||Wv(e)):e}},panLinear:Fi,panLog:Wo,panPow:Ta,panSymlog:_s,zoomLinear:As,zoomLog:Jr,zoomPow:ja,zoomSymlog:Ts,encode:function(e,i,a){if(e){const u=this.context.dataflow;u.pulse(e.mark.source,u.changeset().encode(e,i))}return void 0!==a?a:e},modify:function(e,i,a,u,l,d){const h=this.context.dataflow,p=this.context.data[e],y=p.input,b=h.stamp();let M,O,C=p.changes;if(!1===h._trigger||!(y.value.length||i||u))return 0;if((!C||C.stamp<b)&&(p.changes=C=h.changeset(),C.stamp=b,h.runAfter(()=>{p.modified=!0,h.pulse(y,C).run()},!0,1)),a&&(M=!0===a?Aa:Sn(a)||dD(a)?a:iU(a),C.remove(M)),i&&C.insert(i),u&&(M=iU(u),y.value.some(M)?C.remove(M):C.insert(u)),l)for(O in d)C.modify(l,O,d[O]);return 1}},hU=["view","item","group","xy","x","y"],pU="this.",PN={},hse={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${gr("$"+e)}]`,functions:function(e){const i=fN(e);hU.forEach(a=>i[a]="event.vega."+a);for(const a in K2)i[a]=pU+a;return Nt(i,function(e,i,a){i.__bandwidth=l=>l&&l.bandwidth?l.bandwidth():0,a._bandwidth=$f,a._range=$f,a._scale=$f;const u=l=>"_["+(l.type===Iw?gr("%"+l.value):gr("%")+"+"+e(l))+"]";return{_bandwidth:l=>`this.__bandwidth(${u(l[0])})`,_range:l=>`${u(l[0])}.range()`,_scale:l=>`${u(l[0])}(${e(l[1])})`}}(e,K2,PN)),i},constants:o1,visitors:PN},mU=function(e){const i=(e=e||{}).allowed?Di(e.allowed):{},a=e.forbidden?Di(e.forbidden):{},u=e.constants||o1,l=(e.functions||fN)(M),d=e.globalvar,h=e.fieldvar,p=ur(d)?d:Y=>`${d}["${Y}"]`;let y={},b={},C=0;function M(Y){if(wn(Y))return Y;const te=O[Y.type];return null==te&&Pt("Unsupported type: "+Y.type),te(Y)}const O={Literal:Y=>Y.raw,Identifier:Y=>{const te=Y.name;return C>0?te:bn(a,te)?Pt("Illegal identifier: "+te):bn(u,te)?u[te]:bn(i,te)?te:(y[te]=1,p(te))},MemberExpression:Y=>{const te=!Y.computed,se=M(Y.object);te&&(C+=1);const ye=M(Y.property);return se===h&&(b[function(e){const i=e&&e.length-1;return i&&('"'===e[0]&&'"'===e[i]||"'"===e[0]&&"'"===e[i])?e.slice(1,-1):e}(ye)]=1),te&&(C-=1),se+(te?"."+ye:"["+ye+"]")},CallExpression:Y=>{"Identifier"!==Y.callee.type&&Pt("Illegal callee type: "+Y.callee.type);const te=Y.callee.name,se=Y.arguments,ye=bn(l,te)&&l[te];return ye||Pt("Unrecognized function: "+te),ur(ye)?ye(se):ye+"("+se.map(M).join(",")+")"},ArrayExpression:Y=>"["+Y.elements.map(M).join(",")+"]",BinaryExpression:Y=>"("+M(Y.left)+" "+Y.operator+" "+M(Y.right)+")",UnaryExpression:Y=>"("+Y.operator+M(Y.argument)+")",ConditionalExpression:Y=>"("+M(Y.test)+"?"+M(Y.consequent)+":"+M(Y.alternate)+")",LogicalExpression:Y=>"("+M(Y.left)+Y.operator+M(Y.right)+")",ObjectExpression:Y=>"{"+Y.properties.map(M).join(",")+"}",Property:Y=>{C+=1;const te=M(Y.key);return C-=1,te+":"+M(Y.value)}};function H(Y){const te={code:M(Y),globals:Object.keys(y),fields:Object.keys(b)};return y={},b={},te}return H.functions=l,H.constants=u,H}(hse);function fl(e,i,a){return 1===arguments.length?K2[e]:(K2[e]=i,a&&(PN[e]=a),mU&&(mU.functions[e]=pU+e),this)}function Qg(e,i){const a={};let u;try{u=function(e){_n=0,gd=(Fr=e).length,Ba=null,hH();const i=Kg();if(2!==Ba.type)throw new Error("Unexpect token after expression.");return i}(e=wn(e)?e:gr(e)+"")}catch(d){Pt("Expression parse error: "+e)}u.visit(d=>{if(d.type!==qB)return;const h=d.callee.name,p=hse.visitors[h];p&&p(h,d.arguments,i,a)});const l=mU(u);return l.globals.forEach(d=>{const h="$"+d;!bn(a,h)&&i.getSignal(d)&&(a[h]=i.signalRef(d))}),{$expr:Nt({code:l.code},i.options.ast?{ast:u}:null),$fields:l.fields,$params:a}}fl("bandwidth",function(e,i){const a=Nm(e,(i||this).context);return a&&a.bandwidth?a.bandwidth():0},$f),fl("copy",function(e,i){const a=Nm(e,(i||this).context);return a?a.copy():void 0},$f),fl("domain",function(e,i){const a=Nm(e,(i||this).context);return a?a.domain():[]},$f),fl("range",function(e,i){const a=Nm(e,(i||this).context);return a&&a.range?a.range():[]},$f),fl("invert",function(e,i,a){const u=Nm(e,(a||this).context);return u?Sn(i)?(u.invertRange||u.invert)(i):(u.invert||u.invertExtent)(i):void 0},$f),fl("scale",function(e,i,a){const u=Nm(e,(a||this).context);return u?u(i):void 0},$f),fl("gradient",function(e,i,a,u,l){e=Nm(e,(l||this).context);const d=VD(i,a);let h=e.domain(),p=h[0],y=Kr(h),b=vs;return y-p?b=eR(e,p,y):e=(e.interpolator?fa("sequential")().interpolator(e.interpolator()):fa("linear")().interpolate(e.interpolate()).range(e.range())).domain([p=0,y=1]),e.ticks&&(h=e.ticks(+u||15),p!==h[0]&&h.unshift(p),y!==Kr(h)&&h.push(y)),h.forEach(C=>d.stop(b(C),e(C))),d},$f),fl("geoArea",Jie,$f),fl("geoBounds",Qie,$f),fl("geoCentroid",qH,$f),fl("geoShape",function(e,i,a){const u=Nm(e,(a||this).context);return function(l){return u?u.path.context(l)(i):""}},$f),fl("indata",function(e,i,a){const u=this.context.data[e]["index:"+i],l=u?u.value.get(a):void 0;return l&&l.count},function(e,i,a,u){i[0].type!==Iw&&Pt("First argument to indata must be a string literal."),i[1].type!==Iw&&Pt("Second argument to indata must be a string literal.");const l=i[0].value,d=i[1].value,h="@"+d;bn(h,u)||(u[h]=a.getData(l).indataRef(a,d))}),fl("data",XH,W2),fl("treePath",function(e,i,a){const u=fU(e,this),l=u[i],d=u[a];return l&&d?l.path(d).map(dU):void 0},W2),fl("treeAncestors",function(e,i){const a=fU(e,this)[i];return a?a.ancestors().map(dU):void 0},W2),fl("vlSelectionTest",function(e,i,a){for(var b,C,M,O,H,u=this.context.data[e],l=u?u.values.value:[],d=u?u[$w]&&u[$w].value:void 0,h=a===UH,p=l.length,y=0;y<p;++y)if(b=l[y],d&&h){if(-1===(M=(C=C||{})[O=b.unit]||0))continue;if(H=I$(i,b),C[O]=H?-1:++M,H&&1===d.size)return!0;if(!H&&M===d.get(O).count)return!1}else if(h^(H=I$(i,b)))return H;return p&&h},L$),fl("vlSelectionIdTest",function(e,i,a){const u=this.context.data[e],l=u?u.values.value:[],d=u?u[$w]&&u[$w].value:void 0,h=a===UH,p=N$(i),y=Vie(l,p);if(y===l.length||N$(l[y])!==p)return!1;if(d&&h){if(1===d.size)return!0;if(YH(l,p)-y<d.size)return!1}return!0},L$),fl("vlSelectionResolve",function(e,i,a,u){for(var b,C,M,O,H,Y,te,se,Ue,qe,l=this.context.data[e],d=l?l.values.value:[],h={},p={},y={},Ce=d.length,Ve=0;Ve<Ce;++Ve){for(O=(b=d[Ve]).unit,M=b.values,Ue=0,qe=(C=b.fields).length;Ue<qe;++Ue)te=(Y=h[(H=C[Ue]).field]||(h[H.field]={}))[O]||(Y[O]=[]),y[H.field]=se=H.type.charAt(0),Y[O]=(0,KH[se+"_union"])(te,Mr(M[Ue]));a&&(te=p[O]||(p[O]=[])).push(Mr(M).reduce((tt,Ge,mt)=>(tt[C[mt].field]=Ge,tt),{}))}return i=i||"union",Object.keys(h).forEach(tt=>{h[tt]=Object.keys(h[tt]).map(Ge=>h[tt][Ge]).reduce((Ge,mt)=>void 0===Ge?mt:KH[y[tt]+"_"+i](Ge,mt))}),d=Object.keys(p),a&&d.length&&(h[u?"vlPoint":"vlMulti"]="union"===i?{or:d.reduce((Ge,mt)=>(Ge.push(...p[mt]),Ge),[])}:{and:d.map(Ge=>({or:p[Ge]}))}),h},L$),fl("vlSelectionTuples",function(e,i){return e.map(a=>Nt({values:i.fields.map(u=>(u.getter||(u.getter=Ur(u.field)))(a.datum))},i))});const mse=Di(["rule"]),gU=Di(["group","image","rect"]);function G$(e){return(e+"").toLowerCase()}function X2(e,i,a){";"!==a[a.length-1]&&(a="return("+a+");");const u=Function(...i.concat(a));return e&&e.functions?u.bind(e.functions):u}var vse={operator:(e,i)=>X2(e,["_"],i.code),parameter:(e,i)=>X2(e,["datum","_"],i.code),event:(e,i)=>X2(e,["event"],i.code),handler:(e,i)=>X2(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(i.code,";")),encode:(e,i)=>{const{marktype:a,channels:u}=i;let l="var o=item,datum=o.datum,m=0,$;";for(const d in u){const h="o["+gr(d)+"]";l+="$=".concat(u[d].code,";if(").concat(h,"!==$)").concat(h,"=$,m=1;")}return l+=function(e,i){let a="";return mse[i]||(e.x2&&(e.x?(gU[i]&&(a+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),a+="o.width=o.x2-o.x;"):a+="o.x=o.x2-(o.width||0);"),e.xc&&(a+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(gU[i]&&(a+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),a+="o.height=o.y2-o.y;"):a+="o.y=o.y2-(o.height||0);"),e.yc&&(a+="o.y=o.yc-(o.height||0)/2;")),a}(u,a),l+="return m;",X2(e,["item","_"],l)},codegen:{get(e){const i="[".concat(e.map(gr).join("]["),"]"),a=Function("_","return _".concat(i,";"));return a.path=i,a},comparator(e,i){let a;const l=Function("a","b","var u, v; return "+e.map((d,h)=>{const p=i[h];let y,b;return d.path?(y="a".concat(d.path),b="b".concat(d.path)):((a=a||{})["f"+h]=d,y="this.f".concat(h,"(a)"),b="this.f".concat(h,"(b)")),function(e,i,a,u){return"((u = ".concat(e,") < (v = ").concat(i,") || u == null) && v != null ? ").concat(a,"\n  : (u > v || v == null) && u != null ? ").concat(u,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(a,"\n  : v !== v && u === u ? ").concat(u," : ")}(y,b,-p,p)}).join("")+"0;");return a?l.bind(a):l}}};function RN(e,i,a){if(!e||!$e(e))return e;for(let d,u=0,l=k_.length;u<l;++u)if(d=k_[u],bn(e,d.key))return d.parse(e,i,a);return e}var k_=[{key:"$ref",parse:function(e,i){return i.get(e.$ref)||Pt("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,i){const a="k:"+e.$key+"_"+!!e.$flat;return i.fn[a]||(i.fn[a]=lr(e.$key,e.$flat,i.expr.codegen))}},{key:"$expr",parse:function(e,i,a){e.$params&&i.parseParameters(e.$params,a);const u="e:"+e.$expr.code+"_"+e.$name;return i.fn[u]||(i.fn[u]=Tr(i.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,i){if(!e.$field)return null;const a="f:"+e.$field+"_"+e.$name;return i.fn[a]||(i.fn[a]=Ur(e.$field,e.$name,i.expr.codegen))}},{key:"$encode",parse:function(e,i){const a=e.$encode,u={};for(const l in a){const d=a[l];u[l]=Tr(i.encodeExpression(d.$expr),d.$fields),u[l].output=d.$output}return u}},{key:"$compare",parse:function(e,i){const a="c:"+e.$compare+"_"+e.$order,u=Mr(e.$compare).map(l=>l&&l.$tupleid?Zr:l);return i.fn[a]||(i.fn[a]=Ws(u,e.$order,i.expr.codegen))}},{key:"$context",parse:function(e,i){return i}},{key:"$subflow",parse:function(e,i){const a=e.$subflow;return function(u,l,d){const h=i.fork().parse(a),p=h.get(a.operators[0].id),y=h.signals.parent;return y&&y.set(d),p.detachSubflow=()=>i.detach(h),p}}},{key:"$tupleid",parse:function(){return Zr}}];const Cse={skip:!0};function xU(e,i,a,u){return new jb(e,i,a,u)}function jb(e,i,a,u){this.dataflow=e,this.transforms=i,this.events=e.events.bind(e),this.expr=u||vse,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},a&&(this.functions=Object.create(a),this.functions.context=this)}function Ap(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function J$(e,i){e&&(null==i?e.removeAttribute("aria-label"):e.setAttribute("aria-label",i))}jb.prototype=Ap.prototype={fork(){const e=new Ap(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(a=>a!==e);const i=Object.keys(e.nodes);for(const a of i)e.nodes[a]._targets=null;for(const a of i)e.nodes[a].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,i){return this.nodes[e]=i},add(e,i){const a=this,u=a.dataflow,l=e.value;if(a.set(e.id,i),function(e){return"collect"===G$(e)}(e.type)&&l&&(l.$ingest?u.ingest(i,l.$ingest,l.$format):l.$request?u.preload(i,l.$request,l.$format):u.pulse(i,u.changeset().insert(l))),e.root&&(a.root=i),e.parent){let d=a.get(e.parent.$ref);d?(u.connect(d,[i]),i.targets().add(d)):(a.unresolved=a.unresolved||[]).push(()=>{d=a.get(e.parent.$ref),u.connect(d,[i]),i.targets().add(d)})}if(e.signal&&(a.signals[e.signal]=i),e.scale&&(a.scales[e.scale]=i),e.data)for(const d in e.data){const h=a.data[d]||(a.data[d]={});e.data[d].forEach(p=>h[p]=i)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,i){this.add(e,this.dataflow.add(e.value,i))},transform(e,i){this.add(e,this.dataflow.add(this.transforms[G$(i)]))},stream(e,i){this.set(e.id,i)},update(e,i,a,u,l){this.dataflow.on(i,a,u,l,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const i=this,a=e.operators||[];return e.background&&(i.background=e.background),e.eventConfig&&(i.eventConfig=e.eventConfig),e.locale&&(i.locale=e.locale),a.forEach(u=>i.parseOperator(u)),a.forEach(u=>i.parseOperatorParameters(u)),(e.streams||[]).forEach(u=>i.parseStream(u)),(e.updates||[]).forEach(u=>i.parseUpdate(u)),i.resolve()},parseOperator:function(e){const i=this;!function(e){return"operator"===G$(e)}(e.type)&&e.type?i.transform(e,e.type):i.operator(e,e.update?i.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const i=this;if(e.params){const a=i.get(e.id);a||Pt("Invalid operator id: "+e.id),i.dataflow.connect(a,a.parameters(i.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,i){i=i||{};const a=this;for(const u in e){const l=e[u];i[u]=Sn(l)?l.map(d=>RN(d,a,i)):RN(l,a,i)}return i},parseStream:function(e){var l,i=this,a=null!=e.filter?i.eventExpression(e.filter):void 0,u=null!=e.stream?i.get(e.stream):void 0;e.source?u=i.events(e.source,e.type,a):e.merge&&(u=(l=e.merge.map(d=>i.get(d)))[0].merge.apply(l[0],l.slice(1))),e.between&&(l=e.between.map(d=>i.get(d)),u=u.between(l[0],l[1])),e.filter&&(u=u.filter(a)),null!=e.throttle&&(u=u.throttle(+e.throttle)),null!=e.debounce&&(u=u.debounce(+e.debounce)),null==u&&Pt("Invalid stream definition: "+JSON.stringify(e)),e.consume&&u.consume(!0),i.stream(e,u)},parseUpdate:function(e){var l,i=this,a=$e(a=e.source)?a.$ref:a,u=i.get(a),d=e.update,h=void 0;u||Pt("Source not defined: "+e.source),l=e.target&&e.target.$expr?i.eventExpression(e.target.$expr):i.get(e.target),d&&d.$expr&&(d.$params&&(h=i.parseParameters(d.$params)),d=i.handlerExpression(d.$expr)),i.update(e,u,l,d,h)},getState:function(e){var i=this,a={};if(e.signals){var u=a.signals={};Object.keys(i.signals).forEach(d=>{const h=i.signals[d];e.signals(d,h)&&(u[d]=h.value)})}if(e.data){var l=a.data={};Object.keys(i.data).forEach(d=>{const h=i.data[d];e.data(d,h)&&(l[d]=h.input.value)})}return i.subcontext&&!1!==e.recurse&&(a.subcontext=i.subcontext.map(d=>d.getState(e))),a},setState:function(e){var i=this,a=i.dataflow,u=e.data,l=e.signals;Object.keys(l||{}).forEach(d=>{a.update(i.signals[d],l[d],Cse)}),Object.keys(u||{}).forEach(d=>{a.pulse(i.data[d].input,a.changeset().remove(Aa).insert(u[d]))}),(e.subcontext||[]).forEach((d,h)=>{const p=i.subcontext[h];p&&p.setState(d)})}};const wU="default";function Z2(e,i){const a=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(a)return null==i?a.style.removeProperty("cursor"):a.style.cursor=i}function Q$(e,i){var a=e._runtime.data;return bn(a,i)||Pt("Unrecognized data set: "+i),a[i]}function Wb(e,i){uT(i)||Pt("Second argument to changes must be a changeset.");const a=Q$(this,e);return a.modified=!0,this.pulse(a.input,i)}function q$(e){var i=e.padding();return Math.max(0,e._viewWidth+i.left+i.right)}function MU(e){var i=e.padding();return Math.max(0,e._viewHeight+i.top+i.bottom)}function BN(e){var i=e.padding(),a=e._origin;return[i.left+a[0],i.top+a[1]]}const Nse={trap:!1};function e4(e,i,a,u){e._eventListeners.push({type:a,sources:Mr(i),handler:u})}function Hb(e,i,a){const u=e._eventConfig&&e._eventConfig[i];return!(!1===u||$e(u)&&!u[a])||(e.warn(`Blocked ${i} ${a} event listener.`),!1)}function kU(e){return e.item}function t4(e){return e.item.mark.source}function IU(e){return function(i,a){return a.vega.view().changeset().encode(a.item,e)}}function Vf(e,i,a){const u=document.createElement(e);for(const l in i)u.setAttribute(l,i[l]);return null!=a&&(u.textContent=a),u}function Fse(e,i,a){if(!i)return;const u=a.param;let l=a.state;return l||(l=a.state={elements:null,active:!1,set:null,update:h=>{h!=e.signal(u.signal)&&e.runAsync(null,()=>{l.source=!0,e.signal(u.signal,h)})}},u.debounce&&(l.update=Mt(u.debounce,l.update))),(null==u.input&&u.element?NU:OU)(l,i,u,e),l.active||(e.on(e._signals[u.signal],null,()=>{l.source?l.source=!1:l.set(e.signal(u.signal))}),l.active=!0),l}function NU(e,i,a,u){const l=a.event||"input",d=()=>e.update(i.value);u.signal(a.signal,i.value),i.addEventListener(l,d),e4(u,i,l,d),e.set=h=>{i.value=h,i.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(l))}}function OU(e,i,a,u){const l=u.signal(a.signal),d=Vf("div",{class:"vega-bind"}),h="radio"===a.input?d:d.appendChild(Vf("label"));h.appendChild(Vf("span",{class:"vega-bind-name"},a.name||a.signal)),i.appendChild(d);let p=Rse;switch(a.input){case"checkbox":p=Bse;break;case"select":p=$se;break;case"radio":p=Vse;break;case"range":p=zse}p(e,h,a,l)}function Rse(e,i,a,u){const l=Vf("input");for(const d in a)"signal"!==d&&"element"!==d&&l.setAttribute("input"===d?"type":d,a[d]);l.setAttribute("name",a.signal),l.value=u,i.appendChild(l),l.addEventListener("input",()=>e.update(l.value)),e.elements=[l],e.set=d=>l.value=d}function Bse(e,i,a,u){const l={type:"checkbox",name:a.signal};u&&(l.checked=!0);const d=Vf("input",l);i.appendChild(d),d.addEventListener("change",()=>e.update(d.checked)),e.elements=[d],e.set=h=>d.checked=!!h||null}function $se(e,i,a,u){const l=Vf("select",{name:a.signal}),d=a.labels||[];a.options.forEach((h,p)=>{const y={value:h};$N(h,u)&&(y.selected=!0),l.appendChild(Vf("option",y,(d[p]||h)+""))}),i.appendChild(l),l.addEventListener("change",()=>{e.update(a.options[l.selectedIndex])}),e.elements=[l],e.set=h=>{for(let p=0,y=a.options.length;p<y;++p)if($N(a.options[p],h))return void(l.selectedIndex=p)}}function Vse(e,i,a,u){const l=Vf("span",{class:"vega-bind-radio"}),d=a.labels||[];i.appendChild(l),e.elements=a.options.map((h,p)=>{const y={type:"radio",name:a.signal,value:h};$N(h,u)&&(y.checked=!0);const b=Vf("input",y);b.addEventListener("change",()=>e.update(h));const C=Vf("label",{},(d[p]||h)+"");return C.prepend(b),l.appendChild(C),b}),e.set=h=>{const p=e.elements,y=p.length;for(let b=0;b<y;++b)$N(p[b].value,h)&&(p[b].checked=!0)}}function zse(e,i,a,u){u=void 0!==u?u:(+a.max+ +a.min)/2;const l=null!=a.max?a.max:Math.max(100,+u)||100,d=a.min||Math.min(0,l,+u)||0,h=a.step||Ha(d,l,100),p=Vf("input",{type:"range",name:a.signal,min:d,max:l,step:h});p.value=u;const y=Vf("span",{},+u);i.appendChild(p),i.appendChild(y);const b=()=>{y.textContent=p.value,e.update(+p.value)};p.addEventListener("input",b),p.addEventListener("change",b),e.elements=[p],e.set=C=>{p.value=C,y.textContent=C}}function $N(e,i){return e===i||e+""==i+""}function LU(e,i,a,u,l,d){return(i=i||new u(e.loader())).initialize(a,q$(e),MU(e),BN(e),l,d).background(e.background())}function r4(e,i){return i?function(){try{i.apply(this,arguments)}catch(a){e.error(a)}}:null}function Q2(e,i,a){if("string"==typeof i){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(i=document.querySelector(i)))return e.error("Signal bind element not found: "+i),null}if(i&&a)try{i.innerHTML=""}catch(u){i=null,e.error(u)}return i}const VN=e=>+e||0;function Wse(e){return $e(e)?{top:VN(e.top),bottom:VN(e.bottom),left:VN(e.left),right:VN(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(VN(e))}function q2(e,i,a,u){return FU.apply(this,arguments)}function FU(){return(FU=(0,Mo.Z)(function*(e,i,a,u){const l=iw(i),d=l&&l.headless;return d||Pt("Unrecognized renderer type: "+i),yield e.runAsync(),LU(e,null,null,d,a,u).renderAsync(e._scenegraph.root)})).apply(this,arguments)}function PU(){return(PU=(0,Mo.Z)(function*(e,i){e!==Bg.Canvas&&e!==Bg.SVG&&e!==Bg.PNG&&Pt("Unrecognized image type: "+e);const a=yield q2(this,e,i);return e===Bg.SVG?a4(a.svg(),"image/svg+xml"):a.canvas().toDataURL("image/png")})).apply(this,arguments)}function a4(e,i){const a=new Blob([e],{type:i});return window.URL.createObjectURL(a)}function eS(){return(eS=(0,Mo.Z)(function*(e,i){return(yield q2(this,Bg.Canvas,e,i)).canvas()})).apply(this,arguments)}function Yb(){return(Yb=(0,Mo.Z)(function*(e){return(yield q2(this,Bg.SVG,e)).svg()})).apply(this,arguments)}var o4="padding",Hw={skip:!0};function $U(e,i){var a=e.autosize(),u=e.padding();return i-(a&&a.contains===o4?u.left+u.right:0)}function VU(e,i){var a=e.autosize(),u=e.padding();return i-(a&&a.contains===o4?u.top+u.bottom:0)}function V1e(e,i){return i.modified&&Sn(i.input.value)&&e.indexOf("_:vega:_")}function Xse(e,i){return!("parent"===e||i instanceof Ey.proxy)}function zU(e,i,a,u){const l=e.element();l&&l.setAttribute("title",function(e){return null==e?"":Sn(e)?WU(e):$e(e)&&!Oe(e)?function(e){return Object.keys(e).map(i=>{const a=e[i];return i+": "+(Sn(a)?WU(a):u4(a))}).join("\n")}(e):e+""}(u))}function WU(e){return"["+e.map(u4).join(", ")+"]"}function u4(e){return Sn(e)?"[\u2026]":$e(e)&&!Oe(e)?"{\u2026}":e}function HU(e,i){const a=this;if(i=i||{},X0.call(a),i.loader&&a.loader(i.loader),i.logger&&a.logger(i.logger),null!=i.logLevel&&a.logLevel(i.logLevel),i.locale||e.locale){const d=Nt({},e.locale,i.locale);a.locale(U0(d.number,d.time))}a._el=null,a._elBind=null,a._renderType=i.renderer||Bg.Canvas,a._scenegraph=new HR;const u=a._scenegraph.root;a._renderer=null,a._tooltip=i.tooltip||zU,a._redraw=!0,a._handler=(new SM).scene(u),a._globalCursor=!1,a._preventDefault=!1,a._timers=[],a._eventListeners=[],a._resizeListeners=[],a._eventConfig=function(e){const i=Nt({defaults:{}},e),a=(u,l)=>{l.forEach(d=>{Sn(u[d])&&(u[d]=Di(u[d]))})};return a(i.defaults,["prevent","allow"]),a(i,["view","window","selector"]),i}(e.eventConfig),a.globalCursor(a._eventConfig.globalCursor);const l=function(e,i,a){return xU(e,Ey,K2,a).parse(i)}(a,e,i.expr);a._runtime=l,a._signals=l.signals,a._bind=(e.bindings||[]).map(d=>({state:null,param:Nt({},d)})),l.root&&l.root.set(u),u.source=l.data.root.input,a.pulse(l.data.root.input,a.changeset().insert(u.items)),a._width=a.width(),a._height=a.height(),a._viewWidth=$U(a,a._width),a._viewHeight=VU(a,a._height),a._origin=[0,0],a._resize=0,a._autosize=1,function(e){var i=e._signals,a=i.width,u=i.height,l=i[o4];function d(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,p=>{e._width=p.size,e._viewWidth=$U(e,p.size),d()},{size:a}),e._resizeHeight=e.add(null,p=>{e._height=p.size,e._viewHeight=VU(e,p.size),d()},{size:u});const h=e.add(null,d,{pad:l});e._resizeWidth.rank=a.rank+1,e._resizeHeight.rank=u.rank+1,h.rank=l.rank+1}(a),function(e){e.add(null,i=>(e._background=i.bg,e._resize=1,i.bg),{bg:e._signals.background})}(a),function(e){const i=e._signals.cursor||(e._signals.cursor=e.add({user:wU,item:null}));e.on(e.events("view","mousemove"),i,(a,u)=>{const l=i.value,d=l?wn(l)?l:l.user:wU,h=u.item&&u.item.cursor||null;return l&&d===l.user&&h==l.item?l:{user:d,item:h}}),e.add(null,function(a){let u=a.cursor,l=this.value;return wn(u)||(l=u.item,u=u.user),Z2(e,u&&u!==wU?u:l||u),l},{cursor:i})}(a),a.description(e.description),i.hover&&a.hover(),i.container&&a.initialize(i.container,i.bind)}function jN(e,i){return bn(e._signals,i)?e._signals[i]:Pt("Unrecognized signal name: "+gr(i))}function l4(e,i){const a=(e._targets||[]).filter(u=>u._update&&u._update.handler===i);return a.length?a[0]:null}function UU(e,i,a,u){let l=l4(a,u);return l||(l=r4(e,()=>u(i,a.value)),l.handler=u,e.on(a,null,l)),e}function YU(e,i,a){const u=l4(i,a);return u&&i._targets.remove(u),e}qt(HU,X0,{evaluate(e,i,a){var u=this;return(0,Mo.Z)(function*(){if(yield X0.prototype.evaluate.call(u,e,i),u._redraw||u._resize)try{u._renderer&&(u._resize&&(u._resize=0,function(e){var i=BN(e),a=q$(e),u=MU(e);e._renderer.background(e.background()),e._renderer.resize(a,u,i),e._handler.origin(i),e._resizeListeners.forEach(l=>{try{l(a,u)}catch(d){e.error(d)}})}(u)),yield u._renderer.renderAsync(u._scenegraph.root)),u._redraw=!1}catch(l){u.error(l)}return a&&av(u,a),u})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const i=null!=e?e+"":null;return i!==this._desc&&J$(this._el,this._desc=i),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,i,a){const u=jN(this,e);return 1===arguments.length?u.value:this.update(u,i,a)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Wse(e)):Wse(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(iw(e)||Pt("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(X0.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(jN(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,i,a,u,l,d){this.runAfter(h=>{let p=0;h._autosize=0,h.width()!==a&&(p=1,h.signal("width",a,Hw),h._resizeWidth.skip(!0)),h.height()!==u&&(p=1,h.signal("height",u,Hw),h._resizeHeight.skip(!0)),h._viewWidth!==e&&(h._resize=1,h._viewWidth=e),h._viewHeight!==i&&(h._resize=1,h._viewHeight=i),(h._origin[0]!==l[0]||h._origin[1]!==l[1])&&(h._resize=1,h._origin=l),p&&h.run("enter"),d&&h.runAfter(y=>y.resize())},!1,1)},addEventListener(e,i,a){let u=i;return a&&!1===a.trap||(u=r4(this,i),u.raw=i),this._handler.on(e,u),this},removeEventListener(e,i){for(var l,d,a=this._handler.handlers(e),u=a.length;--u>=0;)if(l=a[u].handler,e===(d=a[u].type)&&(i===l||i===l.raw)){this._handler.off(d,l);break}return this},addResizeListener(e){const i=this._resizeListeners;return i.indexOf(e)<0&&i.push(e),this},removeResizeListener(e){var i=this._resizeListeners,a=i.indexOf(e);return a>=0&&i.splice(a,1),this},addSignalListener(e,i){return UU(this,e,jN(this,e),i)},removeSignalListener(e,i){return YU(this,jN(this,e),i)},addDataListener(e,i){return UU(this,e,Q$(this,e).values,i)},removeDataListener(e,i){return YU(this,Q$(this,e).values,i)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const i=Z2(this,null);this._globalCursor=!!e,i&&Z2(this,i)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,i){this._timers.push(function(e,i,a){var u=new WI,l=i;return null==i?(u.restart(e,i,a),u):(u._restart=u.restart,u.restart=function(d,h,p){h=+h,p=null==p?_B():+p,u._restart(function y(b){b+=l,u._restart(y,l+=h,p),d(b)},h,p)},u.restart(e,i,a),u)}(function(u){e({timestamp:Date.now(),elapsed:u})},i))},events:function(e,i,a){var h,u=this,l=new vg(a),d=function(b,C){u.runAsync(null,()=>{"view"===e&&function(e,i){var a=e._eventConfig.defaults,u=a.prevent,l=a.allow;return!1!==u&&!0!==l&&(!0===u||!1===l||(u?u[i]:l?!l[i]:e.preventDefault()))}(u,i)&&b.preventDefault(),l.receive(function(e,i,a){var d,p,u=e._renderer,l=u&&u.canvas();return l&&(p=BN(e),(d=jk(i.changedTouches?i.changedTouches[0]:i,l))[0]-=p[0],d[1]-=p[1]),i.dataflow=e,i.item=a,i.vega=function(e,i,a){const u=i?"group"===i.mark.marktype?i:i.mark.group:null;function l(h){var y,p=u;if(h)for(y=i;y;y=y.mark.group)if(y.mark.name===h){p=y;break}return p&&p.mark&&p.mark.interactive?p:{}}function d(h){if(!h)return a;wn(h)&&(h=l(h));const p=a.slice();for(;h;)p[0]-=h.x||0,p[1]-=h.y||0,h=h.mark&&h.mark.group;return p}return{view:Xe(e),item:Xe(i||{}),group:l,xy:d,x:h=>d(h)[0],y:h=>d(h)[1]}}(e,a,d),i}(u,b,C))})};if("timer"===e)Hb(u,"timer",i)&&u.timer(d,i);else if("view"===e)Hb(u,"view",i)&&u.addEventListener(i,d,Nse);else if("window"===e?Hb(u,"window",i)&&"undefined"!=typeof window&&(h=[window]):"undefined"!=typeof document&&Hb(u,"selector",i)&&(h=document.querySelectorAll(e)),h){for(var p=0,y=h.length;p<y;++p)h[p].addEventListener(i,d);e4(u,h,i,d)}else u.warn("Can not resolve event source: "+e);return l},finalize:function(){var u,l,d,e=this._tooltip,i=this._timers,a=this._eventListeners;for(u=i.length;--u>=0;)i[u].stop();for(u=a.length;--u>=0;)for(l=(d=a[u]).sources.length;--l>=0;)d.sources[l].removeEventListener(d.type,d.handler);return e&&e.call(this,this._handler,null,null,null),this},hover:function(e,i){return i=[i||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",kU),t4,IU(e)),this.on(this.events("view","mouseout",kU),t4,IU(i)),this},data:function(e,i){return arguments.length<2?Q$(this,e).values.value:Wb.call(this,e,K0().remove(Aa).insert(i))},change:Wb,insert:function(e,i){return Wb.call(this,e,K0().insert(i))},remove:function(e,i){return Wb.call(this,e,K0().remove(i))},scale:function(e){var i=this._runtime.scales;return bn(i,e)||Pt("Unrecognized scale or projection: "+e),i[e].value},initialize:function(e,i){const a=this,u=a._renderType,l=a._eventConfig.bind,d=iw(u);e=a._el=e?Q2(a,e,!0):null,function(e){const i=e.container();i&&(i.setAttribute("role","graphics-document"),i.setAttribute("aria-roleDescription","visualization"),J$(i,e.description()))}(a),d||a.error("Unrecognized renderer type: "+u);const h=d.handler||SM,p=e?d.renderer:d.headless;return a._renderer=p?LU(a,a._renderer,e,p):null,a._handler=function(e,i,a,u){const l=new u(e.loader(),r4(e,e.tooltip())).scene(e.scenegraph().root).initialize(a,BN(e),e);return i&&i.handlers().forEach(d=>{l.on(d.type,d.handler)}),l}(a,a._handler,e,h),a._redraw=!0,e&&"none"!==l&&(i=i?a._elBind=Q2(a,i,!0):e.appendChild(Vf("form",{class:"vega-bindings"})),a._bind.forEach(y=>{y.param.element&&"container"!==l&&(y.element=Q2(a,y.param.element,!!y.param.input))}),a._bind.forEach(y=>{Fse(a,y.element||i,y)})),a},toImageURL:function(e,i){return PU.apply(this,arguments)},toCanvas:function(e,i){return eS.apply(this,arguments)},toSVG:function(e){return Yb.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:V1e,signals:Xse,recurse:!0})},setState:function(e){return this.runAsync(null,i=>{i._trigger=!1,i._runtime.setState(e)},i=>{i._trigger=!0}),this}});const tae=/[[\]{}]/,nae={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let rae,iae;function UN(e,i,a,u,l){const d=e.length;let p,h=0;for(;i<d;++i){if(p=e[i],!h&&p===a)return i;l&&l.indexOf(p)>=0?--h:u&&u.indexOf(p)>=0&&++h}return i}function sae(e){const i=[],a=e.length;let u=0,l=0;for(;l<a;)l=UN(e,l,",","[{","]}"),i.push(e.substring(u,l).trim()),u=++l;if(0===i.length)throw"Empty event selector: "+e;return i}function XU(e){return"["===e[0]?function(e){const i=e.length;let u,a=1;if(a=UN(e,a,"]","[","]"),a===i)throw"Empty between selector: "+e;if(u=sae(e.substring(1,a)),2!==u.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(a+1).trim())[0])throw"Expected '>' after between selector: "+e;u=u.map(XU);const l=XU(e.slice(1).trim());return l.between?{between:u,stream:l}:(l.between=u,l)}(e):function(e){const i={source:rae},a=[];let y,b,u=[0,0],l=0,d=0,h=e.length,p=0;if("}"===e[h-1]){if(p=e.lastIndexOf("{"),!(p>=0))throw"Unmatched right brace: "+e;try{u=function(e){const i=e.split(",");if(!e.length||i.length>2)throw e;return i.map(a=>{const u=+a;if(u!=u)throw e;return u})}(e.substring(p+1,h-1))}catch(C){throw"Invalid throttle specification: "+e}h=(e=e.slice(0,p).trim()).length,p=0}if(!h)throw e;if("@"===e[0]&&(l=++p),y=UN(e,p,":"),y<h&&(a.push(e.substring(d,y).trim()),d=p=++y),p=UN(e,p,"["),p===h)a.push(e.substring(d,h).trim());else if(a.push(e.substring(d,p).trim()),b=[],d=++p,d===h)throw"Unmatched left bracket: "+e;for(;p<h;){if(p=UN(e,p,"]"),p===h)throw"Unmatched left bracket: "+e;if(b.push(e.substring(d,p).trim()),p<h-1&&"["!==e[++p])throw"Expected left bracket: "+e;d=++p}if(!(h=a.length)||tae.test(a[h-1]))throw"Invalid event selector: "+e;return h>1?(i.type=a[1],l?i.markname=a[0].slice(1):function(e){return iae[e]}(a[0])?i.marktype=a[0]:i.source=a[0]):i.type=a[0],"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1)),null!=b&&(i.filter=b),u[0]&&(i.throttle=u[0]),u[1]&&(i.debounce=u[1]),i}(e)}function Y1e(e){return $e(e)?e:{type:e||"pad"}}const YN=e=>+e||0;function K1e(e){return $e(e)?e.signal?e:{top:YN(e.top),bottom:YN(e.bottom),left:YN(e.left),right:YN(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(YN(e))}const Fc=e=>$e(e)&&!Sn(e)?Nt({},e):{value:e};function aae(e,i,a,u){return null!=a?($e(a)&&!Sn(a)||Sn(a)&&a.length&&$e(a[0])?e.update[i]=a:e[u||"enter"][i]={value:a},1):0}function vd(e,i,a){for(const u in i)aae(e,u,i[u]);for(const u in a)aae(e,u,a[u],"update")}function tS(e,i,a){for(const u in i)a&&bn(a,u)||(e[u]=Nt(e[u]||{},i[u]));return e}function nS(e,i){return i&&(i.enter&&i.enter[e]||i.update&&i.update[e])}const ZU="mark",JU="frame",QU="scope",oae="legend-label";function t9(e,i,a){e[i]=a&&a.signal?{signal:a.signal}:{value:a}}const uae=e=>wn(e)?gr(e):e.signal?`(${e.signal})`:lae(e);function rS(e){if(null!=e.gradient)return function(e){const i=[e.start,e.stop,e.count].map(a=>null==a?null:gr(a));for(;i.length&&null==Kr(i);)i.pop();return i.unshift(uae(e.gradient)),`gradient(${i.join(",")})`}(e);let i=e.signal?`(${e.signal})`:e.color?function(e){return e.c?f4("hcl",e.h,e.c,e.l):e.h||e.s?f4("hsl",e.h,e.s,e.l):e.l||e.a?f4("lab",e.l,e.a,e.b):e.r||e.g||e.b?f4("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?lae(e.field):void 0!==e.value?gr(e.value):void 0;return null!=e.scale&&(i=function(e,i){const a=uae(e.scale);return null!=e.range?i=`lerp(_range(${a}), ${+e.range})`:(void 0!==i&&(i=`_scale(${a}, ${i})`),e.band&&(i=(i?i+"+":"")+`_bandwidth(${a})`+(1==+e.band?"":"*"+h4(e.band)),e.extra&&(i=`(datum.extra ? _scale(${a}, datum.extra.value) : ${i})`)),null==i&&(i="0")),i}(e,i)),void 0===i&&(i=null),null!=e.exponent&&(i=`pow(${i},${h4(e.exponent)})`),null!=e.mult&&(i+=`*${h4(e.mult)}`),null!=e.offset&&(i+=`+${h4(e.offset)}`),e.round&&(i=`round(${i})`),i}const f4=(e,i,a,u)=>`(${e}(${[i,a,u].map(rS).join(",")})+'')`;function h4(e){return $e(e)?"("+rS(e)+")":e}function lae(e){return cae($e(e)?e:{datum:e})}function cae(e){let i,a,u;if(e.signal)i="datum",u=e.signal;else if(e.group||e.parent){for(a=Math.max(1,e.level||1),i="item";a-- >0;)i+=".mark.group";e.parent?(u=e.parent,i+=".datum"):u=e.group}else e.datum?(i="datum",u=e.datum):Pt("Invalid field reference: "+gr(e));return e.signal||(u=wn(u)?wr(u).map(gr).join("]["):cae(u)),i+"["+u+"]"}function dae(e,i,a,u,l,d){const h={};(d=d||{}).encoders={$encode:h},e=function(e,i,a,u,l){const d={},h={};let p,y,b,C;for(y in y="lineBreak","text"===i&&null!=l[y]&&!nS(y,e)&&t9(d,y,l[y]),("legend"==a||String(a).startsWith("axis"))&&(a=null),C=a===JU?l.group:a===ZU?Nt({},l.mark,l[i]):null,C)b=nS(y,e)||("fill"===y||"stroke"===y)&&(nS("fill",e)||nS("stroke",e)),b||t9(d,y,C[y]);for(y in Mr(u).forEach(M=>{const O=l.style&&l.style[M];for(const H in O)nS(H,e)||t9(d,H,O[H])}),e=Nt({},e),d)C=d[y],C.signal?(p=p||{})[y]=C:h[y]=C;return e.enter=Nt(h,e.enter),p&&(e.update=Nt(p,e.update)),e}(e,i,a,u,l.config);for(const p in e)h[p]=hve(e[p],i,d,l);return d}function hve(e,i,a,u){const l={},d={};for(const h in e)null!=e[h]&&(l[h]=mve(pve(e[h]),u,a,d));return{$expr:{marktype:i,channels:l},$fields:Object.keys(d),$output:Object.keys(e)}}function pve(e){return Sn(e)?function(e){let i="";return e.forEach(a=>{const u=rS(a);i+=a.test?`(${a.test})?${u}:`:u}),":"===Kr(i)&&(i+="null"),i}(e):rS(e)}function mve(e,i,a,u){const l=Qg(e,i);return l.$fields.forEach(d=>u[d]=1),Nt(a,l.$params),l.$expr}const _ve=["value","update","init","react","bind"];function fae(e,i){Pt(e+' for "outer" push: '+gr(i))}function hae(e,i){const a=e.name;if("outer"===e.push)i.signals[a]||fae("No prior signal definition",a),_ve.forEach(u=>{void 0!==e[u]&&fae("Invalid property ",u)});else{const u=i.addSignal(a,e.value);!1===e.react&&(u.react=!1),e.bind&&i.addBinding(a,e.bind)}}function n9(e,i,a,u){this.id=-1,this.type=e,this.value=i,this.params=a,u&&(this.parent=u)}function p4(e,i,a,u){return new n9(e,i,a,u)}function m4(e,i){return p4("operator",e,i)}function ri(e){const i={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(i),i}function GN(e,i){return i?{$field:e,$name:i}:{$field:e}}const r9=GN("key");function pae(e,i){return{$compare:e,$order:i}}function g4(e,i){return(e&&e.signal?"$"+e.signal:e||"")+(e&&i?"_":"")+(i&&i.signal?"$"+i.signal:i||"")}const i9="scope",s9="view";function ql(e){return e&&e.signal}function _4(e){if(ql(e))return!0;if($e(e))for(const i in e)if(_4(e[i]))return!0;return!1}function Pc(e,i){return null!=e?e:i}function Uw(e){return e&&e.signal||e}function KN(e,i){return(e.merge?Cve:e.stream?Eve:e.type?Mve:Pt("Invalid stream specification: "+gr(e)))(e,i)}function Cve(e,i){const u=a9({merge:e.merge.map(l=>KN(l,i))},e,i);return i.addStream(u).id}function Eve(e,i){const u=a9({stream:KN(e.stream,i)},e,i);return i.addStream(u).id}function Mve(e,i){let a;"timer"===e.type?(a=i.event("timer",e.throttle),e={between:e.between,filter:e.filter}):a=i.event(function(e){return e===i9?s9:e||s9}(e.source),e.type);const u=a9({stream:a},e,i);return 1===Object.keys(u).length?a:i.addStream(u).id}function a9(e,i,a){let u=i.between;return u&&(2!==u.length&&Pt('Stream "between" parameter must have 2 entries: '+gr(i)),e.between=[KN(u[0],a),KN(u[1],a)]),u=i.filter?[].concat(i.filter):[],(i.marktype||i.markname||i.markrole)&&u.push(function(e,i,a){const u="event.item";return u+(e&&"*"!==e?"&&"+u+".mark.marktype==='"+e+"'":"")+(a?"&&"+u+".mark.role==='"+a+"'":"")+(i?"&&"+u+".mark.name==='"+i+"'":"")}(i.marktype,i.markname,i.markrole)),i.source===i9&&u.push("inScope(event.item)"),u.length&&(e.filter=Qg("("+u.join(")&&(")+")",a).$expr),null!=(u=i.throttle)&&(e.throttle=+u),null!=(u=i.debounce)&&(e.debounce=+u),i.consume&&(e.consume=!0),e}const Ave={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Ive(e){return{signal:"["+e.map(i=>i.scale?'scale("'+i.scale+'")':i.signal)+"]"}}const va=e=>(i,a,u)=>p4(e,a,i||void 0,u),y4=va("aggregate"),_ae=va("axisticks"),o9=va("bound"),e0=va("collect"),yae=va("compare"),u9=va("datajoin"),XN=va("encode"),Nve=va("expression"),Ove=va("facet"),Lve=va("field"),l9=va("key"),v4=va("legendentries"),Fve=va("load"),Pve=va("mark"),ZN=va("multiextent"),c9=va("multivalues"),Rve=va("overlap"),Bve=va("params"),vae=va("prefacet"),$ve=va("projection"),Vve=va("proxy"),zve=va("relay"),bae=va("render"),jve=va("scale"),Yw=va("sieve"),Wve=va("sortitems"),xae=va("viewlayout"),Hve=va("values");let Uve=0;const Dae={min:"min",max:"max",count:"sum"};function Gve(e,i){const a=i.getScale(e.name).params;let u;for(u in a.domain=wae(e.domain,e,i),null!=e.range&&(a.range=C4(e,i,a)),null!=e.interpolate&&function(e,i){i.interpolate=Om(e.type||e),null!=e.gamma&&(i.interpolateGamma=Om(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=function(e){return $e(e)?{interval:Om(e.interval),step:Om(e.step)}:Om(e)}(e.nice)),null!=e.bins&&(a.bins=function(e,i){return e.signal||Sn(e)?b4(e,i):i.objectProperty(e)}(e.bins,i)),e)bn(a,u)||"name"===u||(a[u]=Om(e[u],i))}function Om(e,i){return $e(e)?e.signal?i.signalRef(e.signal):Pt("Unsupported object: "+gr(e)):e}function b4(e,i){return e.signal?i.signalRef(e.signal):e.map(a=>Om(a,i))}function x4(e){Pt("Can not find data set: "+gr(e))}function wae(e,i,a){if(e)return e.signal?a.signalRef(e.signal):(Sn(e)?Kve:e.fields?Zve:Xve)(e,i,a);(null!=i.domainMin||null!=i.domainMax)&&Pt("No scale domain defined for domainMin/domainMax to override.")}function Kve(e,i,a){return e.map(u=>Om(u,a))}function Xve(e,i,a){const u=a.getData(e.data);return u||x4(e.data),RD(i.type)?u.valuesRef(a,e.field,D4(e.sort,!1)):JP(i.type)?u.domainRef(a,e.field):u.extentRef(a,e.field)}function Zve(e,i,a){const u=e.data,l=e.fields.reduce((d,h)=>(h=wn(h)?{data:u,field:h}:Sn(h)||h.signal?function(e,i){const a="_:vega:_"+Uve++,u=e0({});if(Sn(e))u.value={$ingest:e};else if(e.signal){const l="setdata("+gr(a)+","+e.signal+")";u.params.input=i.signalRef(l)}return i.addDataPipeline(a,[u,Yw({})]),{data:a,field:"data"}}(h,a):h,d.push(h),d),[]);return(RD(i.type)?d9:JP(i.type)?f9:h9)(e,a,l)}function d9(e,i,a){const u=D4(e.sort,!0);let l,d;const h=a.map(b=>{const C=i.getData(b.data);return C||x4(b.data),C.countsRef(i,b.field,u)}),p={groupby:r9,pulse:h};u&&(l=u.op||"count",d=u.field?g4(l,u.field):"count",p.ops=[Dae[l]],p.fields=[i.fieldRef(d)],p.as=[d]),l=i.add(y4(p));const y=i.add(e0({pulse:ri(l)}));return d=i.add(Hve({field:r9,sort:i.sortRef(u),pulse:ri(y)})),ri(d)}function D4(e,i){return e&&(e.field||e.op?e.field||"count"===e.op?i&&e.field&&e.op&&!Dae[e.op]&&Pt("Multiple domain scales can not be sorted using "+e.op):Pt("No field provided for sort aggregate op: "+e.op):$e(e)?e.field="key":e={field:"key"}),e}function f9(e,i,a){const u=a.map(l=>{const d=i.getData(l.data);return d||x4(l.data),d.domainRef(i,l.field)});return ri(i.add(c9({values:u})))}function h9(e,i,a){const u=a.map(l=>{const d=i.getData(l.data);return d||x4(l.data),d.extentRef(i,l.field)});return ri(i.add(ZN({extents:u})))}function C4(e,i,a){const u=i.config.range;let l=e.range;if(l.signal)return i.signalRef(l.signal);if(wn(l)){if(u&&bn(u,l))return C4(e=Nt({},e,{range:u[l]}),i,a);"width"===l?l=[0,{signal:"width"}]:"height"===l?l=RD(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Pt("Unrecognized scale range value: "+gr(l))}else{if(l.scheme)return a.scheme=Sn(l.scheme)?b4(l.scheme,i):Om(l.scheme,i),l.extent&&(a.schemeExtent=b4(l.extent,i)),void(l.count&&(a.schemeCount=Om(l.count,i)));if(l.step)return void(a.rangeStep=Om(l.step,i));if(RD(e.type)&&!Sn(l))return wae(l,e,i);Sn(l)||Pt("Unsupported range type: "+gr(l))}return l.map(d=>(Sn(d)?b4:Om)(d,i))}function JN(e,i,a){return Sn(e)?e.map(u=>JN(u,i,a)):$e(e)?e.signal?a.signalRef(e.signal):"fit"===i?e:Pt("Unsupported parameter object: "+gr(e)):e}const Tp="top",I_="bottom",QN="label",Rc="value",qN="guide-label",y9="guide-title",E4="gradient",eO="discrete",b9=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],tO={name:1,style:1,interactive:1},na={value:0},Lm={value:1},M4="group",x9="rule",Gw="text";function nO(e){return e.type=M4,e.interactive=e.interactive||!1,e}function jh(e,i){const a=(u,l)=>Pc(e[u],Pc(i[u],l));return a.isVertical=u=>"vertical"===Pc(e.direction,i.direction||(u?i.symbolDirection:i.gradientDirection)),a.gradientLength=()=>Pc(e.gradientLength,i.gradientLength||i.gradientWidth),a.gradientThickness=()=>Pc(e.gradientThickness,i.gradientThickness||i.gradientHeight),a.entryColumns=()=>Pc(e.columns,Pc(i.columns,+a.isVertical(!0))),a}function Aae(e,i){const a=i&&(i.update&&i.update[e]||i.enter&&i.enter[e]);return a&&a.signal?a:a?a.value:null}function S4(e,i,a){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${i} : ${a}`}const D9=S4(gr("left"),gr("right"),gr("center"));function Tae(e,i){return i?e?$e(e)?Object.assign({},e,{offset:Tae(e.offset,i)}):{value:e,offset:i}:i:e}function kp(e,i){return i?(e.name=i.name,e.style=i.style||e.style,e.interactive=!!i.interactive,e.encode=tS(e.encode,i,tO)):e.interactive=!1,e}function ube(e,i,a,u){const l=jh(e,a),d=l.isVertical(),h=l.gradientThickness(),p=l.gradientLength();let y,b,C,M,O;d?(b=[0,1],C=[0,0],M=h,O=p):(b=[0,0],C=[1,0],M=p,O=h);const H={enter:y={opacity:na,x:na,y:na,width:Fc(M),height:Fc(O)},update:Nt({},y,{opacity:Lm,fill:{gradient:i,start:b,stop:C}}),exit:{opacity:na}};return vd(H,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),kp({type:"rect",role:"legend-gradient",encode:H},u)}function lbe(e,i,a,u,l){const d=jh(e,a),h=d.isVertical(),p=d.gradientThickness(),y=d.gradientLength();let b,C,M,O,H="";h?(b="y",M="y2",C="x",O="width",H="1-"):(b="x",M="x2",C="y",O="height");const Y={opacity:na,fill:{scale:i,field:Rc}};Y[b]={signal:H+"datum.perc",mult:y},Y[C]=na,Y[M]={signal:H+"datum.perc2",mult:y},Y[O]=Fc(p);const te={enter:Y,update:Nt({},Y,{opacity:Lm}),exit:{opacity:na}};return vd(te,{stroke:d("gradientStrokeColor"),strokeWidth:d("gradientStrokeWidth")},{opacity:d("gradientOpacity")}),kp({type:"rect",role:"legend-band",key:Rc,from:l,encode:te},u)}const dbe=`datum.perc<=0?"${I_}":datum.perc>=1?"top":"middle"`;function kae(e,i,a,u){const l=jh(e,i),d=l.isVertical(),h=Fc(l.gradientThickness()),p=l.gradientLength();let b,C,M,O,y=l("labelOverlap"),H="";const Y={enter:b={opacity:na},update:C={opacity:Lm,text:{field:QN}},exit:{opacity:na}};return vd(Y,{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:Pc(e.labelLimit,i.gradientLabelLimit)}),d?(b.align={value:"left"},b.baseline=C.baseline={signal:dbe},M="y",O="x",H="1-"):(b.align=C.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},b.baseline={value:"top"},M="x",O="y"),b[M]=C[M]={signal:H+"datum.perc",mult:p},b[O]=C[O]=h,h.offset=Pc(e.labelOffset,i.gradientLabelOffset)||0,y=y?{separation:l("labelSeparation"),method:y,order:"datum.index"}:void 0,kp({type:Gw,role:oae,style:qN,key:Rc,from:u,encode:Y,overlap:y},a)}function fbe(e,i,a,u,l){const d=jh(e,i),h=a.entries,p=!(!h||!h.interactive),y=h?h.name:void 0,b=d("clipHeight"),C=d("symbolOffset"),M={data:"value"},O=`(${l}) ? datum.offset : datum.size`,H=b?Fc(b):{field:"size"},Y="datum.index",te=`max(1, ${l})`;let se,ye,Ce,Ve,Ue;H.mult=.5,se={enter:ye={opacity:na,x:{signal:O,mult:.5,offset:C},y:H},update:Ce={opacity:Lm,x:ye.x,y:ye.y},exit:{opacity:na}};let qe=null,tt=null;e.fill||(qe=i.symbolBaseFillColor,tt=i.symbolBaseStrokeColor),vd(se,{fill:d("symbolFillColor",qe),shape:d("symbolType"),size:d("symbolSize"),stroke:d("symbolStrokeColor",tt),strokeDash:d("symbolDash"),strokeDashOffset:d("symbolDashOffset"),strokeWidth:d("symbolStrokeWidth")},{opacity:d("symbolOpacity")}),b9.forEach(Tt=>{e[Tt]&&(Ce[Tt]=ye[Tt]={scale:e[Tt],field:Rc})});const Ge=kp({type:"symbol",role:"legend-symbol",key:Rc,from:M,clip:!!b||void 0,encode:se},a.symbols),mt=Fc(C);mt.offset=d("labelOffset"),se={enter:ye={opacity:na,x:{signal:O,offset:mt},y:H},update:Ce={opacity:Lm,text:{field:QN},x:ye.x,y:ye.y},exit:{opacity:na}},vd(se,{align:d("labelAlign"),baseline:d("labelBaseline"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontStyle:d("labelFontStyle"),fontWeight:d("labelFontWeight"),limit:d("labelLimit")});const Ot=kp({type:Gw,role:oae,style:qN,key:Rc,from:M,encode:se},a.labels);return se={enter:{noBound:{value:!b},width:na,height:b?Fc(b):na,opacity:na},exit:{opacity:na},update:Ce={opacity:Lm,row:{signal:null},column:{signal:null}}},d.isVertical(!0)?(Ve=`ceil(item.mark.items.length / ${te})`,Ce.row.signal=`${Y}%${Ve}`,Ce.column.signal=`floor(${Y} / ${Ve})`,Ue={field:["row",Y]}):(Ce.row.signal=`floor(${Y} / ${te})`,Ce.column.signal=`${Y} % ${te}`,Ue={field:Y}),Ce.column.signal=`(${l})?${Ce.column.signal}:${Y}`,nO({role:QU,from:u={facet:{data:u,name:"value",groupby:"index"}},encode:tS(se,h,tO),marks:[Ge,Ot],name:y,interactive:p,sort:Ue})}const w9='item.orient === "left"',C9='item.orient === "right"',A4=`(${w9} || ${C9})`,pbe=`datum.vgrad && ${A4}`,mbe=S4('"top"','"bottom"','"middle"'),Nae=`datum.vgrad && ${C9} ? (${S4('"right"','"left"','"center"')}) : (${A4} && !(datum.vgrad && ${w9})) ? "left" : ${D9}`,Oae=`item._anchor || (${A4} ? "middle" : "start")`,Lae=`${pbe} ? (${w9} ? -90 : 90) : 0`,Fae=`${A4} ? (datum.vgrad ? (${C9} ? "bottom" : "top") : ${mbe}) : "top"`;function E9(e,i){let a;return $e(e)&&(e.signal?a=e.signal:e.path?a="pathShape("+M9(e.path)+")":e.sphere&&(a="geoShape("+M9(e.sphere)+', {type: "Sphere"})')),a?i.signalRef(a):!!e}function M9(e){return $e(e)&&e.signal?e.signal:gr(e)}function S9(e){const i=e.role||"";return i.indexOf("axis")&&i.indexOf("legend")&&i.indexOf("title")?e.type===M4?QU:i||ZU:i}function Rae(e){return{marktype:e.type,name:e.name||void 0,role:e.role||S9(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function gbe(e,i){return e&&e.signal?i.signalRef(e.signal):!1!==e}function iS(e,i){const a=xg(e.type);a||Pt("Unrecognized transform type: "+gr(e.type));const u=p4(a.type.toLowerCase(),null,A9(a,e,i));return e.signal&&i.addSignal(e.signal,i.proxy(u)),u.metadata=a.metadata||{},u}function A9(e,i,a){const u={},l=e.params.length;for(let d=0;d<l;++d){const h=e.params[d];u[h.name]=T9(h,i,a)}return u}function T9(e,i,a){const u=e.type,l=i[e.name];return"index"===u?function(e,i,a){return wn(i.from)||Pt('Lookup "from" parameter must be a string literal.'),a.getData(i.from).lookupRef(a,i.key)}(0,i,a):void 0!==l?"param"===u?function(e,i,a){const u=i[e.name];return e.array?(Sn(u)||Pt("Expected an array of sub-parameters. Instead: "+gr(u)),u.map(l=>T4(e,l,a))):T4(e,u,a)}(e,i,a):"projection"===u?a.projectionRef(i[e.name]):e.array&&!ql(l)?l.map(d=>k9(e,d,a)):k9(e,l,a):void(e.required&&Pt("Missing required "+gr(i.type)+" parameter: "+gr(e.name)))}function k9(e,i,a){const u=e.type;if(ql(i))return Zb(u)?Pt("Expression references can not be signals."):I4(u)?a.fieldRef(i):O9(u)?a.compareRef(i):a.signalRef(i.signal);{const l=e.expr||I4(u);return l&&I9(i)?a.exprRef(i.expr,i.as):l&&N9(i)?GN(i.field,i.as):Zb(u)?Qg(i,a):k4(u)?ri(a.getData(i).values):I4(u)?GN(i):O9(u)?a.compareRef(i):i}}function T4(e,i,a){const u=e.params.length;let l;for(let h=0;h<u;++h){l=e.params[h];for(const p in l.key)if(l.key[p]!==i[p]){l=null;break}if(l)break}l||Pt("Unsupported parameter: "+gr(i));const d=Nt(A9(l,i,a),l.key);return ri(a.add(Bve(d)))}const I9=e=>e&&e.expr,N9=e=>e&&e.field,k4=e=>"data"===e,Zb=e=>"expr"===e,I4=e=>"field"===e,O9=e=>"compare"===e;function iO(e,i){return e.$ref?e:e.data&&e.data.$ref?e.data:ri(i.getData(e.data).output)}function p1(e,i,a,u,l){this.scope=e,this.input=i,this.output=a,this.values=u,this.aggregate=l,this.index={}}function L9(e){return wn(e)?e:null}function N4(e,i,a){const u=g4(a.op,a.field);let l;if(i.ops){for(let d=0,h=i.as.length;d<h;++d)if(i.as[d]===u)return}else i.ops=["count"],i.fields=[null],i.as=["count"];a.op&&(i.ops.push((l=a.op.signal)?e.signalRef(l):a.op),i.fields.push(e.fieldRef(a.field)),i.as.push(u))}function sO(e,i,a,u,l,d,h){const p=i[a]||(i[a]={}),y=function(e){return $e(e)?("descending"===e.order?"-":"+")+g4(e.op,e.field):""}(d);let C,M,b=L9(l);if(null!=b&&(e=i.scope,b+=y?"|"+y:"",C=p[b]),!C){const O=d?{field:r9,pulse:i.countsRef(e,l,d)}:{field:e.fieldRef(l),pulse:ri(i.output)};y&&(O.sort=e.sortRef(d)),M=e.add(p4(u,void 0,O)),h&&(i.index[l]=M),C=ri(M),null!=b&&(p[b]=C)}return C}function Vae(e,i,a){const u=e.remove,l=e.insert,d=e.toggle,h=e.modify,p=e.values,y=i.add(m4()),C=Qg("if("+e.trigger+',modify("'+a+'",'+[l,u,d,h,p].map(M=>null==M?"null":M).join(",")+"),0)",i);y.update=C.$expr,y.params=C.$params}function aO(e,i){const a=S9(e),u=e.type===M4,l=e.from&&e.from.facet,d=e.overlap;let p,y,b,C,M,O,H,h=e.layout||a===QU||a===JU;const Y=a===ZU||h||l,te=function(e,i,a){let u,l,d,h,p;return e?(u=e.facet)&&(i||Pt("Only group marks can be faceted."),null!=u.field?h=p=iO(u,a):(e.data?p=ri(a.getData(e.data).aggregate):(d=iS(Nt({type:"aggregate",groupby:Mr(u.groupby)},u.aggregate),a),d.params.key=a.keyRef(u.groupby),d.params.pulse=iO(u,a),h=p=ri(a.add(d))),l=a.keyRef(u.groupby,!0))):h=ri(a.add(e0(null,[{}]))),h||(h=iO(e,a)),{key:l,pulse:h,parent:p}}(e.from,u,i);y=i.add(u9({key:te.key||(e.key?GN(e.key):void 0),pulse:te.pulse,clean:!u}));const se=ri(y);y=b=i.add(e0({pulse:se})),y=i.add(Pve({markdef:Rae(e),interactive:gbe(e.interactive,i),clip:E9(e.clip,i),context:{$context:!0},groups:i.lookup(),parent:i.signals.parent?i.signalRef("parent"):null,index:i.markpath(),pulse:ri(y)}));const ye=ri(y);y=C=i.add(XN(dae(e.encode,e.type,a,e.style,i,{mod:!1,pulse:ye}))),y.params.parent=i.encode(),e.transform&&e.transform.forEach(tt=>{const Ge=iS(tt,i),mt=Ge.metadata;(mt.generates||mt.changes)&&Pt("Mark transforms should not generate new data."),mt.nomod||(C.params.mod=!0),Ge.params.pulse=ri(y),i.add(y=Ge)}),e.sort&&(y=i.add(Wve({sort:i.compareRef(e.sort),pulse:ri(y)})));const Ce=ri(y);(l||h)&&(h=i.add(xae({layout:i.objectProperty(e.layout),legends:i.legends,mark:ye,pulse:Ce})),O=ri(h));const Ve=i.add(o9({mark:ye,pulse:O||Ce}));H=ri(Ve),u&&(Y&&(p=i.operators,p.pop(),h&&p.pop()),i.pushState(Ce,O||H,se),l?function(e,i,a){const u=e.from.facet,l=u.name,d=iO(u,i);let h;u.name||Pt("Facet must have a name: "+gr(u)),u.data||Pt("Facet must reference a data set: "+gr(u)),u.field?h=i.add(vae({field:i.fieldRef(u.field),pulse:d})):u.groupby?h=i.add(Ove({key:i.keyRef(u.groupby),group:ri(i.proxy(a.parent)),pulse:d})):Pt("Facet must specify groupby or field: "+gr(u));const p=i.fork(),y=p.add(e0()),b=p.add(Yw({pulse:ri(y)}));p.addData(l,new p1(p,y,y,b)),p.addSignal("parent",null),h.params.subflow={$subflow:p.parse(e).toRuntime()}}(e,i,te):Y?function(e,i,a){const u=i.add(vae({pulse:a.pulse})),l=i.fork();l.add(Yw()),l.addSignal("parent",null),u.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,i,te):i.parse(e),i.popState(),Y&&(h&&p.push(h),p.push(Ve))),d&&(H=function(e,i,a){const u=e.method,l=e.bound,d=e.separation,h={separation:ql(d)?a.signalRef(d.signal):d,method:ql(u)?a.signalRef(u.signal):u,pulse:i};if(e.order&&(h.sort=a.compareRef({field:e.order})),l){const p=l.tolerance;h.boundTolerance=ql(p)?a.signalRef(p.signal):+p,h.boundScale=a.scaleRef(l.scale),h.boundOrient=l.orient}return ri(a.add(Rve(h)))}(d,H,i));const Ue=i.add(bae({pulse:H})),qe=i.add(Yw({pulse:ri(Ue)},void 0,i.parent()));null!=e.name&&(M=e.name,i.addData(M,new p1(i,b,Ue,qe)),e.on&&e.on.forEach(tt=>{(tt.insert||tt.remove||tt.toggle)&&Pt("Marks only support modify triggers."),Vae(tt,i,M)}))}function Hae(e,i,a){const u={enter:{},update:{}};return vd(u,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:a.strokeWidth,strokeDash:a.strokeDash,x:e("legendX"),y:e("legendY"),format:i.format,formatType:i.formatType}),u}function P9(e,i,a){return i[e]?`scale("${i[e]}",datum)`:Aae(e,a[0].encode)}function O4(e,i){const a={enter:{},update:{}};return vd(a,{orient:e("orient"),anchor:e("anchor"),align:{signal:D9},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),tS(a,i,tO)}function m1(e){const i=e0({},e);return i.metadata={source:!0},i}function $9(e,i){return Fve({url:i.url?e.property(i.url):void 0,async:i.async?e.property(i.async):void 0,values:i.values?e.property(i.values):void 0,format:e.objectProperty(i.format)})}p1.fromEntries=function(e,i){const a=i.length,u=i[a-1],l=i[a-2];let d=i[0],h=null,p=1;for(d&&"load"===d.type&&(d=i[1]),e.add(i[0]);p<a;++p)i[p].params.pulse=ri(i[p-1]),e.add(i[p]),"aggregate"===i[p].type&&(h=i[p]);return new p1(e,d,l,u,h)},p1.prototype={countsRef(e,i,a){const u=this,l=u.counts||(u.counts={}),d=L9(i);let h,p,y;return null!=d&&(e=u.scope,h=l[d]),h?a&&a.field&&N4(e,h.agg.params,a):(y={groupby:e.fieldRef(i,"key"),pulse:ri(u.output)},a&&a.field&&N4(e,y,a),p=e.add(y4(y)),h=e.add(e0({pulse:ri(p)})),h={agg:p,ref:ri(h)},null!=d&&(l[d]=h)),h.ref},tuplesRef(){return ri(this.values)},extentRef(e,i){return sO(e,this,"extent","extent",i,!1)},domainRef(e,i){return sO(e,this,"domain","values",i,!1)},valuesRef(e,i,a){return sO(e,this,"vals","values",i,a||!0)},lookupRef(e,i){return sO(e,this,"lookup","tupleindex",i,!1)},indataRef(e,i){return sO(e,this,"indata","tupleindex",i,!0,!0)}};const aS=e=>e===I_||e===Tp,Bc=(e,i,a)=>ql(e)?oS(e.signal,i,a):"left"===e||e===Tp?i:a,kl=(e,i,a)=>ql(e)?Qae(e.signal,i,a):aS(e)?i:a,Fm=(e,i,a)=>ql(e)?oO(e.signal,i,a):aS(e)?a:i,V9=(e,i,a)=>ql(e)?z9(e.signal,i,a):e===Tp?{value:i}:{value:a},Qae=(e,i,a)=>lO(`${e} === 'top' || ${e} === '${I_}'`,i,a),oO=(e,i,a)=>lO(`${e} !== 'top' && ${e} !== '${I_}'`,i,a),oS=(e,i,a)=>F4(`${e} === 'left' || ${e} === 'top'`,i,a),z9=(e,i,a)=>F4(`${e} === 'top'`,i,a),lO=(e,i,a)=>(i=null!=i?Fc(i):i,a=null!=a?Fc(a):a,L4(i)&&L4(a)?{signal:`${e} ? (${i=i?i.signal||gr(i.value):null}) : (${a=a?a.signal||gr(a.value):null})`}:[Nt({test:e},i)].concat(a||[])),L4=e=>null==e||1===Object.keys(e).length,F4=(e,i,a)=>({signal:`${e} ? (${g1(i)}) : (${g1(a)})`}),P4=(e,i,a,u,l)=>({signal:(null!=u?`${e} === 'left' ? (${g1(u)}) : `:"")+(null!=a?`${e} === '${I_}' ? (${g1(a)}) : `:"")+(null!=l?`${e} === 'right' ? (${g1(l)}) : `:"")+(null!=i?`${e} === 'top' ? (${g1(i)}) : `:"")+"(null)"}),g1=e=>ql(e)?e.signal:null==e?null:gr(e),Jb=(e,i)=>{const a=e.signal;return a&&a.endsWith("(null)")?{signal:a.slice(0,-6)+i.signal}:e};function Kw(e,i,a,u){let l;if(i&&bn(i,e))return i[e];if(bn(a,e))return a[e];if(e.startsWith("title")){switch(e){case"titleColor":l="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":l=e[5].toLowerCase()+e.slice(6)}return u[y9][l]}if(e.startsWith("label")){switch(e){case"labelColor":l="fill";break;case"labelFont":case"labelFontSize":l=e[5].toLowerCase()+e.slice(6)}return u[qN][l]}return null}function W9(e){const i={};for(const a of e)if(a)for(const u in a)i[u]=1;return Object.keys(i)}function H9(e,i){return{scale:e.scale,range:i}}function B4(e,i,a,u,l){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+i+","+a+","+u+","+l+")"}}function Y9(e,i,a,u,l,d){const h=jh(e,i),p=e.orient,y=e.scale,b=Bc(p,-1,1),C=Uw(h("labelFlush")),M=Uw(h("labelFlushOffset")),O=h("labelAlign"),H=h("labelBaseline");let te,Y=0===C||!!C;const se=Fc(l);se.mult=b,se.offset=Fc(h("labelPadding")||0),se.offset.mult=b;const ye={scale:y,field:Rc,band:.5,offset:Tae(d.offset,h("labelOffset"))},Ce=kl(p,Y?B4(y,C,'"left"','"right"','"center"'):{value:"center"},((e,i,a)=>ql(e)?((e,i,a)=>F4(`${e} === 'right'`,i,a))(e.signal,i,a):"right"===e?{value:i}:{value:a})(p,"left","right")),Ve=kl(p,V9(p,"bottom","top"),Y?B4(y,C,'"top"','"bottom"','"middle"'):{value:"middle"}),Ue=B4(y,C,`-(${M})`,M,0);Y=Y&&M;const qe={opacity:na,x:kl(p,ye,se),y:Fm(p,ye,se)},tt={enter:qe,update:te={opacity:Lm,text:{field:QN},x:qe.x,y:qe.y,align:Ce,baseline:Ve},exit:{opacity:na,x:qe.x,y:qe.y}};vd(tt,{dx:!O&&Y?kl(p,Ue):null,dy:!H&&Y?Fm(p,Ue):null}),vd(tt,{angle:h("labelAngle"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontWeight:h("labelFontWeight"),fontStyle:h("labelFontStyle"),limit:h("labelLimit"),lineHeight:h("labelLineHeight")},{align:O,baseline:H});const Ge=h("labelBound");let mt=h("labelOverlap");return mt=mt||Ge?{separation:h("labelSeparation"),method:mt,order:"datum.index",bound:Ge?{scale:y,orient:p,tolerance:Ge}:null}:void 0,te.align!==Ce&&(te.align=Jb(te.align,Ce)),te.baseline!==Ve&&(te.baseline=Jb(te.baseline,Ve)),kp({type:Gw,role:"axis-label",style:qN,key:Rc,from:u,encode:tt,overlap:mt},a)}function _be(e,i){const a=function(e,i){var p,y,b,a=i.config,u=a.style,l=a.axis,d="band"===i.scaleType(e.scale)&&a.axisBand,h=e.orient;if(ql(h)){const M=W9([a.axisX,a.axisY]),O=W9([a.axisTop,a.axisBottom,a.axisLeft,a.axisRight]);for(b of(p={},M))p[b]=kl(h,Kw(b,a.axisX,l,u),Kw(b,a.axisY,l,u));for(b of(y={},O))y[b]=P4(h.signal,Kw(b,a.axisTop,l,u),Kw(b,a.axisBottom,l,u),Kw(b,a.axisLeft,l,u),Kw(b,a.axisRight,l,u))}else p=h===Tp||h===I_?a.axisX:a.axisY,y=a["axis"+h[0].toUpperCase()+h.slice(1)];return p||y||d?Nt({},l,p,y,d):l}(e,i),u=e.encode||{},l=u.axis||{},d=l.name||void 0,h=l.interactive,p=l.style,y=jh(e,a),b=function(e){const i=e("tickBand");let u,l,a=e("tickOffset");return i?i.signal?(u={signal:`(${i.signal}) === 'extent' ? 1 : 0.5`},l={signal:`(${i.signal}) === 'extent'`},$e(a)||(a={signal:`(${i.signal}) === 'extent' ? 0 : ${a}`})):"extent"===i?(u=1,l=!0,a=0):(u=.5,l=!1):(u=e("bandPosition"),l=e("tickExtra")),{extra:l,band:u,offset:a}}(y),C={scale:e.scale,ticks:!!y("ticks"),labels:!!y("labels"),grid:!!y("grid"),domain:!!y("domain"),title:null!=e.title},M=ri(i.add(e0({},[C]))),O=ri(i.add(_ae({scale:i.scaleRef(e.scale),extra:i.property(b.extra),count:i.objectProperty(e.tickCount),values:i.objectProperty(e.values),minstep:i.property(e.tickMinStep),formatType:i.property(e.formatType),formatSpecifier:i.property(e.format)}))),H=[];let Y;return C.grid&&H.push(function(e,i,a,u,l){const d=jh(e,i),h=e.orient,p=e.gridScale,y=Bc(h,1,-1),b=function(e,i){if(1!==i)if($e(e)){let a=e=Nt({},e);for(;null!=a.mult;){if(!$e(a.mult))return a.mult=ql(i)?{signal:`(${a.mult}) * (${i.signal})`}:a.mult*i,e;a=a.mult=Nt({},a.mult)}a.mult=i}else e=ql(i)?{signal:`(${i.signal}) * (${e||0})`}:i*(e||0);return e}(e.offset,y);let C,M,O;const H={enter:C={opacity:na},update:O={opacity:Lm},exit:M={opacity:na}};vd(H,{stroke:d("gridColor"),strokeCap:d("gridCap"),strokeDash:d("gridDash"),strokeDashOffset:d("gridDashOffset"),strokeOpacity:d("gridOpacity"),strokeWidth:d("gridWidth")});const Y={scale:e.scale,field:Rc,band:l.band,extra:l.extra,offset:l.offset,round:d("tickRound")},te=kl(h,{signal:"height"},{signal:"width"}),se=p?{scale:p,range:0,mult:y,offset:b}:{value:0,offset:b},ye=p?{scale:p,range:1,mult:y,offset:b}:Nt(te,{mult:y,offset:b});return C.x=O.x=kl(h,Y,se),C.y=O.y=Fm(h,Y,se),C.x2=O.x2=Fm(h,ye),C.y2=O.y2=kl(h,ye),M.x=kl(h,Y),M.y=Fm(h,Y),kp({type:x9,role:"axis-grid",key:Rc,from:u,encode:H},a)}(e,a,u.grid,O,b)),C.ticks&&(Y=y("tickSize"),H.push(function(e,i,a,u,l,d){const h=jh(e,i),p=e.orient,y=Bc(p,-1,1);let b,C,M;const O={enter:b={opacity:na},update:M={opacity:Lm},exit:C={opacity:na}};vd(O,{stroke:h("tickColor"),strokeCap:h("tickCap"),strokeDash:h("tickDash"),strokeDashOffset:h("tickDashOffset"),strokeOpacity:h("tickOpacity"),strokeWidth:h("tickWidth")});const H=Fc(l);H.mult=y;const Y={scale:e.scale,field:Rc,band:d.band,extra:d.extra,offset:d.offset,round:h("tickRound")};return M.y=b.y=kl(p,na,Y),M.y2=b.y2=kl(p,H),C.x=kl(p,Y),M.x=b.x=Fm(p,na,Y),M.x2=b.x2=Fm(p,H),C.y=Fm(p,Y),kp({type:x9,role:"axis-tick",key:Rc,from:u,encode:O},a)}(e,a,u.ticks,O,Y,b))),C.labels&&(Y=C.ticks?Y:0,H.push(Y9(e,a,u.labels,O,Y,b))),C.domain&&H.push(function(e,i,a,u){const l=jh(e,i),d=e.orient;let h,p;const y={enter:h={opacity:na},update:p={opacity:Lm},exit:{opacity:na}};vd(y,{stroke:l("domainColor"),strokeCap:l("domainCap"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")});const b=H9(e,0),C=H9(e,1);return h.x=p.x=kl(d,b,na),h.x2=p.x2=kl(d,C),h.y=p.y=Fm(d,b,na),h.y2=p.y2=Fm(d,C),kp({type:x9,role:"axis-domain",from:u,encode:y},a)}(e,a,u.domain,M)),C.title&&H.push(function(e,i,a,u){const l=jh(e,i),d=e.orient,h=Bc(d,-1,1);let p,y;const b={enter:p={opacity:na,anchor:Fc(l("titleAnchor",null)),align:{signal:D9}},update:y=Nt({},p,{opacity:Lm,text:Fc(e.title)}),exit:{opacity:na}},C={signal:`lerp(range("${e.scale}"), ${S4(0,1,.5)})`};return y.x=kl(d,C),y.y=Fm(d,C),p.angle=kl(d,na,((e,i)=>ql(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(h)),p.baseline=kl(d,V9(d,I_,Tp),{value:I_}),y.angle=p.angle,y.baseline=p.baseline,vd(b,{fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),angle:l("titleAngle"),baseline:l("titleBaseline")}),function(e,i,a,u){const l=(p,y)=>null!=p?(a.update[y]=Jb(Fc(p),a.update[y]),!1):!nS(y,u),d=l(e("titleX"),"x"),h=l(e("titleY"),"y");a.enter.auto=h===d?Fc(h):kl(i,Fc(h),Fc(d))}(l,d,b,a),b.update.align=Jb(b.update.align,p.align),b.update.angle=Jb(b.update.angle,p.angle),b.update.baseline=Jb(b.update.baseline,p.baseline),kp({type:Gw,role:"axis-title",style:y9,from:u,encode:b},a)}(e,a,u.title,M)),aO(nO({role:"axis",from:M,encode:tS(ybe(y,e),l,tO),marks:H,aria:y("aria"),description:y("description"),zindex:y("zindex"),name:d,interactive:h,style:p}),i)}function ybe(e,i){const a={enter:{},update:{}};return vd(a,{orient:e("orient"),offset:e("offset")||0,position:Pc(i.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${i.scale}")))`},translate:e("translate"),format:i.format,formatType:i.formatType}),a}function ioe(e,i,a){const u=Mr(e.signals),l=Mr(e.scales);return a||u.forEach(d=>hae(d,i)),Mr(e.projections).forEach(d=>function(e,i){const a=i.config.projection||{},u={};for(const l in e)"name"!==l&&(u[l]=JN(e[l],l,i));for(const l in a)null==u[l]&&(u[l]=JN(a[l],l,i));i.addProjection(e.name,u)}(d,i)),l.forEach(d=>function(e,i){const a=e.type||"linear";Mz(a)||Pt("Unrecognized scale type: "+gr(a)),i.addScale(e.name,{type:a,domain:void 0})}(d,i)),Mr(e.data).forEach(d=>function(e,i){const a=[];e.transform&&e.transform.forEach(u=>{a.push(iS(u,i))}),e.on&&e.on.forEach(u=>{Vae(u,i,e.name)}),i.addDataPipeline(e.name,function(e,i,a){const u=[];let p,y,b,C,M,l=null,d=!1,h=!1;for(e.values?ql(e.values)||_4(e.format)?(u.push($9(i,e)),u.push(l=m1())):u.push(l=m1({$ingest:e.values,$format:e.format})):e.url?_4(e.url)||_4(e.format)?(u.push($9(i,e)),u.push(l=m1())):u.push(l=m1({$request:e.url,$format:e.format})):e.source&&(l=p=Mr(e.source).map(O=>ri(i.getData(O).output)),u.push(null)),y=0,b=a.length;y<b;++y)C=a[y],M=C.metadata,!l&&!M.source&&u.push(l=m1()),u.push(C),M.generates&&(h=!0),M.modifies&&!h&&(d=!0),M.source?l=C:M.changes&&(l=null);return p&&(b=p.length-1,u[0]=zve({derive:d,pulse:b?p:p[0]}),(d||b)&&u.splice(1,0,m1())),l||u.push(m1()),u.push(Yw({})),u}(e,i,a))}(d,i)),l.forEach(d=>Gve(d,i)),(a||u).forEach(d=>function(e,i){const a=i.getSignal(e.name);let u=e.update;e.init&&(u?Pt("Signals can not include both init and update expressions."):(u=e.init,a.initonly=!0)),u&&(u=Qg(u,i),a.update=u.$expr,a.params=u.$params),e.on&&e.on.forEach(l=>function(e,i,a){const u=e.encode,l={target:a};let d=e.events,h=e.update,p=[];d||Pt("Signal update missing events specification."),wn(d)&&(d=function(e,i,a){return rae=i||"view",iae=nae,sae(e.trim()).map(XU)}(d,i.isSubscope()?i9:s9)),d=Mr(d).filter(y=>y.signal||y.scale?(p.push(y),0):1),p.length>1&&(p=[Ive(p)]),d.length&&p.push(d.length>1?{merge:d}:d[0]),null!=u&&(h&&Pt("Signal encode and update are mutually exclusive."),h="encode(item(),"+gr(u)+")"),l.update=wn(h)?Qg(h,i):null!=h.expr?Qg(h.expr,i):null!=h.value?h.value:null!=h.signal?{$expr:Ave,$params:{$value:i.signalRef(h.signal)}}:Pt("Invalid signal update specification."),e.force&&(l.options={force:!0}),p.forEach(y=>i.addUpdate(Nt(function(e,i){return{source:e.signal?i.signalRef(e.signal):e.scale?i.scaleRef(e.scale):KN(e,i)}}(y,i),l)))}(l,i,a.id))}(d,i)),Mr(e.axes).forEach(d=>_be(d,i)),Mr(e.marks).forEach(d=>aO(d,i)),Mr(e.legends).forEach(d=>function(e,i){const a=i.config.legend,u=e.encode||{},l=jh(e,a),d=u.legend||{},h=d.name||void 0,p=d.interactive,y=d.style,b={};let M,O,H,C=0;b9.forEach(Ve=>e[Ve]?(b[Ve]=e[Ve],C=C||e[Ve]):0),C||Pt("Missing valid scale for legend.");const Y=function(e,i){let a=e.type||"symbol";return!e.type&&1===function(e){return b9.reduce((i,a)=>i+(e[a]?1:0),0)}(e)&&(e.fill||e.stroke)&&(a=KP(i)?E4:XP(i)?eO:"symbol"),a!==E4?a:XP(i)?eO:E4}(e,i.scaleType(C)),te={title:null!=e.title,scales:b,type:Y,vgrad:"symbol"!==Y&&l.isVertical()},se=ri(i.add(e0(null,[te]))),Ce=ri(i.add(v4(O={type:Y,scale:i.scaleRef(C),count:i.objectProperty(l("tickCount")),limit:i.property(l("symbolLimit")),values:i.objectProperty(e.values),minstep:i.property(e.tickMinStep),formatType:i.property(e.formatType),formatSpecifier:i.property(e.format)})));return Y===E4?(H=[ube(e,C,a,u.gradient),kae(e,a,u.labels,Ce)],O.count=O.count||i.signalRef(`max(2,2*floor((${Uw(l.gradientLength())})/100))`)):Y===eO?H=[lbe(e,C,a,u.gradient,Ce),kae(e,a,u.labels,Ce)]:(M=function(e,i){const a=jh(e,i);return{align:a("gridAlign"),columns:a.entryColumns(),center:{row:!0,column:!1},padding:{row:a("rowPadding"),column:a("columnPadding")}}}(e,a),H=[fbe(e,a,u,Ce,Uw(M.columns))],O.size=function(e,i,a){return Qg(`max(ceil(sqrt(${Uw(P9("size",e,a))})+${Uw(P9("strokeWidth",e,a))}),${Uw(function(e,i,a){return Aae("fontSize",e)||function(e,i,a){const u=i.config.style["guide-label"];return u&&u.fontSize}(0,i)}(a[1].encode,i))})`,i)}(e,i,H[0].marks)),H=[nO({role:"legend-entry",from:se,encode:{enter:{x:{value:0},y:{value:0}}},marks:H,layout:M,interactive:p})],te.title&&H.push(function(e,i,a,u){const l=jh(e,i),d={enter:{opacity:na},update:{opacity:Lm,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:na}};return vd(d,{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:Oae},angle:{signal:Lae},align:{signal:Nae},baseline:{signal:Fae},text:e.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),baseline:l("titleBaseline")}),kp({type:Gw,role:"legend-title",style:y9,from:u,encode:d},a)}(e,a,u.title,se)),aO(nO({role:"legend",from:se,encode:tS(Hae(l,e,a),d,tO),marks:H,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:h,interactive:p,style:y}),i)}(d,i)),e.title&&function(e,i){const a=jh(e=wn(e)?{text:e}:e,i.config.title),u=e.encode||{},l=u.group||{},d=l.name||void 0,h=l.interactive,p=l.style,y=[],C=ri(i.add(e0(null,[{}])));y.push(function(e,i,a,u){const l={value:0},h={enter:{opacity:l},update:{opacity:{value:1}},exit:{opacity:l}};return vd(h,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:i("dx"),dy:i("dy"),fill:i("color"),font:i("font"),fontSize:i("fontSize"),fontStyle:i("fontStyle"),fontWeight:i("fontWeight"),lineHeight:i("lineHeight")},{align:i("align"),angle:i("angle"),baseline:i("baseline")}),kp({type:Gw,role:"title-text",style:"group-title",from:u,encode:h},a)}(e,a,function(e){const i=e.encode;return i&&i.title||Nt({name:e.name,interactive:e.interactive,style:e.style},i)}(e),C)),e.subtitle&&y.push(function(e,i,a,u){const l={value:0},h={enter:{opacity:l},update:{opacity:{value:1}},exit:{opacity:l}};return vd(h,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:i("dx"),dy:i("dy"),fill:i("subtitleColor"),font:i("subtitleFont"),fontSize:i("subtitleFontSize"),fontStyle:i("subtitleFontStyle"),fontWeight:i("subtitleFontWeight"),lineHeight:i("subtitleLineHeight")},{align:i("align"),angle:i("angle"),baseline:i("baseline")}),kp({type:Gw,role:"title-subtitle",style:"group-subtitle",from:u,encode:h},a)}(e,a,u.subtitle,C)),aO(nO({role:"title",from:C,encode:O4(a,l),marks:y,aria:a("aria"),description:a("description"),zindex:a("zindex"),name:d,interactive:h,style:p}),i)}(e.title,i),i.parseLambdas(),i}function cO(e,i){return i&&i.signal?{name:e,update:i.signal}:{name:e,value:i}}function G9(e,i){this.config=e||{},this.options=i||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Nr(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function z4(e){return(Sn(e)?soe:aoe)(e)}function soe(e){const i=e.length;let a="[";for(let u=0;u<i;++u){const l=e[u];a+=(u>0?",":"")+($e(l)?l.signal||z4(l):gr(l))}return a+"]"}function aoe(e){let u,l,i="{",a=0;for(u in e)l=e[u],i+=(++a>1?",":"")+gr(u)+":"+($e(l)?l.signal||z4(l):gr(l));return i+"}"}function Xw(e,i,a){return $e(e)||Pt("Input Vega specification must be an object."),function(e,i){const a=i.config,u=ri(i.root=i.add(m4())),l=function(e,i){const a=h=>Pc(e[h],i[h]),u=[cO("background",a("background")),cO("autosize",Y1e(a("autosize"))),cO("padding",K1e(a("padding"))),cO("width",a("width")||0),cO("height",a("height")||0)],l=u.reduce((h,p)=>(h[p.name]=p,h),{}),d={};return Mr(e.signals).forEach(h=>{bn(l,h.name)?h=Nt(l[h.name],h):u.push(h),d[h.name]=h}),Mr(i.signals).forEach(h=>{!bn(d,h.name)&&!bn(l,h.name)&&u.push(h)}),u}(e,a);l.forEach(b=>hae(b,i)),i.description=e.description||a.description,i.eventConfig=a.events,i.legends=i.objectProperty(a.legend&&a.legend.layout),i.locale=a.locale;const d=i.add(e0()),h=i.add(XN(dae((e=>tS({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),M4,JU,e.style,i,{pulse:ri(d)}))),p=i.add(xae({layout:i.objectProperty(e.layout),legends:i.legends,autosize:i.signalRef("autosize"),mark:u,pulse:ri(h)}));i.operators.pop(),i.pushState(ri(h),ri(p),null),ioe(e,i,l),i.operators.push(p);let y=i.add(o9({mark:u,pulse:ri(p)}));return y=i.add(bae({pulse:ri(y)})),y=i.add(Yw({pulse:ri(y)})),i.addData("root",new p1(i,d,d,y)),i}(e,new G9(i=Cr(function(){const e="sans-serif",u="#4c78a8",l="#000",d="#888",h="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:u},area:{fill:u},image:null,line:{stroke:u,strokeWidth:2},path:{stroke:u},rect:{fill:u},rule:{stroke:l},shape:{stroke:u},symbol:{fill:u,size:64},text:{fill:l,font:e,fontSize:11},trail:{fill:u,size:2},style:{"guide-label":{fill:l,font:e,fontSize:10},"guide-title":{fill:l,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:l,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:l,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:h}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:d,grid:!1,gridWidth:1,gridColor:h,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:d,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:h,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:d,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),i,e.config),a)).toRuntime()}G9.prototype=Nr.prototype={parse(e){return ioe(e,this)},fork(){return new Nr(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(i=>{i.$ref=e.id}),e.refs=null),e},proxy(e){const i=e instanceof n9?ri(e):e;return this.add(Vve({value:i}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,i;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function a(u,l,d){let h,p;u&&(h=u.data||(u.data={}),p=h[l]||(h[l]=[]),p.push(d))}for(e in this.data){i=this.data[e],a(i.input,e,"input"),a(i.output,e,"output"),a(i.values,e,"values");for(const u in i.index)a(i.index[u],e,"index:"+u)}return this},pushState(e,i,a){this._encode.push(ri(this.add(Yw({pulse:e})))),this._parent.push(i),this._lookup.push(a?ri(this.proxy(a)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Kr(this._parent)},encode(){return Kr(this._encode)},lookup(){return Kr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,i){if(wn(e))return GN(e,i);e.signal||Pt("Unsupported field reference: "+gr(e));const a=e.signal;let u=this.field[a];if(!u){const l={name:this.signalRef(a)};i&&(l.as=i),this.field[a]=u=ri(this.add(Lve(l)))}return u},compareRef(e){let i=!1;const a=d=>ql(d)?(i=!0,this.signalRef(d.signal)):function(e){return e&&e.expr}(d)?(i=!0,this.exprRef(d.expr)):d,u=Mr(e.field).map(a),l=Mr(e.order).map(a);return i?ri(this.add(yae({fields:u,orders:l}))):pae(u,l)},keyRef(e,i){let a=!1;const l=this.signals;return e=Mr(e).map(d=>ql(d)?(a=!0,ri(l[d.signal])):d),a?ri(this.add(l9({fields:e,flat:i}))):function(e,i){const a={$key:e};return i&&(a.$flat=!0),a}(e,i)},sortRef(e){if(!e)return e;const i=g4(e.op,e.field),a=e.order||"ascending";return a.signal?ri(this.add(yae({fields:i,orders:this.signalRef(a.signal)}))):pae(i,a)},event(e,i){const a=e+":"+i;if(!this.events[a]){const u=this.id();this.streams.push({id:u,source:e,type:i}),this.events[a]=u}return this.events[a]},hasOwnSignal(e){return bn(this.signals,e)},addSignal(e,i){this.hasOwnSignal(e)&&Pt("Duplicate signal name: "+gr(e));const a=i instanceof n9?i:this.add(m4(i));return this.signals[e]=a},getSignal(e){return this.signals[e]||Pt("Unrecognized signal name: "+gr(e)),this.signals[e]},signalRef(e){return this.signals[e]?ri(this.signals[e]):(bn(this.lambdas,e)||(this.lambdas[e]=this.add(m4(null))),ri(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let i=0,a=e.length;i<a;++i){const u=e[i],l=Qg(u,this),d=this.lambdas[u];d.params=l.$params,d.update=l.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&$e(e)?this.signalRef(e.signal||z4(e)):e},exprRef(e,i){const a={expr:Qg(e,this)};return i&&(a.expr.$name=i),ri(this.add(Nve(a)))},addBinding(e,i){this.bindings||Pt("Nested signals do not support binding: "+gr(e)),this.bindings.push(Nt({signal:e},i))},addScaleProj(e,i){bn(this.scales,e)&&Pt("Duplicate scale or projection name: "+gr(e)),this.scales[e]=this.add(i)},addScale(e,i){this.addScaleProj(e,jve(i))},addProjection(e,i){this.addScaleProj(e,$ve(i))},getScale(e){return this.scales[e]||Pt("Unrecognized scale name: "+gr(e)),this.scales[e]},scaleRef(e){return ri(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,i){return bn(this.data,e)&&Pt("Duplicate data set name: "+gr(e)),this.data[e]=i},getData(e){return this.data[e]||Pt("Undefined data set name: "+gr(e)),this.data[e]},addDataPipeline(e,i){return bn(this.data,e)&&Pt("Duplicate data set name: "+gr(e)),this.addData(e,p1.fromEntries(this,i))}};function Ip(e){this.type=e}var $c,$r,pn,bd,ba;Ip.prototype.visit=function(e){let i,a,u;if(e(this))return 1;for(i=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this),a=0,u=i.length;a<u;++a)if(i[a].visit(e))return 1},($c={})[1]="Boolean",$c[2]="<end>",$c[3]="Identifier",$c[4]="Keyword",$c[5]="Null",$c[6]="Numeric",$c[7]="Punctuator",$c[8]="String",$c[9]="RegularExpression";var wo="Identifier",ec="Unexpected token %0",W4="Invalid regular expression",H4="Invalid regular expression: missing /",fO="Octal literals are not allowed in strict mode.",zc="ILLEGAL",cS="Disabled.",Eoe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Moe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function hO(e,i){if(!e)throw new Error("ASSERT: "+i)}function O_(e){return e>=48&&e<=57}function U4(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function dS(e){return"01234567".indexOf(e)>=0}function Soe(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function fS(e){return 10===e||13===e||8232===e||8233===e}function hS(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Eoe.test(String.fromCharCode(e))}function pO(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Moe.test(String.fromCharCode(e))}const Aoe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function tY(){for(;pn<bd;){const e=$r.charCodeAt(pn);if(!Soe(e)&&!fS(e))break;++pn}}function Y4(e){var i,a,u,l=0;for(a="u"===e?4:2,i=0;i<a;++i)pn<bd&&U4($r[pn])?(u=$r[pn++],l=16*l+"0123456789abcdef".indexOf(u.toLowerCase())):pa({},ec,zc);return String.fromCharCode(l)}function Toe(){var e,i;for(i=0,"}"===(e=$r[pn])&&pa({},ec,zc);pn<bd&&U4(e=$r[pn++]);)i=16*i+"0123456789abcdef".indexOf(e.toLowerCase());return(i>1114111||"}"!==e)&&pa({},ec,zc),i<=65535?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10),56320+(i-65536&1023))}function nY(){var e,i;for(e=$r.charCodeAt(pn++),i=String.fromCharCode(e),92===e&&(117!==$r.charCodeAt(pn)&&pa({},ec,zc),++pn,(!(e=Y4("u"))||"\\"===e||!hS(e.charCodeAt(0)))&&pa({},ec,zc),i=e);pn<bd&&pO(e=$r.charCodeAt(pn));)++pn,i+=String.fromCharCode(e),92===e&&(i=i.substr(0,i.length-1),117!==$r.charCodeAt(pn)&&pa({},ec,zc),++pn,(!(e=Y4("u"))||"\\"===e||!pO(e.charCodeAt(0)))&&pa({},ec,zc),i+=e);return i}function G4(){var a,l,d,h,e=pn,i=$r.charCodeAt(pn),u=$r[pn];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++pn,{type:7,value:String.fromCharCode(i),start:e,end:pn};default:if(61===(a=$r.charCodeAt(pn+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return pn+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(a),start:e,end:pn};case 33:case 61:return 61===$r.charCodeAt(pn+=2)&&++pn,{type:7,value:$r.slice(e,pn),start:e,end:pn}}}return">>>="===(h=$r.substr(pn,4))?{type:7,value:h,start:e,end:pn+=4}:">>>"===(d=h.substr(0,3))||"<<="===d||">>="===d?{type:7,value:d,start:e,end:pn+=3}:u===(l=d.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===l?{type:7,value:l,start:e,end:pn+=2}:("//"===l&&pa({},ec,zc),"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:e,end:++pn}:void pa({},ec,zc))}function X4(){var e,i,a;if(hO(O_((a=$r[pn]).charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),i=pn,e="","."!==a){if(e=$r[pn++],a=$r[pn],"0"===e){if("x"===a||"X"===a)return++pn,function(e){let i="";for(;pn<bd&&U4($r[pn]);)i+=$r[pn++];return 0===i.length&&pa({},ec,zc),hS($r.charCodeAt(pn))&&pa({},ec,zc),{type:6,value:parseInt("0x"+i,16),start:e,end:pn}}(i);if(dS(a))return function(e){let i="0"+$r[pn++];for(;pn<bd&&dS($r[pn]);)i+=$r[pn++];return(hS($r.charCodeAt(pn))||O_($r.charCodeAt(pn)))&&pa({},ec,zc),{type:6,value:parseInt(i,8),octal:!0,start:e,end:pn}}(i);a&&O_(a.charCodeAt(0))&&pa({},ec,zc)}for(;O_($r.charCodeAt(pn));)e+=$r[pn++];a=$r[pn]}if("."===a){for(e+=$r[pn++];O_($r.charCodeAt(pn));)e+=$r[pn++];a=$r[pn]}if("e"===a||"E"===a)if(e+=$r[pn++],("+"===(a=$r[pn])||"-"===a)&&(e+=$r[pn++]),O_($r.charCodeAt(pn)))for(;O_($r.charCodeAt(pn));)e+=$r[pn++];else pa({},ec,zc);return hS($r.charCodeAt(pn))&&pa({},ec,zc),{type:6,value:parseFloat(e),start:i,end:pn}}function iY(){if(tY(),pn>=bd)return{type:2,start:pn,end:pn};const e=$r.charCodeAt(pn);return hS(e)?function(){var e,i;return e=pn,{type:1===(i=92===$r.charCodeAt(pn)?nY():function(){var e,i;for(e=pn++;pn<bd;){if(92===(i=$r.charCodeAt(pn)))return pn=e,nY();if(!pO(i))break;++pn}return $r.slice(e,pn)}()).length?3:Aoe.hasOwnProperty(i)?4:"null"===i?5:"true"===i||"false"===i?1:3,value:i,start:e,end:pn}}():40===e||41===e||59===e?G4():39===e||34===e?function(){var i,a,u,l,e="",d=!1;for(hO("'"===(i=$r[pn])||'"'===i,"String literal must starts with a quote"),a=pn,++pn;pn<bd;){if((u=$r[pn++])===i){i="";break}if("\\"===u)if((u=$r[pn++])&&fS(u.charCodeAt(0)))"\r"===u&&"\n"===$r[pn]&&++pn;else switch(u){case"u":case"x":"{"===$r[pn]?(++pn,e+=Toe()):e+=Y4(u);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:dS(u)?(0!==(l="01234567".indexOf(u))&&(d=!0),pn<bd&&dS($r[pn])&&(d=!0,l=8*l+"01234567".indexOf($r[pn++]),"0123".indexOf(u)>=0&&pn<bd&&dS($r[pn])&&(l=8*l+"01234567".indexOf($r[pn++]))),e+=String.fromCharCode(l)):e+=u}else{if(fS(u.charCodeAt(0)))break;e+=u}}return""!==i&&pa({},ec,zc),{type:8,value:e,octal:d,start:a,end:pn}}():46===e?O_($r.charCodeAt(pn+1))?X4():G4():O_(e)?X4():G4()}function Hf(){const e=ba;return pn=e.end,ba=iY(),pn=e.end,e}function sY(){const e=pn;ba=iY(),pn=e}function aY(e,i,a){const u=new Ip("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return u.operator=e,u.left=i,u.right=a,u}function oY(e,i){const a=new Ip("CallExpression");return a.callee=e,a.arguments=i,a}function Z4(e){const i=new Ip(wo);return i.name=e,i}function pS(e){const i=new Ip("Literal");return i.value=e.value,i.raw=$r.slice(e.start,e.end),e.regex&&("//"===i.raw&&(i.raw="/(?:)/"),i.regex=e.regex),i}function uY(e,i,a){const u=new Ip("MemberExpression");return u.computed="["===e,u.object=i,u.property=a,u.computed||(a.member=!0),u}function Q4(e,i,a){const u=new Ip("Property");return u.key=i,u.value=a,u.kind=e,u}function pa(e,i){var a,u=Array.prototype.slice.call(arguments,2),l=i.replace(/%(\d)/g,(d,h)=>(hO(h<u.length,"Message reference must be in range"),u[h]));throw(a=new Error(l)).index=pn,a.description=l,a}function mO(e){2===e.type&&pa(e,"Unexpected end of input"),6===e.type&&pa(e,"Unexpected number"),8===e.type&&pa(e,"Unexpected string"),3===e.type&&pa(e,"Unexpected identifier"),4===e.type&&pa(e,"Unexpected reserved word"),pa(e,ec,e.value)}function xd(e){const i=Hf();(7!==i.type||i.value!==e)&&mO(i)}function Co(e){return 7===ba.type&&ba.value===e}function q4(e){return 4===ba.type&&ba.value===e}function lY(){pn=ba.start;const e=Hf();return 8===e.type||6===e.type?(e.octal&&pa(e,fO),pS(e)):Z4(e.value)}function zoe(){var e,i,a;return pn=ba.start,3===(e=ba).type?(a=lY(),xd(":"),Q4("init",a,qb())):2!==e.type&&7!==e.type?(i=lY(),xd(":"),Q4("init",i,qb())):void mO(e)}const cY={if:1};function Zw(){var e,i,a;if(Co("("))return function(){xd("(");const e=e5();return xd(")"),e}();if(Co("["))return function(){const e=[];for(pn=ba.start,xd("[");!Co("]");)Co(",")?(Hf(),e.push(null)):(e.push(qb()),Co("]")||xd(","));return Hf(),function(e){const i=new Ip("ArrayExpression");return i.elements=e,i}(e)}();if(Co("{"))return function(){var i,u,e=[],l={},d=String;for(pn=ba.start,xd("{");!Co("}");)u="$"+((i=zoe()).key.type===wo?i.key.name:d(i.key.value)),Object.prototype.hasOwnProperty.call(l,u)?pa({},"Duplicate data property in object literal not allowed in strict mode"):l[u]=!0,e.push(i),Co("}")||xd(",");return xd("}"),function(e){const i=new Ip("ObjectExpression");return i.properties=e,i}(e)}();if(pn=ba.start,3===(e=ba.type)||cY[ba.value])a=Z4(Hf().value);else if(8===e||6===e)ba.octal&&pa(ba,fO),a=pS(Hf());else{if(4===e)throw new Error(cS);1===e?((i=Hf()).value="true"===i.value,a=pS(i)):5===e?((i=Hf()).value=null,a=pS(i)):Co("/")||Co("/=")?(a=pS(function(){var e,i,a,u;return ba=null,tY(),e=pn,i=function(){var e,i,a,u;for(hO("/"===(e=$r[pn]),"Regular expression literal must start with a slash"),i=$r[pn++],a=!1,u=!1;pn<bd;)if(i+=e=$r[pn++],"\\"===e)fS((e=$r[pn++]).charCodeAt(0))&&pa({},H4),i+=e;else if(fS(e.charCodeAt(0)))pa({},H4);else if(a)"]"===e&&(a=!1);else{if("/"===e){u=!0;break}"["===e&&(a=!0)}return u||pa({},H4),{value:i.substr(1,i.length-2),literal:i}}(),a=function(){var e,i,a;for(i="",a="";pn<bd&&pO((e=$r[pn]).charCodeAt(0));)++pn,"\\"===e&&pn<bd?pa({},ec,zc):(a+=e,i+=e);return a.search(/[^gimuy]/g)>=0&&pa({},W4,a),{value:a,literal:i}}(),u=function(e,i){let a=e;i.indexOf("u")>=0&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(u,l)=>{if(parseInt(l,16)<=1114111)return"x";pa({},W4)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(u){pa({},W4)}try{return new RegExp(e,i)}catch(u){return null}}(i.value,a.value),{literal:i.literal+a.literal,value:u,regex:{pattern:i.value,flags:a.value},start:e,end:pn}}()),sY()):mO(Hf())}return a}function Hoe(){const e=[];if(xd("("),!Co(")"))for(;pn<bd&&(e.push(qb()),!Co(")"));)xd(",");return xd(")"),e}function dY(){xd("[");const e=e5();return xd("]"),e}function fY(){const e=function(){var e;for(e=Zw();;)if(Co("."))e=uY(".",e,(xd("."),function(){pn=ba.start;const e=Hf();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||mO(e),Z4(e.value)}()));else if(Co("("))e=oY(e,Hoe());else{if(!Co("["))break;e=uY("[",e,dY())}return e}();if(7===ba.type&&(Co("++")||Co("--")))throw new Error(cS);return e}function gO(){var e,i;if(7!==ba.type&&4!==ba.type)i=fY();else{if(Co("++")||Co("--"))throw new Error(cS);if(Co("+")||Co("-")||Co("~")||Co("!"))e=Hf(),i=gO(),i=function(e,i){const a=new Ip("UnaryExpression");return a.operator=e,a.argument=i,a.prefix=!0,a}(e.value,i);else{if(q4("delete")||q4("void")||q4("typeof"))throw new Error(cS);i=fY()}}return i}function hY(e){let i=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":i=1;break;case"&&":i=2;break;case"|":i=3;break;case"^":i=4;break;case"&":i=5;break;case"==":case"!=":case"===":case"!==":i=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":i=7;break;case"<<":case">>":case">>>":i=8;break;case"+":case"-":i=9;break;case"*":case"/":case"%":i=11}return i}function qb(){var e,i;return e=function(){var e,i,a,u,l,d,h,p,y,b;if(e=ba,y=gO(),0===(l=hY(u=ba)))return y;for(u.prec=l,Hf(),i=[e,ba],d=[y,u,h=gO()];(l=hY(ba))>0;){for(;d.length>2&&l<=d[d.length-2].prec;)h=d.pop(),p=d.pop().value,y=d.pop(),i.pop(),a=aY(p,y,h),d.push(a);(u=Hf()).prec=l,d.push(u),i.push(ba),a=gO(),d.push(a)}for(a=d[b=d.length-1],i.pop();b>1;)i.pop(),a=aY(d[b-1].value,d[b-2],a),b-=2;return a}(),Co("?")&&(Hf(),i=qb(),xd(":"),e=function(e,i,a){const u=new Ip("ConditionalExpression");return u.test=e,u.consequent=i,u.alternate=a,u}(e,i,qb())),e}function e5(){const e=qb();if(Co(","))throw new Error(cS);return e}function Koe(e){pn=0,bd=($r=e).length,ba=null,sY();const i=e5();if(2!==ba.type)throw new Error("Unexpect token after expression.");return i}var Xoe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Zoe(e){function a(h,p,y){return b=>function(h,p,y,b){let C=e(p[0]);return y&&(C=y+"("+C+")",0===y.lastIndexOf("new ",0)&&(C="("+C+")")),C+"."+h+(b<0?"":0===b?"()":"("+p.slice(1).map(e).join(",")+")")}(h,b,p,y)}const u="new Date",l="String",d="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(h){h.length<3&&Pt("Missing arguments to clamp function."),h.length>3&&Pt("Too many arguments to clamp function.");const p=h.map(e);return"Math.max("+p[1]+", Math.min("+p[2]+","+p[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:u,date:a("getDate",u,0),day:a("getDay",u,0),year:a("getFullYear",u,0),month:a("getMonth",u,0),hours:a("getHours",u,0),minutes:a("getMinutes",u,0),seconds:a("getSeconds",u,0),milliseconds:a("getMilliseconds",u,0),time:a("getTime",u,0),timezoneoffset:a("getTimezoneOffset",u,0),utcdate:a("getUTCDate",u,0),utcday:a("getUTCDay",u,0),utcyear:a("getUTCFullYear",u,0),utcmonth:a("getUTCMonth",u,0),utchours:a("getUTCHours",u,0),utcminutes:a("getUTCMinutes",u,0),utcseconds:a("getUTCSeconds",u,0),utcmilliseconds:a("getUTCMilliseconds",u,0),length:a("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:a("toUpperCase",l,0),lower:a("toLowerCase",l,0),substring:a("substring",l),split:a("split",l),trim:a("trim",l,0),regexp:d,test:a("test",d),if:function(h){h.length<3&&Pt("Missing arguments to if function."),h.length>3&&Pt("Too many arguments to if function.");const p=h.map(e);return"("+p[0]+"?"+p[1]+":"+p[2]+")"}}}function Qoe(e){const i=(e=e||{}).allowed?Di(e.allowed):{},a=e.forbidden?Di(e.forbidden):{},u=e.constants||Xoe,l=(e.functions||Zoe)(M),d=e.globalvar,h=e.fieldvar,p=ur(d)?d:Y=>"".concat(d,'["').concat(Y,'"]');let y={},b={},C=0;function M(Y){if(wn(Y))return Y;const te=O[Y.type];return null==te&&Pt("Unsupported type: "+Y.type),te(Y)}const O={Literal:Y=>Y.raw,Identifier:Y=>{const te=Y.name;return C>0?te:bn(a,te)?Pt("Illegal identifier: "+te):bn(u,te)?u[te]:bn(i,te)?te:(y[te]=1,p(te))},MemberExpression:Y=>{const te=!Y.computed,se=M(Y.object);te&&(C+=1);const ye=M(Y.property);return se===h&&(b[function(e){const i=e&&e.length-1;return i&&('"'===e[0]&&'"'===e[i]||"'"===e[0]&&"'"===e[i])?e.slice(1,-1):e}(ye)]=1),te&&(C-=1),se+(te?"."+ye:"["+ye+"]")},CallExpression:Y=>{"Identifier"!==Y.callee.type&&Pt("Illegal callee type: "+Y.callee.type);const te=Y.callee.name,se=Y.arguments,ye=bn(l,te)&&l[te];return ye||Pt("Unrecognized function: "+te),ur(ye)?ye(se):ye+"("+se.map(M).join(",")+")"},ArrayExpression:Y=>"["+Y.elements.map(M).join(",")+"]",BinaryExpression:Y=>"("+M(Y.left)+" "+Y.operator+" "+M(Y.right)+")",UnaryExpression:Y=>"("+Y.operator+M(Y.argument)+")",ConditionalExpression:Y=>"("+M(Y.test)+"?"+M(Y.consequent)+":"+M(Y.alternate)+")",LogicalExpression:Y=>"("+M(Y.left)+Y.operator+M(Y.right)+")",ObjectExpression:Y=>"{"+Y.properties.map(M).join(",")+"}",Property:Y=>{C+=1;const te=M(Y.key);return C-=1,te+":"+M(Y.value)}};function H(Y){const te={code:M(Y),globals:Object.keys(y),fields:Object.keys(b)};return y={},b={},te}return H.functions=l,H.constants=u,H}const rue=/[[\]{}]/,iue={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let t5,_Y;function ex(e,i,a){return t5=i||"view",_Y=a||iue,yY(e.trim()).map(n5)}function mS(e,i,a,u,l){const d=e.length;let p,h=0;for(;i<d;++i){if(p=e[i],!h&&p===a)return i;l&&l.indexOf(p)>=0?--h:u&&u.indexOf(p)>=0&&++h}return i}function yY(e){const i=[],a=e.length;let u=0,l=0;for(;l<a;)l=mS(e,l,",","[{","]}"),i.push(e.substring(u,l).trim()),u=++l;if(0===i.length)throw"Empty event selector: "+e;return i}function n5(e){return"["===e[0]?function(e){const i=e.length;let u,a=1;if(a=mS(e,a,"]","[","]"),a===i)throw"Empty between selector: "+e;if(u=yY(e.substring(1,a)),2!==u.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(a+1).trim())[0])throw"Expected '>' after between selector: "+e;u=u.map(n5);const l=n5(e.slice(1).trim());return l.between?{between:u,stream:l}:(l.between=u,l)}(e):function(e){const i={source:t5},a=[];let y,b,u=[0,0],l=0,d=0,h=e.length,p=0;if("}"===e[h-1]){if(p=e.lastIndexOf("{"),!(p>=0))throw"Unmatched right brace: "+e;try{u=function(e){const i=e.split(",");if(!e.length||i.length>2)throw e;return i.map(a=>{const u=+a;if(u!=u)throw e;return u})}(e.substring(p+1,h-1))}catch(C){throw"Invalid throttle specification: "+e}h=(e=e.slice(0,p).trim()).length,p=0}if(!h)throw e;if("@"===e[0]&&(l=++p),y=mS(e,p,":"),y<h&&(a.push(e.substring(d,y).trim()),d=p=++y),p=mS(e,p,"["),p===h)a.push(e.substring(d,h).trim());else if(a.push(e.substring(d,p).trim()),b=[],d=++p,d===h)throw"Unmatched left bracket: "+e;for(;p<h;){if(p=mS(e,p,"]"),p===h)throw"Unmatched left bracket: "+e;if(b.push(e.substring(d,p).trim()),p<h-1&&"["!==e[++p])throw"Expected left bracket: "+e;d=++p}if(!(h=a.length)||rue.test(a[h-1]))throw"Invalid event selector: "+e;return h>1?(i.type=a[1],l?i.markname=a[0].slice(1):function(e){return _Y[e]}(a[0])?i.marktype=a[0]:i.source=a[0]):i.type=a[0],"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1)),null!=b&&(i.filter=b),u[0]&&(i.throttle=u[0]),u[1]&&(i.debounce=u[1]),i}(e)}Nt(Ey,P,N,B,R,W,U,F,G,K,J,he);const xue="5.20.0";function Qw(e,i,a){return e.fields=i||[],e.fname=a,e}function xY(e){return 1===e.length?DY(e[0]):wue(e)}const DY=e=>function(i){return i[e]},wue=e=>{const i=e.length;return function(a){for(let u=0;u<i;++u)a=a[e[u]];return a}};function qw(e){throw Error(e)}function tx(e){var h,p,y,i=[],a=null,u=0,l=e.length,d="";function b(){i.push(d+e.substring(h,p)),d="",h=p+1}for(e+="",h=p=0;p<l;++p)if("\\"===(y=e[p]))d+=e.substring(h,p),d+=e.substring(++p,++p),h=p;else if(y===a)b(),a=null,u=-1;else{if(a)continue;h===u&&'"'===y||h===u&&"'"===y?(h=p+1,a=y):"."!==y||u?"["===y?(p>h&&b(),u=h=p+1):"]"===y&&(u||qw("Access path missing open bracket: "+e),u>0&&b(),u=0,h=p+1):p>h?b():h=p+1}return u&&qw("Access path missing closing bracket: "+e),a&&qw("Access path missing closing quote: "+e),p>h&&(p++,b()),i}var _S=[],Cue=(function(e,i,a){const u=tx(e);e=1===u.length?u[0]:e,Qw(xY(u),[e],e)}("id"),Qw(function(e){return e},_S,"identity"));function eC(e,i,a){var u=[i].concat([].slice.call(a));console[e].apply(console,u)}Qw(function(){return 0},_S,"zero"),Qw(function(){return 1},_S,"one"),Qw(function(){return!0},_S,"true"),Qw(function(){return!1},_S,"false");const li=Array.isArray;function tc(e){return e===Object(e)}const bO=e=>"__proto__"!==e;function AY(...e){return e.reduce((i,a)=>{for(var u in a)"signals"===u?i.signals=Tue(i.signals,a.signals):s5(i,u,a[u],"legend"===u?{layout:1}:"style"===u||null);return i},{})}function s5(e,i,a,u){var l,d;if(bO(i))if(tc(a)&&!li(a))for(l in d=tc(e[i])?e[i]:e[i]={},a)u&&(!0===u||u[l])?s5(d,l,a[l]):bO(l)&&(d[l]=a[l]);else e[i]=a}function Tue(e,i){if(null==e)return i;const a={},u=[];function l(d){a[d.name]||(a[d.name]=1,u.push(d))}return i.forEach(l),e.forEach(l),u}function Ku(e){return null!=e?li(e)?e:[e]:[]}const Oue=Object.prototype.hasOwnProperty;function nx(e,i){return Oue.call(e,i)}function vS(e){return"boolean"==typeof e}function hl(e){return"number"==typeof e}function ps(e){return"string"==typeof e}function Ns(e){return li(e)?"["+e.map(Ns)+"]":tc(e)||ps(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function rx(e){for(var i={},a=0,u=e.length;a<u;++a)i[e[a]]=!0;return i}function ti(e,i){var a={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&i.indexOf(u)<0&&(a[u]=e[u]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(u=Object.getOwnPropertySymbols(e);l<u.length;l++)i.indexOf(u[l])<0&&Object.prototype.propertyIsEnumerable.call(e,u[l])&&(a[u[l]]=e[u[l]])}return a}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var i=isNaN(arguments[0])?1:Number(arguments[0]);return i?Array.prototype.reduce.call(this,function(a,u){return Array.isArray(u)?a.push.apply(a,e.call(u,i-1)):a.push(u),a},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Hue=v(9401),Uue=v.n(Hue),Yue=v(5439),Gue=v.n(Yue),Kue=v(3324),bS=v.n(Kue);function u5(e){return!!e.or}function l5(e){return!!e.and}function c5(e){return!!e.not}function EO(e,i){if(c5(e))EO(e.not,i);else if(l5(e))for(const a of e.and)EO(a,i);else if(u5(e))for(const a of e.or)EO(a,i);else i(e)}function MO(e,i){return c5(e)?{not:MO(e.not,i)}:l5(e)?{and:e.and.map(a=>MO(a,i))}:u5(e)?{or:e.or.map(a=>MO(a,i))}:i(e)}const xS=Gue(),ms=Uue();function DS(e,i){const a={};for(const u of i)nx(e,u)&&(a[u]=e[u]);return a}function L_(e,i){const a=Object.assign({},e);for(const u of i)delete a[u];return a}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>bS()(e)).join(",")})`};const qo=bS();function zs(e){if(hl(e))return e;const i=ps(e)?e:bS()(e);if(i.length<250)return i;let a=0;for(let u=0;u<i.length;u++)a=(a<<5)-a+i.charCodeAt(u),a&=a;return a}function BY(e){return!1===e||null===e}function fi(e,i){return e.indexOf(i)>-1}function wS(e,i){let a=0;for(const[u,l]of e.entries())if(i(l,u,a++))return!0;return!1}function $Y(e,i){let a=0;for(const[u,l]of e.entries())if(!i(l,u,a++))return!1;return!0}function Zue(e,i){for(const a of Wn(i))s5(e,a,i[a],!0)}function _1(e,i){const a=[],u={};let l;for(const d of e)l=i(d),!(l in u)&&(u[l]=1,a.push(d));return a}function zY(e,i){for(const a of e)if(i.has(a))return!0;return!1}function jY(e){const i=new Set;for(const a of e){const l=tx(a).map((h,p)=>0===p?h:`[${h}]`),d=l.map((h,p)=>l.slice(0,p+1).join(""));for(const h of d)i.add(h)}return i}function WY(e,i){return void 0===e||void 0===i||zY(jY(e),jY(i))}function qa(e){return 0===Wn(e).length}const Wn=Object.keys,y1=Object.values;function HY(e){const i=[];for(const a in e)nx(e,a)&&i.push({key:a,value:e[a]});return i}function SO(e){return!0===e||!1===e}function eu(e){const i=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+i}function CS(e,i){return c5(e)?"!("+CS(e.not,i)+")":l5(e)?"("+e.and.map(a=>CS(a,i)).join(") && (")+")":u5(e)?"("+e.or.map(a=>CS(a,i)).join(") || (")+")":i(e)}function d5(e,i){if(0===i.length)return!0;const a=i.shift();return a in e&&d5(e[a],i)&&delete e[a],qa(e)}function AO(e){return e.charAt(0).toUpperCase()+e.substr(1)}function UY(e,i="datum"){const a=tx(e),u=[];for(let l=1;l<=a.length;l++){const d=`[${a.slice(0,l).map(Ns).join("][")}]`;u.push(`${i}${d}`)}return u.join(" && ")}function Que(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function F_(e){return`${tx(e).map(Que).join("\\.")}`}function tC(e,i,a){return e.replace(new RegExp(i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),a)}function YY(e){return`${tx(e).join(".")}`}function ES(e){return e?tx(e).length:0}function pl(...e){for(const i of e)if(void 0!==i)return i}let MS=42;function TO(e){if(void 0!==e)return(e%360+360)%360}function f5(e){return!!hl(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const h5={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function p5(e){return e&&e.condition}const KY=["domain","grid","labels","ticks","title"],nle={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},m5={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},XY=Object.assign(Object.assign({},m5),{style:1,labelExpr:1,encoding:1});function ZY(e){return!!XY[e]}Wn(XY);const Dd={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},JY=Dd.arc,kO=Dd.area,IO=Dd.bar,ile=Dd.image,NO=Dd.line,OO=Dd.point,sle=Dd.rect,LO=Dd.rule,QY=Dd.text,g5=Dd.tick,ale=Dd.trail,_5=Dd.circle,y5=Dd.square,qY=Dd.geoshape;function ix(e){return fi(["line","area","trail"],e)}function v5(e){return fi(["rect","bar","image","arc"],e)}const eG=Wn(Dd);function Pm(e){return e.type}rx(eG);const lle=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],nG=Wn({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),fle={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]};function v1(e){return"mark"in e}class SS{constructor(i,a){this.name=i,this.run=a}hasMatchingType(i){return!!v1(i)&&function(e){return Pm(e)?e.type:e}(i.mark)===this.name}}const iG={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},_le={count:1,min:1,max:1};function b1(e){return!!e&&!!e.argmin}function sx(e){return!!e&&!!e.argmax}function b5(e){return ps(e)&&!!iG[e]}Wn(iG);const vle=["count","valid","missing","distinct"];function x5(e){return ps(e)&&fi(vle,e)}const xle=["count","sum","distinct","valid","missing"],Dle=rx(["mean","average","median","q1","q3","min","max"]),P_="row",R_="column",FO="facet",vu="x",Il="y",Rm="x2",r0="y2",i0="radius",B_="radius2",Bm="theta",$_="theta2",$m="latitude",s0="longitude",Vm="latitude2",Np="longitude2",Uf="color",zm="fill",a0="stroke",Yf="shape",V_="size",x1="angle",z_="opacity",D1="fillOpacity",w1="strokeOpacity",j_="strokeWidth",C1="strokeDash",AS="text",nC="order",TS="detail",PO="key",ax="tooltip",RO="href",BO="url",$O="description",oG={theta:1,theta2:1,radius:1,radius2:1};function uG(e){return e in oG}const ox={longitude:1,longitude2:1,latitude:1,latitude2:1},wle=Wn(ox),VO=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),oG),ox),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function rC(e){return e===Uf||e===zm||e===a0}const dG={row:1,column:1,facet:1},Hh=Wn(dG),zO=Object.assign(Object.assign({},VO),dG),fG=Wn(zO),D5=ti(zO,["order","detail","tooltip"]),hG=ti(D5,["row","column","facet"]);function Ele(e){return!!hG[e]}function pG(e){return!!zO[e]}Wn(D5),Wn(hG);const Mle=[Rm,r0,Vm,Np,$_,B_];function W_(e){return H_(e)!==e}function H_(e){switch(e){case Rm:return vu;case r0:return Il;case Vm:return $m;case Np:return s0;case $_:return Bm;case B_:return i0}return e}function ux(e){if(uG(e))switch(e){case Bm:return"startAngle";case $_:return"endAngle";case i0:return"outerRadius";case B_:return"innerRadius"}return e}function o0(e){switch(e){case vu:return Rm;case Il:return r0;case $m:return Vm;case s0:return Np;case Bm:return $_;case i0:return B_}}function Nl(e){switch(e){case vu:case Rm:return"width";case Il:case r0:return"height"}}Wn(VO);const kr=ti(VO,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),Ale=Wn(kr),E1={x:1,y:1},Op=Wn(E1);function u0(e){return e in E1}const C5={theta:1,radius:1},HO=Wn(C5);function UO(e){return"width"===e?vu:Il}const Tle=ti(kr,["text","tooltip","href","url","description","detail","key","order"]),kle=Wn(Tle),E5=Object.assign(Object.assign(Object.assign({},E1),C5),Tle),YO=Wn(E5);function lx(e){return!!E5[e]}const M5={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},hxe=ti(M5,["geoshape"]);function NS(e){switch(e){case vu:case Il:case Bm:case i0:case V_:case x1:case j_:case z_:case D1:case w1:case Rm:case r0:case $_:case B_:return;case FO:case P_:case R_:case Yf:case C1:case AS:case ax:case RO:case BO:case $O:return"discrete";case Uf:case zm:case a0:return"flexible";case $m:case s0:case Vm:case Np:case TS:case PO:case nC:return}}function OS(e){return vS(e)&&(e=oL(e,void 0)),"bin"+Wn(e).map(i=>U_(e[i])?eu(`_${i}_${Object.entries(e[i])}`):eu(`_${i}_${e[i]}`)).join("")}function Eo(e){return!0===e||iC(e)&&!e.binned}function bu(e){return"binned"===e||iC(e)&&!0===e.binned}function iC(e){return tc(e)}function U_(e){return null==e?void 0:e.selection}function cx(e){switch(e){case P_:case R_:case V_:case Uf:case zm:case a0:case j_:case z_:case D1:case w1:case Yf:return 6;case C1:return 4;default:return 10}}function LS(e){return`Invalid specification ${JSON.stringify(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}function FS(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function PS(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function RS(e){return e?`Dropping "fit-${e}" because spec has discrete ${Nl(e)}.`:'Dropping "fit" because spec has discrete size.'}function BS(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Fle(e,i){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${i}").`}function Ple(e){return`Selection not supported for ${e} yet.`}function yG(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}function vG(e,i,a){return`An ancestor parsed field "${e}" as ${a} but a child wants to parse the field as ${i}.`}function $S(e){return`Ignoring an invalid transform: ${qo(e)}.`}function jc(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function VS(e){return`Invalid field type "${e}".`}function I5(e,i){const{fill:a,stroke:u}=i;return`Dropping color ${e} as the plot also has ${a&&u?"fill and stroke":a?"fill":"stroke"}.`}function KO(e,i){return`Dropping ${qo(e)} from channel "${i}" since it does not contain any data field, datum, value, or signal.`}function zS(e,i,a){return`${e} dropped as it is incompatible with "${i}"${a?` when ${a}`:""}.`}function Hle(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function N5(e,i){return`Using discrete channel "${e}" to encode "${i}" field can be misleading as it does not encode ${"ordinal"===i?"order":"magnitude"}.`}function Zle(e){return`Using unaggregated domain with raw field has no effect (${qo(e)}).`}function Jle(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function bG(e){return`Unaggregated domain is currently unsupported for log scale (${qo(e)}).`}function xG(e,i,a){return`${a}-scale's "${i}" is dropped as it does not work with ${e} scale.`}function DG(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const M1="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function XO(e,i){return`Invalid ${e}: ${qo(i)}.`}function wG(e){return`1D error band does not support ${e}.`}function CG(e){return`Channel ${e} is required for "binned" bin.`}const ZO=(a=2,{level:function(u){return arguments.length?(a=+u,this):a},error:function(){return a>=1&&eC("error","ERROR",arguments),this},warn:function(){return a>=2&&eC("warn","WARN",arguments),this},info:function(){return a>=3&&eC("log","INFO",arguments),this},debug:function(){return a>=4&&eC("log","DEBUG",arguments),this}});var a;let Gf=ZO;function Yn(...e){Gf.warn(...e)}function uC(e){if(e&&tc(e))for(const i of JO)if(i in e)return!0;return!1}const SG=["january","february","march","april","may","june","july","august","september","october","november","december"],gce=SG.map(e=>e.substr(0,3)),AG=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],_ce=AG.map(e=>e.substr(0,3));function fx(e,i){const a=[];if(i&&void 0!==e.day&&Wn(e).length>1&&(Yn(function(e){return`Dropping day from datetime ${qo(e)} as day cannot be combined with other units.`}(e)),delete(e=ms(e)).day),a.push(void 0!==e.year?e.year:2012),void 0!==e.month){const u=i?function(e){if(f5(e)&&(e=+e),hl(e))return e-1;{const i=e.toLowerCase(),a=SG.indexOf(i);if(-1!==a)return a;const u=i.substr(0,3),l=gce.indexOf(u);if(-1!==l)return l;throw new Error(XO("month",e))}}(e.month):e.month;a.push(u)}else if(void 0!==e.quarter){const u=i?function(e){if(f5(e)&&(e=+e),hl(e))return e>4&&Yn(XO("quarter",e)),e-1;throw new Error(XO("quarter",e))}(e.quarter):e.quarter;a.push(hl(u)?3*u:u+"*3")}else a.push(0);if(void 0!==e.date)a.push(e.date);else if(void 0!==e.day){const u=i?function(e){if(f5(e)&&(e=+e),hl(e))return e%7;{const i=e.toLowerCase(),a=AG.indexOf(i);if(-1!==a)return a;const u=i.substr(0,3),l=_ce.indexOf(u);if(-1!==l)return l;throw new Error(XO("day",e))}}(e.day):e.day;a.push(hl(u)?u+1:u+"+1")}else a.push(1);for(const u of["hours","minutes","seconds","milliseconds"]){const l=e[u];a.push(void 0===l?0:l)}return a}function lC(e){const a=fx(e,!0).join(", ");return e.utc?`utc(${a})`:`datetime(${a})`}const kG={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},JO=Wn(kG);function O5(e){return e.startsWith("utc")}const Mce={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function L5(e){const i=[];for(const a of JO)IG(e,a)&&i.push(a);return i}function IG(e,i){const a=e.indexOf(i);return!(a<0||a>0&&"seconds"===i&&"i"===e.charAt(a-1)||e.length>a+3&&"day"===i&&"o"===e.charAt(a+3)||a>0&&"year"===i&&"f"===e.charAt(a-1))}function NG(e){if(!e)return;const i=L5(e);return`timeUnitSpecifier(${bS()(i)}, ${bS()(Mce)})`}function af(e){if(!e)return;let i;return ps(e)?i={unit:e}:tc(e)&&(i=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),O5(i.unit)&&(i.utc=!0,i.unit=function(e){return e.substr(3)}(i.unit)),i}function Si(e){return e&&!!e.signal}function S1(e){return!!e.step}function A1(e){return!li(e)&&"field"in e&&"data"in e}const Ice=Wn({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),Nce={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},F5=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function P5(e){return e&&!!e.field&&void 0!==e.equal}function LG(e){return e&&!!e.field&&void 0!==e.lt}function FG(e){return e&&!!e.field&&void 0!==e.lte}function PG(e){return e&&!!e.field&&void 0!==e.gt}function RG(e){return e&&!!e.field&&void 0!==e.gte}function R5(e){if(e&&e.field){if(li(e.range)&&2===e.range.length)return!0;if(Si(e.range))return!0}return!1}function B5(e){return e&&!!e.field&&(li(e.oneOf)||li(e.in))}function BG(e){return B5(e)||P5(e)||R5(e)||LG(e)||PG(e)||FG(e)||RG(e)}function l0(e,i){return Q5(e,{timeUnit:i,wrapTime:!0})}function $G(e,i=!0){var a;const{field:u}=e,l=null===(a=af(e.timeUnit))||void 0===a?void 0:a.unit,d=l?"time("+function(e,i,{end:a}={end:!1}){const u=UY(i),l=O5(e)?"utc":"";function d(y){return"quarter"===y?`(${l}quarter(${u})-1)`:`${l}${y}(${u})`}let h;const p={};for(const y of JO)IG(e,y)&&(p[y]=d(y),h=y);return a&&(p[h]+="+1"),function(e){const a=fx(e,!1).join(", ");return e.utc?`utc(${a})`:`datetime(${a})`}(p)}(l,u)+")":Zn(e,{expr:"datum"});if(P5(e))return d+"==="+l0(e.equal,l);if(LG(e))return`${d}<${l0(e.lt,l)}`;if(PG(e))return`${d}>${l0(e.gt,l)}`;if(FG(e))return`${d}<=${l0(e.lte,l)}`;if(RG(e))return`${d}>=${l0(e.gte,l)}`;if(B5(e))return`indexof([${function(e,i){return e.map(a=>l0(a,i))}(e.oneOf,l).join(",")}], ${d}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return $5(d,e.valid);if(R5(e)){const{range:h}=e,p=Si(h)?{signal:`${h.signal}[0]`}:h[0],y=Si(h)?{signal:`${h.signal}[1]`}:h[1];if(null!==p&&null!==y&&i)return"inrange("+d+", ["+l0(p,l)+", "+l0(y,l)+"])";const b=[];return null!==p&&b.push(`${d} >= ${l0(p,l)}`),null!==y&&b.push(`${d} <= ${l0(y,l)}`),b.length>0?b.join(" && "):"true"}throw new Error(`Invalid field predicate: ${JSON.stringify(e)}`)}function $5(e,i=!0){return i?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Pce(e){var i;return BG(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(i=af(e.timeUnit))||void 0===i?void 0:i.unit}):e}const hx={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},px=hx.quantitative,V5=hx.ordinal,mx=hx.temporal,z5=hx.nominal,cC=hx.geojson,Rce=Wn(hx),j5={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Bce=Wn(j5);function $ce(e,i){const a=j5[e],u=j5[i];return a===u||"ordinal-position"===a&&"time"===u||"ordinal-position"===u&&"time"===a}const Vce={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function zG(e){return Vce[e]}const jG=["linear","log","pow","sqrt","symlog","time","utc"],zce=rx(jG),jce=rx(["linear","log","pow","sqrt","symlog"]),Wce=rx(["quantile","quantize","threshold"]),Uce=rx(jG.concat(["quantile","quantize","threshold","sequential","identity"])),Yce=rx(["ordinal","bin-ordinal","point","band"]);function uf(e){return e in Yce}function Pp(e){return e in Uce}function jm(e){return e in zce}function QO(e){return e in Wce}function YG(e){return null==e?void 0:e.selection}const qO={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},Xce=(Wn(qO),ti(qO,["type","domain","range","scheme"])),Zce=Wn(Xce);function jS(e,i){switch(i){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!fi(["point","band","identity"],e);case"bins":return!fi(["point","band","identity","ordinal"],e);case"round":return jm(e)||"band"===e||"point"===e;case"padding":return jm(e)||fi(["point","band"],e);case"paddingOuter":case"align":return fi(["point","band"],e);case"paddingInner":return"band"===e;case"domainMid":case"clamp":return jm(e);case"nice":return jm(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Pp(e)&&!fi(["log","time","utc","threshold","quantile"],e)}}function KG(e,i){switch(i){case"interpolate":case"scheme":case"domainMid":return rC(e)?void 0:function(e){return`Cannot use the scale property "${e}" with non-color channel.`}(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function XG(e,i){return fi([V5,z5],i)?void 0===e||uf(e):i===mx?fi(["time","utc",void 0],e):i!==px||fi(["log","pow","sqrt","symlog","quantile","quantize","threshold","linear",void 0],e)}function ZG(e,i){if(!lx(e))return!1;switch(e){case vu:case Il:case Bm:case i0:return jm(i)||fi(["band","point"],i);case V_:case j_:case z_:case D1:case w1:case x1:return jm(i)||QO(i)||fi(["band","point","ordinal"],i);case Uf:case zm:case a0:return"band"!==i;case C1:return"ordinal"===i||QO(i);case Yf:return"ordinal"===i}}function JG(e,i){return e+"_"+i}function T1(e){const{channel:i,channelDef:a,markDef:u,scale:l,config:d}=e,h=qG(e);return _r(a)&&!x5(a.aggregate)&&l&&jm(l.get("type"))&&!1===l.get("zero")?QG({fieldDef:a,channel:i,markDef:u,ref:h,config:d}):h}function QG({fieldDef:e,channel:i,markDef:a,ref:u,config:l}){return ix(a.type)||null===Sa("invalid",a,l)?u:[qce(e,i),u]}function qce(e,i){const a=W5(e,!0),l="y"===H_(i)?{field:{group:"height"}}:{value:0};return Object.assign({test:a},l)}function W5(e,i=!0){return $5(ps(e)?e:Zn(e,{expr:"datum"}),!i)}function c0(e,i,a,u){const l={};if(i&&(l.scale=i),f0(e)){const{datum:d}=e;uC(d)?l.signal=lC(d):Si(d)?l.signal=d.signal:l.value=d}else l.field=Zn(e,a);if(u){const{offset:d,band:h}=u;d&&(l.offset=d),h&&(l.band=h)}return l}function eL({scaleName:e,fieldOrDatumDef:i,fieldOrDatumDef2:a,offset:u,startSuffix:l,band:d=.5}){const h=0<d&&d<1?"datum":void 0,p=Zn(i,{expr:h,suffix:l}),y=void 0!==a?Zn(a,{expr:h}):Zn(i,{suffix:"end",expr:h}),b={};return 0===d||1===d?(b.scale=e,b.field=0===d?p:y):b.signal=`scale("${e}", ${d} * ${p} + ${1-d} * ${y})`,u&&(b.offset=u),b}function qG({channel:e,channelDef:i,channel2Def:a,markDef:u,config:l,scaleName:d,scale:h,stack:p,offset:y,defaultRef:b,band:C}){var M;if(i){if($i(i)){if(Xf(i)){C=null!=C?C:YS({channel:e,fieldDef:i,fieldDef2:a,markDef:u,stack:p,config:l,isMidPoint:!0});const{bin:H,timeUnit:Y,type:te}=i;if(Eo(H)||C&&Y&&te===mx)return p&&p.impute?c0(i,d,{binSuffix:"mid"},{offset:y}):C?eL({scaleName:d,fieldOrDatumDef:i,band:C,offset:y}):c0(i,d,XS(i,e)?{binSuffix:"range"}:{},{offset:y});if(bu(H)){if(_r(a))return eL({scaleName:d,fieldOrDatumDef:i,fieldOrDatumDef2:a,band:C,offset:y});Yn(CG(e===vu?Rm:r0))}}const O=null==h?void 0:h.get("type");return c0(i,d,uf(O)?{binSuffix:"range"}:{},{offset:y,band:"band"===O?null!==(M=null!=C?C:i.band)&&void 0!==M?M:.5:void 0})}if(Y_(i)){const H=y?{offset:y}:{};return Object.assign(Object.assign({},WS(e,i.value)),H)}}return function(e){return"function"==typeof e}(b)&&(b=b()),b&&Object.assign(Object.assign({},b),y?{offset:y}:{})}function WS(e,i){return fi(["x","x2"],e)&&"width"===i?{field:{group:"width"}}:fi(["y","y2"],e)&&"height"===i?{field:{group:"height"}}:Ru(i)}function _x(e){return e&&"number"!==e&&"time"!==e}function eK(e,i,a){return`${e}(${i}${a?`, ${JSON.stringify(a)}`:""})`}function H5({fieldOrDatumDef:e,format:i,formatType:a,expr:u,normalizeStack:l,config:d}){var h,p;if(_x(a))return nK({fieldOrDatumDef:e,format:i,formatType:a,expr:u,config:d});const y=tK(e,u,l);if(xx(e)){const b=function(e,i,a,u,l){return!i||a?`${l?"utc":"time"}Format(${e}, '${a=ps(a)?a:u}')`:function(e,i,a){if(!e)return;const u=NG(e);return`${a||O5(e)?"utc":"time"}Format(${i}, ${u})`}(i,e,l)}(y,_r(e)?null===(h=af(e.timeUnit))||void 0===h?void 0:h.unit:void 0,i,d.timeFormat,K5(e)&&"utc"===(null===(p=e.scale)||void 0===p?void 0:p.type));return b?{signal:b}:void 0}return i=yx(d0(e),i,d),_r(e)&&Eo(e.bin)?{signal:k1(y,Zn(e,{expr:u,binSuffix:"end"}),i,a,d)}:i||"quantitative"===d0(e)?{signal:`${rde(y,i)}`}:{signal:`isValid(${y}) ? ${y} : ""+${y}`}}function tK(e,i,a){return _r(e)?a?`${Zn(e,{expr:i,suffix:"end"})}-${Zn(e,{expr:i,suffix:"start"})}`:Zn(e,{expr:i}):function(e){const{datum:i}=e;return uC(i)?lC(i):`${JSON.stringify(i)}`}(e)}function nK({fieldOrDatumDef:e,format:i,formatType:a,expr:u,normalizeStack:l,config:d,field:h}){return h=null!=h?h:tK(e,u,l),_r(e)&&Eo(e.bin)?{signal:k1(h,Zn(e,{expr:u,binSuffix:"end"}),i,a,d)}:{signal:eK(a,h,i)}}function U5(e,i,a,u,l,d){var h;if(!_x(u))return xx(e)?function(e,i,a,u){return e||(i?{signal:NG(i)}:u?void 0:a.timeFormat)}(a,_r(e)?null===(h=af(e.timeUnit))||void 0===h?void 0:h.unit:void 0,l,d):yx(i,a,l)}function nde(e,i,a){return e&&(Si(e)||"number"===e||"time"===e)?e:xx(i)&&"time"!==a&&"utc"!==a?"time":void 0}function yx(e,i,a){return ps(i)?i:e===px?a.numberFormat:void 0}function rde(e,i){return`format(${e}, "${i||""}")`}function ide(e,i,a,u){var l;return _x(a)?eK(a,e,i):rde(e,null!==(l=ps(i)?i:void 0)&&void 0!==l?l:u.numberFormat)}function k1(e,i,a,u,l){const d=ide(e,a,u,l),h=ide(i,a,u,l);return`${$5(e,!1)} ? "null" : ${d} + " \u2013 " + ${h}`}!function(){var e;const i={};for(const a of fG)for(const u of Rce)for(const l of Bce){const d=JG(a,u);ZG(a,l)&&XG(l,u)&&(i[d]=null!==(e=i[d])&&void 0!==e?e:[],i[d].push(l))}}();const nL="min",I1={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function rK(e){return e in I1}function Y5(e){return!!e&&!!e.encoding}function Hm(e){return!(!e||"count"!==e.op&&!e.field)}function iK(e){return!!e&&li(e)}function HS(e){return"row"in e||"column"in e}function rL(e){return!!e&&"header"in e}function US(e){return"facet"in e}function G5(e){const{field:i,timeUnit:a,bin:u,aggregate:l}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},a?{timeUnit:a}:{}),u?{bin:u}:{}),l?{aggregate:l}:{}),{field:i})}function sK(e){return Xf(e)&&"sort"in e}function YS({channel:e,fieldDef:i,fieldDef2:a,markDef:u,stack:l,config:d,isMidPoint:h}){if($i(i)&&void 0!==i.band)return i.band;if(_r(i)){const{timeUnit:p,bin:y}=i;if(p&&!a)return h?Dx("timeUnitBandPosition",u,d):v5(u.type)?Dx("timeUnitBand",u,d):0;if(Eo(y))return v5(u.type)&&!h?1:.5}return(null==l?void 0:l.fieldChannel)===e&&h?.5:void 0}function ys(e,i,a,u,l,d){return!!(Eo(i.bin)||i.timeUnit&&Xf(i)&&"temporal"===i.type)&&!!YS({channel:e,fieldDef:i,fieldDef2:a,stack:u,markDef:l,config:d})}function gl(e){return!!e&&"condition"in e}function vx(e){const i=e&&e.condition;return!!i&&!li(i)&&_r(i)}function iL(e){const i=e&&e.condition;return!!i&&!li(i)&&$i(i)}function _r(e){return!(!e||!e.field&&"count"!==e.aggregate)}function d0(e){return e&&e.type}function f0(e){return!!e&&"datum"in e}function h0(e){return Xf(e)&&GS(e)||yr(e)}function yr(e){return f0(e)&&hl(e.datum)}function $i(e){return _r(e)||f0(e)}function Xf(e){return!!e&&("field"in e&&"type"in e||"count"===e.aggregate)}function Y_(e){return e&&"value"in e&&"value"in e}function K5(e){return!!e&&("scale"in e||"sort"in e)}function G_(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function oK(e){return!!e&&"legend"in e}function uK(e){return!!e&&("format"in e||"formatType"in e)}function Zn(e,i={}){var a,u,l;let d=e.field;const h=i.prefix;let p=i.suffix,y="";if(function(e){return"count"===e.aggregate}(e))d=function(e){return function(e){return 0===e.indexOf("__")}(e)?e:`__${e}`}("count");else{let b;if(!i.nofn)if(function(e){return"op"in e}(e))b=e.op;else{const{bin:C,aggregate:M,timeUnit:O}=e;Eo(C)?(b=OS(C),p=(null!==(a=i.binSuffix)&&void 0!==a?a:"")+(null!==(u=i.suffix)&&void 0!==u?u:"")):M?sx(M)?(y=`["${d}"]`,d=`argmax_${M.argmax}`):b1(M)?(y=`["${d}"]`,d=`argmin_${M.argmin}`):b=String(M):O&&(b=function(e){const i=af(e),{utc:a}=i,u=ti(i,["utc"]);return u.unit?(a?"utc":"")+Wn(u).map(l=>eu(`${"unit"===l?"":`_${l}_`}${u[l]}`)).join(""):(a?"utc":"")+"timeunit"+Wn(u).map(l=>eu(`_${l}_${u[l]}`)).join("")}(O),p=(!fi(["range","mid"],i.binSuffix)&&i.binSuffix||"")+(null!==(l=i.suffix)&&void 0!==l?l:""))}b&&(d=d?`${b}_${d}`:b)}return p&&(d=`${d}_${p}`),h&&(d=`${h}_${d}`),i.forAs?YY(d):i.expr?function(e,i="datum"){return`${i}[${Ns(tx(e).join("."))}]`}(d,i.expr)+y:F_(d)+y}function lK(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return _r(e)&&!!e.bin;case"temporal":return!1}throw new Error(VS(e.type))}function GS(e){return!lK(e)}const X5=(e,i)=>{switch(i.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:i,bin:a,timeUnit:u,field:l}=e;if(sx(i))return`${l} for argmax(${i.argmax})`;if(b1(i))return`${l} for argmin(${i.argmin})`;const d=af(u),h=i||(null==d?void 0:d.unit)||(null==d?void 0:d.maxbins)&&"timeunit"||Eo(a)&&"bin";return h?h.toUpperCase()+"("+l+")":l}(e);default:return function(e,i){var a;const{field:u,bin:l,timeUnit:d,aggregate:h}=e;if("count"===h)return i.countTitle;if(Eo(l))return`${u} (binned)`;if(d){const p=null===(a=af(d))||void 0===a?void 0:a.unit;if(p)return`${u} (${L5(p).join("-")})`}else if(h)return sx(h)?`${u} for max ${h.argmax}`:b1(h)?`${u} for min ${h.argmin}`:`${AO(h)} of ${u}`;return u}(e,i)}};let KS=X5;function cK(e){KS=e}function N1(e,i,{allowDisabling:a,includeDefault:u=!0}){var l,d;const p=(null!==(l=Z5(e))&&void 0!==l?l:{}).title;if(!_r(e))return p;const y=e,b=u?dK(y,i):void 0;return a?pl(p,y.title,b):null!==(d=null!=p?p:y.title)&&void 0!==d?d:b}function Z5(e){return G_(e)&&e.axis?e.axis:oK(e)&&e.legend?e.legend:rL(e)&&e.header?e.header:void 0}function dK(e,i){return KS(e,i)}function sL(e){var i;if(uK(e)){const{format:a,formatType:u}=e;return{format:a,formatType:u}}{const a=null!==(i=Z5(e))&&void 0!==i?i:{},{format:u,formatType:l}=a;return{format:u,formatType:l}}}function p0(e){return _r(e)?e:vx(e)?e.condition:void 0}function Ol(e){return $i(e)?e:iL(e)?e.condition:void 0}function J5(e,i,a){return ps(e)||hl(e)||vS(e)?(Yn(function(e,i,a){return`Channel ${e} is a ${i}. Converted to {value: ${qo(a)}}.`}(i,ps(e)?"string":hl(e)?"number":"boolean",e)),{value:e}):$i(e)?aL(e,i,a):iL(e)?Object.assign(Object.assign({},e),{condition:aL(e.condition,i,a)}):e}function aL(e,i,a){if(uK(e)){const{formatType:l}=e,d=ti(e,["format","formatType"]);if(_x(l)&&!a.customFormatTypes)return Yn(jc(i)),aL(d,i,a)}else{const u=G_(e)?"axis":oK(e)?"legend":rL(e)?"header":null;if(u&&e[u]){const l=e[u],{formatType:h}=l,p=ti(l,["format","formatType"]);if(_x(h)&&!a.customFormatTypes)return Yn(jc(i)),aL(Object.assign(Object.assign({},e),{[u]:p}),i,a)}}return _r(e)?hK(e,i):function(e){let i=e.type;if(i)return e;const{datum:a}=e;return i=hl(a)?"quantitative":ps(a)?"nominal":uC(a)?"temporal":void 0,Object.assign(Object.assign({},e),{type:i})}(e)}function hK(e,i){const{aggregate:a,timeUnit:u,bin:l,field:d}=e,h=Object.assign({},e);if(a&&!b5(a)&&!sx(a)&&!b1(a)&&(Yn(function(e){return`Invalid aggregation operator "${e}".`}(a)),delete h.aggregate),u&&(h.timeUnit=af(u)),d&&(h.field=`${d}`),Eo(l)&&(h.bin=oL(l,i)),bu(l)&&!u0(i)&&Yn(`Channel ${i} should not be used with "binned" bin.`),Xf(h)){const{type:p}=h,y=function(e){if(e)switch(e=e.toLowerCase(),e){case"q":case px:return"quantitative";case"t":case mx:return"temporal";case"o":case V5:return"ordinal";case"n":case z5:return"nominal";case cC:return"geojson"}}(p);p!==y&&(h.type=y),"quantitative"!==p&&x5(a)&&(Yn(function(e,i){return`Invalid field type "${e}" for aggregate: "${i}", using "quantitative" instead.`}(p,a)),h.type="quantitative")}else if(!W_(i)){const p=function(e,i){if(e.timeUnit)return"temporal";if(Eo(e.bin))return"quantitative";switch(NS(i)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(h,i);Yn(function(e,i){return`Missing type for channel "${e}", using "${i}" instead.`}(i,p)),h.type=p}if(Xf(h)){const{compatible:p,warning:y}=function(e,i){const a=e.type;if("geojson"===a&&"shape"!==i)return{compatible:!1,warning:`Channel ${i} should not be used with a geojson data.`};switch(i){case P_:case R_:case FO:return GS(e)?{compatible:!1,warning:Hle(i)}:bx;case vu:case Il:case Uf:case zm:case a0:case AS:case TS:case PO:case ax:case RO:case BO:case x1:case Bm:case i0:case $O:return bx;case s0:case Np:case $m:case Vm:return a!==px?{compatible:!1,warning:`Channel ${i} should be used with a quantitative field only, not ${e.type} field.`}:bx;case z_:case D1:case w1:case j_:case V_:case $_:case B_:case Rm:case r0:return"nominal"!==a||e.sort?bx:{compatible:!1,warning:`Channel ${i} should not be used with an unsorted discrete field.`};case C1:return fi(["ordinal","nominal"],e.type)?bx:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case Yf:return fi(["ordinal","nominal","geojson"],e.type)?bx:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case nC:return"nominal"!==e.type||"sort"in e?bx:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(h,i);p||Yn(y)}if(sK(h)&&ps(h.sort)){const{sort:p}=h;if(rK(p))return Object.assign(Object.assign({},h),{sort:{encoding:p}});const y=p.substr(1);if("-"===p.charAt(0)&&rK(y))return Object.assign(Object.assign({},h),{sort:{encoding:y,order:"descending"}})}if(rL(h)){const{header:p}=h,{orient:y}=p,b=ti(p,["orient"]);if(y)return Object.assign(Object.assign({},h),{header:Object.assign(Object.assign({},b),{labelOrient:p.labelOrient||y,titleOrient:p.titleOrient||y})})}return h}function oL(e,i){return vS(e)?{maxbins:cx(i)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:cx(i)})}const bx={compatible:!0};function xx(e){const{formatType:i}=sL(e);return"time"===i||!i&&function(e){return e&&("temporal"===e.type||_r(e)&&!!e.timeUnit)}(e)}function Q5(e,{timeUnit:i,type:a,wrapTime:u,undefinedIfExprNotRequired:l}){var d;const h=i&&(null===(d=af(i))||void 0===d?void 0:d.unit);let y,p=h||"temporal"===a;return Si(e)?y=e.signal:uC(e)?(p=!0,y=lC(e)):(ps(e)||hl(e))&&p&&(y=`datetime(${JSON.stringify(e)})`,function(e){return!!kG[e]}(h)&&(hl(e)&&e<1e4||ps(e)&&isNaN(Date.parse(e)))&&(y=lC({[h]:e}))),y?u&&p?`time(${y})`:y:l?void 0:JSON.stringify(e)}function pK(e,i){const{type:a}=e;return i.map(u=>{const l=Q5(u,{timeUnit:_r(e)?e.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==l?{signal:l}:u})}function XS(e,i){return Eo(e.bin)?lx(i)&&fi(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function mK(e){const{anchor:i,frame:a,offset:u,orient:l,color:d,subtitleColor:h,subtitleFont:p,subtitleFontSize:y,subtitleFontStyle:b,subtitleFontWeight:C,subtitleLineHeight:M,subtitlePadding:O}=e,H=ti(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),Y=Object.assign(Object.assign({},H),d?{fill:d}:{}),te=Object.assign(Object.assign(Object.assign(Object.assign({},i?{anchor:i}:{}),a?{frame:a}:{}),u?{offset:u}:{}),l?{orient:l}:{}),se=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h?{subtitleColor:h}:{}),p?{subtitleFont:p}:{}),y?{subtitleFontSize:y}:{}),b?{subtitleFontStyle:b}:{}),C?{subtitleFontWeight:C}:{}),M?{subtitleLineHeight:M}:{}),O?{subtitlePadding:O}:{});return{titleMarkConfig:Y,subtitleMarkConfig:DS(Y,["align","baseline","dx","dy","limit"]),nonMark:te,subtitle:se}}function O1(e){return ps(e)||li(e)&&ps(e[0])}function Ru(e){return Si(e)?e:void 0!==e?{value:e}:void 0}function q5(e){return Si(e)?e.signal:Ns(e.value)}function dC(e){return Si(e)?e.signal:null==e?null:Ns(e)}function gK(e){var i;return[].concat(e.type,null!==(i=e.style)&&void 0!==i?i:[])}function Sa(e,i,a,u={}){const{vgChannel:l,ignoreVgConfig:d}=u;return l&&void 0!==i[l]?i[l]:void 0!==i[e]?i[e]:!d||l&&l!==e?Dx(e,i,a,u):void 0}function Dx(e,i,a,{vgChannel:u}={}){return pl(u?uL(e,i,a.style):void 0,uL(e,i,a.style),u?a[i.type][u]:void 0,a[i.type][e],u?a.mark[u]:a.mark[e])}function uL(e,i,a){return _K(e,gK(i),a)}function _K(e,i,a){let u;i=Ku(i);for(const l of i){const d=a[l];d&&void 0!==d[e]&&(u=d[e])}return u}function yK(e,i){return Ku(e).reduce((a,u)=>{var l;return a.field.push(Zn(u,i)),a.order.push(null!==(l=u.sort)&&void 0!==l?l:"ascending"),a},{field:[],order:[]})}function vK(e,i){const a=[...e];return i.forEach(u=>{for(const l of a)if(xS(l,u))return;a.push(u)}),a}function bK(e,i){return xS(e,i)||!i?e:e?[...Ku(e),...Ku(i)].join(", "):i}function xK(e,i){const a=e.value,u=i.value;if(null==a||null===u)return{explicit:e.explicit,value:null};if((O1(a)||Si(a))&&(O1(u)||Si(u)))return{explicit:e.explicit,value:bK(a,u)};if(O1(a)||Si(a))return{explicit:e.explicit,value:a};if(O1(u)||Si(u))return{explicit:e.explicit,value:u};if(!(O1(a)||Si(a)||O1(u)||Si(u)))return{explicit:e.explicit,value:vK(a,u)};throw new Error("It should never reach here")}function wx(e,i){const a=e&&e[i];return!!a&&(li(a)?wS(a,u=>!!u.field):_r(a)||vx(a))}function e8(e){return wS(fG,i=>{if(wx(e,i)){const a=e[i];if(li(a))return wS(a,u=>!!u.aggregate);{const u=p0(a);return u&&!!u.aggregate}}return!1})}function t8(e,i){const a=[],u=[],l=[],d=[],h={};return n8(e,(p,y)=>{if(_r(p)){const{field:b,aggregate:C,bin:M,timeUnit:O}=p,H=ti(p,["field","aggregate","bin","timeUnit"]);if(C||O||M){const Y=Z5(p),te=Y&&Y.title;let se=Zn(p,{forAs:!0});const ye=Object.assign(Object.assign(Object.assign({},te?[]:{title:N1(p,i,{allowDisabling:!0})}),H),{field:se});if(C){let Ce;if(sx(C)?(Ce="argmax",se=Zn({op:"argmax",field:C.argmax},{forAs:!0}),ye.field=`${se}.${b}`):b1(C)?(Ce="argmin",se=Zn({op:"argmin",field:C.argmin},{forAs:!0}),ye.field=`${se}.${b}`):"boxplot"!==C&&"errorbar"!==C&&"errorband"!==C&&(Ce=C),Ce){const Ve={op:Ce,as:se};b&&(Ve.field=b),d.push(Ve)}}else if(a.push(se),Xf(p)&&Eo(M))u.push({bin:M,field:b,as:se}),a.push(Zn(p,{binSuffix:"end"})),XS(p,y)&&a.push(Zn(p,{binSuffix:"range"})),u0(y)&&(h[y+"2"]={field:se+"_end"}),ye.bin="binned",W_(y)||(ye.type=px);else if(O){l.push({timeUnit:O,field:b,as:se});const Ce=Xf(p)&&p.type!==mx&&"time";Ce&&(y===AS||y===ax?ye.formatType=Ce:function(e){return!!kr[e]}(y)?ye.legend=Object.assign({formatType:Ce},ye.legend):u0(y)&&(ye.axis=Object.assign({formatType:Ce},ye.axis)))}h[y]=ye}else a.push(b),h[y]=e[y]}else h[y]=e[y]}),{bins:u,timeUnits:l,aggregate:d,groupby:a,encoding:h}}function gde(e,i,a){const u=i.type;return Wn(e).reduce((l,d)=>{if(!pG(d))return Yn(function(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}(d)),l;const h=e[d];if("angle"===d&&"arc"===u&&!e.theta&&(Yn("Arc marks uses theta channel rather than angle, replacing angle with theta."),d=Bm),!function(e,i,a){const u=function(e,i){return function(e){switch(e){case Uf:case zm:case a0:case $O:case TS:case PO:case ax:case RO:case nC:case z_:case D1:case w1:case j_:case FO:case P_:case R_:return M5;case vu:case Il:case $m:case s0:return hxe;case Rm:case r0:case Vm:case Np:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case V_:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case C1:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Yf:return{point:"always",geoshape:"always"};case AS:return{text:"always"};case x1:return{point:"always",square:"always",text:"always"};case BO:return{image:"always"};case Bm:case i0:return{text:"always",arc:"always"};case $_:case B_:return{arc:"always"}}}(e)[i]}(i,a);if(!u)return!1;if("binned"===u){const l=e[i===Rm?vu:Il];return!!(_r(l)&&_r(e[i])&&bu(l.bin))}return!0}(e,d,u))return Yn(zS(d,u)),l;if(d===V_&&"line"===u){const p=p0(e[d]);if(null==p?void 0:p.aggregate)return Yn("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),l}if(d===Uf&&(i.filled?"fill"in e:"stroke"in e))return Yn(I5("encoding",{fill:"fill"in e,stroke:"stroke"in e})),l;if(d===TS||d===nC&&!li(h)&&!Y_(h)||d===ax&&li(h))h&&(l[d]=Ku(h).reduce((p,y)=>(_r(y)?p.push(hK(y,d)):Yn(KO(y,d)),p),[]));else{if(d===ax&&null===h)l[d]=null;else if(!(_r(h)||f0(h)||Y_(h)||gl(h)||Si(h)))return Yn(KO(h,d)),l;l[d]=J5(h,d,a)}return l},{})}function _de(e){const i=[];for(const a of Wn(e))if(wx(e,a)){const l=Ku(e[a]);for(const d of l)_r(d)?i.push(d):vx(d)&&i.push(d.condition)}return i}function n8(e,i,a){if(e)for(const u of Wn(e)){const l=e[u];if(li(l))for(const d of l)i.call(a,d,u);else i.call(a,l,u)}}function DK(e,i,a,u){return e?Wn(e).reduce((l,d)=>{const h=e[d];return li(h)?h.reduce((p,y)=>i.call(u,p,y,d),l):i.call(u,l,h,d)},a):a}function wK(e,i){return Wn(i).reduce((a,u)=>{switch(u){case vu:case Il:case RO:case $O:case BO:case Rm:case r0:case Bm:case $_:case i0:case B_:case $m:case s0:case Vm:case Np:case AS:case Yf:case x1:case ax:return a;case nC:if("line"===e||"trail"===e)return a;case TS:case PO:{const l=i[u];if(li(l)||_r(l))for(const d of Ku(l))d.aggregate||a.push(Zn(d,{}));return a}case V_:if("trail"===e)return a;case Uf:case zm:case a0:case z_:case D1:case w1:case C1:case j_:{const l=p0(i[u]);return l&&!l.aggregate&&a.push(Zn(l,{})),a}}},[])}function Cx(e,i,a,u=!0){return"tooltip"in a?{tooltip:a.tooltip}:{tooltip:[...e.map(({fieldPrefix:d,titlePrefix:h})=>{const p=u?` of ${i.field}`:"";return{field:d+i.field,type:i.type,title:Si(h)?{signal:h+`"${escape(p)}"`}:h+p}}),..._de(a)]}}function lL(e){const{axis:i,title:a,field:u}=e;return i&&void 0!==i.title?void 0:pl(a,u)}function r8(e,i,a,u,l){const{scale:d,axis:h}=a;return({partName:p,mark:y,positionPrefix:b,endPositionPrefix:C,aria:M,extraEncoding:O={}})=>{const H=lL(a);return CK(e,p,l,M,{mark:y,encoding:Object.assign(Object.assign(Object.assign({[i]:Object.assign(Object.assign(Object.assign({field:b+"_"+a.field,type:a.type},void 0!==H?{title:H}:{}),void 0!==d?{scale:d}:{}),void 0!==h?{axis:h}:{})},ps(C)?{[i+"2"]:{field:C+"_"+a.field}}:{}),u),O)})}}function CK(e,i,a,u,l){const{clip:d,color:h,opacity:p}=e,y=e.type;return e[i]||void 0===e[i]&&a[i]?[Object.assign(Object.assign({},l),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a[i]),d?{clip:d}:{}),h?{color:h}:{}),p?{opacity:p}:{}),Pm(l.mark)?l.mark:{type:l.mark}),{style:`${y}-${i}`}),vS(e[i])?{}:e[i]),!1===u?{aria:u}:{})})]:[]}function EK(e,i,a){const{encoding:u}=e,l="vertical"===i?"y":"x",h=u[l+"2"],p=u[l+"Error"],y=u[l+"Error2"];return{continuousAxisChannelDef:cL(u[l],a),continuousAxisChannelDef2:cL(h,a),continuousAxisChannelDefError:cL(p,a),continuousAxisChannelDefError2:cL(y,a),continuousAxis:l}}function cL(e,i){if(e&&e.aggregate){const{aggregate:a}=e,u=ti(e,["aggregate"]);return a!==i&&Yn(function(e,i){return`Continuous axis should not have customized aggregation function ${e}; ${i} already agregates the axis.`}(a,i)),u}return e}function MK(e,i){const{mark:a,encoding:u}=e,{x:l,y:d}=u;if(h0(l)){if(h0(d)){const h=_r(l)&&l.aggregate,p=_r(d)&&d.aggregate;if(!h&&p===i)return"vertical";if(!p&&h===i)return"horizontal";if(h===i&&p===i)throw new Error("Both x and y cannot have aggregate");return Pm(a)&&a.orient?a.orient:"vertical"}return"horizontal"}if(h0(d))return"vertical";throw new Error("Need a valid continuous axis for "+i+"s")}const dL="boxplot",bde=new SS(dL,AK);function SK(e){return hl(e)?"tukey":e}function AK(e,{config:i}){var a,u;const{mark:l,selection:h}=e,y=ti(e,["mark","encoding","selection","projection"]),b=Pm(l)?l:{type:l};h&&Yn(Ple("boxplot"));const C=null!==(a=b.extent)&&void 0!==a?a:i.boxplot.extent,M=Sa("size",b,i),O=SK(C),{transform:H,continuousAxisChannelDef:Y,continuousAxis:te,groupby:se,aggregate:ye,encodingWithoutContinuousAxis:Ce,ticksOrient:Ve,boxOrient:Ue,customTooltipWithoutAggregatedField:qe}=function(e,i,a){const u=MK(e,dL),{continuousAxisChannelDef:l,continuousAxis:d}=EK(e,u,dL),h=l.field,p=SK(i),y=[...TK(h),{op:"median",field:h,as:"mid_box_"+h},{op:"min",field:h,as:("min-max"===p?"lower_whisker_":"min_")+h},{op:"max",field:h,as:("min-max"===p?"upper_whisker_":"max_")+h}],b="min-max"===p||"tukey"===p?[]:[{calculate:`datum["upper_box_${h}"] - datum["lower_box_${h}"]`,as:"iqr_"+h},{calculate:`min(datum["upper_box_${h}"] + datum["iqr_${h}"] * ${i}, datum["max_${h}"])`,as:"upper_whisker_"+h},{calculate:`max(datum["lower_box_${h}"] - datum["iqr_${h}"] * ${i}, datum["min_${h}"])`,as:"lower_whisker_"+h}],H=ti(e.encoding,["symbol"==typeof d?d:d+""]),{customTooltipWithoutAggregatedField:Y,filteredEncoding:te}=function(e){const{tooltip:i}=e,a=ti(e,["tooltip"]);if(!i)return{filteredEncoding:e};let u,l;if(li(i)){for(const d of i)d.aggregate?(u||(u=[]),u.push(d)):(l||(l=[]),l.push(d));u&&(a.tooltip=u)}else i.aggregate?a.tooltip=i:l=i;return li(l)&&1===l.length&&(l=l[0]),{customTooltipWithoutAggregatedField:l,filteredEncoding:a}}(H),{bins:se,timeUnits:ye,aggregate:Ce,groupby:Ve,encoding:Ue}=t8(te,a),qe="vertical"===u?"horizontal":"vertical",tt=u;return{transform:[...se,...ye,{aggregate:[...Ce,...y],groupby:Ve},...b],groupby:Ve,aggregate:Ce,continuousAxisChannelDef:l,continuousAxis:d,encodingWithoutContinuousAxis:Ue,ticksOrient:qe,boxOrient:tt,customTooltipWithoutAggregatedField:Y}}(e,C,i),{size:Ge}=Ce,mt=ti(Ce,["color","size"]),Ot=Yr=>r8(b,te,Y,Yr,i.boxplot),Tt=Ot(mt),St=Ot(Ce),Gt=Ot(Object.assign(Object.assign({},mt),Ge?{size:Ge}:{})),jt=Cx([{fieldPrefix:"min-max"===O?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===O?"lower_whisker_":"min_",titlePrefix:"Min"}],Y,Ce),En={type:"tick",color:"black",opacity:1,orient:Ve,invalid:null},Rt="min-max"===O?jt:Cx([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Y,Ce),An=[...Tt({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:Rt}),...Tt({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:Rt}),...Tt({partName:"ticks",mark:En,positionPrefix:"lower_whisker",aria:!1,extraEncoding:Rt}),...Tt({partName:"ticks",mark:En,positionPrefix:"upper_whisker",aria:!1,extraEncoding:Rt})],Jn=[..."tukey"!==O?An:[],...St({partName:"box",mark:Object.assign(Object.assign({type:"bar"},M?{size:M}:{}),{orient:Ue,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:jt}),...Gt({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},tc(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),M?{size:M}:{}),{orient:Ve,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:jt})];let Ar;if("min-max"!==O){const Yr=`datum["lower_box_${Y.field}"]`,Es=`datum["upper_box_${Y.field}"]`,Ro=`(${Es} - ${Yr})`,Rl=`${Yr} - ${C} * ${Ro}`,Xc=`${Es} + ${C} * ${Ro}`,yl=`datum["${Y.field}"]`,df={joinaggregate:TK(Y.field),groupby:se};let M0;"tukey"===O&&(M0={transform:[{filter:`(${Rl} <= ${yl}) && (${yl} <= ${Xc})`},{aggregate:[{op:"min",field:Y.field,as:"lower_whisker_"+Y.field},{op:"max",field:Y.field,as:"upper_whisker_"+Y.field},{op:"min",field:"lower_box_"+Y.field,as:"lower_box_"+Y.field},{op:"max",field:"upper_box_"+Y.field,as:"upper_box_"+Y.field},...ye],groupby:se}],layer:An});const Hx=ti(mt,["tooltip"]),{scale:Ir,axis:ns}=Y,js=lL(Y),Gn=CK(b,"outliers",i.boxplot,!0,{transform:[{filter:`(${yl} < ${Rl}) || (${yl} > ${Xc})`}],mark:"point",encoding:Object.assign(Object.assign({[te]:Object.assign(Object.assign(Object.assign({field:Y.field,type:Y.type},void 0!==js?{title:js}:{}),void 0!==Ir?{scale:Ir}:{}),void 0!==ns?{axis:ns}:{})},Hx),qe?{tooltip:qe}:{})})[0];Gn&&M0?Ar={transform:[df],layer:[Gn,M0]}:Gn?(Ar=Gn,Ar.transform.unshift(df)):M0&&(Ar=M0,Ar.transform.unshift(df))}return Object.assign(Object.assign({},y),Ar?{layer:[Ar,{transform:H,layer:Jn}]}:{transform:(null!==(u=y.transform)&&void 0!==u?u:[]).concat(H),layer:Jn})}function TK(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}const i8="errorbar",wde=new SS(i8,kK);function kK(e,{config:i}){const{transform:a,continuousAxisChannelDef:u,continuousAxis:l,encodingWithoutContinuousAxis:d,ticksOrient:h,markDef:p,outerSpec:y,tooltipEncoding:b}=IK(e,i8,i),C=r8(p,l,u,d,i.errorbar),M={type:"tick",orient:h},O=[...C({partName:"ticks",mark:M,positionPrefix:"lower",aria:!1,extraEncoding:b}),...C({partName:"ticks",mark:M,positionPrefix:"upper",aria:!1,extraEncoding:b}),...C({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:b})];return Object.assign(Object.assign(Object.assign({},y),{transform:a}),O.length>1?{layer:O}:Object.assign({},O[0]))}function IK(e,i,a){var u;const{mark:l,encoding:d,selection:h}=e,y=ti(e,["mark","encoding","selection","projection"]),b=Pm(l)?l:{type:l};h&&Yn(Ple(i));const{orient:C,inputType:M}=function(e,i){const{encoding:a}=e;if(function(e){return($i(e.x)||$i(e.y))&&!$i(e.x2)&&!$i(e.y2)&&!$i(e.xError)&&!$i(e.xError2)&&!$i(e.yError)&&!$i(e.yError2)}(a))return{orient:MK(e,i),inputType:"raw"};const u=function(e){return $i(e.x2)||$i(e.y2)}(a),l=function(e){return $i(e.xError)||$i(e.xError2)||$i(e.yError)||$i(e.yError2)}(a),d=a.x,h=a.y;if(u){if(l)throw new Error(`${i} cannot be both type aggregated-upper-lower and aggregated-error`);const p=a.x2,y=a.y2;if($i(p)&&$i(y))throw new Error(`${i} cannot have both x2 and y2`);if($i(p)){if(h0(d))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${i}`)}if($i(y)){if(h0(h))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${i}`)}throw new Error("No ranged axis")}{const p=a.xError,b=a.yError,C=a.yError2;if($i(a.xError2)&&!$i(p))throw new Error(`${i} cannot have xError2 without xError`);if($i(C)&&!$i(b))throw new Error(`${i} cannot have yError2 without yError`);if($i(p)&&$i(b))throw new Error(`${i} cannot have both xError and yError with both are quantiative`);if($i(p)){if(h0(d))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if($i(b)){if(h0(h))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(e,i),{continuousAxisChannelDef:O,continuousAxisChannelDef2:H,continuousAxisChannelDefError:Y,continuousAxisChannelDefError2:te,continuousAxis:se}=EK(e,C,i),{errorBarSpecificAggregate:ye,postAggregateCalculates:Ce,tooltipSummary:Ve,tooltipTitleWithFieldName:Ue}=function(e,i,a,u,l,d,h,p){let y=[],b=[];const C=i.field;let M,O=!1;if("raw"===d){const H=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":p.errorbar.center,Y=e.extent?e.extent:"mean"===H?"stderr":"iqr";if("median"===H!=("iqr"===Y)&&Yn(function(e,i,a){return`${e} is not usually used with ${i} for ${a}.`}(H,Y,h)),"stderr"===Y||"stdev"===Y)y=[{op:Y,field:C,as:"extent_"+C},{op:H,field:C,as:"center_"+C}],b=[{calculate:`datum["center_${C}"] + datum["extent_${C}"]`,as:"upper_"+C},{calculate:`datum["center_${C}"] - datum["extent_${C}"]`,as:"lower_"+C}],M=[{fieldPrefix:"center_",titlePrefix:AO(H)},{fieldPrefix:"upper_",titlePrefix:NK(H,Y,"+")},{fieldPrefix:"lower_",titlePrefix:NK(H,Y,"-")}],O=!0;else{let te,se,ye;e.center&&e.extent&&Yn(function(e,i){return`Center is not needed to be specified in ${i} when extent is ${e}.`}(e.extent,h)),"ci"===Y?(te="mean",se="ci0",ye="ci1"):(te="median",se="q1",ye="q3"),y=[{op:se,field:C,as:"lower_"+C},{op:ye,field:C,as:"upper_"+C},{op:te,field:C,as:"center_"+C}],M=[{fieldPrefix:"upper_",titlePrefix:N1({field:C,aggregate:ye,type:"quantitative"},p,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:N1({field:C,aggregate:se,type:"quantitative"},p,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:N1({field:C,aggregate:te,type:"quantitative"},p,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Yn(function(e,i){return`${i?"extent ":""}${i&&e?"and ":""}${e?"center ":""}${i&&e?"are ":"is "}not needed when data are aggregated.`}(e.center,e.extent)),"aggregated-upper-lower"===d?(M=[],b=[{calculate:`datum["${a.field}"]`,as:"upper_"+C},{calculate:`datum["${C}"]`,as:"lower_"+C}]):"aggregated-error"===d&&(M=[{fieldPrefix:"",titlePrefix:C}],b=[{calculate:`datum["${C}"] + datum["${u.field}"]`,as:"upper_"+C}],b.push(l?{calculate:`datum["${C}"] + datum["${l.field}"]`,as:"lower_"+C}:{calculate:`datum["${C}"] - datum["${u.field}"]`,as:"lower_"+C}));for(const H of b)M.push({fieldPrefix:H.as.substring(0,6),titlePrefix:tC(tC(H.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:b,errorBarSpecificAggregate:y,tooltipSummary:M,tooltipTitleWithFieldName:O}}(b,O,H,Y,te,M,i,a),mt="x"===se?"x2":"y2",Tt="x"===se?"xError":"yError",Gt="x"===se?"xError2":"yError2",En=ti(d,["symbol"==typeof se?se:se+"","symbol"==typeof mt?mt:mt+"","symbol"==typeof Tt?Tt:Tt+"","symbol"==typeof Gt?Gt:Gt+""]),{bins:Rt,timeUnits:An,aggregate:Jn,groupby:Ar,encoding:Yr}=t8(En,a),Es=[...Jn,...ye],Ro="raw"!==M?[]:Ar,Rl=Cx(Ve,O,Yr,Ue);return{transform:[...null!==(u=y.transform)&&void 0!==u?u:[],...Rt,...An,...0===Es.length?[]:[{aggregate:Es,groupby:Ro}],...Ce],groupby:Ro,continuousAxisChannelDef:O,continuousAxis:se,encodingWithoutContinuousAxis:Yr,ticksOrient:"vertical"===C?"horizontal":"vertical",markDef:b,outerSpec:y,tooltipEncoding:Rl}}function NK(e,i,a){return AO(e)+" "+a+" "+i}const a8="errorband",Ade=new SS(a8,OK);function OK(e,{config:i}){const{transform:a,continuousAxisChannelDef:u,continuousAxis:l,encodingWithoutContinuousAxis:d,markDef:h,outerSpec:p,tooltipEncoding:y}=IK(e,a8,i),b=h,C=r8(b,l,u,d,i.errorband),M=void 0!==e.encoding.x&&void 0!==e.encoding.y;let O={type:M?"area":"rect"},H={type:M?"line":"rule"};const Y=Object.assign(Object.assign({},b.interpolate?{interpolate:b.interpolate}:{}),b.tension&&b.interpolate?{tension:b.tension}:{});return M?(O=Object.assign(Object.assign(Object.assign({},O),Y),{ariaRoleDescription:"errorband"}),H=Object.assign(Object.assign({},H),Y)):b.interpolate?Yn(wG("interpolate")):b.tension&&Yn(wG("tension")),Object.assign(Object.assign({},p),{transform:a,layer:[...C({partName:"band",mark:O,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:y}),...C({partName:"borders",mark:H,positionPrefix:"lower",aria:!1,extraEncoding:y}),...C({partName:"borders",mark:H,positionPrefix:"upper",aria:!1,extraEncoding:y})]})}const o8={};function u8(e,i,a){const u=new SS(e,i);o8[e]={normalizer:u,parts:a}}u8(dL,AK,["box","median","outliers","rule","ticks"]),u8(i8,kK,["ticks","rule"]),u8(a8,OK,["band","borders"]);const Tde=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],hC=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],kde={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},FK={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},pC=(Wn(FK),"_vgsid_"),RK={single:{on:"click",fields:[pC],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[pC],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function l8(e){return!(!e||"legend"!==e&&!e.legend)}function c8(e){return l8(e)&&tc(e)}function d8(e){return"concat"in e}function fL(e){return"vconcat"in e}function f8(e){return"hconcat"in e}function m0(e){return tc(e)&&void 0!==e.step}function h8(e){return e.view||e.width||e.height}const Ode=Wn({align:1,bounds:1,center:1,columns:1,spacing:1});function mC(e,i){var a;return null!==(a=e[i])&&void 0!==a?a:e["width"===i?"continuousWidth":"continuousHeight"]}function Ex(e,i){const a=ZS(e,i);return m0(a)?a.step:L1}function ZS(e,i){var a;return pl(null!==(a=e[i])&&void 0!==a?a:e["width"===i?"discreteWidth":"discreteHeight"],{step:e.step})}const L1=20,Rde={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:L1},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:RK,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},g0=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],$K={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},VK={blue:g0[0],orange:g0[1],red:g0[2],teal:g0[3],green:g0[4],yellow:g0[5],purple:g0[6],pink:g0[7],brown:g0[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function WK(e={}){const{color:i,font:a,fontSize:u}=e,l=ti(e,["color","font","fontSize"]);return AY({},Rde,a?function(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(a):{},i?function(e={}){return{signals:[{name:"color",value:tc(e)?Object.assign(Object.assign({},VK),e):VK}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(i):{},u?function(e){return{signals:[{name:"fontSize",value:tc(e)?Object.assign(Object.assign({},$K),e):$K}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(u):{},l||{})}const $de=["view",...eG],Vde=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],zde=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function Hde(e,i,a,u){"view"===i&&(a="cell");const d=Object.assign(Object.assign({},u?e[i][u]:e[i]),e.style[null!=a?a:i]);qa(d)||(e.style[null!=a?a:i]=d),u||delete e[i]}function hL(e){return"layer"in e}class HK{map(i,a){return US(i)?this.mapFacet(i,a):function(e){return"repeat"in e}(i)?this.mapRepeat(i,a):f8(i)?this.mapHConcat(i,a):fL(i)?this.mapVConcat(i,a):d8(i)?this.mapConcat(i,a):this.mapLayerOrUnit(i,a)}mapLayerOrUnit(i,a){if(hL(i))return this.mapLayer(i,a);if(v1(i))return this.mapUnit(i,a);throw new Error(LS(i))}mapLayer(i,a){return Object.assign(Object.assign({},i),{layer:i.layer.map(u=>this.mapLayerOrUnit(u,a))})}mapHConcat(i,a){return Object.assign(Object.assign({},i),{hconcat:i.hconcat.map(u=>this.map(u,a))})}mapVConcat(i,a){return Object.assign(Object.assign({},i),{vconcat:i.vconcat.map(u=>this.map(u,a))})}mapConcat(i,a){const{concat:u}=i,l=ti(i,["concat"]);return Object.assign(Object.assign({},l),{concat:u.map(d=>this.map(d,a))})}mapFacet(i,a){return Object.assign(Object.assign({},i),{spec:this.map(i.spec,a)})}mapRepeat(i,a){return Object.assign(Object.assign({},i),{spec:this.map(i.spec,a)})}}const Gde={zero:1,center:1,normalize:1},Xde=new Set([JY,IO,kO,LO,OO,_5,y5,NO,QY,g5]),Zde=new Set([IO,kO,JY]);function UK(e,i){var a,u;const l="x"===i?"y":"radius",d=e[i],h=e[l];if(_r(d)&&_r(h))if("quantitative"===d0(d)&&"quantitative"===d0(h)){if(d.stack)return i;if(h.stack)return l;const p=_r(d)&&!!d.aggregate;if(p!==(_r(h)&&!!h.aggregate))return p?i:l;{const b=null===(a=d.scale)||void 0===a?void 0:a.type,C=null===(u=h.scale)||void 0===u?void 0:u.type;if(b&&"linear"!==b)return l;if(C&&"linear"!==C)return i}}else{if("quantitative"===d0(d))return i;if("quantitative"===d0(h))return l}else{if("quantitative"===d0(d))return i;if("quantitative"===d0(h))return l}}function YK(e,i,a={}){const u=Pm(e)?e.type:e;if(!Xde.has(u))return null;const l=UK(i,"x")||UK(i,"theta");if(!l)return null;const d=i[l],h=_r(d)?Zn(d,{}):void 0;let p=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(l),y=i[p],b=_r(y)?Zn(y,{}):void 0;b===h&&(b=void 0,y=void 0,p=void 0);const C=Ale.reduce((O,H)=>{if("tooltip"!==H&&wx(i,H)){const Y=i[H];for(const te of Ku(Y)){const se=p0(te);if(se.aggregate)continue;const ye=Zn(se,{});(!ye||ye!==b)&&O.push({channel:H,fieldDef:se})}}return O},[]);let M;if(void 0!==d.stack?M=vS(d.stack)?d.stack?"zero":null:d.stack:C.length>0&&Zde.has(u)&&(M="zero"),!M||!function(e){return e in Gde}(M)||e8(i)&&0===C.length)return null;if(d.scale&&d.scale.type&&"linear"!==d.scale.type){if(a.disallowNonLinearStack)return null;Yn(function(e){return`Cannot stack non-linear scale (${e}).`}(d.scale.type))}return $i(i[o0(l)])?(void 0!==d.stack&&Yn(function(e){return`Cannot stack "${e}" if there is already "${e}2".`}(l)),null):(_r(d)&&d.aggregate&&!fi(xle,d.aggregate)&&Yn(function(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}(d.aggregate)),{groupbyChannel:y?p:void 0,groupbyField:b,fieldChannel:l,impute:null!==d.impute&&ix(u),stackBy:C,offset:M})}function Ixe(e){const u=ti(e,["point","line"]);return Wn(u).length>1?u:u.type}function Qde(e){for(const i of["line","area","rule","trail"])e[i]&&(e=Object.assign(Object.assign({},e),{[i]:L_(e[i],["point","line"])}));return e}function p8(e,i={},a){return"transparent"===e.point?{opacity:0}:e.point?tc(e.point)?e.point:{}:void 0!==e.point?null:i.point||a.shape?tc(i.point)?i.point:{}:void 0}function GK(e,i={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:i.line?!0===i.line?{}:i.line:void 0}class qde{constructor(){this.name="path-overlay"}hasMatchingType(i,a){if(v1(i)){const{mark:u,encoding:l}=i,d=Pm(u)?u:{type:u};switch(d.type){case"line":case"rule":case"trail":return!!p8(d,a[d.type],l);case"area":return!!p8(d,a[d.type],l)||!!GK(d,a[d.type])}}return!1}run(i,a,u){const{config:l}=a,{selection:d,projection:h,encoding:p,mark:y}=i,b=ti(i,["selection","projection","encoding","mark"]),C=Pm(y)?y:{type:y},M=p8(C,l[C.type],p),O="area"===C.type&&GK(C,l[C.type]),H=[Object.assign(Object.assign({},d?{selection:d}:{}),{mark:Ixe(Object.assign(Object.assign({},"area"===C.type&&void 0===C.opacity&&void 0===C.fillOpacity?{opacity:.7}:{}),C)),encoding:L_(p,["shape"])})],Y=YK(C,p);let te=p;if(Y){const{fieldChannel:se,offset:ye}=Y;te=Object.assign(Object.assign({},p),{[se]:Object.assign(Object.assign({},p[se]),ye?{stack:ye}:{})})}return O&&H.push(Object.assign(Object.assign({},h?{projection:h}:{}),{mark:Object.assign(Object.assign({type:"line"},DS(C,["clip","interpolate","tension","tooltip"])),O),encoding:te})),M&&H.push(Object.assign(Object.assign({},h?{projection:h}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},DS(C,["clip","tooltip"])),M),encoding:te})),u(Object.assign(Object.assign({},b),{layer:H}),Object.assign(Object.assign({},a),{config:Qde(l)}))}}class efe{constructor(){this.name="RangeStep"}hasMatchingType(i){var a;if(v1(i)&&i.encoding)for(const u of Op){const l=i.encoding[u];if(l&&$i(l)&&(null===(a=null==l?void 0:l.scale)||void 0===a?void 0:a.rangeStep))return!0}return!1}run(i){var a;const u={};let l=Object.assign({},i.encoding);for(const d of Op){const h=Nl(d),p=l[d];if(p&&$i(p)&&(null===(a=null==p?void 0:p.scale)||void 0===a?void 0:a.rangeStep)){const{scale:y}=p,b=ti(p,["scale"]),O=ti(y,["rangeStep"]);u[h]={step:y.rangeStep},Yn('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.'),l=Object.assign(Object.assign({},l),{[d]:Object.assign(Object.assign({},b),qa(O)?{}:{scale:O})})}}return Object.assign(Object.assign(Object.assign({},u),i),{encoding:l})}}function KK(e,i){return i?HS(e)?QK(e,i):XK(e,i):e}function pL(e,i){return i?QK(e,i):e}function mL(e,i,a){const u=i[e];return function(e){return e&&!ps(e)&&"repeat"in e}(u)?u.repeat in a?Object.assign(Object.assign({},i),{[e]:a[u.repeat]}):void Yn(function(e){return`Unknown repeated value "${e}".`}(u.repeat)):i}function XK(e,i){if(void 0!==(e=mL("field",e,i))){if(null===e)return null;if(sK(e)&&Hm(e.sort)){const a=mL("field",e.sort,i);e=Object.assign(Object.assign({},e),a?{sort:a}:{})}return e}}function ZK(e,i){if(_r(e))return XK(e,i);{const a=mL("datum",e,i);return a!==e&&!a.type&&(a.type="nominal"),a}}function JK(e,i){if(!$i(e)){if(iL(e)){const a=ZK(e.condition,i);return a?Object.assign(Object.assign({},e),{condition:a}):ti(e,["condition"])}return e}{const a=ZK(e,i);if(a)return a;if(gl(e))return{condition:e.condition}}}function QK(e,i){const a={};for(const u in e)if(nx(e,u)){const l=e[u];if(li(l))a[u]=l.map(d=>JK(d,i)).filter(d=>d);else{const d=JK(l,i);void 0!==d&&(a[u]=d)}}return a}class tfe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(i){if(v1(i)){const{encoding:a,mark:u}=i;if("line"===u)for(const l of Mle){const h=a[H_(l)];if(a[l]&&(_r(h)&&!bu(h.bin)||f0(h)))return!0}}return!1}run(i,a,u){const{encoding:l}=i;return Yn(function(e,i){return`Line mark is for continuous lines and thus cannot be used with ${e&&i?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}(!!l.x2,!!l.y2)),u(Object.assign(Object.assign({},i),{mark:"rule"}),a)}}function qK(e){const{parentEncoding:i,encoding:a}=e;if(i&&a){const l=Wn(i).reduce((d,h)=>(a[h]&&d.push(h),d),[]);l.length>0&&Yn(function(e){return`Layer's shared ${e.join(",")} channel ${1===e.length?"is":"are"} overriden.`}(l))}const u=Object.assign(Object.assign({},null!=i?i:{}),null!=a?a:{});return qa(u)?void 0:u}function m8(e){const{parentProjection:i,projection:a}=e;return i&&a&&Yn(function(e){const{parentProjection:i,projection:a}=e;return`Layer's shared projection ${qo(i)} is overridden by a child projection ${qo(a)}.`}({parentProjection:i,projection:a})),null!=a?a:i}function g8(e,i){void 0===i&&(i=WK(e.config));const a=function(e,i={}){return rfe.map(e,{config:i})}(e,i),{width:u,height:l}=e,d=function(e,i,a){let{width:u,height:l}=i;const d=v1(e)||hL(e),h={};d?"container"==u&&"container"==l?(h.type="fit",h.contains="padding"):"container"==u?(h.type="fit-x",h.contains="padding"):"container"==l&&(h.type="fit-y",h.contains="padding"):("container"==u&&(Yn(FS("width")),u=void 0),"container"==l&&(Yn(FS("height")),l=void 0));const p=Object.assign(Object.assign(Object.assign({type:"pad"},h),a?eX(a.autosize):{}),eX(e.autosize));if("fit"===p.type&&!d&&(Yn('Autosize "fit" only works for single views and layered views.'),p.type="pad"),"container"==u&&!("fit"==p.type||"fit-x"==p.type)&&Yn(PS("width")),"container"==l&&!("fit"==p.type||"fit-y"==p.type)&&Yn(PS("height")),!xS(p,{type:"pad"}))return p}(a,{width:u,height:l,autosize:e.autosize},i);return Object.assign(Object.assign({},a),d?{autosize:d}:{})}const rfe=new class extends HK{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[bde,wde,Ade,new qde,new tfe,new efe]}map(i,a){if(v1(i)){const u=wx(i.encoding,P_),l=wx(i.encoding,R_),d=wx(i.encoding,FO);if(u||l||d)return this.mapFacetedUnit(i,a)}return super.map(i,a)}mapUnit(i,a){const{parentEncoding:u,parentProjection:l}=a,d=Object.assign(Object.assign({},i),{encoding:pL(i.encoding,a.repeater)});if(u||l)return this.mapUnitWithParentEncodingOrProjection(d,a);const h=this.mapLayerOrUnit.bind(this);for(const p of this.nonFacetUnitNormalizers)if(p.hasMatchingType(d,a.config))return p.run(d,a,h);return d}mapRepeat(i,a){return function(e){return!li(e.repeat)&&e.repeat.layer}(i)?this.mapLayerRepeat(i,a):this.mapNonLayerRepeat(i,a)}mapLayerRepeat(i,a){const{repeat:u,spec:l}=i,d=ti(i,["repeat","spec"]),{row:h,column:p,layer:y}=u,{repeater:b={},repeaterPrefix:C=""}=a;return h||p?this.mapRepeat(Object.assign(Object.assign({},i),{repeat:Object.assign(Object.assign({},h?{row:h}:{}),p?{column:p}:{}),spec:{repeat:{layer:y},spec:l}}),a):Object.assign(Object.assign({},d),{layer:y.map(M=>{const O=Object.assign(Object.assign({},b),{layer:M}),H=(l.name||"")+C+`child__layer_${eu(M)}`,Y=this.mapLayerOrUnit(l,Object.assign(Object.assign({},a),{repeater:O,repeaterPrefix:H}));return Y.name=H,Y})})}mapNonLayerRepeat(i,a){var u;const{repeat:l,spec:d,data:h}=i,p=ti(i,["repeat","spec","data"]);!li(l)&&i.columns&&(i=L_(i,["columns"]),Yn(yG("repeat")));const y=[],{repeater:b={},repeaterPrefix:C=""}=a,M=!li(l)&&l.row||[b?b.row:null],O=!li(l)&&l.column||[b?b.column:null],H=li(l)&&l||[b?b.repeat:null];for(const te of H)for(const se of M)for(const ye of O){const Ce={repeat:te,row:se,column:ye,layer:b.layer},Ve=(d.name||"")+C+"child__"+(li(l)?`${eu(te)}`:(l.row?`row_${eu(se)}`:"")+(l.column?`column_${eu(ye)}`:"")),Ue=this.map(d,Object.assign(Object.assign({},a),{repeater:Ce,repeaterPrefix:Ve}));Ue.name=Ve,y.push(L_(Ue,["data"]))}const Y=li(l)?i.columns:l.column?l.column.length:1;return Object.assign(Object.assign({data:null!==(u=d.data)&&void 0!==u?u:h,align:"all"},p),{columns:Y,concat:y})}mapFacet(i,a){const{facet:u}=i;return HS(u)&&i.columns&&(i=L_(i,["columns"]),Yn(yG("facet"))),super.mapFacet(i,a)}mapUnitWithParentEncodingOrProjection(i,a){const{encoding:u,projection:l}=i,{parentEncoding:d,parentProjection:h,config:p}=a,y=m8({parentProjection:h,projection:l}),b=qK({parentEncoding:d,encoding:pL(u,a.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},i),y?{projection:y}:{}),b?{encoding:b}:{}),{config:p})}mapFacetedUnit(i,a){const u=i.encoding,{row:l,column:d,facet:h}=u,p=ti(u,["row","column","facet"]),{mark:y,width:b,projection:C,height:M,view:O,selection:H}=i,te=ti(i,["mark","width","projection","height","view","selection","encoding"]),{facetMapping:se,layout:ye}=this.getFacetMappingAndLayout({row:l,column:d,facet:h},a),Ce=pL(p,a.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},te),ye),{facet:se,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},b?{width:b}:{}),M?{height:M}:{}),O?{view:O}:{}),C?{projection:C}:{}),{mark:y,encoding:Ce}),H?{selection:H}:{})}),a)}getFacetMappingAndLayout(i,a){var u;const{row:l,column:d,facet:h}=i;if(l||d){h&&Yn(function(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}([...l?[P_]:[],...d?[R_]:[]]));const p={},y={};for(const b of[P_,R_]){const C=i[b];if(C){const te=ti(C,["align","center","spacing","columns"]);p[b]=te;for(const se of["align","center","spacing"])void 0!==C[se]&&(y[se]=null!==(u=y[se])&&void 0!==u?u:{},y[se][b]=C[se])}}return{facetMapping:p,layout:y}}{const{align:p,center:y,spacing:b,columns:C}=h;return{facetMapping:KK(ti(h,["align","center","spacing","columns"]),a.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},p?{align:p}:{}),y?{center:y}:{}),b?{spacing:b}:{}),C?{columns:C}:{})}}}mapLayer(i,a){var{parentEncoding:u,parentProjection:l}=a,d=ti(a,["parentEncoding","parentProjection"]);const{encoding:h,projection:p}=i,y=ti(i,["encoding","projection"]),b=Object.assign(Object.assign({},d),{parentEncoding:qK({parentEncoding:u,encoding:h}),parentProjection:m8({parentProjection:l,projection:p})});return super.mapLayer(y,b)}};function eX(e){return ps(e)?{type:e}:null!=e?e:{}}const ufe=["background","padding"];function tX(e){return ufe.reduce((i,a)=>(e&&void 0!==e[a]&&(i[a]=e[a]),i),{})}class K_{constructor(i={},a={}){this.explicit=i,this.implicit=a}clone(){return new K_(ms(this.explicit),ms(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(i){return pl(this.explicit[i],this.implicit[i])}getWithExplicit(i){return void 0!==this.explicit[i]?{explicit:!0,value:this.explicit[i]}:void 0!==this.implicit[i]?{explicit:!1,value:this.implicit[i]}:{explicit:!1,value:void 0}}setWithExplicit(i,a){void 0!==a.value&&this.set(i,a.value,a.explicit)}set(i,a,u){return delete this[u?"implicit":"explicit"][i],this[u?"explicit":"implicit"][i]=a,this}copyKeyFromSplit(i,a){void 0!==a.explicit[i]?this.set(i,a.explicit[i],!0):void 0!==a.implicit[i]&&this.set(i,a.implicit[i],!1)}copyKeyFromObject(i,a){void 0!==a[i]&&this.set(i,a[i],!0)}copyAll(i){for(const a of Wn(i.combine())){const u=i.getWithExplicit(a);this.setWithExplicit(a,u)}}}function Mx(e){return{explicit:!0,value:e}}function Yh(e){return{explicit:!1,value:e}}function nX(e){return(i,a,u,l)=>{const d=e(i.value,a.value);return d>0?i:d<0?a:gL(i,a,u,l)}}function gL(e,i,a,u){return e.explicit&&i.explicit&&Yn(function(e,i,a,u){return`Conflicting ${i.toString()} property "${e.toString()}" (${qo(a)} and ${qo(u)}). Using ${qo(a)}.`}(a,u,e.value,i.value)),e}function F1(e,i,a,u,l=gL){return void 0===e||void 0===e.value?i:e.explicit&&!i.explicit?e:i.explicit&&!e.explicit?i:xS(e.value,i.value)?e:l(e,i,a,u)}class lfe extends K_{constructor(i={},a={},u=!1){super(i,a),this.explicit=i,this.implicit=a,this.parseNothing=u}clone(){const i=super.clone();return i.parseNothing=this.parseNothing,i}}function JS(e){return"url"in e}function _8(e){return"values"in e}function cfe(e){return"name"in e&&!JS(e)&&!_8(e)&&!Sx(e)}function Sx(e){return e&&(rX(e)||iX(e)||y8(e))}function rX(e){return"sequence"in e}function iX(e){return"sphere"in e}function y8(e){return"graticule"in e}const Cd="main",_L="raw";function dfe(e){return"filter"in e}function Nxe(e){return void 0!==(null==e?void 0:e.stop)}function ffe(e){return"lookup"in e}function mfe(e){return"pivot"in e}function gfe(e){return"density"in e}function sX(e){return"quantile"in e}function aX(e){return"regression"in e}function _fe(e){return"loess"in e}function v8(e){return"sample"in e}function yfe(e){return"window"in e}function oX(e){return"joinaggregate"in e}function vfe(e){return"flatten"in e}function bfe(e){return"calculate"in e}function uX(e){return"bin"in e}function lX(e){return"impute"in e}function xfe(e){return"timeUnit"in e}function Dfe(e){return"aggregate"in e}function wfe(e){return"stack"in e}function QS(e){return"fold"in e}function qS(e,i,a,u){const l=gl(i)&&i.condition,d=u(i);return l?{[a]:[...Ku(l).map(y=>{const b=u(y),C=function(e){return e.selection}(y)?iZ(e,y.selection):gA(e,y.test);return Object.assign({test:C},b)}),...void 0!==d?[d]:[]]}:void 0!==d?{[a]:d}:{}}function b8(e,i="text"){return qS(e,e.encoding[i],i,u=>eA(u,e.config))}function eA(e,i,a="datum"){if(e){if(Y_(e))return Ru(e.value);if($i(e)){const{format:u,formatType:l}=sL(e);return H5({fieldOrDatumDef:e,format:u,formatType:l,expr:a,config:i})}}}function cX(e,i={}){const{encoding:a,markDef:u,config:l,stack:d}=e,h=a.tooltip;if(li(h))return{tooltip:Efe({tooltip:h},d,l,i)};{const p=i.reactiveGeom?"datum.datum":"datum";return qS(e,h,"tooltip",y=>{const b=eA(y,l,p);if(b)return b;if(null===y)return;let C=Sa("tooltip",u,l);return!0===C&&(C={content:"encoding"}),ps(C)?{value:C}:tc(C)?"encoding"===C.content?Efe(a,d,l,i):{signal:p}:void 0})}}function dX(e,i,a,{reactiveGeom:u}={}){const l={},d=u?"datum.datum":"datum",h=[];function p(b,C){const M=H_(C),O=Xf(b)?b:Object.assign(Object.assign({},b),{type:e[M].type}),H=Ku(N1(O,a,{allowDisabling:!1})).join(", ");let Y;if(u0(C)){const te="x"===C?"x2":"y2",se=p0(e[te]);if(bu(O.bin)&&se){const ye=Zn(O,{expr:d}),Ce=Zn(se,{expr:d}),{format:Ve,formatType:Ue}=sL(O);Y=k1(ye,Ce,Ve,Ue,a),l[te]=!0}else if(i&&i.fieldChannel===C&&"normalize"===i.offset){const{format:ye,formatType:Ce}=sL(O);Y=H5({fieldOrDatumDef:O,format:ye,formatType:Ce,expr:d,config:a,normalizeStack:!0}).signal}}Y=null!=Y?Y:eA(O,a,d).signal,h.push({channel:C,key:H,value:Y})}n8(e,(b,C)=>{_r(b)?p(b,C):vx(b)&&p(b.condition,C)});const y={};for(const{channel:b,key:C,value:M}of h)!l[b]&&!y[C]&&(y[Ns(C)]=M);return y}function Efe(e,i,a,{reactiveGeom:u}={}){const d=HY(dX(e,i,a,{reactiveGeom:u})).map(({key:h,value:p})=>`${h}: ${p}`);return d.length>0?{signal:`{${d.join(", ")}}`}:void 0}function rc(e,i,a={}){const{markDef:u,encoding:l,config:d}=i,{vgChannel:h}=a;let{defaultRef:p,defaultValue:y}=a;return void 0===p&&(y=null!=y?y:Sa(e,u,d,{vgChannel:h,ignoreVgConfig:!0}),void 0!==y&&(p=Ru(y))),qS(i,l[e],null!=h?h:e,C=>qG({channel:e,channelDef:C,markDef:u,config:d,scaleName:i.scaleName(e),scale:i.getScaleComponent(e),stack:null,defaultRef:p}))}function fX(e,i={filled:void 0}){var a,u,l,d;const{markDef:h,encoding:p,config:y}=e,{type:b}=h,C=null!==(a=i.filled)&&void 0!==a?a:Sa("filled",h,y),M=fi(["bar","point","circle","square","geoshape"],b)?"transparent":void 0,O=null!==(l=null!==(u=Sa(!0===C?"color":void 0,h,y,{vgChannel:"fill"}))&&void 0!==u?u:y.mark[!0===C&&"color"])&&void 0!==l?l:M,H=null!==(d=Sa(!1===C?"color":void 0,h,y,{vgChannel:"stroke"}))&&void 0!==d?d:y.mark[!1===C&&"color"],Y=C?"fill":"stroke",te=Object.assign(Object.assign({},O?{fill:Ru(O)}:{}),H?{stroke:Ru(H)}:{});return h.color&&(C?h.fill:h.stroke)&&Yn(I5("property",{fill:"fill"in h,stroke:"stroke"in h})),Object.assign(Object.assign(Object.assign(Object.assign({},te),rc("color",e,{vgChannel:Y,defaultValue:C?O:H})),rc("fill",e,{defaultValue:p.fill?O:void 0})),rc("stroke",e,{defaultValue:p.stroke?H:void 0}))}function tA(e,i){const u=i[function(e){switch(e){case vu:return"xOffset";case Il:return"yOffset";case Rm:return"x2Offset";case r0:return"y2Offset";case Bm:return"thetaOffset";case i0:return"radiusOffset";case $_:return"theta2Offset";case B_:return"radius2Offset"}}(e)];if(u)return u}function Xu(e,i,{defaultPos:a,vgChannel:u,isMidPoint:l}){const{encoding:d,markDef:h,config:p,stack:y}=i,b=d[e],C=d[o0(e)],M=i.scaleName(e),O=i.getScaleComponent(e),H=tA(e,h),Y=x8({model:i,defaultPos:a,channel:e,scaleName:M,scale:O}),te=!b&&u0(e)&&(d.latitude||d.longitude)?{field:i.getName(e)}:function(e){const{channel:i,channelDef:a,isMidPoint:u,scaleName:l,stack:d,offset:h,markDef:p,config:y}=e;if($i(a)&&d&&i===d.fieldChannel){if(_r(a)){const b=YS({channel:i,fieldDef:a,isMidPoint:u,markDef:p,stack:d,config:y});if(void 0!==b)return eL({scaleName:l,fieldOrDatumDef:a,startSuffix:"start",band:b,offset:h})}return c0(a,l,{suffix:"end"},{offset:h})}return T1(e)}({channel:e,channelDef:b,channel2Def:C,markDef:h,config:p,isMidPoint:l,scaleName:M,scale:O,stack:y,offset:H,defaultRef:Y});return te?{[u||e]:te}:void 0}function x8({model:e,defaultPos:i,channel:a,scaleName:u,scale:l}){const{markDef:d,config:h}=e;return()=>{const p=H_(a),y=ux(a),b=Sa(a,d,h,{vgChannel:y});if(void 0!==b)return WS(a,b);switch(i){case"zeroOrMin":case"zeroOrMax":if(u){if(!fi(["log","time","utc"],l.get("type"))&&l.domainDefinitelyIncludesZero())return{scale:u,value:0}}if("zeroOrMin"===i)return"y"===p?{field:{group:"height"}}:{value:0};switch(p){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const C=e[Nl(a)];return Object.assign(Object.assign({},C),{mult:.5})}}}}const Tfe={left:"x",center:"xc",right:"x2"},kfe={top:"y",middle:"yc",bottom:"y2"};function hX(e,i,a,u="middle"){if("radius"===e||"theta"===e)return ux(e);const d=Sa("x"===e?"align":"baseline",i,a);return"x"===e?Tfe[d||("top"===u?"left":"center")]:kfe[d||u]}function yL(e,i,{defaultPos:a,defaultPos2:u,range:l}){return l?pX(e,i,{defaultPos:a,defaultPos2:u}):Xu(e,i,{defaultPos:a})}function pX(e,i,{defaultPos:a,defaultPos2:u}){const{markDef:l,config:d}=i,h=o0(e),p=Nl(e),y=function(e,i,a){const{encoding:u,mark:l,markDef:d,stack:h,config:p}=e,y=H_(a),b=Nl(a),C=ux(a),M=u[y],O=e.scaleName(y),H=e.getScaleComponent(y),Y=tA(a in u||a in d?a:y,e.markDef);if(!M&&("x2"===a||"y2"===a)&&(u.latitude||u.longitude))return{[C]:{field:e.getName(a)}};const te=function({channel:e,channelDef:i,channel2Def:a,markDef:u,config:l,scaleName:d,scale:h,stack:p,offset:y,defaultRef:b}){return $i(i)&&p&&e.charAt(0)===p.fieldChannel.charAt(0)?c0(i,d,{suffix:"start"},{offset:y}):T1({channel:e,channelDef:a,scaleName:d,scale:h,stack:p,markDef:u,config:l,offset:y,defaultRef:b})}({channel:a,channelDef:M,channel2Def:u[a],markDef:d,config:p,scaleName:O,scale:H,stack:h,offset:Y,defaultRef:void 0});return void 0!==te?{[C]:te}:vL(a,d)||vL(a,{[a]:uL(a,d,p.style),[b]:uL(b,d,p.style)})||vL(a,p[l])||vL(a,p.mark)||{[C]:x8({model:e,defaultPos:i,channel:a,scaleName:O,scale:H})()}}(i,u,h),b=y[p]?hX(e,l,d):ux(e);return Object.assign(Object.assign({},Xu(e,i,{defaultPos:a,vgChannel:b})),y)}function vL(e,i){const a=Nl(e),u=ux(e);return void 0!==i[u]?{[u]:WS(e,i[u])}:void 0!==i[e]?{[u]:WS(e,i[e])}:i[a]?{[a]:WS(e,i[a])}:void 0}function X_(e,i,a){var u,l,d,h;const{config:p,encoding:y,markDef:b,stack:C}=e,M=o0(i),O=Nl(i),H=y[i],Y=y[M],te=e.getScaleComponent(i),se=te?te.get("type"):void 0,ye=e.scaleName(i),Ce=b.orient,Ve=null!==(l=null!==(u=y[O])&&void 0!==u?u:y.size)&&void 0!==l?l:Sa("size",b,p,{vgChannel:O}),Ue="bar"===a&&("x"===i?"vertical"===Ce:"horizontal"===Ce);if(_r(H)&&(Eo(H.bin)||bu(H.bin)||H.timeUnit&&!Y)&&!Ve&&!uf(se)){const qe=YS({channel:i,fieldDef:H,stack:C,markDef:b,config:p}),tt=null===(d=e.component.axes[i])||void 0===d?void 0:d[0];return function({fieldDef:e,fieldDef2:i,channel:a,band:u,scaleName:l,markDef:d,spacing:h=0,axisTranslate:p,reverse:y,config:b}){const C=o0(a),M=ux(a),O=ux(C),H=tA(a,d);if(Eo(e.bin)||e.timeUnit)return{[O]:mX({channel:a,fieldDef:e,scaleName:l,markDef:d,band:(1-u)/2,offset:bL(C,h,y,p,H),config:b}),[M]:mX({channel:a,fieldDef:e,scaleName:l,markDef:d,band:1-(1-u)/2,offset:bL(a,h,y,p,H),config:b})};if(bu(e.bin)){const Y=c0(e,l,{},{offset:bL(C,h,y,p,H)});if(_r(i))return{[O]:Y,[M]:c0(i,l,{},{offset:bL(a,h,y,p,H)})};if(iC(e.bin)&&e.bin.step)return{[O]:Y,[M]:{signal:`scale("${l}", ${Zn(e,{expr:"datum"})} + ${e.bin.step})`,offset:bL(a,h,y,p,H)}}}Yn(CG(C))}({fieldDef:H,fieldDef2:Y,channel:i,markDef:b,scaleName:ye,band:qe,axisTranslate:null!==(h=null==tt?void 0:tt.get("translate"))&&void 0!==h?h:.5,spacing:u0(i)?Sa("binSpacing",b,p):void 0,reverse:te.get("reverse"),config:p})}return($i(H)&&uf(se)||Ue)&&!Y?function(e,i,a,u){var l;const{markDef:d,encoding:h,config:p,stack:y}=u,b=d.orient,C=u.scaleName(a),M=u.getScaleComponent(a),O=Nl(a),H=o0(a),Y="horizontal"===b&&"y"===a||"vertical"===b&&"x"===a,te=Sa(Y?"size":O,d,p,{vgChannel:O});let se;(h.size||void 0!==te)&&(Y?se=rc("size",u,{vgChannel:O,defaultValue:te}):Yn(function(e){return`Cannot apply size to non-oriented mark "${e}".`}(d.type)));const ye=null!==(l=$i(i)?YS({channel:a,fieldDef:i,markDef:d,stack:y,config:p}):void 0)&&void 0!==l?l:1;se=se||{[O]:Ofe(e,O,C,M,p,ye)};const Ce="band"!==(null==M?void 0:M.get("type"))||!("band"in se[O]),Ve=hX(a,d,p,Ce?"middle":"top"),Ue=tA(a,d),qe=T1({channel:a,channelDef:i,markDef:d,config:p,scaleName:C,scale:M,stack:y,offset:Ue,defaultRef:x8({model:u,defaultPos:"mid",channel:a,scaleName:C,scale:M}),band:Ce?.5:(1-ye)/2});if(O)return Object.assign({[Ve]:qe},se);{const tt=ux(H),Ge=se[O],mt=Ue?Object.assign(Object.assign({},Ge),{offset:Ue}):Ge;return{[Ve]:qe,[tt]:li(qe)?[qe[0],Object.assign(Object.assign({},qe[1]),{offset:mt})]:Object.assign(Object.assign({},qe),{offset:mt})}}}(a,H,i,e):pX(i,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Ofe(e,i,a,u,l,d){if(u){const y=u.get("type");if("point"===y||"band"===y){if(void 0!==l[e].discreteBandSize)return{value:l[e].discreteBandSize};if("point"===y){const b=u.get("range");return S1(b)&&hl(b.step)?{value:b.step-2}:{value:L1-2}}return{scale:a,band:d}}return{value:l[e].continuousBandSize}}const h=Ex(l.view,i),p=pl(l[e].discreteBandSize,h-2);return void 0!==p?{value:p}:void 0}function bL(e,i,a,u,l){if(uG(e))return 0;const d="x"===e||"y2"===e?-i/2:i/2;if(Si(a)){const h=dC(l);return{signal:`${a.signal} ? ${u-d}${h?"-"+h:""} : ${u+d}${h?"+"+h:""}`}}if(Si(l)){const h=u+(a?-d:d);return{signal:`${h||""}${a?" - ":h?" + ":""}${l.signal}`}}return l=l||0,u+(a?-l-d:+l+d)}function mX({channel:e,fieldDef:i,scaleName:a,markDef:u,band:l,offset:d,config:h}){return QG({fieldDef:i,channel:e,markDef:u,ref:eL({scaleName:a,fieldOrDatumDef:i,band:l,offset:d}),config:h})}const Fxe=new Set(["aria"]);function Um(e,i){const{fill:a,stroke:u}="include"===i.color?fX(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,i){return Ice.reduce((a,u)=>(!Fxe.has(u)&&void 0!==e[u]&&"ignore"!==i[u]&&(a[u]=Ru(e[u])),a),{})}(e.markDef,i)),gX(e,"fill",a)),gX(e,"stroke",u)),rc("opacity",e)),rc("fillOpacity",e)),rc("strokeOpacity",e)),rc("strokeWidth",e)),rc("strokeDash",e)),cX(e)),b8(e,"href")),function(e){const{markDef:i,config:a}=e,u=Sa("aria",i,a);return!1===u?{}:Object.assign(Object.assign(Object.assign({},u?{aria:u}:{}),function(e){const{mark:i,markDef:a,config:u}=e;if(!1===u.aria)return{};const l=Sa("ariaRoleDescription",a,u);return null!=l?{ariaRoleDescription:{value:l}}:i in Nce?{}:{ariaRoleDescription:{value:i}}}(e)),function(e){const{encoding:i,markDef:a,config:u,stack:l}=e,d=i.description;if(d)return qS(e,d,"description",y=>eA(y,e.config));const h=Sa("description",a,u);if(null!=h)return{description:Ru(h)};if(!1===u.aria)return{};const p=dX(i,l,u);return qa(p)?void 0:{description:{signal:HY(p).map(({key:y,value:b})=>`${y} + ": " + (${b})`).join(' + "; " + ')}}}(e))}(e))}function gX(e,i,a){const{config:u,mark:l,markDef:d}=e;if("hide"===Sa("invalid",d,u)&&a&&!ix(l)){const p=function(e,{invalid:i=!1,channels:a}){const u=a.reduce((d,h)=>{const p=e.getScaleComponent(h);if(p){const y=p.get("type"),b=e.vgField(h,{expr:"datum"});b&&Pp(y)&&(d[b]=!0)}return d},{}),l=Wn(u);if(l.length>0){const d=i?"||":"&&";return l.map(h=>W5(h,i)).join(` ${d} `)}}(e,{invalid:!0,channels:YO});if(p)return{[i]:[{test:p,value:null},...Ku(a)]}}return a?{[i]:a}:{}}function D8(e){const{config:i,markDef:a}=e;if(Sa("invalid",a,i)){const l=function(e,{invalid:i=!1,channels:a}){const u=a.reduce((d,h)=>{const p=e.getScaleComponent(h);if(p){const y=p.get("type"),b=e.vgField(h,{expr:"datum"});b&&Pp(y)&&(d[b]=!0)}return d},{}),l=Wn(u);if(l.length>0){const d=i?"||":"&&";return l.map(h=>W5(h,i)).join(` ${d} `)}}(e,{channels:Op});if(l)return{defined:{signal:l}}}return{}}function _X(e,i){if(void 0!==i)return{[e]:Ru(i)}}const w8="voronoi",yX={has:e=>"interval"!==e.type&&e.nearest,parse:(e,i)=>{if(i.events)for(const a of i.events)a.markname=e.getName(w8)},marks:(e,i,a)=>{const{x:u,y:l}=i.project.hasChannel,d=e.mark;if(ix(d))return Yn(function(e){return`The "nearest" transform is not supported for ${e} marks.`}(d)),a;const h={name:e.getName(w8),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},cX(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:u||!l?"datum.datum.x || 0":"0"},y:{expr:l||!u?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let p=0,y=!1;return a.forEach((b,C)=>{var M;const O=null!==(M=b.name)&&void 0!==M?M:"";O===e.component.mark[0].name?p=C:O.indexOf(w8)>=0&&(y=!0)}),y||a.splice(p+1,0,h),a}};class to{constructor(i,a){this.debugName=a,this._children=[],this._parent=null,i&&(this.parent=i)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(i){this._parent=i,i&&i.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(i,a){this._children.indexOf(i)>-1?console.warn("Attempt to add the same child twice."):void 0!==a?this._children.splice(a,0,i):this._children.push(i)}removeChild(i){const a=this._children.indexOf(i);return this._children.splice(a,1),a}remove(){let i=this._parent.removeChild(this);for(const a of this._children)a._parent=this._parent,this._parent.addChild(a,i++)}insertAsParentOf(i){const a=i.parent;a.removeChild(this),this.parent=a,i.parent=this}swapWithParent(){const i=this._parent,a=i.parent;for(const u of this._children)u.parent=i;this._children=[],i.removeChild(this),i.parent.removeChild(i),this.parent=a,i.parent=this}}class Zf extends to{constructor(i,a,u,l){super(i,a),this.type=u,this.refCounts=l,this._source=this._name=a,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const i=new this.constructor;return i.debugName="clone_"+this.debugName,i._source=this._source,i._name="clone_"+this._name,i.type=this.type,i.refCounts=this.refCounts,i.refCounts[i._name]=0,i}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${function(e){const i=++MS;return i}()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(i){this._source=i}}class _0 extends to{constructor(i,a){super(i),this.formula=a}clone(){return new _0(null,ms(this.formula))}static makeFromEncoding(i,a){const u=a.reduceFieldDef((l,d,h)=>{const{field:p,timeUnit:y}=d,b=xu(a)?a.encoding[o0(h)]:void 0,C=xu(a)&&ys(h,d,b,a.stack,a.markDef,a.config);if(y){const M=Zn(d,{forAs:!0});l[zs({as:M,field:p,timeUnit:y})]=Object.assign({as:M,field:p,timeUnit:y},C?{band:!0}:{})}return l},{});return qa(u)?null:new _0(i,u)}static makeFromTransform(i,a){const u=Object.assign({},a),{timeUnit:l}=u,d=ti(u,["timeUnit"]),h=af(l),p=Object.assign(Object.assign({},d),{timeUnit:h});return new _0(i,{[zs(p)]:p})}merge(i){this.formula=Object.assign({},this.formula);for(const a in i.formula)(!this.formula[a]||i.formula[a].band)&&(this.formula[a]=i.formula[a]);for(const a of i.children)i.removeChild(a),a.parent=this;i.remove()}producedFields(){return new Set(y1(this.formula).map(i=>i.as))}dependentFields(){return new Set(y1(this.formula).map(i=>i.field))}hash(){return`TimeUnit ${zs(this.formula)}`}assemble(){const i=[];for(const a of y1(this.formula)){const{field:u,as:l,timeUnit:d}=a,h=af(d),{unit:p,utc:y}=h,b=ti(h,["unit","utc"]);i.push(Object.assign(Object.assign(Object.assign(Object.assign({field:F_(u),type:"timeunit"},p?{units:L5(p)}:{}),y?{timezone:"utc"}:{}),b),{as:[l,`${l}_end`]}))}return i}}const nA="_tuple_fields";class Rxe{constructor(...i){this.items=i,this.hasChannel={},this.hasField={}}}const Bfe={has:e=>"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!l8(e.bind),parse:(e,i,a,u)=>{u.on||delete i.events,u.clear||delete i.clear},topLevelSignals:(e,i,a)=>{const u=i.name,l=i.project,d=i.bind,h=i.init&&i.init[0],p=yX.has(i)?"(item().isVoronoi ? datum.datum : datum)":"datum";return l.items.forEach((y,b)=>{var C,M;const O=eu(`${u}_${y.field}`);a.filter(Y=>Y.name===O).length||a.unshift(Object.assign(Object.assign({name:O},h?{init:gC(h[b])}:{value:null}),{on:i.events?[{events:i.events,update:`datum && item().mark.marktype !== 'group' ? ${p}[${Ns(y.field)}] : null`}]:[],bind:null!==(M=null!==(C=d[y.field])&&void 0!==C?C:d[y.channel])&&void 0!==M?M:d}))}),a},signals:(e,i,a)=>{const u=i.name,l=i.project,d=a.filter(b=>b.name===u+y0)[0],h=u+nA,p=l.items.map(b=>eu(`${u}_${b.field}`)),y=p.map(b=>`${b} !== null`).join(" && ");return p.length&&(d.update=`${y} ? {fields: ${h}, values: [${p.join(", ")}]} : null`),delete d.value,delete d.on,a}},C8="_toggle",vX={has:e=>"multi"===e.type&&!!e.toggle,signals:(e,i,a)=>a.concat({name:i.name+C8,value:!1,on:[{events:i.events,update:i.toggle}]}),modifyExpr:(e,i)=>{const a=i.name+y0,u=i.name+C8;return`${u} ? null : ${a}, `+("global"===i.resolve?`${u} ? null : true, `:`${u} ? null : {unit: ${Z_(e)}}, `)+`${u} ? ${a} : null`}},$fe={has:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,i,a)=>{a.clear&&(i.clear=ps(a.clear)?ex(a.clear,"scope"):a.clear)},topLevelSignals:(e,i,a)=>{if(Bfe.has(i))for(const u of i.project.items){const l=a.findIndex(d=>d.name===eu(`${i.name}_${u.field}`));-1!==l&&a[l].on.push({events:i.clear,update:"null"})}return a},signals:(e,i,a)=>{function u(l,d){-1!==l&&a[l].on&&a[l].on.push({events:i.clear,update:d})}if("interval"===i.type)for(const l of i.project.items){const d=a.findIndex(h=>h.name===l.signals.visual);u(d,"[0, 0]"),-1===d&&u(a.findIndex(p=>p.name===l.signals.data),"null")}else{let l=a.findIndex(d=>d.name===i.name+y0);u(l,"null"),vX.has(i)&&(l=a.findIndex(d=>d.name===i.name+C8),u(l,"false"))}return a}},Ax={has:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,i)=>{const a=i.scales=[];for(const u of i.project.items){const l=u.channel;if(!lx(l))continue;const d=e.getScaleComponent(l),h=d?d.get("type"):void 0;d&&Pp(h)?(d.set("selectionExtent",{selection:i.name,field:u.field},!0),a.push(u)):Yn("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,i,a)=>{const u=i.scales.filter(h=>0===a.filter(p=>p.name===h.signals.data).length);if(!e.parent||M8(e)||0===u.length)return a;const l=a.filter(h=>h.name===i.name)[0];let d=l.update;if(d.indexOf(SX)>=0)l.update=`{${u.map(h=>`${Ns(h.field)}: ${h.signals.data}`).join(", ")}}`;else{for(const h of u){const p=`${Ns(h.field)}: ${h.signals.data}`;d.indexOf(p)<0&&(d=`${d.substring(0,d.length-1)}, ${p}}`)}l.update=d}return a.concat(u.map(h=>({name:h.signals.data})))},signals:(e,i,a)=>{if(e.parent&&!M8(e))for(const u of i.scales){const l=a.filter(d=>d.name===u.signals.data)[0];l.push="outer",delete l.value,delete l.update}return a}};function E8(e,i){return`domain(${Ns(e.scaleName(i))})`}function M8(e){var i;return e.parent&&Y1(e.parent)&&(null!==(i=!e.parent.parent)&&void 0!==i?i:M8(e.parent.parent))}const Vfe={has:e=>{const i="global"===e.resolve&&e.bind&&l8(e.bind),a=1===e.project.items.length&&e.project.items[0].field!==pC;return i&&!a&&Yn("Legend bindings are only supported for selections over an individual field or encoding channel."),i&&a},parse:(e,i,a,u)=>{var l;if(u.on||delete i.events,u.clear||delete i.clear,u.on||u.clear){const p='event.item && indexof(event.item.mark.role, "legend") < 0';for(const y of i.events)y.filter=Ku(null!==(l=y.filter)&&void 0!==l?l:[]),y.filter.indexOf(p)<0&&y.filter.push(p)}const d=c8(i.bind)?i.bind.legend:"click",h=ps(d)?ex(d,"view"):Ku(d);i.bind={legend:{merge:h}}},topLevelSignals:(e,i,a)=>{const u=i.name,l=c8(i.bind)&&i.bind.legend,d=h=>p=>{const y=ms(p);return y.markname=h,y};for(const h of i.project.items){if(!h.hasLegend)continue;const p=`${eu(h.field)}_legend`,y=`${u}_${p}`;if(0===a.filter(C=>C.name===y).length){const C=l.merge.map(d(`${p}_symbols`)).concat(l.merge.map(d(`${p}_labels`))).concat(l.merge.map(d(`${p}_entries`)));a.unshift(Object.assign(Object.assign({name:y},i.init?{}:{value:null}),{on:[{events:C,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:l.merge,update:`!event.item || !datum ? null : ${y}`,force:!0}]}))}}return a},signals:(e,i,a)=>{const u=i.name,l=i.project,d=a.find(O=>O.name===u+y0),h=u+nA,p=l.items.filter(O=>O.hasLegend).map(O=>eu(`${u}_${eu(O.field)}_legend`)),b=`${p.map(O=>`${O} !== null`).join(" && ")} ? {fields: ${h}, values: [${p.join(", ")}]} : null`;i.events&&p.length>0?d.on.push({events:p.map(O=>({signal:O})),update:b}):p.length>0&&(d.update=b,delete d.value,delete d.on);const C=a.find(O=>O.name===u+C8),M=c8(i.bind)&&i.bind.legend;return C&&(i.events?C.on.push(Object.assign(Object.assign({},C.on[0]),{events:M})):C.on[0].events=M),a}},Wfe="_translate_anchor",Hfe="_translate_delta",Ufe={has:e=>"interval"===e.type&&e.translate,signals:(e,i,a)=>{const u=i.name,l=Ax.has(i),d=u+Wfe,{x:h,y:p}=i.project.hasChannel;let y=ex(i.translate,"scope");return l||(y=y.map(b=>(b.between[0].markname=u+rA,b))),a.push({name:d,value:{},on:[{events:y.map(b=>b.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==h?", extent_x: "+(l?E8(e,vu):`slice(${h.signals.visual})`):"")+(void 0!==p?", extent_y: "+(l?E8(e,Il):`slice(${p.signals.visual})`):"")+"}"}]},{name:u+Hfe,value:{},on:[{events:y,update:`{x: ${d}.x - x(unit), y: ${d}.y - y(unit)}`}]}),void 0!==h&&Yfe(e,i,h,"width",a),void 0!==p&&Yfe(e,i,p,"height",a),a}};function Yfe(e,i,a,u,l){var d;const h=i.name,p=h+Wfe,y=h+Hfe,b=a.channel,C=Ax.has(i),M=l.filter(Ue=>Ue.name===a.signals[C?"data":"visual"])[0],O=e.getSizeSignalRef(u).signal,H=e.getScaleComponent(b),Y=H.get("type"),se=`${p}.extent_${b}`,Ve=`${C?"log"===Y?"panLog":"pow"===Y?"panPow":"panLinear":"panLinear"}(${se}, ${`${C&&b===vu?"-":""}${y}.${b} / `+(C?`${O}`:`span(${se})`)}`+(C&&"pow"===Y?`, ${null!==(d=H.get("exponent"))&&void 0!==d?d:1}`:"")+")";M.on.push({events:{signal:y},update:C?Ve:`clampRange(${Ve}, 0, ${O})`})}const bX="_zoom_anchor",xX="_zoom_delta",jxe={has:e=>"interval"===e.type&&e.zoom,signals:(e,i,a)=>{const u=i.name,l=Ax.has(i),d=u+xX,{x:h,y:p}=i.project.hasChannel,y=Ns(e.scaleName(vu)),b=Ns(e.scaleName(Il));let C=ex(i.zoom,"scope");return l||(C=C.map(M=>(M.markname=u+rA,M))),a.push({name:u+bX,on:[{events:C,update:l?"{"+[y?`x: invert(${y}, x(unit))`:"",b?`y: invert(${b}, y(unit))`:""].filter(M=>!!M).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:d,on:[{events:C,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==h&&DX(e,i,h,"width",a),void 0!==p&&DX(e,i,p,"height",a),a}};function DX(e,i,a,u,l){var d;const h=i.name,p=a.channel,y=Ax.has(i),b=l.filter(Ce=>Ce.name===a.signals[y?"data":"visual"])[0],C=e.getSizeSignalRef(u).signal,M=e.getScaleComponent(p),O=M.get("type"),H=y?E8(e,p):b.name,Y=h+xX,ye=`${y?"log"===O?"zoomLog":"pow"===O?"zoomPow":"zoomLinear":"zoomLinear"}(${H}, ${h}${bX}.${p}, ${Y}`+(y&&"pow"===O?`, ${null!==(d=M.get("exponent"))&&void 0!==d?d:1}`:"")+")";b.on.push({events:{signal:Y},update:y?ye:`clampRange(${ye}, 0, ${C})`})}const Gfe=[{has:()=>!0,parse:(e,i,a)=>{var u,l,d;const h=i.name,p=null!==(u=i.project)&&void 0!==u?u:i.project=new Rxe,y={},b={},C=new Set,M=(O,H)=>{const Y="visual"===H?O.channel:O.field;let te=eu(`${h}_${Y}`);for(let se=1;C.has(te);se++)te=eu(`${h}_${Y}_${se}`);return C.add(te),{[H]:te}};if(!a.fields&&!a.encodings){const O=e.config.selection[a.type];if(a.init)for(const H of Ku(a.init))for(const Y of Wn(H))Ele(Y)?(a.encodings||(a.encodings=[])).push(Y):"interval"===a.type?(Yn('Interval selections should be initialized using "x" and/or "y" keys.'),a.encodings=O.encodings):(a.fields||(a.fields=[])).push(Y);else a.encodings=O.encodings,a.fields=O.fields}for(const O of null!==(l=a.fields)&&void 0!==l?l:[]){const H={type:"E",field:O};H.signals=Object.assign({},M(H,"data")),p.items.push(H),p.hasField[O]=H}for(const O of null!==(d=a.encodings)&&void 0!==d?d:[]){const H=e.fieldDef(O);if(H){let Y=H.field;if(H.aggregate){Yn(Fle(O,H.aggregate));continue}if(!Y){Yn(BS(O));continue}if(H.timeUnit){Y=e.vgField(O);const te={timeUnit:H.timeUnit,as:Y,field:H.field};b[zs(te)]=te}if(!y[Y]){let te="E";"interval"===i.type?Pp(e.getScaleComponent(O).get("type"))&&(te="R"):H.bin&&(te="R-RE");const se={field:Y,channel:O,type:te};se.signals=Object.assign(Object.assign({},M(se,"data")),M(se,"visual")),p.items.push(y[Y]=se),p.hasField[Y]=p.hasChannel[O]=y[Y]}}else Yn(BS(O))}if(a.init){const O=H=>p.items.map(Y=>void 0!==H[Y.channel]?H[Y.channel]:H[Y.field]);if("interval"===a.type)i.init=O(a.init);else{const H=Ku(a.init);i.init=H.map(O)}}qa(b)||(p.timeUnit=new _0(null,b))},signals:(e,i,a)=>{const u=i.name+nA;return a.filter(d=>d.name===u).length>0?a:a.concat({name:u,value:i.project.items.map(d=>{const y=ti(d,["signals","hasLegend"]);return y.field=F_(y.field),y})})}},vX,Ax,Vfe,Ufe,jxe,Bfe,yX,$fe];function xL(e,i){for(const a of Gfe)a.has(e)&&i(a)}function gC(e,i=!0,a=Cue){if(li(e)){const u=e.map(l=>gC(l,i,a));return i?`[${u.join(", ")}]`:u}return uC(e)?a(i?lC(e):function(e){const i=fx(e,!0);return e.utc?+new Date(Date.UTC(...i)):+new Date(...i)}(e)):i?a(JSON.stringify(e)):e}function Kfe(e,i){return kx(e,(a,u)=>{const l=a.name;let d=u.modifyExpr(e,a);i.push(...u.signals(e,a)),xL(a,h=>{h.signals&&(i=h.signals(e,a,i)),h.modifyExpr&&(d=h.modifyExpr(e,a,d))}),i.push({name:l+rhe,on:[{events:{signal:a.name+y0},update:`modify(${Ns(a.name+Tx)}, ${d})`}]})}),S8(i)}function Xfe(e,i){if(e.component.selection&&Wn(e.component.selection).length){const a=Ns(e.getName("cell"));i.unshift({name:"facet",value:{},on:[{events:ex("mousemove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]})}return S8(i)}function wX(e,i){return kx(e,(a,u)=>{i=u.marks?u.marks(e,a,i):i,xL(a,l=>{l.marks&&(i=l.marks(e,a,i))})}),i}function S8(e){return e.map(i=>(i.on&&!i.on.length&&delete i.on,i))}const rA="_brush",A8="_scale_trigger",qfe={signals:(e,i)=>{const a=i.name,u=a+nA,l=Ax.has(i),d=[],h=[],p=[];if(i.translate&&!l){const C=`!event.item || event.item.mark.name !== ${Ns(a+rA)}`;EX(i,(M,O)=>{var H;const Y=Ku(null!==(H=O.between[0].filter)&&void 0!==H?H:O.between[0].filter=[]);return Y.indexOf(C)<0&&Y.push(C),M})}i.project.items.forEach((C,M)=>{const O=C.channel;if(O!==vu&&O!==Il)return void Yn("Interval selections only support x and y encoding channels.");const Y=function(e,i,a,u){const l=a.channel,d=a.signals.visual,h=a.signals.data,p=Ax.has(i),y=Ns(e.scaleName(l)),b=e.getScaleComponent(l),C=b?b.get("type"):void 0,M=te=>`scale(${y}, ${te})`,O=e.getSizeSignalRef(l===vu?"width":"height").signal,H=`${l}(unit)`,Y=EX(i,(te,se)=>[...te,{events:se.between[0],update:`[${H}, ${H}]`},{events:se,update:`[${d}[0], clamp(${H}, 0, ${O})]`}]);return Y.push({events:{signal:i.name+A8},update:Pp(C)?`[${M(`${h}[0]`)}, ${M(`${h}[1]`)}]`:"[0, 0]"}),p?[{name:h,on:[]}]:[Object.assign(Object.assign({name:d},u?{init:gC(u,!0,M)}:{value:[]}),{on:Y}),Object.assign(Object.assign({name:h},u?{init:gC(u)}:{}),{on:[{events:{signal:d},update:`${d}[0] === ${d}[1] ? null : invert(${y}, ${d})`}]})]}(e,i,C,i.init?i.init[M]:null),te=C.signals.data,se=C.signals.visual,ye=Ns(e.scaleName(O)),Ve=Pp(e.getScaleComponent(O).get("type"))?"+":"";d.push(...Y),h.push(te),p.push({scaleName:e.scaleName(O),expr:`(!isArray(${te}) || (${Ve}invert(${ye}, ${se})[0] === ${Ve}${te}[0] && ${Ve}invert(${ye}, ${se})[1] === ${Ve}${te}[1]))`})}),l||d.push({name:a+A8,value:{},on:[{events:p.map(C=>({scale:C.scaleName})),update:p.map(C=>C.expr).join(" && ")+` ? ${a+A8} : {}`}]});const y=i.init,b=`unit: ${Z_(e)}, fields: ${u}, values`;return d.concat(Object.assign(Object.assign({name:a+y0},y?{init:`{${b}: ${gC(y)}}`}:{}),{on:[{events:[{signal:h.join(" || ")}],update:h.join(" && ")+` ? {${b}: [${h}]} : null`}]}))},modifyExpr:(e,i)=>i.name+y0+", "+("global"===i.resolve?"true":`{unit: ${Z_(e)}}`),marks:(e,i,a)=>{const u=i.name,{x:l,y:d}=i.project.hasChannel,h=l&&l.signals.visual,p=d&&d.signals.visual,y=`data(${Ns(i.name+Tx)})`;if(Ax.has(i))return a;const b={x:void 0!==l?{signal:`${h}[0]`}:{value:0},y:void 0!==d?{signal:`${p}[0]`}:{value:0},x2:void 0!==l?{signal:`${h}[1]`}:{field:{group:"width"}},y2:void 0!==d?{signal:`${p}[1]`}:{field:{group:"height"}}};if("global"===i.resolve)for(const se of Wn(b))b[se]=[Object.assign({test:`${y}.length && ${y}[0].unit === ${Z_(e)}`},b[se]),{value:0}];const C=i.mark,{fill:M,fillOpacity:O,cursor:H}=C,Y=ti(C,["fill","fillOpacity","cursor"]),te=Wn(Y).reduce((se,ye)=>(se[ye]=[{test:[void 0!==l&&`${h}[0] !== ${h}[1]`,void 0!==d&&`${p}[0] !== ${p}[1]`].filter(Ce=>Ce).join(" && "),value:Y[ye]},{value:null}],se),{});return[{name:u+rA+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:M},fillOpacity:{value:O}},update:b}},...a,{name:u+rA,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},H?{cursor:{value:H}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},b),te)}}]}};function EX(e,i){return e.events.reduce((a,u)=>u.between?i(a,u):(Yn(`${u} is not an ordered event stream for interval selections.`),a),[])}function MX(e,i){const a=i.name,u=a+nA,d="(item().isVoronoi ? datum.datum : datum)",h=i.project.items.map(b=>{const C=e.fieldDef(b.channel);return C&&C.bin?`[${d}[${Ns(e.vgField(b.channel,{}))}], ${d}[${Ns(e.vgField(b.channel,{binSuffix:"end"}))}]]`:`${d}[${Ns(b.field)}]`}).join(", "),p=`unit: ${Z_(e)}, fields: ${u}, values`,y=i.events;return[{name:a+y0,on:y?[{events:y,update:`datum && item().mark.marktype !== 'group' ? {${p}: [${h}]} : null`,force:!0}]:[]}]}const the={signals:MX,modifyExpr:(e,i)=>i.name+y0+", "+("global"===i.resolve?"null":`{unit: ${Z_(e)}}`)},nhe={signals:MX,modifyExpr:(e,i)=>i.name+y0+", "+("global"===i.resolve?"true":`{unit: ${Z_(e)}}`)},Tx="_store",y0="_tuple",rhe="_modify",SX="vlSelectionResolve",ihe={single:nhe,multi:the,interval:qfe};function kx(e,i){const a=e.component.selection;if(a)for(const u of y1(a))if(!0===i(u,ihe[u.type]))break}function Z_(e,{escape:i}={escape:!0}){let a=i?Ns(e.name):e.name;const u=function(e){let i=e.parent;for(;i&&!Qm(i);)i=i.parent;return i}(e);if(u){const{facet:l}=u;for(const d of Hh)l[d]&&(a+=` + '__facet_${d}_' + (facet[${Ns(u.vgField(d))}])`)}return a}function T8(e){let i=!1;return kx(e,a=>{i=i||a.project.items.some(u=>u.field===pC)}),i}function v0(e){this.type=e}var Ym,Vr,mn,Wc,$a;v0.prototype.visit=function(e){let i,a,u;if(e(this))return 1;for(i=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this),a=0,u=i.length;a<u;++a)if(i[a].visit(e))return 1},(Ym={})[1]="Boolean",Ym[2]="<end>",Ym[3]="Identifier",Ym[4]="Keyword",Ym[5]="Null",Ym[6]="Numeric",Ym[7]="Punctuator",Ym[8]="String",Ym[9]="RegularExpression";var AX="Identifier",Hc="Unexpected token %0",k8="Invalid regular expression",wL="Invalid regular expression: missing /",kX="Octal literals are not allowed in strict mode.",Ed="ILLEGAL",uA="Disabled.",Ohe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Lhe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function CL(e,i){if(!e)throw new Error("ASSERT: "+i)}function b0(e){return e>=48&&e<=57}function I8(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function EL(e){return"01234567".indexOf(e)>=0}function Fhe(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function lA(e){return 10===e||13===e||8232===e||8233===e}function cA(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Ohe.test(String.fromCharCode(e))}function N8(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Lhe.test(String.fromCharCode(e))}var Phe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function IX(){for(var e;mn<Wc&&(Fhe(e=Vr.charCodeAt(mn))||lA(e));)++mn}function O8(e){var i,a,u,l=0;for(a="u"===e?4:2,i=0;i<a;++i)mn<Wc&&I8(Vr[mn])?(u=Vr[mn++],l=16*l+"0123456789abcdef".indexOf(u.toLowerCase())):xa({},Hc,Ed);return String.fromCharCode(l)}function Kxe(){var e,i;for(i=0,"}"===(e=Vr[mn])&&xa({},Hc,Ed);mn<Wc&&I8(e=Vr[mn++]);)i=16*i+"0123456789abcdef".indexOf(e.toLowerCase());return(i>1114111||"}"!==e)&&xa({},Hc,Ed),i<=65535?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10),56320+(i-65536&1023))}function NX(){var e,i;for(e=Vr.charCodeAt(mn++),i=String.fromCharCode(e),92===e&&(117!==Vr.charCodeAt(mn)&&xa({},Hc,Ed),++mn,(!(e=O8("u"))||"\\"===e||!cA(e.charCodeAt(0)))&&xa({},Hc,Ed),i=e);mn<Wc&&N8(e=Vr.charCodeAt(mn));)++mn,i+=String.fromCharCode(e),92===e&&(i=i.substr(0,i.length-1),117!==Vr.charCodeAt(mn)&&xa({},Hc,Ed),++mn,(!(e=O8("u"))||"\\"===e||!N8(e.charCodeAt(0)))&&xa({},Hc,Ed),i+=e);return i}function L8(){var a,l,d,h,e=mn,i=Vr.charCodeAt(mn),u=Vr[mn];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++mn,{type:7,value:String.fromCharCode(i),start:e,end:mn};default:if(61===(a=Vr.charCodeAt(mn+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return mn+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(a),start:e,end:mn};case 33:case 61:return 61===Vr.charCodeAt(mn+=2)&&++mn,{type:7,value:Vr.slice(e,mn),start:e,end:mn}}}return">>>="===(h=Vr.substr(mn,4))?{type:7,value:h,start:e,end:mn+=4}:">>>"===(d=h.substr(0,3))||"<<="===d||">>="===d?{type:7,value:d,start:e,end:mn+=3}:u===(l=d.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===l?{type:7,value:l,start:e,end:mn+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:e,end:++mn}:void xa({},Hc,Ed)}function OX(){var e,i,a;if(CL(b0((a=Vr[mn]).charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),i=mn,e="","."!==a){if(e=Vr[mn++],a=Vr[mn],"0"===e){if("x"===a||"X"===a)return++mn,function(e){for(var i="";mn<Wc&&I8(Vr[mn]);)i+=Vr[mn++];return 0===i.length&&xa({},Hc,Ed),cA(Vr.charCodeAt(mn))&&xa({},Hc,Ed),{type:6,value:parseInt("0x"+i,16),start:e,end:mn}}(i);if(EL(a))return function(e){for(var i="0"+Vr[mn++];mn<Wc&&EL(Vr[mn]);)i+=Vr[mn++];return(cA(Vr.charCodeAt(mn))||b0(Vr.charCodeAt(mn)))&&xa({},Hc,Ed),{type:6,value:parseInt(i,8),octal:!0,start:e,end:mn}}(i);a&&b0(a.charCodeAt(0))&&xa({},Hc,Ed)}for(;b0(Vr.charCodeAt(mn));)e+=Vr[mn++];a=Vr[mn]}if("."===a){for(e+=Vr[mn++];b0(Vr.charCodeAt(mn));)e+=Vr[mn++];a=Vr[mn]}if("e"===a||"E"===a)if(e+=Vr[mn++],("+"===(a=Vr[mn])||"-"===a)&&(e+=Vr[mn++]),b0(Vr.charCodeAt(mn)))for(;b0(Vr.charCodeAt(mn));)e+=Vr[mn++];else xa({},Hc,Ed);return cA(Vr.charCodeAt(mn))&&xa({},Hc,Ed),{type:6,value:parseFloat(e),start:i,end:mn}}function LX(){var e;return IX(),mn>=Wc?{type:2,start:mn,end:mn}:cA(e=Vr.charCodeAt(mn))?function(){var e,i;return e=mn,{type:1===(i=92===Vr.charCodeAt(mn)?NX():function(){var e,i;for(e=mn++;mn<Wc;){if(92===(i=Vr.charCodeAt(mn)))return mn=e,NX();if(!N8(i))break;++mn}return Vr.slice(e,mn)}()).length?3:Phe.hasOwnProperty(i)?4:"null"===i?5:"true"===i||"false"===i?1:3,value:i,start:e,end:mn}}():40===e||41===e||59===e?L8():39===e||34===e?function(){var i,a,u,l,e="",d=!1;for(CL("'"===(i=Vr[mn])||'"'===i,"String literal must starts with a quote"),a=mn,++mn;mn<Wc;){if((u=Vr[mn++])===i){i="";break}if("\\"===u)if((u=Vr[mn++])&&lA(u.charCodeAt(0)))"\r"===u&&"\n"===Vr[mn]&&++mn;else switch(u){case"u":case"x":"{"===Vr[mn]?(++mn,e+=Kxe()):e+=O8(u);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:EL(u)?(0!==(l="01234567".indexOf(u))&&(d=!0),mn<Wc&&EL(Vr[mn])&&(d=!0,l=8*l+"01234567".indexOf(Vr[mn++]),"0123".indexOf(u)>=0&&mn<Wc&&EL(Vr[mn])&&(l=8*l+"01234567".indexOf(Vr[mn++]))),e+=String.fromCharCode(l)):e+=u}else{if(lA(u.charCodeAt(0)))break;e+=u}}return""!==i&&xa({},Hc,Ed),{type:8,value:e,octal:d,start:a,end:mn}}():46===e?b0(Vr.charCodeAt(mn+1))?OX():L8():b0(e)?OX():L8()}function Qf(){var e;return mn=(e=$a).end,$a=LX(),mn=e.end,e}function FX(){var e;e=mn,$a=LX(),mn=e}function PX(e,i,a){var u=new v0("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return u.operator=e,u.left=i,u.right=a,u}function Khe(e,i){var a=new v0("CallExpression");return a.callee=e,a.arguments=i,a}function F8(e){var i=new v0(AX);return i.name=e,i}function dA(e){var i=new v0("Literal");return i.value=e.value,i.raw=Vr.slice(e.start,e.end),e.regex&&("//"===i.raw&&(i.raw="/(?:)/"),i.regex=e.regex),i}function Zhe(e,i,a){var u=new v0("MemberExpression");return u.computed="["===e,u.object=i,u.property=a,u.computed||(a.member=!0),u}function RX(e,i,a){var u=new v0("Property");return u.key=i,u.value=a,u.kind=e,u}function xa(e,i){var a,u=Array.prototype.slice.call(arguments,2),l=i.replace(/%(\d)/g,function(d,h){return CL(h<u.length,"Message reference must be in range"),u[h]});throw(a=new Error(l)).index=mn,a.description=l,a}function ML(e){2===e.type&&xa(e,"Unexpected end of input"),6===e.type&&xa(e,"Unexpected number"),8===e.type&&xa(e,"Unexpected string"),3===e.type&&xa(e,"Unexpected identifier"),4===e.type&&xa(e,"Unexpected reserved word"),xa(e,Hc,e.value)}function Uc(e){var i=Qf();(7!==i.type||i.value!==e)&&ML(i)}function Lo(e){return 7===$a.type&&$a.value===e}function P8(e){return 4===$a.type&&$a.value===e}function BX(){var e;return mn=$a.start,8===(e=Qf()).type||6===e.type?(e.octal&&xa(e,kX),dA(e)):F8(e.value)}function qhe(){var e,i,a;return mn=$a.start,3===(e=$a).type?(a=BX(),Uc(":"),RX("init",a,Ox())):2!==e.type&&7!==e.type?(i=BX(),Uc(":"),RX("init",i,Ox())):void ML(e)}var npe={if:1};function $X(){var e,i,a;if(Lo("("))return function(){var e;return Uc("("),e=R8(),Uc(")"),e}();if(Lo("["))return function(){var e=[];for(mn=$a.start,Uc("[");!Lo("]");)Lo(",")?(Qf(),e.push(null)):(e.push(Ox()),Lo("]")||Uc(","));return Qf(),function(e){var i=new v0("ArrayExpression");return i.elements=e,i}(e)}();if(Lo("{"))return function(){var i,u,e=[],l={},d=String;for(mn=$a.start,Uc("{");!Lo("}");)u="$"+((i=qhe()).key.type===AX?i.key.name:d(i.key.value)),Object.prototype.hasOwnProperty.call(l,u)?xa({},"Duplicate data property in object literal not allowed in strict mode"):l[u]=!0,e.push(i),Lo("}")||Uc(",");return Uc("}"),function(e){var i=new v0("ObjectExpression");return i.properties=e,i}(e)}();if(mn=$a.start,3===(e=$a.type)||npe[$a.value])a=F8(Qf().value);else if(8===e||6===e)$a.octal&&xa($a,kX),a=dA(Qf());else{if(4===e)throw new Error(uA);1===e?((i=Qf()).value="true"===i.value,a=dA(i)):5===e?((i=Qf()).value=null,a=dA(i)):Lo("/")||Lo("/=")?(a=dA(function(){var e,i,a,u;return $a=null,IX(),e=mn,i=function(){var e,i,a,u;for(CL("/"===(e=Vr[mn]),"Regular expression literal must start with a slash"),i=Vr[mn++],a=!1,u=!1;mn<Wc;)if(i+=e=Vr[mn++],"\\"===e)lA((e=Vr[mn++]).charCodeAt(0))&&xa({},wL),i+=e;else if(lA(e.charCodeAt(0)))xa({},wL);else if(a)"]"===e&&(a=!1);else{if("/"===e){u=!0;break}"["===e&&(a=!0)}return u||xa({},wL),{value:i.substr(1,i.length-2),literal:i}}(),a=function(){var e,i,a;for(i="",a="";mn<Wc&&N8((e=Vr[mn]).charCodeAt(0));)++mn,"\\"===e&&mn<Wc?xa({},Hc,Ed):(a+=e,i+=e);return a.search(/[^gimuy]/g)>=0&&xa({},k8,a),{value:a,literal:i}}(),u=function(e,i){var a=e;i.indexOf("u")>=0&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(u,l){if(parseInt(l,16)<=1114111)return"x";xa({},k8)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(u){xa({},k8)}try{return new RegExp(e,i)}catch(u){return null}}(i.value,a.value),{literal:i.literal+a.literal,value:u,regex:{pattern:i.value,flags:a.value},start:e,end:mn}}()),FX()):ML(Qf())}return a}function rpe(){var e=[];if(Uc("("),!Lo(")"))for(;mn<Wc&&(e.push(Ox()),!Lo(")"));)Uc(",");return Uc(")"),e}function spe(){var e;return Uc("["),e=R8(),Uc("]"),e}function VX(){var e=function(){var e;for(e=$X();;)if(Lo("."))e=Zhe(".",e,(Uc("."),function(){var e;return mn=$a.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=Qf())||ML(e),F8(e.value)}()));else if(Lo("("))e=Khe(e,rpe());else{if(!Lo("["))break;e=Zhe("[",e,spe())}return e}();if(7===$a.type&&(Lo("++")||Lo("--")))throw new Error(uA);return e}function SL(){var e,i;if(7!==$a.type&&4!==$a.type)i=VX();else{if(Lo("++")||Lo("--"))throw new Error(uA);if(Lo("+")||Lo("-")||Lo("~")||Lo("!"))e=Qf(),i=SL(),i=function(e,i){var a=new v0("UnaryExpression");return a.operator=e,a.argument=i,a.prefix=!0,a}(e.value,i);else{if(P8("delete")||P8("void")||P8("typeof"))throw new Error(uA);i=VX()}}return i}function zX(e){var i=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":i=1;break;case"&&":i=2;break;case"|":i=3;break;case"^":i=4;break;case"&":i=5;break;case"==":case"!=":case"===":case"!==":i=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":i=7;break;case"<<":case">>":case">>>":i=8;break;case"+":case"-":i=9;break;case"*":case"/":case"%":i=11}return i}function Ox(){var e,i;return e=function(){var e,i,a,u,l,d,h,p,y,b;if(e=$a,y=SL(),0===(l=zX(u=$a)))return y;for(u.prec=l,Qf(),i=[e,$a],d=[y,u,h=SL()];(l=zX($a))>0;){for(;d.length>2&&l<=d[d.length-2].prec;)h=d.pop(),p=d.pop().value,y=d.pop(),i.pop(),a=PX(p,y,h),d.push(a);(u=Qf()).prec=l,d.push(u),i.push($a),a=SL(),d.push(a)}for(a=d[b=d.length-1],i.pop();b>1;)i.pop(),a=PX(d[b-1].value,d[b-2],a),b-=2;return a}(),Lo("?")&&(Qf(),i=Ox(),Uc(":"),e=function(e,i,a){var u=new v0("ConditionalExpression");return u.test=e,u.consequent=i,u.alternate=a,u}(e,i,Ox())),e}function R8(){var e=Ox();if(Lo(","))throw new Error(uA);return e}function R1(e,i,a){return e.fields=i||[],e.fname=a,e}function jX(e){return 1===e.length?upe(e[0]):lpe(e)}const upe=e=>function(i){return i[e]},lpe=e=>{const i=e.length;return function(a){for(let u=0;u<i;++u)a=a[e[u]];return a}};function B8(e){throw Error(e)}function rZ(e){const i=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(i.push(...rZ(e.object)),i.push(...rZ(e.property))),i)}function sc(e){return"MemberExpression"===e.object.type?sc(e.object):"datum"===e.object.name}function U8(e){const i=function(e){mn=0,Wc=(Vr=e).length,$a=null,FX();var i=R8();if(2!==$a.type)throw new Error("Unexpect token after expression.");return i}(e),a=new Set;return i.visit(u=>{"MemberExpression"===u.type&&sc(u)&&a.add(rZ(u).slice(1).join("."))}),a}(function(e,i,a){const u=function(e){const i=[],a=e.length;let h,p,y,u=null,l=0,d="";function b(){i.push(d+e.substring(h,p)),d="",h=p+1}for(e+="",h=p=0;p<a;++p)if(y=e[p],"\\"===y)d+=e.substring(h,p),d+=e.substring(++p,++p),h=p;else if(y===u)b(),u=null,l=-1;else{if(u)continue;h===l&&'"'===y||h===l&&"'"===y?(h=p+1,u=y):"."!==y||l?"["===y?(p>h&&b(),l=h=p+1):"]"===y&&(l||B8("Access path missing open bracket: "+e),l>0&&b(),l=0,h=p+1):p>h?b():h=p+1}return l&&B8("Access path missing closing bracket: "+e),u&&B8("Access path missing closing quote: "+e),p>h&&(p++,b()),i}(e);e=1===u.length?u[0]:e,R1((a&&a.get||jX)(u),[e],i||e)})("id"),R1(e=>e,[],"identity"),R1(()=>0,[],"zero"),R1(()=>1,[],"one"),R1(()=>!0,[],"true"),R1(()=>!1,[],"false");class vC extends to{constructor(i,a,u){super(i),this.model=a,this.filter=u,this.expr=gA(this.model,this.filter,this),this._dependentFields=U8(this.expr)}clone(){return new vC(null,this.model,ms(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function iZ(e,i,a,u="datum"){const l=[],h=CS(i,function(p){const y=eu(p),b=e.getSelectionComponent(y,p),C=Ns(y+Tx);if(b.project.timeUnit){const M=null!=a?a:e.component.data.raw,O=b.project.timeUnit.clone();M.parent?O.insertAsParentOf(M):M.parent=O}return"none"!==b.empty&&l.push(C),`vlSelectionTest(${C}, ${u}`+("global"===b.resolve?")":`, ${Ns(b.resolve)})`)});return(l.length?"!("+l.map(p=>`length(data(${p}))`).join(" || ")+") || ":"")+`(${h})`}function sZ(e,i){const a=i.encoding;let u=i.field;if(a||u){if(a&&!u){const l=e.project.items.filter(d=>d.channel===a);!l.length||l.length>1?(u=e.project.items[0].field,Yn((l.length?"Multiple ":"No ")+`matching ${Ns(a)} encoding found for selection ${Ns(i.selection)}. Using "field": ${Ns(u)}.`)):u=l[0].field}}else u=e.project.items[0].field,e.project.items.length>1&&Yn(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Ns(u)}.`);return`${e.name}[${Ns(u)}]`}function gA(e,i,a){return CS(i,u=>ps(u)?u:function(e){return null==e?void 0:e.selection}(u)?iZ(e,u.selection,a):$G(u))}function aZ(e,i,a,u){var l,d,h;e.encode=null!==(l=e.encode)&&void 0!==l?l:{},e.encode[i]=null!==(d=e.encode[i])&&void 0!==d?d:{},e.encode[i].update=null!==(h=e.encode[i].update)&&void 0!==h?h:{},e.encode[i].update[a]=u}function bC(e,i,a,u={header:!1}){var l,d;const h=e.combine(),{disable:p,orient:y,scale:b,labelExpr:C,title:M,zindex:O}=h,H=ti(h,["disable","orient","scale","labelExpr","title","zindex"]);if(!p){for(const Y in H){const te=nle[Y],se=H[Y];if(te&&te!==i&&"both"!==te)delete H[Y];else if(p5(se)){const{condition:ye}=se,Ce=ti(se,["condition"]),Ve=Ku(ye),Ue=h5[Y];if(Ue){const{vgProp:qe,part:tt}=Ue;aZ(H,tt,qe,[...Ve.map(mt=>{const{test:Ot}=mt,Tt=ti(mt,["test"]);return Object.assign({test:gA(null,Ot)},Tt)}),Ce]),delete H[Y]}else if(null===Ue){const qe={signal:Ve.map(tt=>{const{test:Ge}=tt,mt=ti(tt,["test"]);return`${gA(null,Ge)} ? ${q5(mt)} : `}).join("")+q5(Ce)};H[Y]=qe}}else if(Si(se)){const ye=h5[Y];if(ye){const{vgProp:Ce,part:Ve}=ye;aZ(H,Ve,Ce,se),delete H[Y]}}}if("grid"===i){if(!H.grid)return;if(H.encode){const{grid:Y}=H.encode;H.encode=Object.assign({},Y?{grid:Y}:{}),qa(H.encode)&&delete H.encode}return Object.assign(Object.assign({scale:b,orient:y},H),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:pl(O,0)})}{if(!u.header&&e.mainExtracted)return;if(void 0!==C){let te=C;(null===(d=null===(l=H.encode)||void 0===l?void 0:l.labels)||void 0===d?void 0:d.update)&&Si(H.encode.labels.update.text)&&(te=tC(C,"datum.label",H.encode.labels.update.text.signal)),aZ(H,"labels","text",{signal:te})}if(null===H.labelAlign&&delete H.labelAlign,H.encode){for(const te of KY)e.hasAxisPart(te)||delete H.encode[te];qa(H.encode)&&delete H.encode}const Y=function(e,i){if(e)return li(e)&&!O1(e)?e.map(a=>dK(a,i)).join(", "):e}(M,a);return Object.assign(Object.assign(Object.assign(Object.assign({scale:b,orient:y,grid:!1},Y?{title:Y}:{}),H),!1===a.aria?{aria:!1}:{}),{zindex:pl(O,0)})}}}function Y8(e){const{axes:i}=e.component,a=[];for(const u of Op)if(i[u])for(const l of i[u])if(!l.get("disable")&&!l.get("gridScale")){const d="x"===u?"height":"width",h=e.getSizeSignalRef(d).signal;d!==h&&a.push({name:d,update:h})}return a}const uZ={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},kL={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Npe=Wn(uZ),G8=Wn(kL);function K8(e,i,a,u){return Object.assign.apply(null,[{},...e.map(l=>{if("axisOrient"===l){const d="x"===a?"bottom":"left",h=i["x"===a?"axisBottom":"axisLeft"]||{},p=i["x"===a?"axisTop":"axisRight"]||{},y=new Set([...Wn(h),...Wn(p)]),b={};for(const C of y.values())b[C]={signal:`${u.signal} === "${d}" ? ${dC(h[C])} : ${dC(p[C])}`};return b}return i[l]})])}function Lpe(e,i){var a;const u=[{}];for(const l of e){let d=null===(a=i[l])||void 0===a?void 0:a.style;if(d){d=Ku(d);for(const h of d)u.push(i.style[h])}}return Object.assign.apply(null,u)}function Gm(e,i,a,u={}){var l;const d=_K(e,a,i.style);if(void 0!==d)return{configFrom:"style",configValue:d};for(const h of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(l=u[h])||void 0===l?void 0:l[e]))return{configFrom:h,configValue:u[h][e]};return{}}const X8={scale:({model:e,channel:i})=>e.scaleName(i),format:({fieldOrDatumDef:e,config:i,axis:a})=>{const{format:u,formatType:l}=a;return U5(e,e.type,u,l,i,!0)},formatType:({axis:e,fieldOrDatumDef:i,scaleType:a})=>{const{formatType:u}=e;return nde(u,i,a)},grid:({fieldOrDatumDef:e,axis:i,scaleType:a})=>{var u;return(!_r(e)||!bu(e.bin))&&(null!==(u=i.grid)&&void 0!==u?u:function(e,i){return!uf(e)&&_r(i)&&!Eo(null==i?void 0:i.bin)}(a,e))},gridScale:({model:e,channel:i})=>function(e,i){const a="x"===i?"y":"x";if(e.getScaleComponent(a))return e.scaleName(a)}(e,i),labelAlign:({axis:e,labelAngle:i,orient:a,channel:u})=>e.labelAlign||Rpe(i,a,u),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:i,orient:a,channel:u})=>e.labelBaseline||Z8(i,a,u),labelFlush:({axis:e,fieldOrDatumDef:i,channel:a})=>{var u;return null!==(u=e.labelFlush)&&void 0!==u?u:function(e,i){if("x"===i&&fi(["quantitative","temporal"],e))return!0}(i.type,a)},labelOverlap:({axis:e,fieldOrDatumDef:i,scaleType:a})=>{var u;return null!==(u=e.labelOverlap)&&void 0!==u?u:function(e,i){if("nominal"!==e)return"log"!==i||"greedy"}(i.type,a)},orient:({orient:e})=>e,tickCount:({channel:e,model:i,axis:a,fieldOrDatumDef:u,scaleType:l})=>{var d;const h="x"===e?"width":"y"===e?"height":void 0,p=h?i.getSizeSignalRef(h):void 0;return null!==(d=a.tickCount)&&void 0!==d?d:function({fieldOrDatumDef:e,scaleType:i,size:a,values:u}){var l;if(!u&&!uf(i)&&"log"!==i){if(_r(e)){if(Eo(e.bin))return{signal:`ceil(${a.signal}/10)`};if(e.timeUnit&&fi(["month","hours","day","quarter"],null===(l=af(e.timeUnit))||void 0===l?void 0:l.unit))return}return{signal:`ceil(${a.signal}/40)`}}}({fieldOrDatumDef:u,scaleType:l,size:p,values:a.values})},title:({axis:e,model:i,channel:a})=>{if(void 0!==e.title)return e.title;const u=cZ(i,a);if(void 0!==u)return u;const l=i.typedFieldDef(a),h=i.fieldDef("x"===a?"x2":"y2");return vK(l?[G5(l)]:[],_r(h)?[G5(h)]:[])},values:({axis:e,fieldOrDatumDef:i})=>function(e,i){const a=e.values;return li(a)?pK(i,a):Si(a)?a:void 0}(e,i),zindex:({axis:e,fieldOrDatumDef:i,mark:a})=>{var u;return null!==(u=e.zindex)&&void 0!==u?u:function(e,i){return"rect"===e&&lK(i)?1:0}(a,i)}};function Km(e){return`(((${e.signal} % 360) + 360) % 360)`}function Z8(e,i,a,u){if(void 0!==e){if("x"===a){if(Si(e)){const l=Km(e);return{signal:`(45 < ${l} && ${l} < 135) || (225 < ${l} && ${l} < 315) ? "middle" :(${l} <= 45 || 315 <= ${l}) === ${Si(i)?`(${i.signal} === "top")`:"top"===i} ? "bottom" : "top"`}}return 45<e&&e<135||225<e&&e<315?"middle":Si(i)?{signal:`${i.signal} ${e<=45||315<=e?"===":"!=="} "top" ? "bottom" : "top"`}:(e<=45||315<=e)==("top"===i)?"bottom":"top"}if(Si(e)){const l=Km(e);return{signal:`${l} <= 45 || 315 <= ${l} || (135 <= ${l} && ${l} <= 225) ? ${u?'"middle"':"null"} : (45 <= ${l} && ${l} <= 135) === ${Si(i)?`(${i.signal} === "left")`:"left"===i} ? "top" : "bottom"`}}return e<=45||315<=e||135<=e&&e<=225?u?"middle":null:Si(i)?{signal:`${i.signal} ${45<=e&&e<=135?"===":"!=="} "left" ? "top" : "bottom"`}:(45<=e&&e<=135)==("left"===i)?"top":"bottom"}}function Rpe(e,i,a){if(void 0===e)return;const u="x"===a,l=u?0:90,d=u?"bottom":"left";if(Si(e)){const h=Km(e);return{signal:`(${l?"("+h+" + 90)":h} % 180 === 0) ? ${u?null:'"center"'} :(${l} < ${h} && ${h} < ${180+l}) === ${Si(i)?`(${i.signal} === "${d}")`:i===d} ? "left" : "right"`}}return(e+l)%180==0?u?null:"center":Si(i)?{signal:`${i.signal} ${l<e&&e<180+l?"===":"!=="} "${d}" ? "left" : "right"`}:(l<e&&e<180+l)==(i===d)?"left":"right"}function cZ(e,i){const a="x"===i?"x2":"y2",u=e.fieldDef(i),l=e.fieldDef(a),d=u?u.title:void 0,h=l?l.title:void 0;return d&&h?bK(d,h):d||h||(void 0!==d?d:void 0!==h?h:void 0)}class z1 extends to{constructor(i,a){super(i),this.transform=a,this._dependentFields=U8(this.transform.calculate)}clone(){return new z1(null,ms(this.transform))}static parseAllForSortIndex(i,a){return a.forEachFieldDef((u,l)=>{if(K5(u)&&iK(u.sort)){const{field:d,timeUnit:h}=u,p=u.sort,y=p.map((b,C)=>`${$G({field:d,timeUnit:h,equal:b})} ? ${C} : `).join("")+p.length;i=new z1(i,{calculate:y,as:xC(u,l,{forAs:!0})})}}),i}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${zs(this.transform)}`}}function xC(e,i,a){return Zn(e,Object.assign({prefix:i,suffix:"sort_index"},null!=a?a:{}))}function Fo(e,i){return fi(["top","bottom"],i)?"column":fi(["left","right"],i)||"row"===e?"row":"column"}function DC(e,i,a,u){const l="row"===u?a.headerRow:"column"===u?a.headerColumn:a.headerFacet;return pl(((null==i?void 0:i.header)||{})[e],l[e],a.header[e])}function NL(e,i,a,u){const l={};for(const d of e){const h=DC(d,i,a,u);void 0!==h&&(l[d]=h)}return l}const lf=["row","column"],J8=["header","footer"];function Wpe(e,i){const a=e.component.layoutHeaders[i].title,u=e.config?e.config:void 0,l=e.component.layoutHeaders[i].facetFieldDef?e.component.layoutHeaders[i].facetFieldDef:void 0,{titleAnchor:d,titleAngle:h,titleOrient:p}=NL(["titleAnchor","titleAngle","titleOrient"],l,u,i),y=Fo(i,p),b=TO(h);return{name:`${i}-title`,type:"group",role:`${y}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:a},"row"===i?{orient:"left"}:{}),{style:"guide-title"}),dZ(b,y)),Hpe(y,b,d)),_A(u,l,i,Npe,uZ))}}function Hpe(e,i,a="middle"){switch(a){case"start":return{align:"left"};case"end":return{align:"right"}}const u=Rpe(i,"row"===e?"left":"top","row"===e?"y":"x");return u?{align:u}:{}}function dZ(e,i){const a=Z8(e,"row"===i?"left":"top","row"===i?"y":"x",!0);return a?{baseline:a}:{}}function Bp(e,i){const a=e.component.layoutHeaders[i],u=[];for(const l of J8)if(a[l])for(const d of a[l]){const h=q8(e,i,l,a,d);null!=h&&u.push(h)}return u}function Upe(e,i){var a;const{sort:u}=e;return Hm(u)?{field:Zn(u,{expr:"datum"}),order:null!==(a=u.order)&&void 0!==a?a:"ascending"}:li(u)?{field:xC(e,i,{expr:"datum"}),order:"ascending"}:{field:Zn(e,{expr:"datum"}),order:null!=u?u:"ascending"}}function Q8(e,i,a){const{format:u,formatType:l,labelAngle:d,labelAnchor:h,labelOrient:p,labelExpr:y}=NL(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,a,i),b=H5({fieldOrDatumDef:e,format:u,formatType:l,expr:"parent",config:a}).signal,C=Fo(i,p);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:y?tC(tC(y,"datum.label",b),"datum.value",Zn(e,{expr:"parent"})):b}},"row"===i?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),dZ(d,C)),Hpe(C,d,h)),_A(a,e,i,G8,kL))}function q8(e,i,a,u,l){if(l){let d=null;const{facetFieldDef:h}=u,p=e.config?e.config:void 0;if(h&&l.labels){const{labelOrient:M}=NL(["labelOrient"],h,p,i);("row"===i&&!fi(["top","bottom"],M)||"column"===i&&!fi(["left","right"],M))&&(d=Q8(h,i,p))}const y=Qm(e)&&!HS(e.facet),b=l.axes,C=(null==b?void 0:b.length)>0;if(d||C){const M="row"===i?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${i}_${a}`),type:"group",role:`${i}-${a}`},u.facetFieldDef?{from:{data:e.getName(i+"_domain")},sort:Upe(h,i)}:{}),C&&y?{from:{data:e.getName(`facet_domain_${i}`)}}:{}),d?{title:d}:{}),l.sizeSignal?{encode:{update:{[M]:l.sizeSignal}}}:{}),C?{axes:b}:{})}}return null}const e6={column:{start:0,end:1},row:{start:1,end:0}};function Ype(e,i){return e6[i][e]}function _A(e,i,a,u,l){const d={};for(const h of u){if(!l[h])continue;const p=DC(h,i,e,a);void 0!==p&&(d[l[h]]=p)}return d}function t6(e){return[...OL(e,"width"),...OL(e,"height"),...OL(e,"childWidth"),...OL(e,"childHeight")]}function OL(e,i){const a="width"===i?"x":"y",u=e.component.layoutSize.get(i);if(!u||"merged"===u)return[];const l=e.getSizeSignalRef(i).signal;if("step"===u){const d=e.getScaleComponent(a);if(d){const h=d.get("type"),p=d.get("range");if(uf(h)&&S1(p)){const y=e.scaleName(a);return Qm(e.parent)&&"independent"===e.parent.component.resolve.scale[a]?[yA(y,p)]:[yA(y,p),{name:l,update:fZ(y,d,`domain('${y}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==u){const d=l.endsWith("width"),h=d?"containerSize()[0]":"containerSize()[1]",y=`isFinite(${h}) ? ${h} : ${mC(e.config.view,d?"width":"height")}`;return[{name:l,init:y,on:[{update:y,events:"window:resize"}]}]}return[{name:l,value:u}]}function yA(e,i){return{name:e+"_step",value:i.step}}function fZ(e,i,a){const u=i.get("type"),l=i.get("padding"),d=pl(i.get("paddingOuter"),l);let h=i.get("paddingInner");return h="band"===u?void 0!==h?h:l:1,`bandspace(${a}, ${h}, ${d}) * ${e}_step`}function hZ(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function LL(e,i){return Wn(e).reduce((a,u)=>{const l=e[u];return Object.assign(Object.assign({},a),qS(i,l,u,d=>Si(d)?d:{value:d.value}))},{})}function Kpe(e,i){if(Y1(i)||Qm(i))return"shared";if(QZ(i))return u0(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function n6(e,i){const a=e.scale[i],u=u0(i)?"axis":"legend";return"independent"===a?("shared"===e[u][i]&&Yn(function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(i)),"independent"):e[u][i]||"shared"}const Xpe=Object.assign(Object.assign({},FK),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),pZ=Wn(Xpe);class Zpe extends K_{}const Jpe={symbols:function(e,{fieldOrDatumDef:i,model:a,channel:u,legendCmpt:l,legendType:d}){var h,p,y,b,C;if("symbol"!==d)return;const{markDef:M,encoding:O,config:H,mark:Y}=a,te=M.filled&&"trail"!==Y;let se=Object.assign(Object.assign({},function(e,i,a){for(const u of a){const l=Dx(u,i.markDef,i.config);void 0!==l&&(e[u]=Ru(l))}return e}({},a,lle)),fX(a,{filled:te}));const ye=null!==(h=gZ(O.opacity))&&void 0!==h?h:M.opacity;if(se.fill)if("fill"===u||te&&u===Uf)delete se.fill;else if(se.fill.field)l.get("symbolFillColor")?delete se.fill:(se.fill=Ru(null!==(p=H.legend.symbolBaseFillColor)&&void 0!==p?p:"black"),se.fillOpacity=Ru(null!=ye?ye:1));else if(li(se.fill)){const Ce=null!==(C=null!==(b=i6(null!==(y=O.fill)&&void 0!==y?y:O.color))&&void 0!==b?b:M.fill)&&void 0!==C?C:te&&M.color;Ce&&(se.fill=Ru(Ce))}if(se.stroke)if("stroke"===u||!te&&u===Uf)delete se.stroke;else if(se.stroke.field)delete se.stroke;else if(li(se.stroke)){const Ce=pl(i6(O.stroke||O.color),M.stroke,te?M.color:void 0);Ce&&(se.stroke={value:Ce})}if(u!==z_){const Ce=_r(i)&&yZ(0,l,i);Ce?se.opacity=[Object.assign({test:Ce},Ru(null!=ye?ye:1)),Ru(H.legend.unselectedOpacity)]:ye&&(se.opacity=Ru(ye))}return se=Object.assign(Object.assign({},se),e),qa(se)?void 0:se},gradient:function(e,{model:i,legendType:a}){if("gradient"!==a)return;let u={};const l=gZ(i.encoding.opacity)||i.markDef.opacity;return l&&(u.opacity=Ru(l)),u=Object.assign(Object.assign({},u),e),qa(u)?void 0:u},labels:function(e,{fieldOrDatumDef:i,model:a,channel:u,legendCmpt:l}){const d=a.legend(u)||{},h=a.config,p=_r(i)?yZ(0,l,i):void 0,y=p?[{test:p,value:1},{value:h.legend.unselectedOpacity}]:void 0,{format:b,formatType:C}=d,M=_x(C)?nK({fieldOrDatumDef:i,field:"datum.value",format:b,formatType:C,config:h}):void 0,O=Object.assign(Object.assign(Object.assign({},y?{opacity:y}:{}),M?{text:M}:{}),e);return qa(O)?void 0:O},entries:function(e,{legendCmpt:i}){const a=i.get("selections");return(null==a?void 0:a.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function gZ(e){return _Z(e,(i,a)=>Math.max(i,a.value))}function i6(e){return _Z(e,(i,a)=>pl(i,a.value))}function _Z(e,i){return function(e){const i=e&&e.condition;return!!i&&(li(i)||Y_(i))}(e)?Ku(e.condition).reduce(i,e.value):Y_(e)?e.value:void 0}function yZ(e,i,a){const u=i.get("selections");if(!(null==u?void 0:u.length))return;const l=Ns(a.field);return u.map(d=>`(!length(data(${Ns(eu(d)+Tx)})) || (${d}[${l}] && indexof(${d}[${l}], datum.value) >= 0))`).join(" || ")}const vZ={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:i,config:a})=>{const{format:u,formatType:l}=i;return U5(e,e.type,u,l,a,!1)},formatType:({legend:e,fieldOrDatumDef:i,scaleType:a})=>{const{formatType:u}=e;return nde(u,i,a)},gradientLength:e=>{var i,a;const{legend:u,legendConfig:l}=e;return null!==(a=null!==(i=u.gradientLength)&&void 0!==i?i:l.gradientLength)&&void 0!==a?a:function({legendConfig:e,model:i,direction:a,orient:u,scaleType:l}){const{gradientHorizontalMaxLength:d,gradientHorizontalMinLength:h,gradientVerticalMaxLength:p,gradientVerticalMinLength:y}=e;if(jm(l))return"horizontal"===a?"top"===u||"bottom"===u?DZ(i,"width",h,d):h:DZ(i,"height",y,p)}(e)},labelOverlap:({legend:e,legendConfig:i,scaleType:a})=>{var u,l;return null!==(l=null!==(u=e.labelOverlap)&&void 0!==u?u:i.labelOverlap)&&void 0!==l?l:function(e){if(fi(["quantile","threshold","log"],e))return"greedy"}(a)},symbolType:({legend:e,markDef:i,channel:a,encoding:u})=>{var l;return null!==(l=e.symbolType)&&void 0!==l?l:function(e,i,a,u){var l;if("shape"!==i){const d=null!==(l=i6(a))&&void 0!==l?l:u;if(d)return d}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(i.type,a,u.shape,i.shape)},title:({fieldOrDatumDef:e,config:i})=>N1(e,i,{allowDisabling:!0}),type:({legendType:e,scaleType:i,channel:a})=>{if(rC(a)&&jm(i)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:i})=>function(e,i){const a=e.values;return li(a)?pK(i,a):Si(a)?a:void 0}(i,e)};function DZ(e,i,a,u){return{signal:`clamp(${e.getSizeSignalRef(i).signal}, ${a}, ${u})`}}function J_(e){const i=xu(e)?function(e){const{encoding:i}=e,a={};for(const u of[Uf,...hC]){const l=Ol(i[u]);!l||!e.getScaleComponent(u)||u===Yf&&_r(l)&&l.type===cC||(a[u]=nme(e,u))}return a}(e):function(e){const{legends:i,resolve:a}=e.component;for(const u of e.children){J_(u);for(const l of Wn(u.component.legends))a.legend[l]=n6(e.component.resolve,l),"shared"===a.legend[l]&&(i[l]=s6(i[l],u.component.legends[l]),i[l]||(a.legend[l]="independent",delete i[l]))}for(const u of Wn(i))for(const l of e.children)!l.component.legends[u]||"shared"===a.legend[u]&&delete l.component.legends[u];return i}(e);return e.component.legends=i,i}function j1(e,i,a,u){switch(i){case"disable":return void 0!==a;case"values":return!!(null==a?void 0:a.values);case"title":if("title"===i&&e===(null==u?void 0:u.title))return!0}return e===(a||{})[i]}function nme(e,i){var a,u,l;let d=e.legend(i);const{markDef:h,encoding:p,config:y}=e,b=y.legend,C=new Zpe({},function(e,i){const a=e.scaleName(i);if("trail"===e.mark){if("color"===i)return{stroke:a};if("size"===i)return{strokeWidth:a}}return"color"===i?e.markDef.filled?{fill:a}:{stroke:a}:{[i]:a}}(e,i));!function(e,i,a){var u;const l=null===(u=e.fieldDef(i))||void 0===u?void 0:u.field;kx(e,d=>{var h,p;const y=null!==(h=d.project.hasField[l])&&void 0!==h?h:d.project.hasChannel[i];if(y&&Vfe.has(d)){const b=null!==(p=a.get("selections"))&&void 0!==p?p:[];b.push(d.name),a.set("selections",b,!1),y.hasLegend=!0}})}(e,i,C);const M=void 0!==d?!d:b.disable;if(C.set("disable",M,void 0!==d),M)return C;d=d||{};const O=e.getScaleComponent(i).get("type"),H=Ol(p[i]),Y=_r(H)?null===(a=af(H.timeUnit))||void 0===a?void 0:a.unit:void 0,te=d.orient||y.legend.orient||"right",se=function(e){const{legend:i}=e;return pl(i.type,function({channel:e,timeUnit:i,scaleType:a}){if(rC(e)){if(fi(["quarter","month","day"],i))return"symbol";if(jm(a))return"gradient"}return"symbol"}(e))}({legend:d,channel:i,timeUnit:Y,scaleType:O}),ye=function({legendConfig:e,legendType:i,orient:a,legend:u}){var l,d;return null!==(d=null!==(l=u.direction)&&void 0!==l?l:e[i?"gradientDirection":"symbolDirection"])&&void 0!==d?d:function(e,i){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===i?"horizontal":void 0}}(a,i)}({legend:d,legendType:se,orient:te,legendConfig:b}),Ce={legend:d,channel:i,model:e,markDef:h,encoding:p,fieldOrDatumDef:H,legendConfig:b,config:y,scaleType:O,orient:te,legendType:se,direction:ye};for(const Ge of pZ){const mt=Ge in vZ?vZ[Ge](Ce):d[Ge];if(void 0!==mt){const Ot=j1(mt,Ge,d,e.fieldDef(i));(Ot||void 0===y.legend[Ge])&&C.set(Ge,mt,Ot)}}const Ve=null!==(u=null==d?void 0:d.encoding)&&void 0!==u?u:{},Ue=C.get("selections"),qe={},tt={fieldOrDatumDef:H,model:e,channel:i,legendCmpt:C,legendType:se};for(const Ge of["labels","legend","title","symbols","gradient","entries"]){const mt=LL(null!==(l=Ve[Ge])&&void 0!==l?l:{},e),Ot=Ge in Jpe?Jpe[Ge](mt,tt):mt;void 0!==Ot&&!qa(Ot)&&(qe[Ge]=Object.assign(Object.assign(Object.assign({},(null==Ue?void 0:Ue.length)&&_r(H)?{name:`${eu(H.field)}_legend_${Ge}`}:{}),(null==Ue?void 0:Ue.length)?{interactive:!!Ue}:{}),{update:Ot}))}return qa(qe)||C.set("encode",qe,!!(null==d?void 0:d.encoding)),C}function s6(e,i){var a,u,l,d;if(!e)return i.clone();const h=e.getWithExplicit("orient"),p=i.getWithExplicit("orient");if(h.explicit&&p.explicit&&h.value!==p.value)return;let y=!1;for(const b of pZ){const C=F1(e.getWithExplicit(b),i.getWithExplicit(b),b,"legend",(M,O)=>{switch(b){case"symbolType":return CZ(M,O);case"title":return xK(M,O);case"type":return y=!0,Yh("symbol")}return gL(M,O,b,"legend")});e.setWithExplicit(b,C)}return y&&((null===(u=null===(a=e.implicit)||void 0===a?void 0:a.encode)||void 0===u?void 0:u.gradient)&&d5(e.implicit,["encode","gradient"]),(null===(d=null===(l=e.explicit)||void 0===l?void 0:l.encode)||void 0===d?void 0:d.gradient)&&d5(e.explicit,["encode","gradient"])),e}function CZ(e,i){return"circle"===i.value?i:e}function a6(e,i,a,u){var l,d,h;e.encode=null!==(l=e.encode)&&void 0!==l?l:{},e.encode[i]=null!==(d=e.encode[i])&&void 0!==d?d:{},e.encode[i].update=null!==(h=e.encode[i].update)&&void 0!==h?h:{},e.encode[i].update[a]=u}function o6(e){const i=e.component.legends,a={};for(const l of Wn(i)){const d=e.getScaleComponent(l),h=qo(d.get("domains"));if(a[h])for(const p of a[h])s6(p,i[l])||a[h].push(i[l]);else a[h]=[i[l].clone()]}return y1(a).flat().map(l=>function(e,i){var a,u,l;const d=e.combine(),{disable:h,labelExpr:p}=d,b=ti(d,["disable","labelExpr","selections"]);if(!h){if(!1===i.aria&&null==b.aria&&(b.aria=!1),null===(a=b.encode)||void 0===a?void 0:a.symbols){const C=b.encode.symbols.update;C.fill&&"transparent"!==C.fill.value&&!C.stroke&&!b.stroke&&(C.stroke={value:"transparent"});for(const M of hC)b[M]&&delete C[M]}if(b.title||delete b.title,void 0!==p){let C=p;(null===(l=null===(u=b.encode)||void 0===u?void 0:u.labels)||void 0===l?void 0:l.update)&&Si(b.encode.labels.update.text)&&(C=tC(p,"datum.label",b.encode.labels.update.text.signal)),a6(b,"labels","text",{signal:C})}for(const C in b){const M=b[C];if(Si(M)){const O=kde[C];if(O){const{vgProp:H,part:Y}=O;a6(b,Y,H,M),delete b[C]}}}return b}}(l,e.config)).filter(l=>void 0!==l)}function u6(e){const i=e.component.projection;if(!i||i.merged)return[];const a=i.combine(),{name:u}=a;if(i.data){const l={signal:`[${i.size.map(h=>h.signal).join(", ")}]`},d=i.data.reduce((h,p)=>{const y=Si(p)?p.signal:`data('${e.lookupDataSource(p)}')`;return fi(h,y)||h.push(y),h},[]);if(d.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:u,size:l,fit:{signal:d.length>1?`[${d.join(", ")}]`:d[0]}},a)]}return[Object.assign(Object.assign({name:u},{translate:{signal:"[width / 2, height / 2]"}}),a)]}const W1=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class l6 extends K_{constructor(i,a,u,l){super(Object.assign({},a),{name:i}),this.specifiedProjection=a,this.size=u,this.data=l,this.merged=!1}get isFit(){return!!this.data}}function c6(e){e.component.projection=xu(e)?function(e){var i;if(e.hasProjection){const a=e.specifiedProjection,u=!(a&&(null!=a.scale||null!=a.translate)),l=u?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,d=u?function(e){const i=[],{encoding:a}=e;for(const u of[[s0,$m],[Np,Vm]])(Ol(a[u[0]])||Ol(a[u[1]]))&&i.push({signal:e.getName(`geojson_${i.length}`)});return e.channelHasField(Yf)&&e.typedFieldDef(Yf).type===cC&&i.push({signal:e.getName(`geojson_${i.length}`)}),0===i.length&&i.push(e.requestDataName(Cd)),i}(e):void 0;return new l6(e.projectionName(!0),Object.assign(Object.assign({},null!==(i=e.config.projection)&&void 0!==i?i:{}),null!=a?a:{}),l,d)}}(e):function(e){if(0===e.children.length)return;let i;for(const u of e.children)c6(u);const a=$Y(e.children,u=>{const l=u.component.projection;if(l){if(i){const d=function(e,i){const a=$Y(W1,l=>!!(!nx(e.explicit,l)&&!nx(i.explicit,l)||nx(e.explicit,l)&&nx(i.explicit,l)&&qo(e.get(l))===qo(i.get(l))));if(qo(e.size)===qo(i.size)){if(a)return e;if(qo(e.explicit)===qo({}))return i;if(qo(i.explicit)===qo({}))return e}return null}(i,l);return d&&(i=d),!!d}return i=l,!0}return!0});if(i&&a){const u=e.projectionName(!0),l=new l6(u,i.specifiedProjection,i.size,ms(i.data));for(const d of e.children){const h=d.component.projection;h&&(h.isFit&&l.data.push(...d.component.projection.data),d.renameProjection(h.get("name"),u),h.merged=!0)}return l}}(e)}function RL(e,i){return`${OS(e)}_${i}`}function vA(e,i,a){var u;const d=RL(null!==(u=oL(a,void 0))&&void 0!==u?u:{},i);return e.getName(`${d}_bins`)}function d6(e,i,a){let u,l;u=function(e){return"as"in e}(e)?ps(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[Zn(e,{forAs:!0}),Zn(e,{binSuffix:"end",forAs:!0})];const d=Object.assign({},oL(i,void 0)),h=RL(d,e.field),{signal:p,extentSignal:y}=function(e,i){return{signal:e.getName(`${i}_bins`),extentSignal:e.getName(`${i}_extent`)}}(a,h);if(U_(d.extent)){const C=d.extent,M=C.selection;l=sZ(a.getSelectionComponent(eu(M),M),C),delete d.extent}return{key:h,binComponent:Object.assign(Object.assign(Object.assign({bin:d,field:e.field,as:[u]},p?{signal:p}:{}),y?{extentSignal:y}:{}),l?{span:l}:{})}}class Zm extends to{constructor(i,a){super(i),this.bins=a}clone(){return new Zm(null,ms(this.bins))}static makeFromEncoding(i,a){const u=a.reduceFieldDef((l,d,h)=>{if(Xf(d)&&Eo(d.bin)){const{key:p,binComponent:y}=d6(d,d.bin,a);l[p]=Object.assign(Object.assign(Object.assign({},y),l[p]),function(e,i,a,u){var l,d;if(XS(i,a)){const h=xu(e)&&null!==(d=null!==(l=e.axis(a))&&void 0!==l?l:e.legend(a))&&void 0!==d?d:{},p=Zn(i,{expr:"datum"}),y=Zn(i,{expr:"datum",binSuffix:"end"});return{formulaAs:Zn(i,{binSuffix:"range",forAs:!0}),formula:k1(p,y,h.format,h.formatType,u)}}return{}}(a,d,h,a.config))}return l},{});return qa(u)?null:new Zm(i,u)}static makeFromTransform(i,a,u){const{key:l,binComponent:d}=d6(a,a.bin,u);return new Zm(i,{[l]:d})}merge(i,a){for(const u of Wn(i.bins))u in this.bins?(a(i.bins[u].signal,this.bins[u].signal),this.bins[u].as=_1([...this.bins[u].as,...i.bins[u].as],zs)):this.bins[u]=i.bins[u];for(const u of i.children)i.removeChild(u),u.parent=this;i.remove()}producedFields(){return new Set(y1(this.bins).map(i=>i.as).flat(2))}dependentFields(){return new Set(y1(this.bins).map(i=>i.field))}hash(){return`Bin ${zs(this.bins)}`}assemble(){return y1(this.bins).flatMap(i=>{const a=[],[u,...l]=i.as,d=i.bin,{extent:h}=d,p=ti(d,["extent"]),y=Object.assign(Object.assign(Object.assign({type:"bin",field:F_(i.field),as:u,signal:i.signal},U_(h)?{extent:null}:{extent:h}),i.span?{span:{signal:`span(${i.span})`}}:{}),p);!h&&i.extentSignal&&(a.push({type:"extent",field:F_(i.field),signal:i.extentSignal}),y.extent={signal:i.extentSignal}),a.push(y);for(const b of l)for(let C=0;C<2;C++)a.push({type:"formula",expr:Zn({field:u[C]},{expr:"datum"}),as:b[C]});return i.formula&&a.push({type:"formula",expr:i.formula,as:i.formulaAs}),a})}}class H1 extends to{constructor(i){let a;if(super(null),Sx(i=null!=i?i:{name:"source"})||(a=i.format?Object.assign({},L_(i.format,["parse"])):{}),_8(i))this._data={values:i.values};else if(JS(i)){if(this._data={url:i.url},!a.type){let u=/(?:\.([^.]+))?$/.exec(i.url)[1];fi(["json","csv","tsv","dsv","topojson"],u)||(u="json"),a.type=u}}else iX(i)?this._data={values:[{type:"Sphere"}]}:(cfe(i)||Sx(i))&&(this._data={});this._generator=Sx(i),i.name&&(this._name=i.name),a&&!qa(a)&&(this._data.format=a)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(i){this._name=i}set parent(i){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}function bA(e){for(const i of e){for(const a of i.children)if(a.parent!==i)return console.error("Dataflow graph is inconsistent.",i,a),!1;if(!bA(i.children))return!1}return!0}class CC extends to{constructor(i,a){super(i),this.params=a}clone(){return new CC(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${zs(this.params)}`}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class Ll extends to{constructor(i,a){super(i),this.params=a}clone(){return new Ll(null,this.params)}dependentFields(){return new Set}producedFields(){var i;return new Set([null!==(i=this.params.as)&&void 0!==i?i:"data"])}hash(){return`Hash ${zs(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}function Jm(e){return e instanceof H1||e instanceof CC||e instanceof Ll}class f6{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class U1 extends f6{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:i,mutatedFlag:a}){i&&this.setContinue(),a&&this.setMutated()}reset(){}optimizeNextFromLeaves(i){if(Jm(i))return!1;const a=i.parent,{continueFlag:u}=this.run(i);return u&&this.optimizeNextFromLeaves(a),this.mutatedFlag}}class LZ extends f6{}class Gh extends to{constructor(i,a,u){super(i),this.dimensions=a,this.measures=u}clone(){return new Gh(null,new Set(this.dimensions),ms(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(i,a){let u=!1;a.forEachFieldDef(h=>{h.aggregate&&(u=!0)});const l={},d=new Set;return u&&(a.forEachFieldDef((h,p)=>{var y,b,C,M;const{aggregate:O,field:H}=h;if(O)if("count"===O)l["*"]=null!==(y=l["*"])&&void 0!==y?y:{},l["*"].count=new Set([Zn(h,{forAs:!0})]);else{if(b1(O)||sx(O)){const Y=b1(O)?"argmin":"argmax",te=O[Y];l[te]=null!==(b=l[te])&&void 0!==b?b:{},l[te][Y]=new Set([Zn({op:Y,field:te},{forAs:!0})])}else l[H]=null!==(C=l[H])&&void 0!==C?C:{},l[H][O]=new Set([Zn(h,{forAs:!0})]);lx(p)&&"unaggregated"===a.scaleDomain(p)&&(l[H]=null!==(M=l[H])&&void 0!==M?M:{},l[H].min=new Set([Zn({field:H,aggregate:"min"},{forAs:!0})]),l[H].max=new Set([Zn({field:H,aggregate:"max"},{forAs:!0})]))}else!function(e,i,a,u){const l=xu(u)?u.encoding[o0(i)]:void 0;if(Xf(a)&&xu(u)&&ys(i,a,l,u.stack,u.markDef,u.config))e.add(Zn(a,{})),e.add(Zn(a,{suffix:"end"})),a.bin&&XS(a,i)&&e.add(Zn(a,{binSuffix:"range"}));else if(function(e){return e in ox}(i)){const d=function(e){switch(e){case $m:return"y";case Vm:return"y2";case s0:return"x";case Np:return"x2"}}(i);e.add(u.getName(d))}else e.add(Zn(a))}(d,p,h,a)}),d.size+Wn(l).length!==0)?new Gh(i,d,l):null}static makeFromTransform(i,a){var u,l,d;const h=new Set,p={};for(const y of a.aggregate){const{op:b,field:C,as:M}=y;b&&("count"===b?(p["*"]=null!==(u=p["*"])&&void 0!==u?u:{},p["*"].count=new Set([M||Zn(y,{forAs:!0})])):(p[C]=null!==(l=p[C])&&void 0!==l?l:{},p[C][b]=new Set([M||Zn(y,{forAs:!0})])))}for(const y of null!==(d=a.groupby)&&void 0!==d?d:[])h.add(y);return h.size+Wn(p).length===0?null:new Gh(i,h,p)}merge(i){return function(e,i){if(e.size!==i.size)return!1;for(const a of e)if(!i.has(a))return!1;return!0}(this.dimensions,i.dimensions)?(function(e,i){var a;for(const u of Wn(i)){const l=i[u];for(const d of Wn(l))u in e?e[u][d]=new Set([...null!==(a=e[u][d])&&void 0!==a?a:[],...l[d]]):e[u]={[d]:l[d]}}}(this.measures,i.measures),!0):(Gf.debug("different dimensions, cannot merge"),!1)}addDimensions(i){i.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Wn(this.measures)])}producedFields(){const i=new Set;for(const a of Wn(this.measures))for(const u of Wn(this.measures[a])){const l=this.measures[a][u];0===l.size?i.add(`${u}_${a}`):l.forEach(i.add,i)}return i}hash(){return`Aggregate ${zs({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const i=[],a=[],u=[];for(const d of Wn(this.measures))for(const h of Wn(this.measures[d]))for(const p of this.measures[d][h])u.push(p),i.push(h),a.push("*"===d?null:F_(d));return{type:"aggregate",groupby:[...this.dimensions].map(F_),ops:i,fields:a,as:u}}}class Q_ extends to{constructor(i,a,u,l){super(i),this.model=a,this.name=u,this.data=l;for(const d of Hh){const h=a.facet[d];if(h){const{bin:p,sort:y}=h;this[d]=Object.assign({name:a.getName(`${d}_domain`),fields:[Zn(h),...Eo(p)?[Zn(h,{binSuffix:"end"})]:[]]},Hm(y)?{sortField:y}:li(y)?{sortIndexField:xC(h,d)}:{})}}this.childModel=a.child}hash(){let i="Facet";for(const a of Hh)this[a]&&(i+=` ${a.charAt(0)}:${zs(this[a])}`);return i}get fields(){var i;const a=[];for(const u of Hh)(null===(i=this[u])||void 0===i?void 0:i.fields)&&a.push(...this[u].fields);return a}dependentFields(){const i=new Set(this.fields);for(const a of Hh)this[a]&&(this[a].sortField&&i.add(this[a].sortField.field),this[a].sortIndexField&&i.add(this[a].sortIndexField));return i}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const i={};for(const a of Op){const u=this.childModel.component.scales[a];if(u&&!u.merged){const l=u.get("type"),d=u.get("range");if(uf(l)&&S1(d)){const p=CA(EA(this.childModel,a));p?i[a]=p:Yn(`Unknown field for ${a}. Cannot calculate view size.`)}}}return i}assembleRowColumnHeaderData(i,a,u){const l={row:"y",column:"x"}[i],d=[],h=[],p=[];u&&u[l]&&(a?(d.push(`distinct_${u[l]}`),h.push("max")):(d.push(u[l]),h.push("distinct")),p.push(`distinct_${u[l]}`));const{sortField:y,sortIndexField:b}=this[i];if(y){const{op:C=nL,field:M}=y;d.push(M),h.push(C),p.push(Zn(y,{forAs:!0}))}else b&&(d.push(b),h.push("max"),p.push(b));return{name:this[i].name,source:null!=a?a:this.data,transform:[Object.assign({type:"aggregate",groupby:this[i].fields},d.length?{fields:d,ops:h,as:p}:{})]}}assembleFacetHeaderData(i){var a,u;const{columns:l}=this.model.layout,{layoutHeaders:d}=this.model.component,h=[],p={};for(const C of lf){for(const M of J8){const O=null!==(a=d[C]&&d[C][M])&&void 0!==a?a:[];for(const H of O)if((null===(u=H.axes)||void 0===u?void 0:u.length)>0){p[C]=!0;break}}if(p[C]){const M=`length(data("${this.facet.name}"))`;h.push({name:`${this.facet.name}_${C}`,transform:[{type:"sequence",start:0,stop:"row"===C?l?{signal:`ceil(${M} / ${l})`}:1:l?{signal:`min(${M}, ${l})`}:{signal:M}}]})}}const{row:y,column:b}=p;return(y||b)&&h.unshift(this.assembleRowColumnHeaderData("facet",null,i)),h}assemble(){var i,a;const u=[];let l=null;const d=this.getChildIndependentFieldsWithStep(),{column:h,row:p,facet:y}=this;if(h&&p&&(d.x||d.y)){l=`cross_${this.column.name}_${this.row.name}`;const b=[].concat(null!==(i=d.x)&&void 0!==i?i:[],null!==(a=d.y)&&void 0!==a?a:[]),C=b.map(()=>"distinct");u.push({name:l,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:b,ops:C}]})}for(const b of[R_,P_])this[b]&&u.push(this.assembleRowColumnHeaderData(b,l,d));if(y){const b=this.assembleFacetHeaderData(d);b&&u.push(...b)}return u}}function PZ(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function ame(e){const i={};return EO(e.filter,a=>{var u;if(BG(a)){let l=null;P5(a)?l=a.equal:R5(a)?l=a.range[0]:B5(a)&&(l=(null!==(u=a.oneOf)&&void 0!==u?u:a.in)[0]),l&&(uC(l)?i[a.field]="date":hl(l)?i[a.field]="number":ps(l)&&(i[a.field]="string")),a.timeUnit&&(i[a.field]="date")}}),i}class cf extends to{constructor(i,a){super(i),this._parse=a}clone(){return new cf(null,ms(this._parse))}hash(){return`Parse ${zs(this._parse)}`}static makeExplicit(i,a,u){let l={};const d=a.data;return!Sx(d)&&d&&d.format&&d.format.parse&&(l=d.format.parse),this.makeWithAncestors(i,l,{},u)}static makeWithAncestors(i,a,u,l){for(const p of Wn(u)){const y=l.getWithExplicit(p);void 0!==y.value&&(y.explicit||y.value===u[p]||"derived"===y.value||"flatten"===u[p]?delete u[p]:Yn(vG(p,u[p],y.value)))}for(const p of Wn(a)){const y=l.get(p);void 0!==y&&(y===a[p]?delete a[p]:Yn(vG(p,a[p],y)))}const d=new K_(a,u);l.copyAll(d);const h={};for(const p of Wn(d.combine())){const y=d.get(p);null!==y&&(h[p]=y)}return 0===Wn(h).length||l.parseNothing?null:new cf(i,h)}get parse(){return this._parse}merge(i){this._parse=Object.assign(Object.assign({},this._parse),i.parse),i.remove()}assembleFormatParse(){const i={};for(const a of Wn(this._parse)){const u=this._parse[a];1===ES(a)&&(i[a]=u)}return i}producedFields(){return new Set(Wn(this._parse))}dependentFields(){return new Set(Wn(this._parse))}assembleTransforms(i=!1){return Wn(this._parse).filter(a=>!i||ES(a)>1).map(a=>{const u=function(e,i){const a=UY(e);return"number"===i?`toNumber(${a})`:"boolean"===i?`toBoolean(${a})`:"string"===i?`toString(${a})`:"date"===i?`toDate(${a})`:"flatten"===i?a:0===i.indexOf("date:")?`timeParse(${a},'${PZ(i.slice(5,i.length))}')`:0===i.indexOf("utc:")?`utcParse(${a},'${PZ(i.slice(4,i.length))}')`:(Yn(function(e){return`Unrecognized parse "${e}".`}(i)),null)}(a,this._parse[a]);return u?{type:"formula",expr:u,as:YY(a)}:null}).filter(a=>null!==a)}}class Fx extends to{clone(){return new Fx(null)}constructor(i){super(i)}dependentFields(){return new Set}producedFields(){return new Set([pC])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:pC}}}class EC extends to{constructor(i,a){super(i),this.transform=a}clone(){return new EC(null,ms(this.transform))}addDimensions(i){this.transform.groupby=_1(this.transform.groupby.concat(i),a=>a)}dependentFields(){const i=new Set;return this.transform.groupby&&this.transform.groupby.forEach(i.add,i),this.transform.joinaggregate.map(a=>a.field).filter(a=>void 0!==a).forEach(i.add,i),i}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(i){var a;return null!==(a=i.as)&&void 0!==a?a:Zn(i)}hash(){return`JoinAggregateTransform ${zs(this.transform)}`}assemble(){const i=[],a=[],u=[];for(const d of this.transform.joinaggregate)a.push(d.op),u.push(this.getDefaultName(d)),i.push(void 0===d.field?null:d.field);const l=this.transform.groupby;return Object.assign({type:"joinaggregate",as:u,ops:a,fields:i},void 0!==l?{groupby:l}:{})}}class $p extends to{constructor(i,a){super(i),this._stack=a}clone(){return new $p(null,ms(this._stack))}static makeFromTransform(i,a){const{stack:u,groupby:l,as:d,offset:h="zero"}=a,p=[],y=[];if(void 0!==a.sort)for(const M of a.sort)p.push(M.field),y.push(pl(M.order,"ascending"));const b={field:p,order:y};let C;return C=function(e){return li(e)&&e.every(i=>ps(i))&&e.length>1}(d)?d:ps(d)?[d,d+"_end"]:[a.stack+"_start",a.stack+"_end"],new $p(i,{stackField:u,groupby:l,offset:h,sort:b,facetby:[],as:C})}static makeFromEncoding(i,a){const u=a.stack,{encoding:l}=a;if(!u)return null;const{groupbyChannel:d,fieldChannel:h,offset:p,impute:y}=u;let b;d&&(b=p0(l[d]));const C=function(e){return e.stack.stackBy.reduce((i,a)=>{const l=Zn(a.fieldDef);return l&&i.push(l),i},[])}(a),M=a.encoding.order;let O;return O=li(M)||_r(M)?yK(M):C.reduce((H,Y)=>(H.field.push(Y),H.order.push("y"===h?"descending":"ascending"),H),{field:[],order:[]}),new $p(i,{dimensionFieldDef:b,stackField:a.vgField(h),facetby:[],stackby:C,sort:O,offset:p,impute:y,as:[a.vgField(h,{suffix:"start",forAs:!0}),a.vgField(h,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(i){this._stack.facetby.push(...i)}dependentFields(){const i=new Set;return i.add(this._stack.stackField),this.getGroupbyFields().forEach(i.add,i),this._stack.facetby.forEach(i.add,i),this._stack.sort.field.forEach(i.add,i),i}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${zs(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:i,impute:a,groupby:u}=this._stack;return i?i.bin?a?[Zn(i,{binSuffix:"mid"})]:[Zn(i,{}),Zn(i,{binSuffix:"end"})]:[Zn(i)]:null!=u?u:[]}assemble(){const i=[],{facetby:a,dimensionFieldDef:u,stackField:l,stackby:d,sort:h,offset:p,impute:y,as:b}=this._stack;if(y&&u){const{band:C=.5,bin:M}=u;M&&i.push({type:"formula",expr:`${C}*`+Zn(u,{expr:"datum"})+`+${1-C}*`+Zn(u,{expr:"datum",binSuffix:"end"}),as:Zn(u,{binSuffix:"mid",forAs:!0})}),i.push({type:"impute",field:l,groupby:[...d,...a],key:Zn(u,{binSuffix:"mid"}),method:"value",value:0})}return i.push({type:"stack",groupby:[...this.getGroupbyFields(),...a],field:l,sort:h,as:b,offset:p}),i}}class D0 extends to{constructor(i,a){super(i),this.transform=a}clone(){return new D0(null,ms(this.transform))}addDimensions(i){this.transform.groupby=_1(this.transform.groupby.concat(i),a=>a)}dependentFields(){var i,a;const u=new Set;return(null!==(i=this.transform.groupby)&&void 0!==i?i:[]).forEach(u.add,u),(null!==(a=this.transform.sort)&&void 0!==a?a:[]).forEach(l=>u.add(l.field)),this.transform.window.map(l=>l.field).filter(l=>void 0!==l).forEach(u.add,u),u}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(i){var a;return null!==(a=i.as)&&void 0!==a?a:Zn(i)}hash(){return`WindowTransform ${zs(this.transform)}`}assemble(){var i;const a=[],u=[],l=[],d=[];for(const O of this.transform.window)u.push(O.op),l.push(this.getDefaultName(O)),d.push(void 0===O.param?null:O.param),a.push(void 0===O.field?null:O.field);const h=this.transform.frame,p=this.transform.groupby;if(h&&null===h[0]&&null===h[1]&&u.every(O=>b5(O)))return Object.assign({type:"joinaggregate",as:l,ops:u,fields:a},void 0!==p?{groupby:p}:{});const y=[],b=[];if(void 0!==this.transform.sort)for(const O of this.transform.sort)y.push(O.field),b.push(null!==(i=O.order)&&void 0!==i?i:"ascending");const M=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:d,as:l,ops:u,fields:a,sort:{field:y,order:b}},void 0!==M?{ignorePeers:M}:{}),void 0!==p?{groupby:p}:{}),void 0!==h?{frame:h}:{})}}class $L extends U1{run(i){const a=i.parent;if(i instanceof cf){if(Jm(a))return this.flags;if(a.numChildren()>1)return this.setContinue(),this.flags;if(a instanceof cf)this.setMutated(),a.merge(i);else{if(WY(a.producedFields(),i.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),i.swapWithParent()}}return this.setContinue(),this.flags}}class VL extends LZ{mergeNodes(i,a){const u=a.shift();for(const l of a)i.removeChild(l),l.parent=u,l.remove()}run(i){const a=i.children.map(l=>l.hash()),u={};for(let l=0;l<a.length;l++)void 0===u[a[l]]?u[a[l]]=[i.children[l]]:u[a[l]].push(i.children[l]);for(const l of Wn(u))u[l].length>1&&(this.setMutated(),this.mergeNodes(i,u[l]));for(const l of i.children)this.run(l);return this.mutatedFlag}}class ume extends U1{run(i){return i instanceof Zf||i.numChildren()>0||i instanceof Q_||(this.setMutated(),i.remove()),this.flags}}class p6 extends U1{constructor(){super(...arguments),this.fields=new Set,this.prev=null}run(i){if(this.setContinue(),i instanceof _0){const a=i.producedFields();zY(a,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([...this.fields,...a]),this.prev=i}return this.flags}reset(){this.fields.clear()}}class zL extends U1{run(i){this.setContinue();const u=i.parent.children.filter(d=>d instanceof _0),l=u.pop();for(const d of u)this.setMutated(),l.merge(d);return this.flags}}function m6(e){if(e instanceof Q_)if(1!==e.numChildren()||e.children[0]instanceof Zf){const i=e.model.component.data.main;g6(i);const a=function(e){return function i(a){if(!(a instanceof Q_)){const u=a.clone();if(u instanceof Zf){const l=y6+u.getSource();u.setSource(l),e.model.component.data.outputNodes[l]=u}else(u instanceof Gh||u instanceof $p||u instanceof D0||u instanceof EC)&&u.addDimensions(e.fields);for(const l of a.children.flatMap(i))l.parent=u;return[u]}return a.children.flatMap(i)}}(e),u=e.children.map(a).flat();for(const l of u)l.parent=i}else{const i=e.children[0];(i instanceof Gh||i instanceof $p||i instanceof D0||i instanceof EC)&&i.addDimensions(e.fields),i.swapWithParent(),m6(e)}else e.children.map(m6)}function g6(e){if(e instanceof Zf&&e.type===Cd&&1===e.numChildren()){const i=e.children[0];i instanceof Q_||(i.swapWithParent(),g6(e))}}class cme extends LZ{constructor(){super()}run(i){i instanceof Zf&&!i.isRequired()&&(this.setMutated(),i.remove());for(const a of i.children)this.run(a);return this.mutatedFlag}}class RZ extends LZ{constructor(i){super(),this.requiresSelectionId=i&&T8(i)}run(i){i instanceof Fx&&(this.requiresSelectionId&&(Jm(i.parent)||i.parent instanceof Gh||i.parent instanceof cf)||(this.setMutated(),i.remove()));for(const a of i.children)this.run(a);return this.mutatedFlag}}class dme extends U1{run(i){const a=i.parent,u=[...a.children],l=a.children.filter(d=>d instanceof cf);if(a.numChildren()>1&&l.length>=1){const d={},h=new Set;for(const p of l){const y=p.parse;for(const b of Wn(y))b in d?d[b]!==y[b]&&h.add(b):d[b]=y[b]}for(const p of h)delete d[p];if(!qa(d)){this.setMutated();const p=new cf(a,d);for(const y of u){if(y instanceof cf)for(const b of Wn(d))delete y.parse[b];a.removeChild(y),y.parent=p,y instanceof cf&&0===Wn(y.parse).length&&y.remove()}}}return this.setContinue(),this.flags}}class NDe extends U1{run(i){const a=i.parent,u=a.children.filter(d=>d instanceof Gh),l={};for(const d of u){const h=zs(d.groupBy);h in l||(l[h]=[]),l[h].push(d)}for(const d of Wn(l)){const h=l[d];if(h.length>1){const p=h.pop();for(const y of h)p.merge(y)&&(a.removeChild(y),y.parent=p,y.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class fme extends U1{constructor(i){super(),this.model=i}run(i){const a=i.parent,u=!(Jm(a)||a instanceof vC||a instanceof cf||a instanceof Fx),l=[],d=[];for(const h of a.children)h instanceof Zm&&(u&&!WY(a.producedFields(),h.dependentFields())?l.push(h):d.push(h));if(l.length>0){const h=l.pop();for(const p of l)h.merge(p,this.model.renameSignal.bind(this.model));this.setMutated(),a instanceof Zm?a.merge(h,this.model.renameSignal.bind(this.model)):h.swapWithParent()}if(d.length>1){const h=d.pop();for(const p of d)h.merge(p,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class _6 extends U1{run(i){const a=i.parent,u=[...a.children];if(!wS(u,p=>p instanceof Zf)||a.numChildren()<=1)return this.setContinue(),this.flags;const d=[];let h;for(const p of u)if(p instanceof Zf){let y=p;for(;1===y.numChildren();){const b=y.children[0];if(!(b instanceof Zf))break;y=b}d.push(...y.children),h?(a.removeChild(p),p.parent=h.parent,h.parent.removeChild(h),h.parent=y,this.setMutated()):h=y}else d.push(p);if(d.length){this.setMutated();for(const p of d)p.parent.removeChild(p),p.parent=h}return this.setContinue(),this.flags}}const y6="scale_";function w0(e){const i=[];function a(u){if(0===u.numChildren())i.push(u);else for(const l of u.children)a(l)}for(const u of e)a(u);return i}function jL(e){return e}function C0(e,i){return i.map(u=>{if(e instanceof U1){const l=e.optimizeNextFromLeaves(u);return e.reset(),l}return e.run(u)}).some(jL)}function MC(e,i){let a=e.sources;const u=new Set;return u.add(C0(new cme,a)),u.add(C0(new RZ(i),a)),a=a.filter(l=>l.numChildren()>0),u.add(C0(new ume,w0(a))),a=a.filter(l=>l.numChildren()>0),u.add(C0(new $L,w0(a))),u.add(C0(new fme(i),w0(a))),u.add(C0(new p6,w0(a))),u.add(C0(new dme,w0(a))),u.add(C0(new NDe,w0(a))),u.add(C0(new zL,w0(a))),u.add(C0(new VL,a)),u.add(C0(new _6,w0(a))),e.sources=a,u.has(!0)}class ac{constructor(i){Object.defineProperty(this,"signal",{enumerable:!0,get:i})}static fromName(i,a){return new ac(()=>i(a))}}function SC(e){xu(e)?function(e){const i=e.component.scales;for(const a of Wn(i)){const u=b6(e,a);if(i[a].setWithExplicit("domains",u),x6(e,a),e.component.data.isFaceted){let d=e;for(;!Qm(d)&&d.parent;)d=d.parent;if("shared"===d.component.resolve.scale[a])for(const p of u.value)A1(p)&&(p.data=y6+p.data.replace(y6,""))}}}(e):function(e){for(const a of e.children)SC(a);const i=e.component.scales;for(const a of Wn(i)){let u,l=null;for(const d of e.children){const h=d.component.scales[a];if(h){u=void 0===u?h.getWithExplicit("domains"):F1(u,h.getWithExplicit("domains"),"domains","scale",zZ);const p=h.get("selectionExtent");l&&p&&l.selection!==p.selection&&Yn("The same selection must be used to override scale domains in a layered view."),l=p}}i[a].setWithExplicit("domains",u),l&&i[a].set("selectionExtent",l,!0)}}(e)}function b6(e,i){const a=e.getScaleComponent(i).get("type"),{encoding:u}=e,l=function(e,i,a,u){if("unaggregated"===e){const{valid:l,reason:d}=VZ(i,a);if(!l)return void Yn(d)}else if(void 0===e&&u.useUnaggregatedDomain){const{valid:l}=VZ(i,a);if(l)return"unaggregated"}return e}(e.scaleDomain(i),e.typedFieldDef(i),a,e.config.scale);return l!==e.scaleDomain(i)&&(e.specifiedScales[i]=Object.assign(Object.assign({},e.specifiedScales[i]),{domain:l})),"x"===i&&Ol(u.x2)?Ol(u.x)?F1(E0(a,l,e,"x"),E0(a,l,e,"x2"),"domain","scale",zZ):E0(a,l,e,"x2"):"y"===i&&Ol(u.y2)?Ol(u.y)?F1(E0(a,l,e,"y"),E0(a,l,e,"y2"),"domain","scale",zZ):E0(a,l,e,"y2"):E0(a,l,e,i)}function DA(e,i,a){var u;const l=null===(u=af(a))||void 0===u?void 0:u.unit;return"temporal"===i||l?function(e,i,a){return e.map(u=>({signal:`{data: ${Q5(u,{timeUnit:a,type:i})}}`}))}(e,i,l):[e]}function E0(e,i,a,u){const{encoding:l}=a,d=Ol(l[u]),{type:h}=d,p=d.timeUnit;if(function(e){return e&&e.unionWith}(i)){const M=E0(e,void 0,a,u),O=DA(i.unionWith,h,p);return Mx([...M.value,...O])}if(Si(i))return Mx([i]);if(i&&"unaggregated"!==i&&!YG(i))return Mx(DA(i,h,p));const y=a.stack;if(y&&u===y.fieldChannel){if("normalize"===y.offset)return Yh([[0,1]]);const M=a.requestDataName(Cd);return Yh([{data:M,field:a.vgField(u,{suffix:"start"})},{data:M,field:a.vgField(u,{suffix:"end"})}])}const b=lx(u)&&_r(d)?function(e,i,a){if(!uf(a))return;const u=e.fieldDef(i),l=u.sort;if(iK(l))return{op:"min",field:xC(u,i),order:"ascending"};const{stack:d}=e,h=d?[...d.groupbyField?[d.groupbyField]:[],...d.stackBy.map(p=>p.fieldDef.field)]:void 0;if(Hm(l))return AC(l,d&&!fi(h,l.field));if(Y5(l)){const{encoding:p,order:y}=l,b=e.fieldDef(p),{aggregate:C,field:M}=b,O=d&&!fi(h,M);if(b1(C)||sx(C))return AC({field:Zn(b),order:y},O);if(b5(C)||!C)return AC({op:C,field:M,order:y},O)}else{if("descending"===l)return{op:"min",field:e.vgField(i),order:"descending"};if(fi(["ascending",void 0],l))return!0}}(a,u,e):void 0;if(f0(d))return Yh(DA([d.datum],h,p));const C=d;if("unaggregated"===i){const M=a.requestDataName(Cd),{field:O}=d;return Yh([{data:M,field:Zn({field:O,aggregate:"min"})},{data:M,field:Zn({field:O,aggregate:"max"})}])}if(Eo(C.bin)){if(uf(e))return Yh("bin-ordinal"===e?[]:[{data:SO(b)?a.requestDataName(Cd):a.requestDataName(_L),field:a.vgField(u,XS(C,u)?{binSuffix:"range"}:{}),sort:!0!==b&&tc(b)?b:{field:a.vgField(u,{}),op:"min"}}]);{const{bin:M}=C;if(Eo(M)){const O=vA(a,C.field,M);return Yh([new ac(()=>{const H=a.getSignalName(O);return`[${H}.start, ${H}.stop]`})])}return Yh([{data:a.requestDataName(Cd),field:a.vgField(u,{})}])}}if(C.timeUnit&&fi(["time","utc"],e)&&ys(u,C,xu(a)?a.encoding[o0(u)]:void 0,a.stack,a.markDef,a.config)){const M=a.requestDataName(Cd);return Yh([{data:M,field:a.vgField(u)},{data:M,field:a.vgField(u,{suffix:"end"})}])}return Yh(b?[{data:SO(b)?a.requestDataName(Cd):a.requestDataName(_L),field:a.vgField(u),sort:b}]:[{data:a.requestDataName(Cd),field:a.vgField(u)}])}function AC(e,i){const{op:a,field:u,order:l}=e;return Object.assign(Object.assign({op:null!=a?a:i?"sum":nL},u?{field:F_(u)}:{}),l?{order:l}:{})}function x6(e,i){var a;const u=e.component.scales[i],l=e.specifiedScales[i].domain,d=null===(a=e.fieldDef(i))||void 0===a?void 0:a.bin,h=YG(l)&&l,p=iC(d)&&U_(d.extent)&&d.extent;(h||p)&&u.set("selectionExtent",null!=h?h:p,!0)}function VZ(e,i){const{aggregate:a,type:u}=e;return a?ps(a)&&!Dle[a]?{valid:!1,reason:Jle(a)}:"quantitative"===u&&"log"===i?{valid:!1,reason:bG(e)}:{valid:!0}:{valid:!1,reason:Zle(e)}}function zZ(e,i,a,u){return e.explicit&&i.explicit&&Yn(function(e,i,a,u){return`Conflicting ${i.toString()} property "${e.toString()}" (${qo(a)} and ${qo(u)}). Using the union of the two domains.`}(a,u,e.value,i.value)),{explicit:e.explicit,value:[...e.value,...i.value]}}function CA(e){if(A1(e)&&ps(e.field))return e.field;if(function(e){return!li(e)&&"fields"in e&&!("data"in e)}(e)){let i;for(const a of e.fields)if(A1(a)&&ps(a.field))if(i){if(i!==a.field)return Yn("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),i}else i=a.field;return Yn("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),i}if(function(e){return!li(e)&&"fields"in e&&"data"in e}(e)){Yn("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const i=e.fields[0];return ps(i)?i:void 0}}function EA(e,i){return function(e){const i=_1(e.map(h=>A1(h)?ti(h,["sort"]):h),zs),a=_1(e.map(h=>{if(A1(h)){const p=h.sort;return void 0!==p&&!SO(p)&&("op"in p&&"count"===p.op&&delete p.field,"ascending"===p.order&&delete p.order),p}}).filter(h=>void 0!==h),zs);if(0===i.length)return;if(1===i.length){const h=e[0];if(A1(h)&&a.length>0){let p=a[0];return a.length>1?(Yn(M1),p=!0):tc(p)&&"field"in p&&h.field===p.field&&(p=!p.order||{order:p.order}),Object.assign(Object.assign({},h),{sort:p})}return h}const u=_1(a.map(h=>SO(h)||!("op"in h)||h.op in _le?h:(Yn(function(e){return`Dropping sort property ${qo(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(h)),!0)),zs);let l;1===u.length?l=u[0]:u.length>1&&(Yn(M1),l=!0);const d=_1(e.map(h=>A1(h)?h.data:null),h=>h);return Object.assign(1===d.length&&null!==d[0]?{data:d[0],fields:i.map(p=>p.field)}:{fields:i},l?{sort:l}:{})}(e.component.scales[i].get("domains").map(l=>(A1(l)&&(l.data=e.lookupDataSource(l.data)),l)))}function mme(e){return Y1(e)||QZ(e)?e.children.reduce((i,a)=>i.concat(mme(a)),gme(e)):gme(e)}function gme(e){return Wn(e.component.scales).reduce((i,a)=>{const u=e.component.scales[a];if(u.merged)return i;const l=u.combine(),{name:d,type:h,selectionExtent:p,reverse:C}=l,M=ti(l,["name","type","selectionExtent","domains","range","reverse"]),O=function(e,i,a){return u0(a)&&S1(e)?{step:{signal:i+"_step"}}:e}(l.range,d,a);let H;p&&(H=function(e,i){const a=i.selection;return{signal:sZ(e.getSelectionComponent(a,eu(a)),i)}}(e,p));const Y=EA(e,a);return i.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:d,type:h},Y?{domain:Y}:{}),H?{domainRaw:H}:{}),{range:O}),void 0!==C?{reverse:C}:{}),M)),i},[])}class _me extends K_{constructor(i,a){super({},{name:i}),this.merged=!1,this.setWithExplicit("type",a)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||wS(this.get("domains"),i=>li(i)&&2===i.length&&i[0]<=0&&i[1]>=0)}}const yme=["range","scheme"];function D6(e){return"x"===e?"width":"y"===e?"height":void 0}function bme(e,i){const a=e.fieldDef(i);if(a&&a.bin&&Eo(a.bin)){const u=vA(e,a.field,a.bin),l=D6(i),d=e.getName(l);return new ac(()=>{const h=e.getSignalName(u),p=`(${h}.stop - ${h}.start) / ${h}.step`;return`${e.getSignalName(d)} / (${p})`})}}function jZ(e,i){const a=i.specifiedScales[e],{size:u}=i,d=i.getScaleComponent(e).get("type");for(const h of yme)if(void 0!==a[h]){const p=jS(d,h),y=KG(e,h);if(p)if(y)Yn(y);else switch(h){case"range":return li(a.range)&&u0(e)?Mx(a.range.map(b=>{if("width"===b||"height"===b){const C=i.getName(b),M=i.getSignalName.bind(i);return ac.fromName(M,C)}return b})):Mx(a.range);case"scheme":return Mx(w6(a[h]))}else Yn(xG(d,h,e))}if(e===vu||e===Il){const h=e===vu?"width":"height",p=u[h];if(m0(p)){if(uf(d))return Mx({step:p.step});Yn(DG(h))}}return Yh(function(e,i){const{size:a,config:u,mark:l,encoding:d}=i,h=i.getSignalName.bind(i),{type:p}=Ol(d[e]),b=i.getScaleComponent(e).get("type"),{domain:C,domainMid:M}=i.specifiedScales[e];switch(e){case vu:case Il:{if(fi(["point","band"],b))if(e!==vu||a.width){if(e===Il&&!a.height){const Y=ZS(u.view,"height");if(m0(Y))return Y}}else{const Y=ZS(u.view,"width");if(m0(Y))return Y}const O=D6(e),H=i.getName(O);return e===Il&&Pp(b)?[ac.fromName(h,H),0]:[0,ac.fromName(h,H)]}case V_:{const H=HZ(l,i.component.scales[e].get("zero"),u),Y=function(e,i,a,u){const l={x:bme(a,"x"),y:bme(a,"y")};switch(e){case"bar":case"tick":{if(void 0!==u.scale.maxBandSize)return u.scale.maxBandSize;const d=YZ(i,l,u.view);return hl(d)?d-1:new ac(()=>`${d.signal} - 1`)}case"line":case"trail":case"rule":return u.scale.maxStrokeWidth;case"text":return u.scale.maxFontSize;case"point":case"square":case"circle":{if(u.scale.maxSize)return u.scale.maxSize;const d=YZ(i,l,u.view);return hl(d)?Math.pow(.95*d,2):new ac(()=>`pow(0.95 * ${d.signal}, 2)`)}}throw new Error(zS("size",e))}(l,a,i,u);return QO(b)?function(e,i,a){const u=()=>{const l=dC(i),d=dC(e),h=`(${l} - ${d}) / (${a} - 1)`;return`sequence(${d}, ${l} + ${h}, ${h})`};return Si(i)?new ac(u):{signal:u()}}(H,Y,function(e,i,a,u){switch(e){case"quantile":return i.scale.quantileCount;case"quantize":return i.scale.quantizeCount;case"threshold":return void 0!==a&&li(a)?a.length+1:(Yn(function(e){return`Domain for ${e} is required for threshold scale.`}(u)),3)}}(b,u,C,e)):[H,Y]}case Bm:return[0,2*Math.PI];case x1:return[0,360];case i0:return[0,new ac(()=>`min(${i.getSignalName("width")},${i.getSignalName("height")})/2`)];case j_:return[u.scale.minStrokeWidth,u.scale.maxStrokeWidth];case C1:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Yf:return"symbol";case Uf:case zm:case a0:return"ordinal"===b?"nominal"===p?"category":"ordinal":void 0!==M?"diverging":"rect"===l||"geoshape"===l?"heatmap":"ramp";case z_:case D1:case w1:return[u.scale.minOpacity,u.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${e}`)}(e,i))}function w6(e){return function(e){return!ps(e)&&!!e.name}(e)?Object.assign({scheme:e.name},L_(e,["name"])):{scheme:e}}function HZ(e,i,a){if(i)return Si(i)?{signal:`${i.signal} ? 0 : ${HZ(e,!1,a)}`}:0;switch(e){case"bar":case"tick":return a.scale.minBandSize;case"line":case"trail":case"rule":return a.scale.minStrokeWidth;case"text":return a.scale.minFontSize;case"point":case"square":case"circle":return a.scale.minSize}throw new Error(zS("size",e))}function YZ(e,i,a){const u=m0(e.width)?e.width.step:Ex(a,"width"),l=m0(e.height)?e.height.step:Ex(a,"height");return i.x||i.y?new ac(()=>`min(${[i.x?i.x.signal:u,i.y?i.y.signal:l].join(", ")})`):Math.min(u,l)}function C6(e,i){xu(e)?function(e,i){const a=e.component.scales,{config:u,encoding:l,markDef:d,specifiedScales:h}=e;for(const p of Wn(a)){const y=h[p],b=a[p],C=e.getScaleComponent(p),M=Ol(l[p]),O=y[i],H=C.get("type"),Y=C.get("padding"),te=C.get("paddingInner"),se=jS(H,i),ye=KG(p,i);if(void 0!==O&&(se?ye&&Yn(ye):Yn(xG(H,i,p))),se&&void 0===ye)if(void 0!==O)b.copyKeyFromObject(i,y);else{const Ce=i in HL?HL[i]({model:e,channel:p,fieldOrDatumDef:M,scaleType:H,scalePadding:Y,scalePaddingInner:te,domain:y.domain,markDef:d,config:u}):u.scale[i];void 0!==Ce&&b.set(i,Ce,!1)}}}(e,i):GZ(e,i)}const HL={bins:({model:e,fieldOrDatumDef:i})=>_r(i)?function(e,i){const a=i.bin;if(Eo(a)){const u=vA(e,i.field,a);return new ac(()=>e.getSignalName(u))}if(bu(a)&&iC(a)&&void 0!==a.step)return{step:a.step}}(e,i):void 0,interpolate:({channel:e,fieldOrDatumDef:i})=>function(e,i){if(fi([Uf,zm,a0],e)&&"nominal"!==i)return"hcl"}(e,i.type),nice:({scaleType:e,channel:i,fieldOrDatumDef:a})=>function(e,i,a){var u;if(!(null===(u=p0(a))||void 0===u?void 0:u.bin)&&!fi(["time","utc"],e))return i in E1||void 0}(e,i,a),padding:({channel:e,scaleType:i,fieldOrDatumDef:a,markDef:u,config:l})=>function(e,i,a,u,l,d){if(e in E1){if(jm(i)){if(void 0!==a.continuousPadding)return a.continuousPadding;const{type:h,orient:p}=l;if("bar"===h&&(!_r(u)||!u.bin&&!u.timeUnit)&&("vertical"===p&&"x"===e||"horizontal"===p&&"y"===e))return d.continuousBandSize}if("point"===i)return a.pointPadding}}(e,i,l.scale,a,u,l.bar),paddingInner:({scalePadding:e,channel:i,markDef:a,config:u})=>function(e,i,a,u){if(void 0===e&&i in E1){const{bandPaddingInner:l,barBandPaddingInner:d,rectBandPaddingInner:h}=u;return pl(l,"bar"===a?d:h)}}(e,i,a.type,u.scale),paddingOuter:({scalePadding:e,channel:i,scaleType:a,scalePaddingInner:l,config:d})=>function(e,i,a,u,l,d){if(void 0===e&&i in E1&&"band"===a){const{bandPaddingOuter:h}=d;return pl(h,Si(l)?{signal:`${l.signal}/2`}:l/2)}}(e,i,a,0,l,d.scale),reverse:({fieldOrDatumDef:e,scaleType:i,channel:a,config:u})=>function(e,i,a,u){return"x"===a&&void 0!==u.xReverse?Pp(e)&&"descending"===i?Si(u.xReverse)?{signal:`!${u.xReverse.signal}`}:!u.xReverse:u.xReverse:!(!Pp(e)||"descending"!==i)||void 0}(i,_r(e)?e.sort:void 0,a,u.scale),zero:({channel:e,fieldOrDatumDef:i,domain:a,markDef:u,scaleType:l})=>function(e,i,a,u,l){if(a&&"unaggregated"!==a&&Pp(l)){if(li(a)){const p=a[a.length-1];if(a[0]<=0&&p>=0)return!0}return!1}if("size"===e&&"quantitative"===i.type&&!QO(l))return!0;if((!_r(i)||!i.bin)&&fi([...Op,...HO],e)){const{orient:h,type:p}=u;return!(fi(["bar","area","line","trail"],p)&&("horizontal"===h&&"y"===e||"vertical"===h&&"x"===e))}return!1}(e,i,a,u,l)};function UL(e){xu(e)?function(e){const i=e.component.scales;for(const a of YO){const u=i[a];if(!u)continue;const l=jZ(a,e);u.setWithExplicit("range",l)}}(e):GZ(e,"range")}function GZ(e,i){const a=e.component.scales;for(const u of e.children)"range"===i?UL(u):C6(u,i);for(const u of Wn(a)){let l;for(const d of e.children){const h=d.component.scales[u];h&&(l=F1(l,h.getWithExplicit(i),i,"scale",nX((y,b)=>{switch(i){case"range":return y.step&&b.step?y.step-b.step:0}return 0})))}a[u].setWithExplicit(i,l)}}function A6(e){e.component.scales=xu(e)?function(e){const{encoding:i,mark:a}=e;return YO.reduce((u,l)=>{const d=Ol(i[l]);if(d&&a===qY&&l===Yf&&d.type===cC)return u;let h=d&&d.scale;if(d&&null!==h&&!1!==h){h=null!=h?h:{};const p=function(e,i,a,u){const l=function(e,i,a){var u;switch(i.type){case"nominal":case"ordinal":if(rC(e)||"discrete"===NS(e))return"shape"===e&&"ordinal"===i.type&&Yn(N5(e,"ordinal")),"ordinal";if(e in E1){if(fi(["rect","bar","image","rule"],a))return"band"}else if("arc"===a&&e in C5)return"band";return void 0!==i.band||G_(i)&&(null===(u=i.axis)||void 0===u?void 0:u.tickBand)?"band":"point";case"temporal":return rC(e)?"time":"discrete"===NS(e)?(Yn(N5(e,"temporal")),"ordinal"):_r(i)&&i.timeUnit&&af(i.timeUnit).utc?"utc":"time";case"quantitative":return rC(e)?_r(i)&&Eo(i.bin)?"bin-ordinal":"linear":"discrete"===NS(e)?(Yn(N5(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(VS(i.type))}(i,a,u),{type:d}=e;return lx(i)?void 0!==d?ZG(i,d)?_r(a)&&!XG(d,a.type)?(Yn(function(e,i){return`FieldDef does not work with "${e}" scale. We are using "${i}" scale instead.`}(d,l)),l):d:(Yn(function(e,i,a){return`Channel "${e}" does not work with "${i}" scale. We are using "${a}" scale instead.`}(i,d,l)),l):l:null}(h,l,d,a);u[l]=new _me(e.scaleName(l+"",!0),{value:p,explicit:h.type===p})}return u},{})}(e):function(e){var i;const a=e.component.scales={},u={},l=e.component.resolve;for(const d of e.children){A6(d);for(const h of Wn(d.component.scales))if(l.scale[h]=null!==(i=l.scale[h])&&void 0!==i?i:Kpe(h,e),"shared"===l.scale[h]){const p=u[h],y=d.component.scales[h].getWithExplicit("type");p?$ce(p.value,y.value)?u[h]=F1(p,y,"type","scale",T6):(l.scale[h]="independent",delete u[h]):u[h]=y}}for(const d of Wn(u)){const h=e.scaleName(d,!0);a[d]=new _me(h,u[d]);for(const y of e.children){const b=y.component.scales[d];b&&(y.renameScale(b.get("name"),h),b.merged=!0)}}return a}(e)}const T6=nX((e,i)=>zG(e)-zG(i));class k6{constructor(){this.nameMap={}}rename(i,a){this.nameMap[i]=a}has(i){return void 0!==this.nameMap[i]}get(i){for(;this.nameMap[i]&&i!==this.nameMap[i];)i=this.nameMap[i];return i}}function xu(e){return"unit"===(null==e?void 0:e.type)}function Qm(e){return"facet"===(null==e?void 0:e.type)}function QZ(e){return"concat"===(null==e?void 0:e.type)}function Y1(e){return"layer"===(null==e?void 0:e.type)}class YL{constructor(i,a,u,l,d,h,p){var y,b;this.type=a,this.parent=u,this.config=d,this.view=p,this.children=[],this.correctDataNames=C=>(C.from&&C.from.data&&(C.from.data=this.lookupDataSource(C.from.data)),C.from&&C.from.facet&&C.from.facet.data&&(C.from.facet.data=this.lookupDataSource(C.from.facet.data)),C),this.parent=u,this.config=d,this.name=null!==(y=i.name)&&void 0!==y?y:l,this.title=O1(i.title)?{text:i.title}:i.title,this.scaleNameMap=u?u.scaleNameMap:new k6,this.projectionNameMap=u?u.projectionNameMap:new k6,this.signalNameMap=u?u.signalNameMap:new k6,this.data=i.data,this.description=i.description,this.transforms=function(e){return e.map(i=>dfe(i)?{filter:MO(i.filter,Pce)}:i)}(null!==(b=i.transform)&&void 0!==b?b:[]),this.layout="layer"===a||"unit"===a?{}:function(e,i,a){var u,l;const d=a[i],h={},{spacing:p,columns:y}=d;void 0!==p&&(h.spacing=p),void 0!==y&&(US(e)&&!HS(e.facet)||d8(e))&&(h.columns=y),fL(e)&&(h.columns=1);for(const b of Ode)if(void 0!==e[b])if("spacing"===b){const C=e[b];h[b]=hl(C)?C:{row:null!==(u=C.row)&&void 0!==u?u:p,column:null!==(l=C.column)&&void 0!==l?l:p}}else h[b]=e[b];return h}(i,a,d),this.component={data:{sources:u?u.component.data.sources:[],outputNodes:u?u.component.data.outputNodes:{},outputNodeRefCounts:u?u.component.data.outputNodeRefCounts:{},isFaceted:US(i)||u&&u.component.data.isFaceted&&void 0===i.data},layoutSize:new K_,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},h?ms(h):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e,{ignoreRange:i}={}){A6(e),SC(e);for(const a of Zce)C6(e,a);i||UL(e)}(this)}parseProjection(){c6(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){J_(this)}assembleGroupStyle(){var i,a;if("unit"===this.type||"layer"===this.type)return null!==(a=null===(i=this.view)||void 0===i?void 0:i.style)&&void 0!==a?a:"cell"}assembleEncodeFromView(i){const u=ti(i,["style"]),l={};for(const d of Wn(u)){const h=u[d];void 0!==h&&(l[d]=Ru(h))}return l}assembleGroupEncodeEntry(i){let a={};return this.view&&(a=this.assembleEncodeFromView(this.view)),i||(this.description&&(a.description=Ru(this.description)),"unit"!==this.type&&"layer"!==this.type)?qa(a)?void 0:a:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=a?a:{})}assembleLayout(){if(!this.layout)return;const i=this.layout,{spacing:a}=i,u=ti(i,["spacing"]),{component:l,config:d}=this,h=function(e,i){const a={};for(const u of Hh){const l=e[u];if(null==l?void 0:l.facetFieldDef){const{titleAnchor:d,titleOrient:h}=NL(["titleAnchor","titleOrient"],l.facetFieldDef,i,u),p=Fo(u,h),y=Ype(d,p);void 0!==y&&(a[p]=y)}}return qa(a)?void 0:a}(l.layoutHeaders,d);return Object.assign(Object.assign(Object.assign({padding:a},this.assembleDefaultLayout()),u),h?{titleBand:h}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:i}=this.component;let a=[];for(const u of Hh)i[u].title&&a.push(Wpe(this,u));for(const u of lf)a=a.concat(Bp(this,u));return a}assembleAxes(){return function(e,i){const{x:a=[],y:u=[]}=e;return[...a.map(l=>bC(l,"grid",i)),...u.map(l=>bC(l,"grid",i)),...a.map(l=>bC(l,"main",i)),...u.map(l=>bC(l,"main",i))].filter(l=>l)}(this.component.axes,this.config)}assembleLegends(){return o6(this)}assembleProjections(){return function(e){return Y1(e)||QZ(e)?function(e){return e.children.reduce((i,a)=>i.concat(a.assembleProjections()),u6(e))}(e):u6(e)}(this)}assembleTitle(){var i,a,u;const l=null!==(i=this.title)&&void 0!==i?i:{},{encoding:d}=l,h=ti(l,["encoding"]),p=Object.assign(Object.assign(Object.assign({},mK(this.config.title).nonMark),h),d?{encode:{update:d}}:{});if(p.text)return fi(["unit","layer"],this.type)?fi(["middle",void 0],p.anchor)&&(p.frame=null!==(a=p.frame)&&void 0!==a?a:"group"):p.anchor=null!==(u=p.anchor)&&void 0!==u?u:"start",qa(p)?void 0:p}assembleGroup(i=[]){const a={};(i=i.concat(this.assembleSignals())).length>0&&(a.signals=i);const u=this.assembleLayout();u&&(a.layout=u),a.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const l=!this.parent||Qm(this.parent)?mme(this):[];l.length>0&&(a.scales=l);const d=this.assembleAxes();d.length>0&&(a.axes=d);const h=this.assembleLegends();return h.length>0&&(a.legends=h),a}getName(i){return eu((this.name?this.name+"_":"")+i)}requestDataName(i){var a;const u=this.getName(i),l=this.component.data.outputNodeRefCounts;return l[u]=(null!==(a=l[u])&&void 0!==a?a:0)+1,u}getSizeSignalRef(i){if(Qm(this.parent)){const u=UO(hZ(i)),l=this.component.scales[u];if(l&&!l.merged){const d=l.get("type"),h=l.get("range");if(uf(d)&&S1(h)){const p=l.get("name"),b=CA(EA(this,u));return b?{signal:fZ(p,l,Zn({aggregate:"distinct",field:b},{expr:"datum"}))}:(Yn(`Unknown field for ${u}. Cannot calculate view size.`),null)}}}return{signal:this.signalNameMap.get(this.getName(i))}}lookupDataSource(i){const a=this.component.data.outputNodes[i];return a?a.getSource():i}getSignalName(i){return this.signalNameMap.get(i)}renameSignal(i,a){this.signalNameMap.rename(i,a)}renameScale(i,a){this.scaleNameMap.rename(i,a)}renameProjection(i,a){this.projectionNameMap.rename(i,a)}scaleName(i,a){return a?this.getName(i):pG(i)&&lx(i)&&this.component.scales[i]||this.scaleNameMap.has(this.getName(i))?this.scaleNameMap.get(this.getName(i)):void 0}projectionName(i){return i?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(i){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const a=this.component.scales[i];return a&&!a.merged?a:this.parent?this.parent.getScaleComponent(i):void 0}getSelectionComponent(i,a){let u=this.component.selection[i];if(!u&&this.parent&&(u=this.parent.getSelectionComponent(i,a)),!u)throw new Error(function(e){return`Cannot find a selection named "${e}".`}(a));return u}hasAxisOrientSignalRef(){var i,a;return(null===(i=this.component.axes.x)||void 0===i?void 0:i.some(u=>u.hasOrientSignalRef()))||(null===(a=this.component.axes.y)||void 0===a?void 0:a.some(u=>u.hasOrientSignalRef()))}}class I6 extends YL{vgField(i,a={}){const u=this.fieldDef(i);if(u)return Zn(u,a)}reduceFieldDef(i,a){return DK(this.getMapping(),(u,l,d)=>{const h=p0(l);return h?i(u,h,d):u},a)}forEachFieldDef(i,a){n8(this.getMapping(),(u,l)=>{const d=p0(u);d&&i(d,l)},a)}}class MA extends to{constructor(i,a){var u,l,d;super(i),this.transform=a,this.transform=ms(a);const h=null!==(u=this.transform.as)&&void 0!==u?u:[void 0,void 0];this.transform.as=[null!==(l=h[0])&&void 0!==l?l:"value",null!==(d=h[1])&&void 0!==d?d:"density"]}clone(){return new MA(null,ms(this.transform))}dependentFields(){var i;return new Set([this.transform.density,...null!==(i=this.transform.groupby)&&void 0!==i?i:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${zs(this.transform)}`}assemble(){const i=this.transform,{density:a}=i,u=ti(i,["density"]);return Object.assign({type:"kde",field:a},u)}}class SA extends to{constructor(i,a){super(i),this.filter=a}clone(){return new SA(null,Object.assign({},this.filter))}static make(i,a){const{config:u,mark:l,markDef:d}=a;if("filter"!==Sa("invalid",d,u))return null;const p=a.reduceFieldDef((y,b,C)=>{const M=lx(C)&&a.getScaleComponent(C);return M&&Pp(M.get("type"))&&"count"!==b.aggregate&&!ix(l)&&(y[b.field]=b),y},{});return Wn(p).length?new SA(i,p):null}dependentFields(){return new Set(Wn(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${zs(this.filter)}`}assemble(){const i=Wn(this.filter).reduce((a,u)=>{const l=this.filter[u],d=Zn(l,{expr:"datum"});return null!==l&&("temporal"===l.type?a.push(`(isDate(${d}) || (isValid(${d}) && isFinite(+${d})))`):"quantitative"===l.type&&(a.push(`isValid(${d})`),a.push(`isFinite(+${d})`))),a},[]);return i.length>0?{type:"filter",expr:i.join(" && ")}:null}}class AA extends to{constructor(i,a){super(i),this.transform=a,this.transform=ms(a);const{flatten:u,as:l=[]}=this.transform;this.transform.as=u.map((d,h)=>{var p;return null!==(p=l[h])&&void 0!==p?p:d})}clone(){return new AA(this.parent,ms(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${zs(this.transform)}`}assemble(){const{flatten:i,as:a}=this.transform;return{type:"flatten",fields:i,as:a}}}class GL extends to{constructor(i,a){var u,l,d;super(i),this.transform=a,this.transform=ms(a);const h=null!==(u=this.transform.as)&&void 0!==u?u:[void 0,void 0];this.transform.as=[null!==(l=h[0])&&void 0!==l?l:"key",null!==(d=h[1])&&void 0!==d?d:"value"]}clone(){return new GL(null,ms(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${zs(this.transform)}`}assemble(){const{fold:i,as:a}=this.transform;return{type:"fold",fields:i,as:a}}}class Px extends to{constructor(i,a,u,l){super(i),this.fields=a,this.geojson=u,this.signal=l}clone(){return new Px(null,ms(this.fields),this.geojson,this.signal)}static parseAll(i,a){if(a.component.projection&&!a.component.projection.isFit)return i;let u=0;for(const l of[[s0,$m],[Np,Vm]]){const d=l.map(h=>{const p=Ol(a.encoding[h]);return _r(p)?p.field:f0(p)?{expr:`${p.datum}`}:Y_(p)?{expr:`${p.value}`}:void 0});(d[0]||d[1])&&(i=new Px(i,d,null,a.getName("geojson_"+u++)))}if(a.channelHasField(Yf)){const l=a.typedFieldDef(Yf);l.type===cC&&(i=new Px(i,null,l.field,a.getName("geojson_"+u++)))}return i}dependentFields(){var i;const a=(null!==(i=this.fields)&&void 0!==i?i:[]).filter(ps);return new Set([...this.geojson?[this.geojson]:[],...a])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${zs(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class TA extends to{constructor(i,a,u,l){super(i),this.projection=a,this.fields=u,this.as=l}clone(){return new TA(null,this.projection,ms(this.fields),ms(this.as))}static parseAll(i,a){if(!a.projectionName())return i;for(const u of[[s0,$m],[Np,Vm]]){const l=u.map(h=>{const p=Ol(a.encoding[h]);return _r(p)?p.field:f0(p)?{expr:`${p.datum}`}:Y_(p)?{expr:`${p.value}`}:void 0}),d=u[0]===Np?"2":"";(l[0]||l[1])&&(i=new TA(i,a.projectionName(),l,[a.getName("x"+d),a.getName("y"+d)]))}return i}dependentFields(){return new Set(this.fields.filter(ps))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${zs(this.fields)} ${zs(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Rx extends to{constructor(i,a){super(i),this.transform=a}clone(){return new Rx(null,ms(this.transform))}dependentFields(){var i;return new Set([this.transform.impute,this.transform.key,...null!==(i=this.transform.groupby)&&void 0!==i?i:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(i){const{start:a=0,stop:u,step:l}=i;return{signal:`sequence(${[a,u,...l?[l]:[]].join(",")})`}}static makeFromTransform(i,a){return new Rx(i,a)}static makeFromEncoding(i,a){const u=a.encoding,l=u.x,d=u.y;if(_r(l)&&_r(d)){const h=l.impute?l:d.impute?d:void 0;if(void 0===h)return;const p=l.impute?d:d.impute?l:void 0,{method:y,value:b,frame:C,keyvals:M}=h.impute,O=wK(a.mark,u);return new Rx(i,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:h.field,key:p.field},y?{method:y}:{}),void 0!==b?{value:b}:{}),C?{frame:C}:{}),void 0!==M?{keyvals:M}:{}),O.length?{groupby:O}:{}))}return null}hash(){return`Impute ${zs(this.transform)}`}assemble(){const{impute:i,key:a,keyvals:u,method:l,groupby:d,value:h,frame:p=[null,null]}=this.transform,y=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:i,key:a},u?{keyvals:Nxe(u)?this.processSequence(u):u}:{}),{method:"value"}),d?{groupby:d}:{}),{value:l&&"value"!==l?null:h});return l&&"value"!==l?[y,Object.assign({type:"window",as:[`imputed_${i}_value`],ops:[l],fields:[i],frame:p,ignorePeers:!1},d?{groupby:d}:{}),{type:"formula",expr:`datum.${i} === null ? datum.imputed_${i}_value : datum.${i}`,as:i}]:[y]}}class TC extends to{constructor(i,a){var u,l,d;super(i),this.transform=a,this.transform=ms(a);const h=null!==(u=this.transform.as)&&void 0!==u?u:[void 0,void 0];this.transform.as=[null!==(l=h[0])&&void 0!==l?l:a.on,null!==(d=h[1])&&void 0!==d?d:a.loess]}clone(){return new TC(null,ms(this.transform))}dependentFields(){var i;return new Set([this.transform.loess,this.transform.on,...null!==(i=this.transform.groupby)&&void 0!==i?i:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${zs(this.transform)}`}assemble(){const i=this.transform,{loess:a,on:u}=i,l=ti(i,["loess","on"]);return Object.assign({type:"loess",x:u,y:a},l)}}class kC extends to{constructor(i,a,u){super(i),this.transform=a,this.secondary=u}clone(){return new kC(null,ms(this.transform),this.secondary)}static make(i,a,u,l){const d=a.component.data.sources,{from:h}=u;let p=null;if(function(e){return"data"in e}(h)){let y=iJ(h.data,d);y||(y=new H1(h.data),d.push(y));const b=a.getName(`lookup_${l}`);p=new Zf(y,b,"lookup",a.component.data.outputNodeRefCounts),a.component.data.outputNodes[b]=p}else if(function(e){return"selection"in e}(h)){const y=h.selection;if(u=Object.assign({as:y},u),p=a.getSelectionComponent(eu(y),y).materialized,!p)throw new Error(function(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(y))}return new kC(i,u,p.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ku(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${zs({transform:this.transform,secondary:this.secondary})}`}assemble(){let i;if(this.transform.from.fields)i=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Ku(this.transform.as)}:{});else{let a=this.transform.as;ps(a)||(Yn('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),i={as:[a]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},i),this.transform.default?{default:this.transform.default}:{})}}class KL extends to{constructor(i,a){var u,l,d;super(i),this.transform=a,this.transform=ms(a);const h=null!==(u=this.transform.as)&&void 0!==u?u:[void 0,void 0];this.transform.as=[null!==(l=h[0])&&void 0!==l?l:"prob",null!==(d=h[1])&&void 0!==d?d:"value"]}clone(){return new KL(null,ms(this.transform))}dependentFields(){var i;return new Set([this.transform.quantile,...null!==(i=this.transform.groupby)&&void 0!==i?i:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${zs(this.transform)}`}assemble(){const i=this.transform,{quantile:a}=i,u=ti(i,["quantile"]);return Object.assign({type:"quantile",field:a},u)}}class kA extends to{constructor(i,a){var u,l,d;super(i),this.transform=a,this.transform=ms(a);const h=null!==(u=this.transform.as)&&void 0!==u?u:[void 0,void 0];this.transform.as=[null!==(l=h[0])&&void 0!==l?l:a.on,null!==(d=h[1])&&void 0!==d?d:a.regression]}clone(){return new kA(null,ms(this.transform))}dependentFields(){var i;return new Set([this.transform.regression,this.transform.on,...null!==(i=this.transform.groupby)&&void 0!==i?i:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${zs(this.transform)}`}assemble(){const i=this.transform,{regression:a,on:u}=i,l=ti(i,["regression","on"]);return Object.assign({type:"regression",x:u,y:a},l)}}class XL extends to{constructor(i,a){super(i),this.transform=a}clone(){return new XL(null,ms(this.transform))}addDimensions(i){var a;this.transform.groupby=_1((null!==(a=this.transform.groupby)&&void 0!==a?a:[]).concat(i),u=>u)}producedFields(){}dependentFields(){var i;return new Set([this.transform.pivot,this.transform.value,...null!==(i=this.transform.groupby)&&void 0!==i?i:[]])}hash(){return`PivotTransform ${zs(this.transform)}`}assemble(){const{pivot:i,value:a,groupby:u,limit:l,op:d}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:i,value:a},void 0!==l?{limit:l}:{}),void 0!==d?{op:d}:{}),void 0!==u?{groupby:u}:{})}}class IA extends to{constructor(i,a){super(i),this.transform=a}clone(){return new IA(null,ms(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${zs(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function qZ(e){let i=0;return function a(u,l){var d;if(u instanceof H1&&!u.isGenerator&&!JS(u.data)&&(e.push(l),l={name:null,source:l.name,transform:[]}),u instanceof cf&&(u.parent instanceof H1&&!l.source?(l.format=Object.assign(Object.assign({},null!==(d=l.format)&&void 0!==d?d:{}),{parse:u.assembleFormatParse()}),l.transform.push(...u.assembleTransforms(!0))):l.transform.push(...u.assembleTransforms())),u instanceof Q_){l.name||(l.name="data_"+i++),!l.source||l.transform.length>0?(e.push(l),u.data=l.name):u.data=l.source;for(const h of u.assemble())e.push(h)}else switch((u instanceof CC||u instanceof Ll||u instanceof SA||u instanceof vC||u instanceof z1||u instanceof TA||u instanceof Px||u instanceof Gh||u instanceof kC||u instanceof D0||u instanceof EC||u instanceof GL||u instanceof AA||u instanceof MA||u instanceof TC||u instanceof KL||u instanceof kA||u instanceof Fx||u instanceof IA||u instanceof XL)&&l.transform.push(u.assemble()),(u instanceof Zm||u instanceof _0||u instanceof Rx||u instanceof $p)&&l.transform.push(...u.assemble()),u instanceof Zf&&(l.source&&0===l.transform.length?u.setSource(l.source):u.parent instanceof Zf?u.setSource(l.name):(l.name||(l.name="data_"+i++),u.setSource(l.name),1===u.numChildren()&&(e.push(l),l={name:null,source:l.name,transform:[]}))),u.numChildren()){case 0:u instanceof Zf&&(!l.source||l.transform.length>0)&&e.push(l);break;case 1:a(u.children[0],l);break;default:{l.name||(l.name="data_"+i++);let h=l.name;!l.source||l.transform.length>0?e.push(l):h=l.source;for(const p of u.children)a(p,{name:null,source:h,transform:[]});break}}}}function tJ(e){return"top"===e||"left"===e||Si(e)?"header":"footer"}function FDe(e,i){var a;const{facet:u,config:l,child:d,component:h}=e;if(e.channelHasField(i)){const p=u[i],y=DC("title",null,l,i);let b=N1(p,l,{allowDisabling:!0,includeDefault:void 0===y||!!y});d.component.layoutHeaders[i].title&&(b=li(b)?b.join(", "):b,b+=" / "+d.component.layoutHeaders[i].title,d.component.layoutHeaders[i].title=null);const C=DC("labelOrient",p,l,i),O=pl((null!==(a=p.header)&&void 0!==a?a:{}).labels,l.header.labels,!0),H=fi(["bottom","right"],C)?"footer":"header";h.layoutHeaders[i]={title:b,facetFieldDef:p,[H]:"facet"===i?[]:[Nme(e,i,O)]}}}function Nme(e,i,a){const u="row"===i?"height":"width";return{labels:a,sizeSignal:e.child.component.layoutSize.get(u)?e.child.getSizeSignalRef(u):void 0,axes:[]}}function N6(e,i){var a;const{child:u}=e;if(u.component.axes[i]){const{layoutHeaders:l,resolve:d}=e.component;if(d.axis[i]=n6(d,i),"shared"===d.axis[i]){const h="x"===i?"column":"row",p=l[h];for(const y of u.component.axes[i]){const b=tJ(y.get("orient"));p[b]=null!==(a=p[b])&&void 0!==a?a:[Nme(e,h,!1)];const C=bC(y,"main",e.config,{header:!0});C&&p[b][0].axes.push(C),y.mainExtracted=!0}}}}function rJ(e){for(const i of e.children)i.parseLayoutSize()}function O6(e,i){const a=hZ(i),u=UO(a),l=e.component.resolve,d=e.component.layoutSize;let h;for(const p of e.children){const y=p.component.layoutSize.getWithExplicit(a),b=l.scale[u];if("independent"===b&&"step"===y.value){h=void 0;break}if(h){if("independent"===b&&h.value!==y.value){h=void 0;break}h=F1(h,y,a,"")}else h=y}if(h){for(const p of e.children)e.renameSignal(p.getName(a),e.getName(i)),p.component.layoutSize.set(a,"merged",!1);d.setWithExplicit(i,h)}else d.setWithExplicit(i,{explicit:!1,value:void 0})}function Fme(e,i){const u=e.config,l=e.getScaleComponent("width"===i?"x":"y");if(l){const d=l.get("type"),h=l.get("range");if(uf(d)){const p=ZS(u.view,i);return S1(h)||m0(p)?"step":p}return mC(u.view,i)}if(e.hasProjection||"arc"===e.mark)return mC(u.view,i);{const d=ZS(u.view,i);return m0(d)?d.step:d}}function L6(e,i,a){return Zn(i,Object.assign({suffix:`by_${Zn(e)}`},null!=a?a:{}))}class NA extends I6{constructor(i,a,u,l){super(i,"facet",a,u,l,i.resolve),this.child=B6(i.spec,this,this.getName("child"),void 0,l),this.children=[this.child],this.facet=this.initFacet(i.facet,l)}initFacet(i,a){return HS(i)?DK(i,(u,l,d)=>fi([P_,R_],d)?void 0===l.field?(Yn(KO(l,d)),u):(u[d]=J5(l,d,a),u):(Yn(zS(d,"facet")),u),{}):{facet:J5(i,"facet",a)}}channelHasField(i){return!!this.facet[i]}fieldDef(i){return this.facet[i]}parseData(){this.component.data=q_(this),this.child.parseData()}parseLayoutSize(){rJ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const i of Hh)FDe(e,i);N6(e,"x"),N6(e,"y")}(this)}assembleSelectionTopLevelSignals(i){return this.child.assembleSelectionTopLevelSignals(i)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(i){return this.child.assembleSelectionData(i)}getHeaderLayoutMixins(){var i,a,u;const l={};for(const d of Hh)for(const h of J8){const p=this.component.layoutHeaders[d],y=p[h],{facetFieldDef:b}=p;if(b){const C=DC("titleOrient",b,this.config,d);if(fi(["right","bottom"],C)){const M=Fo(d,C);l.titleAnchor=null!==(i=l.titleAnchor)&&void 0!==i?i:{},l.titleAnchor[M]="end"}}if(null==y?void 0:y[0]){const C="row"===d?"height":"width",M="header"===h?"headerBand":"footerBand";"facet"!==d&&!this.child.component.layoutSize.get(C)&&(l[M]=null!==(a=l[M])&&void 0!==a?a:{},l[M][d]=.5),p.title&&(l.offset=null!==(u=l.offset)&&void 0!==u?u:{},l.offset["row"===d?"rowTitle":"columnTitle"]=10)}}return l}assembleDefaultLayout(){const{column:i,row:a}=this.facet,u=i?this.columnDistinctSignal():a?1:void 0;let l="all";return(!a&&"independent"===this.component.resolve.scale.x||!i&&"independent"===this.component.resolve.scale.y)&&(l="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),u?{columns:u}:{}),{bounds:"full",align:l})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof NA))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(i){return this.parent&&this.parent instanceof NA?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Zn(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(i)):super.assembleGroup(i)}getCardinalityAggregateForChild(){const i=[],a=[],u=[];if(this.child instanceof NA){if(this.child.channelHasField("column")){const l=Zn(this.child.facet.column);i.push(l),a.push("distinct"),u.push(`distinct_${l}`)}}else for(const l of Op){const d=this.child.component.scales[l];if(d&&!d.merged){const h=d.get("type"),p=d.get("range");if(uf(h)&&S1(p)){const b=CA(EA(this.child,l));b?(i.push(b),a.push("distinct"),u.push(`distinct_${b}`)):Yn(`Unknown field for ${l}. Cannot calculate view size.`)}}}return{fields:i,ops:a,as:u}}assembleFacet(){const{name:i,data:a}=this.component.data.facetRoot,{row:u,column:l}=this.facet,{fields:d,ops:h,as:p}=this.getCardinalityAggregateForChild(),y=[];for(const C of Hh){const M=this.facet[C];if(M){y.push(Zn(M));const{bin:O,sort:H}=M;if(Eo(O)&&y.push(Zn(M,{binSuffix:"end"})),Hm(H)){const{field:Y,op:te=nL}=H,se=L6(M,H);u&&l?(d.push(se),h.push("max"),p.push(se)):(d.push(Y),h.push(te),p.push(se))}else if(li(H)){const Y=xC(M,C);d.push(Y),h.push("max"),p.push(Y)}}}const b=!!u&&!!l;return Object.assign({name:i,data:a,groupby:y},b||d.length>0?{aggregate:Object.assign(Object.assign({},b?{cross:b}:{}),d.length?{fields:d,ops:h,as:p}:{})}:{})}facetSortFields(i){const{facet:a}=this,u=a[i];return u?Hm(u.sort)?[L6(u,u.sort,{expr:"datum"})]:li(u.sort)?[xC(u,i,{expr:"datum"})]:[Zn(u,{expr:"datum"})]:[]}facetSortOrder(i){const{facet:a}=this,u=a[i];if(u){const{sort:l}=u;return[(Hm(l)?l.order:!li(l)&&l)||"ascending"]}return[]}assembleLabelTitle(){const{facet:i,config:a}=this;if(i.facet)return Q8(i.facet,"facet",a);const u={row:["top","bottom"],column:["left","right"]};for(const l of lf)if(i[l]){const d=DC("labelOrient",i[l],a,l);if(fi(u[l],d))return Q8(i[l],l,a)}}assembleMarks(){const{child:i}=this,u=function(e){const i=[],a=qZ(i);for(const u of e.children)a(u,{source:e.name,name:null,transform:[]});return i}(this.component.data.facetRoot),l=i.assembleGroupEncodeEntry(!1),d=this.assembleLabelTitle()||i.assembleTitle(),h=i.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},d?{title:d}:{}),h?{style:h}:{}),{from:{facet:this.assembleFacet()},sort:{field:Hh.map(y=>this.facetSortFields(y)).flat(),order:Hh.map(y=>this.facetSortOrder(y)).flat()}}),u.length>0?{data:u}:{}),l?{encode:{update:l}}:{}),i.assembleGroup(Xfe(this,[])))]}getMapping(){return this.facet}}function iJ(e,i){var a,u,l,d,h,p,y,b,C,M;for(const O of i){const H=O.data;if(!(e.name&&O.hasName()&&e.name!==O.dataName||(null===(a=e.format)||void 0===a?void 0:a.mesh)&&(null===(u=H.format)||void 0===u?void 0:u.feature)||((null===(l=e.format)||void 0===l?void 0:l.feature)||(null===(d=H.format)||void 0===d?void 0:d.feature))&&(null===(h=e.format)||void 0===h?void 0:h.feature)!==(null===(p=H.format)||void 0===p?void 0:p.feature)||((null===(y=e.format)||void 0===y?void 0:y.mesh)||(null===(b=H.format)||void 0===b?void 0:b.mesh))&&(null===(C=e.format)||void 0===C?void 0:C.mesh)!==(null===(M=H.format)||void 0===M?void 0:M.mesh)))if(_8(e)&&_8(H)){if(xS(e.values,H.values))return O}else if(JS(e)&&JS(H)){if(e.url===H.url)return O}else if(cfe(e)&&e.name===O.dataName)return O}return null}function q_(e){var i,a,u,l,d,h,p,y,b,C;let M=function(e,i){if(e.data||!e.parent){if(null===e.data){const u=new H1({values:[]});return i.push(u),u}const a=iJ(e.data,i);if(a)return Sx(e.data)||(a.data.format=function(e,...i){for(const a of i)Zue(e,null!=a?a:{});return e}({},e.data.format,a.data.format)),!a.hasName()&&e.data.name&&(a.dataName=e.data.name),a;{const u=new H1(e.data);return i.push(u),u}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:O,outputNodeRefCounts:H}=e.component.data,Y=e.parent?e.parent.component.data.ancestorParse.clone():new lfe,te=e.data;Sx(te)?(rX(te)?M=new Ll(M,te.sequence):y8(te)&&(M=new CC(M,te.graticule)),Y.parseNothing=!0):null===(null===(i=null==te?void 0:te.format)||void 0===i?void 0:i.parse)&&(Y.parseNothing=!0),M=null!==(a=cf.makeExplicit(M,e,Y))&&void 0!==a?a:M,M=new Fx(M);const se=e.parent&&Y1(e.parent);(xu(e)||Qm(e))&&se&&(M=null!==(u=Zm.makeFromEncoding(M,e))&&void 0!==u?u:M),e.transforms.length>0&&(M=function(e,i,a){var u,l;let d=0;for(const h of i.transforms){let p,y;if(bfe(h))y=e=new z1(e,h),p="derived";else if(dfe(h)){const b=ame(h);y=e=null!==(u=cf.makeWithAncestors(e,{},b,a))&&void 0!==u?u:e,e=new vC(e,i,h.filter)}else if(uX(h))y=e=Zm.makeFromTransform(e,h,i),p="number";else if(xfe(h))p="date",void 0===a.getWithExplicit(h.field).value&&(e=new cf(e,{[h.field]:p}),a.set(h.field,p,!1)),y=e=_0.makeFromTransform(e,h);else if(Dfe(h))y=e=Gh.makeFromTransform(e,h),p="number",T8(i)&&(e=new Fx(e));else if(ffe(h))y=e=kC.make(e,i,h,d++),p="derived";else if(yfe(h))y=e=new D0(e,h),p="number";else if(oX(h))y=e=new EC(e,h),p="number";else if(wfe(h))y=e=$p.makeFromTransform(e,h),p="derived";else if(QS(h))y=e=new GL(e,h),p="derived";else if(vfe(h))y=e=new AA(e,h),p="derived";else if(mfe(h))y=e=new XL(e,h),p="derived";else if(v8(h))e=new IA(e,h);else if(lX(h))y=e=Rx.makeFromTransform(e,h),p="derived";else if(gfe(h))y=e=new MA(e,h),p="derived";else if(sX(h))y=e=new KL(e,h),p="derived";else if(aX(h))y=e=new kA(e,h),p="derived";else{if(!_fe(h)){Yn($S(h));continue}y=e=new TC(e,h),p="derived"}if(y&&void 0!==p)for(const b of null!==(l=y.producedFields())&&void 0!==l?l:[])a.set(b,p,!1)}return e}(M,e,Y));const ye=function(e){const i={};if(xu(e)&&e.component.selection)for(const a of Wn(e.component.selection)){const u=e.component.selection[a];for(const l of u.project.items)!l.channel&&ES(l.field)>1&&(i[l.field]="flatten")}return i}(e),Ce=function(e){const i={};function a(u){xx(u)?i[u.field]="date":"quantitative"===u.type&&function(e){return ps(e)&&fi(["min","max"],e)}(u.aggregate)?i[u.field]="number":ES(u.field)>1?u.field in i||(i[u.field]="flatten"):K5(u)&&Hm(u.sort)&&ES(u.sort.field)>1&&(u.sort.field in i||(i[u.sort.field]="flatten"))}if((xu(e)||Qm(e))&&e.forEachFieldDef((u,l)=>{if(Xf(u))a(u);else{const d=H_(l),h=e.fieldDef(d);a(Object.assign(Object.assign({},u),{type:h.type}))}}),xu(e)){const{mark:u,markDef:l,encoding:d}=e;if(ix(u)&&!e.encoding.order){const p=d["horizontal"===l.orient?"y":"x"];_r(p)&&"quantitative"===p.type&&!(p.field in i)&&(i[p.field]="number")}}return i}(e);M=null!==(l=cf.makeWithAncestors(M,{},Object.assign(Object.assign({},ye),Ce),Y))&&void 0!==l?l:M,xu(e)&&(M=Px.parseAll(M,e),M=TA.parseAll(M,e)),(xu(e)||Qm(e))&&(se||(M=null!==(d=Zm.makeFromEncoding(M,e))&&void 0!==d?d:M),M=null!==(h=_0.makeFromEncoding(M,e))&&void 0!==h?h:M,M=z1.parseAllForSortIndex(M,e));const Ve=e.getName(_L),Ue=new Zf(M,Ve,_L,H);if(O[Ve]=Ue,M=Ue,xu(e)){const mt=Gh.makeFromEncoding(M,e);mt&&(M=mt,T8(e)&&(M=new Fx(M))),M=null!==(p=Rx.makeFromEncoding(M,e))&&void 0!==p?p:M,M=null!==(y=$p.makeFromEncoding(M,e))&&void 0!==y?y:M}xu(e)&&(M=null!==(b=SA.make(M,e))&&void 0!==b?b:M);const qe=e.getName(Cd),tt=new Zf(M,qe,Cd,H);O[qe]=tt,M=tt,xu(e)&&function(e,i){kx(e,a=>{const u=a.name,l=e.getName(`lookup_${u}`);e.component.data.outputNodes[l]=a.materialized=new Zf(new vC(i,e,{selection:u}),l,"lookup",e.component.data.outputNodeRefCounts)})}(e,tt);let Ge=null;if(Qm(e)){const mt=e.getName("facet");M=null!==(C=function(e,i){const{row:a,column:u}=i;if(a&&u){let l=null;for(const d of[a,u])if(Hm(d.sort)){const{field:h,op:p=nL}=d.sort;e=l=new EC(e,{joinaggregate:[{op:p,field:h,as:L6(d,d.sort,{forAs:!0})}],groupby:[Zn(d)]})}return l}return null}(M,e.facet))&&void 0!==C?C:M,Ge=new Q_(M,e,mt,tt.getSource()),O[mt]=Ge}return Object.assign(Object.assign({},e.component.data),{outputNodes:O,outputNodeRefCounts:H,raw:Ue,main:tt,facetRoot:Ge,ancestorParse:Y})}class $me extends YL{constructor(i,a,u,l){var d,h,p,y;super(i,"concat",a,u,l,i.resolve),("shared"===(null===(h=null===(d=i.resolve)||void 0===d?void 0:d.axis)||void 0===h?void 0:h.x)||"shared"===(null===(y=null===(p=i.resolve)||void 0===p?void 0:p.axis)||void 0===y?void 0:y.y))&&Yn("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(i).map((b,C)=>B6(b,this,this.getName("concat_"+C),void 0,l))}parseData(){this.component.data=q_(this);for(const i of this.children)i.parseData()}parseSelections(){this.component.selection={};for(const i of this.children){i.parseSelections();for(const a of Wn(i.component.selection))this.component.selection[a]=i.component.selection[a]}}parseMarkGroup(){for(const i of this.children)i.parseMarkGroup()}parseAxesAndHeaders(){for(const i of this.children)i.parseAxesAndHeaders()}getChildren(i){return fL(i)?i.vconcat:f8(i)?i.hconcat:i.concat}parseLayoutSize(){!function(e){rJ(e);const a=void 0===e.layout.columns?"height":"childHeight";O6(e,1===e.layout.columns?"width":"childWidth"),O6(e,a)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(i){return this.children.reduce((a,u)=>u.assembleSelectionTopLevelSignals(a),i)}assembleSignals(){return this.children.forEach(i=>i.assembleSignals()),[]}assembleLayoutSignals(){const i=t6(this);for(const a of this.children)i.push(...a.assembleLayoutSignals());return i}assembleSelectionData(i){return this.children.reduce((a,u)=>u.assembleSelectionData(a),i)}assembleMarks(){return this.children.map(i=>{const a=i.assembleTitle(),u=i.assembleGroupStyle(),l=i.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:i.getName("group")},a?{title:a}:{}),u?{style:u}:{}),l?{encode:{update:l}}:{}),i.assembleGroup())})}assembleDefaultLayout(){const i=this.layout.columns;return Object.assign(Object.assign({},null!=i?{columns:i}:{}),{bounds:"full",align:"each"})}}const zme=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},m5),{labelExpr:1,encode:1}),sJ=Wn(zme);class F6 extends K_{constructor(i={},a={},u=!1){super(),this.explicit=i,this.implicit=a,this.mainExtracted=u}clone(){return new F6(ms(this.explicit),ms(this.implicit),this.mainExtracted)}hasAxisPart(i){return"axis"===i||("grid"===i||"title"===i?!!this.get(i):!function(e){return!1===e||null===e}(this.get(i)))}hasOrientSignalRef(){return Si(this.explicit.orient)}}const Hme={bottom:"top",top:"bottom",left:"right",right:"left"};function Yme(e,i){if(!e)return i.map(a=>a.clone());{if(e.length!==i.length)return;const a=e.length;for(let u=0;u<a;u++){const l=e[u],d=i[u];if(!!l!=!!d)return;if(l&&d){const h=l.getWithExplicit("orient"),p=d.getWithExplicit("orient");if(h.explicit&&p.explicit&&h.value!==p.value)return;e[u]=Gme(l,d)}}}return e}function Gme(e,i){for(const a of sJ){const u=F1(e.getWithExplicit(a),i.getWithExplicit(a),a,"axis",(l,d)=>{switch(a){case"title":return xK(l,d);case"gridScale":return{explicit:l.explicit,value:pl(l.value,d.value)}}return gL(l,d,a,"axis")});e.setWithExplicit(a,u)}return e}function Kme(e,i,a,u,l){if("disable"===i)return void 0!==a;switch(a=a||{},i){case"titleAngle":case"labelAngle":return e===(Si(a.labelAngle)?a.labelAngle:TO(a.labelAngle));case"values":return!!a.values;case"encode":return!!a.encoding||!!a.labelAngle;case"title":if(e===cZ(u,l))return!0}return e===a[i]}const Xme=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Zme(e,i){var a,u,l;let d=i.axis(e);const h=new F6,p=Ol(i.encoding[e]),{mark:y,config:b}=i,C=(null==d?void 0:d.orient)||(null===(a=b["x"===e?"axisX":"axisY"])||void 0===a?void 0:a.orient)||(null===(u=b.axis)||void 0===u?void 0:u.orient)||function(e){return"x"===e?"bottom":"left"}(e),M=i.getScaleComponent(e).get("type"),O=function(e,i,a,u){const l="band"===i?["axisDiscrete","axisBand"]:"point"===i?["axisDiscrete","axisPoint"]:function(e){return e in jce}(i)?["axisQuantitative"]:"time"===i||"utc"===i?["axisTemporal"]:[],d="x"===e?"axisX":"axisY",h=Si(a)?"axisOrient":"axis"+AO(a),p=[...l,...l.map(b=>d+b.substr(4))],y=["axis",h,d];return{vlOnlyAxisConfig:K8(p,u,e,a),vgAxisConfig:K8(y,u,e,a),axisConfigStyle:Lpe([...y,...p],u)}}(e,M,C,i.config),H=void 0!==d?!d:Gm("disable",b,null==d?void 0:d.style,O).configValue;if(h.set("disable",H,void 0!==d),H)return h;d=d||{};const Y=function(e,i,a,u,l){const d=null==i?void 0:i.labelAngle;if(void 0!==d)return Si(d)?d:TO(d);{const{configValue:h}=Gm("labelAngle",e.config,null==i?void 0:i.style,l);return void 0!==h?TO(h):a===vu&&fi([z5,V5],u.type)?270:void 0}}(i,d,e,p,O),te={fieldOrDatumDef:p,axis:d,channel:e,model:i,scaleType:M,orient:C,labelAngle:Y,mark:y,config:b};for(const Ce of sJ){const Ve=Ce in X8?X8[Ce](te):ZY(Ce)?d[Ce]:void 0,Ue=void 0!==Ve,qe=Kme(Ve,Ce,d,i,e);if(Ue&&qe)h.set(Ce,Ve,qe);else{const{configValue:tt,configFrom:Ge}=ZY(Ce)&&"values"!==Ce?Gm(Ce,i.config,d.style,O):{},mt=void 0!==tt;Ue&&!mt?h.set(Ce,Ve,qe):("vgAxisConfig"!==Ge||Xme.has(Ce)&&mt||p5(tt)||Si(tt))&&h.set(Ce,tt,!1)}}const se=null!==(l=d.encoding)&&void 0!==l?l:{},ye=KY.reduce((Ce,Ve)=>{var Ue;if(!h.hasAxisPart(Ve))return Ce;const qe=LL(null!==(Ue=se[Ve])&&void 0!==Ue?Ue:{},i),tt="labels"===Ve?function(e,i,a){var u;const{encoding:l,config:d}=e,h=null!==(u=Ol(l[i]))&&void 0!==u?u:Ol(l[o0(i)]),p=e.axis(i)||{},{format:y,formatType:b}=p;return _x(b)?Object.assign({text:nK({fieldOrDatumDef:h,field:"datum.value",format:y,formatType:b,config:d})},a):a}(i,e,qe):qe;return void 0!==tt&&!qa(tt)&&(Ce[Ve]={update:tt}),Ce},{});return qa(ye)||h.set("encode",ye,!!d.encoding||void 0!==d.labelAngle),h}function P6(e,i){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"mid"})),Xu("y",e,{defaultPos:"mid"})),rc("size",e)),rc("angle",e)),function(e,i,a){return a?{shape:{value:a}}:rc("shape",e)}(e,0,i))}function bge(e){var i;const{config:a,markDef:u}=e,{orient:l}=u,d="horizontal"===l?"width":"height",h=e.getScaleComponent("horizontal"===l?"x":"y"),p=null!==(i=Sa("size",u,a,{vgChannel:d}))&&void 0!==i?i:a.tick.bandSize;if(void 0!==p)return p;{const y=h?h.get("range"):void 0;return y&&S1(y)&&hl(y.step)?3*y.step/4:3*Ex(a.view,d)/4}}const ZL={arc:{vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"mid"})),Xu("y",e,{defaultPos:"mid"})),X_(e,"radius","arc")),X_(e,"theta","arc"))},area:{vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),yL("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),yL("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),D8(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),X_(e,"x","bar")),X_(e,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:e=>P6(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:i}=e,a=i.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},a&&_r(a)&&a.type===cC?{field:Zn(a,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),X_(e,"x","image")),X_(e,"y","image")),b8(e,"url"))},line:{vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"mid"})),Xu("y",e,{defaultPos:"mid"})),rc("size",e,{vgChannel:"strokeWidth"})),D8(e))},point:{vgMark:"symbol",encodeEntry:e=>P6(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),X_(e,"x","rect")),X_(e,"y","rect"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:i}=e,a=i.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),yL("x",e,{defaultPos:"horizontal"===a?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==a})),yL("y",e,{defaultPos:"vertical"===a?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==a})),rc("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:e=>P6(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Xu("x",e,{defaultPos:"mid"})),Xu("y",e,{defaultPos:"mid"})),b8(e)),rc("size",e,{vgChannel:"fontSize"})),rc("angle",e)),_X("align",function(e,i,a){if(void 0===Sa("align",e,a))return"center"}(e.markDef,0,i))),_X("baseline",function(e,i,a){if(void 0===Sa("baseline",e,a))return"middle"}(e.markDef,0,i))),Xu("radius",e,{defaultPos:null,isMidPoint:!0})),Xu("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:i,markDef:a}=e,u=a.orient,l="horizontal"===u?"width":"height",d="horizontal"===u?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"mid",vgChannel:"xc"})),Xu("y",e,{defaultPos:"mid",vgChannel:"yc"})),rc("size",e,{defaultValue:bge(e),vgChannel:l})),{[d]:Ru(Sa("thickness",a,i))})}},trail:{vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Um(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"mid"})),Xu("y",e,{defaultPos:"mid"})),rc("size",e)),D8(e))}};const aJ="faceted_path_",oJ="stack_group_";function JL(e,i={fromPrefix:""}){const{mark:a,markDef:u,config:l}=e,d=pl(u.clip,function(e){const i=e.getScaleComponent("x"),a=e.getScaleComponent("y");return!!(i&&i.get("selectionExtent")||a&&a.get("selectionExtent"))||void 0}(e),function(e){const i=e.component.projection;return!(!i||i.isFit)||void 0}(e)),h=gK(u),p=e.encoding.key,y=function(e){const{encoding:i,stack:a,mark:u,markDef:l,config:d}=e,h=i.order;if(!(!li(h)&&Y_(h)&&BY(h.value)||!h&&BY(Sa("order",l,d)))){if((li(h)||_r(h))&&!a)return yK(h,{expr:"datum"});if(ix(u)){const p="horizontal"===l.orient?"y":"x",y=i[p];if(_r(y)){const b=y.sort;return li(b)?{field:Zn(y,{prefix:p,suffix:"sort_index",expr:"datum"})}:Hm(b)?{field:Zn({aggregate:e8(e.encoding)?b.op:void 0,field:b.field},{expr:"datum"})}:Y5(b)?{field:Zn(e.fieldDef(b.encoding),{expr:"datum"}),order:b.order}:null===b?void 0:{field:Zn(y,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}return}}}(e),b=function(e){if(!e.component.selection)return null;const i=Wn(e.component.selection).length;let a=i,u=e.parent;for(;u&&0===a;)a=Wn(u.component.selection).length,u=u.parent;return a?{interactive:i>0}:null}(e),C=Sa("aria",u,l),M=ZL[a].postEncodingTransform?ZL[a].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:ZL[a].vgMark},d?{clip:!0}:{}),h?{style:h}:{}),p?{key:p.field}:{}),y?{sort:y}:{}),b||{}),!1===C?{aria:C}:{}),{from:{data:i.fromPrefix+e.requestDataName(Cd)},encode:{update:ZL[a].encodeEntry(e)}}),M?{transform:M}:{})]}class uJ extends I6{constructor(i,a,u,l={},d){var h,p;super(i,"unit",a,u,d,void 0,h8(i)?i.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const y=Pm(i.mark)?i.mark.type:i.mark;this.markDef=function(e,i,a,{graticule:u}){const l=Pm(e)?Object.assign({},e):{type:e},d=Sa("orient",l,a);if(l.orient=function(e,i,a){switch(e){case OO:case _5:case y5:case QY:case sle:case ile:return}const{x:u,y:l,x2:d,y2:h}=i;switch(e){case IO:if(_r(u)&&(bu(u.bin)||_r(l)&&l.aggregate&&!u.aggregate))return"vertical";if(_r(l)&&(bu(l.bin)||_r(u)&&u.aggregate&&!l.aggregate))return"horizontal";if(h||d){if(a)return a;if(!d&&(_r(u)&&u.type===px&&!Eo(u.bin)||yr(u)))return"horizontal";if(!h&&(_r(l)&&l.type===px&&!Eo(l.bin)||yr(l)))return"vertical"}case LO:if(d&&(!_r(u)||!bu(u.bin))&&h&&(!_r(l)||!bu(l.bin)))return;case kO:if(h)return _r(l)&&bu(l.bin)?"horizontal":"vertical";if(d)return _r(u)&&bu(u.bin)?"vertical":"horizontal";if(e===LO){if(u&&!l)return"vertical";if(l&&!u)return"horizontal"}case NO:case g5:{const p=h0(u),y=h0(l);if(p&&!y)return"tick"!==e?"horizontal":"vertical";if(!p&&y)return"tick"!==e?"vertical":"horizontal";if(p&&y){const b=u,C=l,M=b.type===mx,O=C.type===mx;return M&&!O?"tick"!==e?"vertical":"horizontal":!M&&O?"tick"!==e?"horizontal":"vertical":!b.aggregate&&C.aggregate?"tick"!==e?"vertical":"horizontal":b.aggregate&&!C.aggregate?"tick"!==e?"horizontal":"vertical":a||"vertical"}return a||void 0}}return"vertical"}(l.type,i,d),void 0!==d&&d!==l.orient&&Yn(function(e,i){return`Specified orient "${e}" overridden with "${i}".`}(l.orient,d)),"bar"===l.type&&l.orient){const b=Sa("cornerRadiusEnd",l,a);if(void 0!==b){const C="horizontal"===l.orient&&i.x2||"vertical"===l.orient&&i.y2?["cornerRadius"]:fle[l.orient];for(const M of C)l[M]=b;void 0!==l.cornerRadiusEnd&&delete l.cornerRadiusEnd}}return void 0===Sa("opacity",l,a)&&(l.opacity=function(e,i){if(fi([OO,g5,_5,y5],e)&&!e8(i))return.7}(l.type,i)),void 0===l.filled&&(l.filled=!u&&function(e,i){const a=Dx("filled",e,i),u=e.type;return pl(a,u!==OO&&u!==NO&&u!==LO)}(l,a)),void 0===Sa("cursor",l,a)&&(l.cursor=function(e,i,a){return i.href||e.href||Sa("href",e,a)?"pointer":e.cursor}(l,i,a)),l}(i.mark,null!==(h=i.encoding)&&void 0!==h?h:{},d,{graticule:i.data&&y8(i.data)});const b=this.encoding=gde(null!==(p=i.encoding)&&void 0!==p?p:{},this.markDef,d);this.size=function({encoding:e,size:i}){for(const a of Op){const u=Nl(a);m0(i[u])&&h0(e[a])&&(delete i[u],Yn(DG(u)))}return i}({encoding:b,size:h8(i)?Object.assign(Object.assign(Object.assign({},l),i.width?{width:i.width}:{}),i.height?{height:i.height}:{}):l}),this.stack=YK(y,b),this.specifiedScales=this.initScales(y,b),this.specifiedAxes=this.initAxes(b),this.specifiedLegends=this.initLegend(b),this.specifiedProjection=i.projection,this.selection=i.selection}get hasProjection(){const{encoding:i}=this,a=this.mark===qY,u=i&&wle.some(l=>$i(i[l]));return a||u}scaleDomain(i){const a=this.specifiedScales[i];return a?a.domain:void 0}axis(i){return this.specifiedAxes[i]}legend(i){return this.specifiedLegends[i]}initScales(i,a){return YO.reduce((u,l)=>{var d;const h=Ol(a[l]);return h&&(u[l]=null!==(d=h.scale)&&void 0!==d?d:{}),u},{})}initAxes(i){return Op.reduce((a,u)=>{const l=i[u];if($i(l)||u===vu&&$i(i.x2)||u===Il&&$i(i.y2)){const d=$i(l)?l.axis:void 0;a[u]=d&&Object.assign({},d)}return a},{})}initLegend(i){return kle.reduce((a,u)=>{const l=Ol(i[u]);if(l&&function(e){switch(e){case Uf:case zm:case a0:case V_:case Yf:case z_:case j_:case C1:return!0;case D1:case w1:case x1:return!1}}(u)){const d=l.legend;a[u]=d&&Object.assign({},d)}return a},{})}parseData(){this.component.data=q_(this)}parseLayoutSize(){!function(e){const{size:i,component:a}=e;for(const u of Op){const l=Nl(u);if(i[l]){const d=i[l];a.layoutSize.set(l,m0(d)?"step":d,!0)}else{const d=Fme(e,l);a.layoutSize.set(l,d,!1)}}}(this)}parseSelections(){this.component.selection=function(e,i){var a;const u={},l=e.config.selection;for(const d of Wn(null!=i?i:{})){const h=ms(i[d]),C=ti(l[h.type],["fields","encodings"]);for(const H in C)"encodings"===H&&h.fields||"fields"===H&&h.encodings||("mark"===H&&(h[H]=Object.assign(Object.assign({},C[H]),h[H])),(void 0===h[H]||!0===h[H])&&(h[H]=null!==(a=C[H])&&void 0!==a?a:h[H]));const M=eu(d),O=u[M]=Object.assign(Object.assign({},h),{name:M,events:ps(h.on)?ex(h.on,"scope"):ms(h.on)});xL(O,H=>{H.has(O)&&H.parse&&H.parse(e,O,h,i[d])})}return u}(this,this.selection)}parseMarkGroup(){this.component.mark=function(e){return fi([NO,kO,ale],e.mark)?function(e){const i=wK(e.mark,e.encoding),a=JL(e,{fromPrefix:i.length>0?aJ:""});return i.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:aJ+e.requestDataName(Cd),data:e.requestDataName(Cd),groupby:i}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:a}]:a}(e):fi([IO],e.mark)?function(e){const i=F5.some(a=>Sa(a,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&i){const[a]=JL(e,{fromPrefix:oJ}),u=e.scaleName(e.stack.fieldChannel),l=(M={})=>e.vgField(e.stack.fieldChannel,M),d=(M,O)=>`${M}(${[l({prefix:"min",suffix:"start",expr:O}),l({prefix:"max",suffix:"start",expr:O}),l({prefix:"min",suffix:"end",expr:O}),l({prefix:"max",suffix:"end",expr:O})].map(Y=>`scale('${u}',${Y})`).join(",")})`;let h,p;"x"===e.stack.fieldChannel?(h=Object.assign(Object.assign({},DS(a.encode.update,["y","yc","y2","height",...F5])),{x:{signal:d("min","datum")},x2:{signal:d("max","datum")},clip:{value:!0}}),p={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},a.encode.update=Object.assign(Object.assign({},L_(a.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(h=Object.assign(Object.assign({},DS(a.encode.update,["x","xc","x2","width"])),{y:{signal:d("min","datum")},y2:{signal:d("max","datum")},clip:{value:!0}}),p={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},a.encode.update=Object.assign(Object.assign({},L_(a.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const M of F5){const O=Dx(M,e.markDef,e.config);a.encode.update[M]?(h[M]=a.encode.update[M],delete a.encode.update[M]):O&&(h[M]=Ru(O)),O&&(a.encode.update[M]={value:0})}const y=e.fieldDef(e.stack.groupbyChannel),b=Zn(y)?[Zn(y)]:[];return((null==y?void 0:y.bin)||(null==y?void 0:y.timeUnit))&&b.push(Zn(y,{binSuffix:"end"})),h=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((M,O)=>{if(a.encode.update[O])return Object.assign(Object.assign({},M),{[O]:a.encode.update[O]});{const H=Dx(O,e.markDef,e.config);return void 0!==H?Object.assign(Object.assign({},M),{[O]:Ru(H)}):M}},h),h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Cd),name:oJ+e.requestDataName(Cd),groupby:b,aggregate:{fields:[l({suffix:"start"}),l({suffix:"start"}),l({suffix:"end"}),l({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},marks:[{type:"group",encode:{update:p},marks:[a]}]}]}return JL(e)}(e):JL(e)}(this)}parseAxesAndHeaders(){this.component.axes=function(e){return Op.reduce((i,a)=>(e.component.scales[a]&&(i[a]=[Zme(a,e)]),i),{})}(this)}assembleSelectionTopLevelSignals(i){return function(e,i){let a=!1;return kx(e,(u,l)=>{const d=u.name,h=Ns(d+Tx);if(0===i.filter(y=>y.name===d).length){const b="multi"===u.type?", true)":")";i.push({name:u.name,update:`${SX}(${h}, ${Ns("global"===u.resolve?"union":u.resolve)}${b}`})}a=!0,l.topLevelSignals&&(i=l.topLevelSignals(e,u,i)),xL(u,y=>{y.topLevelSignals&&(i=y.topLevelSignals(e,u,i))})}),a&&0===i.filter(l=>"unit"===l.name).length&&i.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),S8(i)}(this,i)}assembleSignals(){return[...Y8(this),...Kfe(this,[])]}assembleSelectionData(i){return function(e,i){const a=[...i];return kx(e,u=>{const l={name:u.name+Tx};if(u.init){const h=u.project.items.map(y=>ti(y,["signals"])),p=u.init.map(y=>gC(y,!1));l.values="interval"===u.type?[{unit:Z_(e,{escape:!1}),fields:h,values:p}]:p.map(y=>({unit:Z_(e,{escape:!1}),fields:h,values:y}))}a.filter(h=>h.name===u.name+Tx).length||a.push(l)}),a}(this,i)}assembleLayout(){return null}assembleLayoutSignals(){return t6(this)}assembleMarks(){var i;let a=null!==(i=this.component.mark)&&void 0!==i?i:[];return(!this.parent||!Y1(this.parent))&&(a=wX(this,a)),a.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(i){return wx(this.encoding,i)}fieldDef(i){return p0(this.encoding[i])}typedFieldDef(i){const a=this.fieldDef(i);return Xf(a)?a:null}}class R6 extends YL{constructor(i,a,u,l,d){super(i,"layer",a,u,d,i.resolve,i.view);const h=Object.assign(Object.assign(Object.assign({},l),i.width?{width:i.width}:{}),i.height?{height:i.height}:{});this.children=i.layer.map((p,y)=>{if(hL(p))return new R6(p,this,this.getName("layer_"+y),h,d);if(v1(p))return new uJ(p,this,this.getName("layer_"+y),h,d);throw new Error(LS(p))})}parseData(){this.component.data=q_(this);for(const i of this.children)i.parseData()}parseLayoutSize(){!function(e){rJ(e),O6(e,"width"),O6(e,"height")}(this)}parseSelections(){this.component.selection={};for(const i of this.children){i.parseSelections();for(const a of Wn(i.component.selection))this.component.selection[a]=i.component.selection[a]}}parseMarkGroup(){for(const i of this.children)i.parseMarkGroup()}parseAxesAndHeaders(){!function(e){var i;const{axes:a,resolve:u}=e.component,l={top:0,bottom:0,right:0,left:0};for(const d of e.children){d.parseAxesAndHeaders();for(const h of Wn(d.component.axes))u.axis[h]=n6(e.component.resolve,h),"shared"===u.axis[h]&&(a[h]=Yme(a[h],d.component.axes[h]),a[h]||(u.axis[h]="independent",delete a[h]))}for(const d of Op){for(const h of e.children)if(h.component.axes[d]){if("independent"===u.axis[d]){a[d]=(null!==(i=a[d])&&void 0!==i?i:[]).concat(h.component.axes[d]);for(const p of h.component.axes[d]){const{value:y,explicit:b}=p.getWithExplicit("orient");if(!Si(y)){if(l[y]>0&&!b){const C=Hme[y];l[y]>l[C]&&p.set("orient",C,!1)}l[y]++}}}delete h.component.axes[d]}if("independent"===u.axis[d]&&a[d]&&a[d].length>1)for(const h of a[d])h.get("grid")&&!h.explicit.grid&&(h.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(i){return this.children.reduce((a,u)=>u.assembleSelectionTopLevelSignals(a),i)}assembleSignals(){return this.children.reduce((i,a)=>i.concat(a.assembleSignals()),Y8(this))}assembleLayoutSignals(){return this.children.reduce((i,a)=>i.concat(a.assembleLayoutSignals()),t6(this))}assembleSelectionData(i){return this.children.reduce((a,u)=>u.assembleSelectionData(a),i)}assembleTitle(){let i=super.assembleTitle();if(i)return i;for(const a of this.children)if(i=a.assembleTitle(),i)return i}assembleLayout(){return null}assembleMarks(){return function(e,i){for(const a of e.children)xu(a)&&(i=wX(a,i));return i}(this,this.children.flatMap(i=>i.assembleMarks()))}assembleLegends(){return this.children.reduce((i,a)=>i.concat(a.assembleLegends()),o6(this))}}function B6(e,i,a,u,l){if(US(e))return new NA(e,i,a,l);if(hL(e))return new R6(e,i,a,u,l);if(v1(e))return new uJ(e,i,a,u,l);if(function(e){return fL(e)||f8(e)||d8(e)}(e))return new $me(e,i,a,l);throw new Error(LS(e))}function Age(e,i={}){i.logger&&function(e){Gf=e}(i.logger),i.fieldTitle&&cK(i.fieldTitle);try{const a=WK(AY(i.config,e.config)),u=g8(e,a),l=B6(u,null,"",void 0,a);return l.parse(),function(e,i){bA(e.sources);let a=0,u=0;for(let l=0;l<5&&MC(e,i);l++)a++;e.sources.map(m6);for(let l=0;l<5&&MC(e,i);l++)u++;bA(e.sources),5===Math.max(a,u)&&Yn("Maximum optimization runs(5) reached.")}(l.component.data,l),{spec:$6(l,Tge(e,u.autosize,a,l),e.datasets,e.usermeta),normalized:u}}finally{i.logger&&(Gf=ZO),i.fieldTitle&&cK(X5)}}function Tge(e,i,a,u){const l=u.component.layoutSize.get("width"),d=u.component.layoutSize.get("height");if(void 0===i?(i={type:"pad"},u.hasAxisOrientSignalRef()&&(i.resize=!0)):ps(i)&&(i={type:i}),l&&d&&function(e){return"fit"===e||"fit-x"===e||"fit-y"===e}(i.type))if("step"===l&&"step"===d)Yn(RS()),i.type="pad";else if("step"===l||"step"===d){const h="step"===l?"width":"height";Yn(RS(UO(h))),i.type=function(e){return e?`fit-${UO(e)}`:"fit"}("width"===h?"height":"width")}return Object.assign(Object.assign(Object.assign({},1===Wn(i).length&&i.type?"pad"===i.type?{}:{autosize:i.type}:{autosize:i}),tX(a)),tX(e))}function $6(e,i,a={},u){const l=e.config?function(e){e=ms(e);for(const i of Vde)delete e[i];if(e.axis)for(const i in e.axis)p5(e.axis[i])&&delete e.axis[i];if(e.legend)for(const i of Tde)delete e.legend[i];if(e.mark){for(const i of nG)delete e.mark[i];e.mark.tooltip&&tc(e.mark.tooltip)&&delete e.mark.tooltip}for(const i of $de){for(const u of nG)delete e[i][u];const a=zde[i];if(a)for(const u of a)delete e[i][u];Hde(e,i)}for(const i of Wn(o8))delete e[i];!function(e){const{titleMarkConfig:i,subtitleMarkConfig:a,subtitle:u}=mK(e.title);qa(i)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),i)),qa(a)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),a)),qa(u)?delete e.title:e.title=u}(e);for(const i in e)tc(e[i])&&qa(e[i])&&delete e[i];return qa(e)?void 0:e}(e.config):void 0,d=[].concat(e.assembleSelectionData([]),function(e,i){var a,u;const l=[],d=qZ(l);let h=0;for(const y of e.sources){y.hasName()||(y.dataName="source_"+h++);const b=y.assemble();d(y,b)}for(const y of l)0===y.transform.length&&delete y.transform;let p=0;for(const[y,b]of l.entries())0===(null!==(a=b.transform)&&void 0!==a?a:[]).length&&!b.source&&l.splice(p++,0,l.splice(y,1)[0]);for(const y of l)for(const b of null!==(u=y.transform)&&void 0!==u?u:[])"lookup"===b.type&&(b.from=e.outputNodes[b.from].getSource());for(const y of l)y.name in i&&(y.values=i[y.name]);return l}(e.component.data,a)),h=e.assembleProjections(),p=e.assembleTitle(),y=e.assembleGroupStyle(),b=e.assembleGroupEncodeEntry(!0);let C=e.assembleLayoutSignals();return C=C.filter(M=>"width"!==M.name&&"height"!==M.name||void 0===M.value||(i[M.name]=+M.value,!1)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),i),p?{title:p}:{}),y?{style:y}:{}),b?{encode:{update:b}}:{}),{data:d}),h.length>0?{projections:h}:{}),e.assembleGroup([...C,...e.assembleSelectionTopLevelSignals([])])),l?{config:l}:{}),u?{usermeta:u}:{})}const Ige=new class extends HK{mapUnit(i,{config:a}){if(i.encoding){const{encoding:u,transform:l}=i,{bins:d,timeUnits:h,aggregate:p,groupby:y,encoding:b}=t8(u,a),C=[...l||[],...d,...h,...0===p.length?[]:[{aggregate:p,groupby:y}]];return Object.assign(Object.assign(Object.assign({},i),C.length>0?{transform:C}:{}),{encoding:b})}return i}};function Nge(e,i){return Ige.map(e,{config:i})}const Oge="4.13.1",lJ=function(e){const[i,a]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:i,version:a}},IC="#fff",qge={background:"#333",title:{color:IC,subtitleColor:IC},style:{"guide-label":{fill:IC},"guide-title":{fill:IC}},axis:{domainColor:IC,gridColor:"#888",tickColor:IC}},Bx="#4572a7",e0e={background:"#fff",arc:{fill:Bx},area:{fill:Bx},line:{stroke:Bx,strokeWidth:2},path:{stroke:Bx},rect:{fill:Bx},shape:{stroke:Bx},symbol:{fill:Bx,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},$x="#30a2da",V6="#cbcbcb",cJ="#f0f0f0",r0e={arc:{fill:$x},area:{fill:$x},axis:{domainColor:V6,grid:!0,gridColor:V6,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:V6,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:cJ,group:{fill:cJ},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:$x,strokeWidth:2},path:{stroke:$x,strokeWidth:.5},rect:{fill:$x},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:$x},bar:{binSpacing:2,fill:$x,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Vx="#000",i0e={group:{fill:"#e5e5e5"},arc:{fill:Vx},area:{fill:Vx},line:{stroke:Vx},path:{stroke:Vx},rect:{fill:Vx},shape:{stroke:Vx},symbol:{fill:Vx,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},NC="Benton Gothic, sans-serif",no="#82c6df",Po="Benton Gothic Bold, sans-serif",LA={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},fJ={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Po,fontSize:22,fontWeight:"normal"},arc:{fill:no},area:{fill:no},line:{stroke:no,strokeWidth:2},path:{stroke:no},rect:{fill:no},shape:{stroke:no},symbol:{fill:no,size:30},axis:{labelFont:NC,labelFontSize:11.5,labelFontWeight:"normal",titleFont:Po,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:NC,labelFontSize:11.5,symbolType:"square",titleFont:Po,titleFontSize:13,titleFontWeight:"normal"},range:{category:LA["category-6"],diverging:LA["fireandice-6"],heatmap:LA["fire-7"],ordinal:LA["fire-7"],ramp:LA["fire-7"]}},jx="#ab5787",ty="#979797",a0e={background:"#f9f9f9",arc:{fill:jx},area:{fill:jx},line:{stroke:jx},path:{stroke:jx},rect:{fill:jx},shape:{stroke:jx},symbol:{fill:jx,size:30},axis:{domainColor:ty,domainWidth:.5,gridWidth:.2,labelColor:ty,tickColor:ty,tickWidth:.2,titleColor:ty},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},G1="#3e5c69",hJ={background:"#fff",arc:{fill:G1},area:{fill:G1},line:{stroke:G1},path:{stroke:G1},rect:{fill:G1},shape:{stroke:G1},symbol:{fill:G1},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Va="#1696d2",pJ="#000000",qL="Lato",mJ="Lato",PA={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},l0e={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:qL},axisX:{domain:!0,domainColor:pJ,domainWidth:1,grid:!1,labelFontSize:12,labelFont:mJ,labelAngle:0,tickColor:pJ,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:qL},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:mJ,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:qL,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:mJ,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:qL,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:PA["six-groups-cat-1"],diverging:PA["diverging-colors"],heatmap:PA["diverging-colors"],ordinal:PA["six-groups-seq"],ramp:PA["shades-blue"]},area:{fill:Va},rect:{fill:Va},line:{color:Va,stroke:Va,strokeWidth:5},trail:{color:Va,stroke:Va,strokeWidth:0,size:1},path:{stroke:Va,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Va,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Va,stroke:null}},arc:{fill:Va},shape:{stroke:Va},symbol:{fill:Va,size:30}},ny="#3366CC",OC="Arial, sans-serif",_J={arc:{fill:ny},area:{fill:ny},path:{stroke:ny},rect:{fill:ny},shape:{stroke:ny},symbol:{stroke:ny},circle:{fill:ny},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:OC,fontSize:12},"guide-title":{font:OC,fontSize:12},"group-title":{font:OC,fontSize:12}},title:{font:OC,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},yJ="2.10.0";const g0e="vg-tooltip-element",eF={offsetX:10,offsetY:10,id:g0e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function SJ(e,i){return JSON.stringify(e,function(e){const i=[];return function(a,u){if("object"!=typeof u||null===u)return u;const l=i.indexOf(this)+1;return i.length=l,i.length>e?"[Object]":i.indexOf(u)>=0?"[Circular]":(i.push(u),u)}}(i))}class b0e{constructor(i){this.options=Object.assign(Object.assign({},eF),i);const a=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const u=document.createElement("style");u.setAttribute("id",this.options.styleId),u.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(g0e,e)}(a);const l=document.head;l.childNodes.length>0?l.insertBefore(u,l.childNodes[0]):l.appendChild(u)}}tooltipHandler(i,a,u,l){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el),null==l||""===l)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=function(e,i,a){if(Sn(e))return`[${e.map(u=>i(wn(u)?u:SJ(u,a))).join(", ")}]`;if($e(e)){let u="";const l=e,{title:d,image:h}=l,p=function(e,i){var a={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&i.indexOf(u)<0&&(a[u]=e[u]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(u=Object.getOwnPropertySymbols(e);l<u.length;l++)i.indexOf(u[l])<0&&Object.prototype.propertyIsEnumerable.call(e,u[l])&&(a[u[l]]=e[u[l]])}return a}(l,["title","image"]);d&&(u+=`<h2>${i(d)}</h2>`),h&&(u+=`<img src="${i(h)}">`);const y=Object.keys(p);if(y.length>0){u+="<table>";for(const b of y){let C=p[b];void 0!==C&&($e(C)&&(C=SJ(C,a)),u+=`<tr><td class="key">${i(b)}:</td><td class="value">${i(C)}</td></tr>`)}u+="</table>"}return u||"{}"}return i(e)}(l,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:h,y:p}=function(e,i,a,u){let l=e.clientX+a;l+i.width>window.innerWidth&&(l=+e.clientX-a-i.width);let d=e.clientY+u;return d+i.height>window.innerHeight&&(d=+e.clientY-u-i.height),{x:l,y:d}}(a,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${p}px; left: ${h}px`)}}function BA(e,i,a,u){return new(a||(a=Promise))(function(d,h){function p(C){try{b(u.next(C))}catch(M){h(M)}}function y(C){try{b(u.throw(C))}catch(M){h(M)}}function b(C){C.done?d(C.value):function(d){return d instanceof a?d:new a(function(h){h(d)})}(C.value).then(p,y)}b((u=u.apply(e,i||[])).next())})}var LC;function $A(e,...i){for(const a of i)D0e(e,a);return e}function D0e(e,i){for(const a of Object.keys(i))vr(e,a,i[a],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,i){return this.substr(!i||i<0?0:+i,e.length)===e});const ry=ce;let qm=Ae;const VA="undefined"!=typeof window?window:void 0;void 0===qm&&(null===(LC=null==VA?void 0:VA.vl)||void 0===LC?void 0:LC.compile)&&(qm=VA.vl);const TJ={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},w0e={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},X1={vega:"Vega","vega-lite":"Vega-Lite"},FC={vega:ce.version,"vega-lite":qm?qm.version:"not available"},C0e={vega:e=>e,"vega-lite":(e,i)=>qm.compile(e,{config:i}).spec};function kJ(e,i,a,u){const l=`<html><head>${i}</head><body><pre><code class="json">`,d=`</code></pre>${a}</body></html>`,h=window.open("");h.document.write(l+e+d),h.document.title=`${X1[u]} JSON Source`}function IJ(e,i){var a;if(e.$schema){const u=lJ(e.$schema);i&&i!==u.library&&console.warn(`The given visualization spec is written in ${X1[u.library]}, but mode argument sets ${null!==(a=X1[i])&&void 0!==a?a:i}.`);const l=u.library;return(0,ir.satisfies)(FC[l],`^${u.version.slice(1)}`)||console.warn(`The input spec uses ${X1[l]} ${u.version}, but the current version of ${X1[l]} is v${FC[l]}.`),l}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=i?i:"vega"}function NJ(e){return function(e){return!(!e||!("load"in e))}(e)?e:ry.loader(e)}function Z1(e){var i;return null!==(i=e.usermeta&&e.usermeta.embedOptions)&&void 0!==i?i:{}}function tF(e,i){var a;return BA(this,void 0,void 0,function*(){const u=wn(e.config)?JSON.parse(yield i.load(e.config)):null!==(a=e.config)&&void 0!==a?a:{},l=wn(e.patch)?JSON.parse(yield i.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),l?{patch:l}:{}),u?{config:u}:{})})}const k0e=function(e,i,a={}){var u,l,d;return BA(this,void 0,void 0,function*(){let h,p;wn(i)?(p=NJ(a.loader),h=JSON.parse(yield p.load(i))):h=i;const y=Z1(h).loader;(!p||y)&&(p=NJ(null!==(u=a.loader)&&void 0!==u?u:y));const b=yield tF(Z1(h),p),C=yield tF(a,p),M=Object.assign(Object.assign({},$A(C,b)),{config:Cr(null!==(l=C.config)&&void 0!==l?l:{},null!==(d=b.config)&&void 0!==d?d:{})});return yield function(e,i,a={},u){var l,d,h,p,y,b;return BA(this,void 0,void 0,function*(){const C=a.theme?Cr(je[a.theme],null!==(l=a.config)&&void 0!==l?l:{}):a.config,M=sr(a.actions)?a.actions:$A({},TJ,null!==(d=a.actions)&&void 0!==d?d:{}),O=Object.assign(Object.assign({},w0e),a.i18n),H=null!==(h=a.renderer)&&void 0!==h?h:"canvas",Y=null!==(p=a.logLevel)&&void 0!==p?p:ry.Warn,te=null!==(y=a.downloadFileName)&&void 0!==y?y:"visualization",se="string"==typeof e?document.querySelector(e):e;if(!se)throw new Error(`${e} does not exist`);if(!1!==a.defaultStyle){const St="vega-embed-style",{root:Gt,rootContainer:jt}=function(e){var i;const a=e.getRootNode?e.getRootNode():document;return a instanceof ShadowRoot?{root:a,rootContainer:a}:{root:document,rootContainer:null!==(i=document.head)&&void 0!==i?i:document.body}}(se);if(!Gt.getElementById(St)){const En=document.createElement("style");En.id=St,En.innerText=void 0===a.defaultStyle||!0===a.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():a.defaultStyle,jt.appendChild(En)}}const ye=IJ(i,a.mode);let Ce=C0e[ye](i,C);if("vega-lite"===ye&&Ce.$schema){const St=lJ(Ce.$schema);(0,ir.satisfies)(FC.vega,`^${St.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${St.version}, but current version is v${FC.vega}.`)}se.classList.add("vega-embed"),M&&se.classList.add("has-actions"),se.innerHTML="";let Ve=se;if(M){const St=document.createElement("div");St.classList.add("chart-wrapper"),se.appendChild(St),Ve=St}const Ue=a.patch;Ue&&(Ce=Ue instanceof Function?Ue(Ce):on(Ce,Ue,!0,!1).newDocument),a.formatLocale&&ry.formatLocale(a.formatLocale),a.timeFormatLocale&&ry.timeFormatLocale(a.timeFormatLocale);const{ast:qe}=a,tt=ry.parse(Ce,"vega-lite"===ye?{}:C,{ast:qe}),Ge=new(a.viewClass||ry.View)(tt,Object.assign({loader:u,logLevel:Y,renderer:H},qe?{expr:ry.expressionInterpreter}:{}));if(!1!==a.tooltip){let St;St=function(e){return"function"==typeof e}(a.tooltip)?a.tooltip:new b0e(!0===a.tooltip?{}:a.tooltip).call,Ge.tooltip(St)}let Ot,{hover:mt}=a;if(void 0===mt&&(mt="vega"===ye),mt){const{hoverSet:St,updateSet:Gt}="boolean"==typeof mt?{}:mt;Ge.hover(St,Gt)}if(a&&(null!=a.width&&Ge.width(a.width),null!=a.height&&Ge.height(a.height),null!=a.padding&&Ge.padding(a.padding)),yield Ge.initialize(Ve,a.bind).runAsync(),!1!==M){let St=se;if(!1!==a.defaultStyle){const jt=document.createElement("details");jt.title=O.CLICK_TO_VIEW_ACTIONS,se.append(jt),St=jt;const En=document.createElement("summary");En.innerHTML='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',jt.append(En),Ot=Rt=>{jt.contains(Rt.target)||jt.removeAttribute("open")},document.addEventListener("click",Ot)}const Gt=document.createElement("div");if(St.append(Gt),Gt.classList.add("vega-actions"),!0===M||!1!==M.export)for(const jt of["svg","png"])if(!0===M||!0===M.export||M.export[jt]){const En=O[`${jt.toUpperCase()}_ACTION`],Rt=document.createElement("a");Rt.text=En,Rt.href="#",Rt.target="_blank",Rt.download=`${te}.${jt}`,Rt.addEventListener("mousedown",function(An){return BA(this,void 0,void 0,function*(){An.preventDefault();const Jn=yield Ge.toImageURL(jt,a.scaleFactor);this.href=Jn})}),Gt.append(Rt)}if(!0===M||!1!==M.source){const jt=document.createElement("a");jt.text=O.SOURCE_ACTION,jt.href="#",jt.addEventListener("click",function(En){var Rt,An;kJ(Tn()(i),null!==(Rt=a.sourceHeader)&&void 0!==Rt?Rt:"",null!==(An=a.sourceFooter)&&void 0!==An?An:"",ye),En.preventDefault()}),Gt.append(jt)}if("vega-lite"===ye&&(!0===M||!1!==M.compiled)){const jt=document.createElement("a");jt.text=O.COMPILED_ACTION,jt.href="#",jt.addEventListener("click",function(En){var Rt,An;kJ(Tn()(Ce),null!==(Rt=a.sourceHeader)&&void 0!==Rt?Rt:"",null!==(An=a.sourceFooter)&&void 0!==An?An:"","vega"),En.preventDefault()}),Gt.append(jt)}if(!0===M||!1!==M.editor){const jt=null!==(b=a.editorUrl)&&void 0!==b?b:"https://vega.github.io/editor/",En=document.createElement("a");En.text=O.EDITOR_ACTION,En.href="#",En.addEventListener("click",function(Rt){(function(e,i,a){const u=e.open(i),{origin:h}=new URL(i);let p=40;e.addEventListener("message",function y(C){C.source===u&&(p=0,e.removeEventListener("message",y,!1))},!1),setTimeout(function b(){p<=0||(u.postMessage(a,h),setTimeout(b,250),p-=1)},250)})(window,jt,{config:C,mode:ye,renderer:H,spec:Tn()(i)}),Rt.preventDefault()}),Gt.append(En)}}return{view:Ge,spec:i,vgSpec:Ce,finalize:function(){Ot&&document.removeEventListener("click",Ot),Ge.finalize()}}})}(e,h,M,p)})}},9401:be=>{var ie=function(){"use strict";function v(U,G){return null!=G&&U instanceof G}var $,S,P;try{$=Map}catch(U){$=function(){}}try{S=Set}catch(U){S=function(){}}try{P=Promise}catch(U){P=function(){}}function I(U,G,K,J,he){"object"==typeof G&&(K=G.depth,J=G.prototype,he=G.includeNonEnumerable,G=G.circular);var ce=[],Ae=[],je="undefined"!=typeof Buffer;return void 0===G&&(G=!0),void 0===K&&(K=1/0),function Ie(ze,et){if(null===ze)return null;if(0===et)return ze;var Te,We;if("object"!=typeof ze)return ze;if(v(ze,$))Te=new $;else if(v(ze,S))Te=new S;else if(v(ze,P))Te=new P(function(Qe,rt){ze.then(function(st){Qe(Ie(st,et-1))},function(st){rt(Ie(st,et-1))})});else if(I.__isArray(ze))Te=[];else if(I.__isRegExp(ze))Te=new RegExp(ze.source,F(ze)),ze.lastIndex&&(Te.lastIndex=ze.lastIndex);else if(I.__isDate(ze))Te=new Date(ze.getTime());else{if(je&&Buffer.isBuffer(ze))return Te=Buffer.allocUnsafe?Buffer.allocUnsafe(ze.length):new Buffer(ze.length),ze.copy(Te),Te;v(ze,Error)?Te=Object.create(ze):void 0===J?(We=Object.getPrototypeOf(ze),Te=Object.create(We)):(Te=Object.create(J),We=J)}if(G){var ge=ce.indexOf(ze);if(-1!=ge)return Ae[ge];ce.push(ze),Ae.push(Te)}for(var we in v(ze,$)&&ze.forEach(function(Qe,rt){var st=Ie(rt,et-1),ft=Ie(Qe,et-1);Te.set(st,ft)}),v(ze,S)&&ze.forEach(function(Qe){var rt=Ie(Qe,et-1);Te.add(rt)}),ze){var Se;We&&(Se=Object.getOwnPropertyDescriptor(We,we)),(!Se||null!=Se.set)&&(Te[we]=Ie(ze[we],et-1))}if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(ze);for(we=0;we<re.length;we++){var Re=re[we];(Be=Object.getOwnPropertyDescriptor(ze,Re))&&!Be.enumerable&&!he||(Te[Re]=Ie(ze[Re],et-1),Be.enumerable||Object.defineProperty(Te,Re,{enumerable:!1}))}}if(he){var Pe=Object.getOwnPropertyNames(ze);for(we=0;we<Pe.length;we++){var Be,Ke=Pe[we];(Be=Object.getOwnPropertyDescriptor(ze,Ke))&&Be.enumerable||(Te[Ke]=Ie(ze[Ke],et-1),Object.defineProperty(Te,Ke,{enumerable:!1}))}}return Te}(U,K)}function N(U){return Object.prototype.toString.call(U)}function F(U){var G="";return U.global&&(G+="g"),U.ignoreCase&&(G+="i"),U.multiline&&(G+="m"),G}return I.clonePrototype=function(G){if(null===G)return null;var K=function(){};return K.prototype=G,new K},I.__objToStr=N,I.__isDate=function(U){return"object"==typeof U&&"[object Date]"===N(U)},I.__isArray=function(U){return"object"==typeof U&&"[object Array]"===N(U)},I.__isRegExp=function(U){return"object"==typeof U&&"[object RegExp]"===N(U)},I.__getRegExpFlags=F,I}();be.exports&&(be.exports=ie)},2316:be=>{"use strict";be.exports=function(ie){ie.prototype[Symbol.iterator]=function*(){for(let v=this.head;v;v=v.next)yield v.value}}},9377:(be,ie,v)=>{"use strict";function $(B){var R=this;if(R instanceof $||(R=new $),R.tail=null,R.head=null,R.length=0,B&&"function"==typeof B.forEach)B.forEach(function(U){R.push(U)});else if(arguments.length>0)for(var W=0,F=arguments.length;W<F;W++)R.push(arguments[W]);return R}function S(B,R,W){var F=R===B.head?new N(W,null,R,B):new N(W,R,R.next,B);return null===F.next&&(B.tail=F),null===F.prev&&(B.head=F),B.length++,F}function P(B,R){B.tail=new N(R,B.tail,null,B),B.head||(B.head=B.tail),B.length++}function I(B,R){B.head=new N(R,null,B.head,B),B.tail||(B.tail=B.head),B.length++}function N(B,R,W,F){if(!(this instanceof N))return new N(B,R,W,F);this.list=F,this.value=B,R?(R.next=this,this.prev=R):this.prev=null,W?(W.prev=this,this.next=W):this.next=null}be.exports=$,$.Node=N,$.create=$,$.prototype.removeNode=function(B){if(B.list!==this)throw new Error("removing node which does not belong to this list");var R=B.next,W=B.prev;return R&&(R.prev=W),W&&(W.next=R),B===this.head&&(this.head=R),B===this.tail&&(this.tail=W),B.list.length--,B.next=null,B.prev=null,B.list=null,R},$.prototype.unshiftNode=function(B){if(B!==this.head){B.list&&B.list.removeNode(B);var R=this.head;B.list=this,B.next=R,R&&(R.prev=B),this.head=B,this.tail||(this.tail=B),this.length++}},$.prototype.pushNode=function(B){if(B!==this.tail){B.list&&B.list.removeNode(B);var R=this.tail;B.list=this,B.prev=R,R&&(R.next=B),this.tail=B,this.head||(this.head=B),this.length++}},$.prototype.push=function(){for(var B=0,R=arguments.length;B<R;B++)P(this,arguments[B]);return this.length},$.prototype.unshift=function(){for(var B=0,R=arguments.length;B<R;B++)I(this,arguments[B]);return this.length},$.prototype.pop=function(){if(this.tail){var B=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,B}},$.prototype.shift=function(){if(this.head){var B=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,B}},$.prototype.forEach=function(B,R){R=R||this;for(var W=this.head,F=0;null!==W;F++)B.call(R,W.value,F,this),W=W.next},$.prototype.forEachReverse=function(B,R){R=R||this;for(var W=this.tail,F=this.length-1;null!==W;F--)B.call(R,W.value,F,this),W=W.prev},$.prototype.get=function(B){for(var R=0,W=this.head;null!==W&&R<B;R++)W=W.next;if(R===B&&null!==W)return W.value},$.prototype.getReverse=function(B){for(var R=0,W=this.tail;null!==W&&R<B;R++)W=W.prev;if(R===B&&null!==W)return W.value},$.prototype.map=function(B,R){R=R||this;for(var W=new $,F=this.head;null!==F;)W.push(B.call(R,F.value,this)),F=F.next;return W},$.prototype.mapReverse=function(B,R){R=R||this;for(var W=new $,F=this.tail;null!==F;)W.push(B.call(R,F.value,this)),F=F.prev;return W},$.prototype.reduce=function(B,R){var W,F=this.head;if(arguments.length>1)W=R;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");F=this.head.next,W=this.head.value}for(var U=0;null!==F;U++)W=B(W,F.value,U),F=F.next;return W},$.prototype.reduceReverse=function(B,R){var W,F=this.tail;if(arguments.length>1)W=R;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");F=this.tail.prev,W=this.tail.value}for(var U=this.length-1;null!==F;U--)W=B(W,F.value,U),F=F.prev;return W},$.prototype.toArray=function(){for(var B=new Array(this.length),R=0,W=this.head;null!==W;R++)B[R]=W.value,W=W.next;return B},$.prototype.toArrayReverse=function(){for(var B=new Array(this.length),R=0,W=this.tail;null!==W;R++)B[R]=W.value,W=W.prev;return B},$.prototype.slice=function(B,R){(R=R||this.length)<0&&(R+=this.length),(B=B||0)<0&&(B+=this.length);var W=new $;if(R<B||R<0)return W;B<0&&(B=0),R>this.length&&(R=this.length);for(var F=0,U=this.head;null!==U&&F<B;F++)U=U.next;for(;null!==U&&F<R;F++,U=U.next)W.push(U.value);return W},$.prototype.sliceReverse=function(B,R){(R=R||this.length)<0&&(R+=this.length),(B=B||0)<0&&(B+=this.length);var W=new $;if(R<B||R<0)return W;B<0&&(B=0),R>this.length&&(R=this.length);for(var F=this.length,U=this.tail;null!==U&&F>R;F--)U=U.prev;for(;null!==U&&F>B;F--,U=U.prev)W.push(U.value);return W},$.prototype.splice=function(B,R,...W){B>this.length&&(B=this.length-1),B<0&&(B=this.length+B);for(var F=0,U=this.head;null!==U&&F<B;F++)U=U.next;var G=[];for(F=0;U&&F<R;F++)G.push(U.value),U=this.removeNode(U);for(null===U&&(U=this.tail),U!==this.head&&U!==this.tail&&(U=U.prev),F=0;F<W.length;F++)U=S(this,U,W[F]);return G},$.prototype.reverse=function(){for(var B=this.head,R=this.tail,W=B;null!==W;W=W.prev){var F=W.prev;W.prev=W.next,W.next=F}return this.head=R,this.tail=B,this};try{v(2316)($)}catch(B){}},2406:(be,ie,v)=>{"use strict";var $={};function S(n){return"function"==typeof n}v.r($),v.d($,{addImpl:()=>Q9,bincountImpl:()=>J4,bincountReduceImpl:()=>Q4,ceilImpl:()=>Co,concatImpl:()=>cY,equalImpl:()=>vY,expImpl:()=>xY,expm1Impl:()=>wY,floorImpl:()=>a5,gatherNdImpl:()=>yS,gatherV2Impl:()=>kue,greaterEqualImpl:()=>LY,greaterImpl:()=>NY,lessEqualImpl:()=>Ns,lessImpl:()=>Fue,linSpaceImpl:()=>Rue,logImpl:()=>Bue,maxImpl:()=>zue,maximumImpl:()=>Wue,minimumImpl:()=>zs,multiplyImpl:()=>r5,negImpl:()=>qa,notEqualImpl:()=>F_,prodImpl:()=>m5,rangeImpl:()=>rle,rsqrtImpl:()=>v5,sigmoidImpl:()=>$r,simpleAbsImpl:()=>eY,sliceImpl:()=>oY,sparseFillEmptyRowsImpl:()=>yle,sparseReshapeImpl:()=>x5,sparseSegmentReductionImpl:()=>sG,sqrtImpl:()=>i0,squaredDifferenceImpl:()=>$m,stridedSliceImpl:()=>zm,stringNGramsImpl:()=>x1,stringSplitImpl:()=>j_,stringToHashBucketFastImpl:()=>nC,subImpl:()=>Eue,tileImpl:()=>aG,topKImpl:()=>cG,transposeImpl:()=>fO,uniqueImpl:()=>Cle});let P=!1;const I={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=n},get useDeprecatedSynchronousErrorHandling(){return P}};function N(n){setTimeout(()=>{throw n},0)}const B={closed:!0,next(n){},error(n){if(I.useDeprecatedSynchronousErrorHandling)throw n;N(n)},complete(){}},R=Array.isArray||(n=>n&&"number"==typeof n.length);function W(n){return null!==n&&"object"==typeof n}const U=(()=>{function n(r){return Error.call(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((t,s)=>`${s+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r,this}return n.prototype=Object.create(Error.prototype),n})();class G{constructor(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}unsubscribe(){let r;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:s,_unsubscribe:o,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof G)t.remove(this);else if(null!==t)for(let f=0;f<t.length;++f)t[f].remove(this);if(S(o)){s&&(this._unsubscribe=void 0);try{o.call(this)}catch(f){r=f instanceof U?K(f.errors):[f]}}if(R(c)){let f=-1,m=c.length;for(;++f<m;){const _=c[f];if(W(_))try{_.unsubscribe()}catch(x){r=r||[],x instanceof U?r=r.concat(K(x.errors)):r.push(x)}}}if(r)throw new U(r)}add(r){let t=r;if(!r)return G.EMPTY;switch(typeof r){case"function":t=new G(r);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof G)){const c=t;t=new G,t._subscriptions=[c]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}let{_parentOrParents:s}=t;if(null===s)t._parentOrParents=this;else if(s instanceof G){if(s===this)return t;t._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return t;s.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[t]:o.push(t),t}remove(r){const t=this._subscriptions;if(t){const s=t.indexOf(r);-1!==s&&t.splice(s,1)}}}var n;function K(n){return n.reduce((r,t)=>r.concat(t instanceof U?t.errors:t),[])}G.EMPTY=((n=new G).closed=!0,n);const J="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ce extends G{constructor(r,t,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B;break;case 1:if(!r){this.destination=B;break}if("object"==typeof r){r instanceof ce?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,r.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ae(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new Ae(this,r,t,s)}}[J](){return this}static create(r,t,s){const o=new ce(r,t,s);return o.syncErrorThrowable=!1,o}next(r){this.isStopped||this._next(r)}error(r){this.isStopped||(this.isStopped=!0,this._error(r))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(r){this.destination.next(r)}_error(r){this.destination.error(r),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:r}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this}}class Ae extends ce{constructor(r,t,s,o){super(),this._parentSubscriber=r;let c,f=this;S(t)?c=t:t&&(c=t.next,s=t.error,o=t.complete,t!==B&&(f=Object.create(t),S(f.unsubscribe)&&this.add(f.unsubscribe.bind(f)),f.unsubscribe=this.unsubscribe.bind(this))),this._context=f,this._next=c,this._error=s,this._complete=o}next(r){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;I.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}}error(r){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:s}=I;if(this._error)s&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)s?(t.syncErrorValue=r,t.syncErrorThrown=!0):N(r),this.unsubscribe();else{if(this.unsubscribe(),s)throw r;N(r)}}}complete(){if(!this.isStopped){const{_parentSubscriber:r}=this;if(this._complete){const t=()=>this._complete.call(this._context);I.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(r,t){try{r.call(this._context,t)}catch(s){if(this.unsubscribe(),I.useDeprecatedSynchronousErrorHandling)throw s;N(s)}}__tryOrSetError(r,t,s){if(!I.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,s)}catch(o){return I.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(N(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:r}=this;this._context=null,this._parentSubscriber=null,r.unsubscribe()}}const ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function et(n){return n}let ge=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const s=new n;return s.source=this,s.operator=t,s}subscribe(t,s,o){const{operator:c}=this,f=function(n,r,t){if(n){if(n instanceof ce)return n;if(n[J])return n[J]()}return n||r||t?new ce(n,r,t):new ce(B)}(t,s,o);if(f.add(c?c.call(f,this.source):this.source||I.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),I.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f}_trySubscribe(t){try{return this._subscribe(t)}catch(s){I.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=s),function(n){for(;n;){const{closed:r,destination:t,isStopped:s}=n;if(r||s)return!1;n=t&&t instanceof ce?t:null}return!0}(t)?t.error(s):console.warn(s)}}forEach(t,s){return new(s=we(s))((o,c)=>{let f;f=this.subscribe(m=>{try{t(m)}catch(_){c(_),f&&f.unsubscribe()}},c,o)})}_subscribe(t){const{source:s}=this;return s&&s.subscribe(t)}[ze](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?et:1===n.length?n[0]:function(t){return n.reduce((s,o)=>o(s),t)}}(t)(this)}toPromise(t){return new(t=we(t))((s,o)=>{let c;this.subscribe(f=>c=f,f=>o(f),()=>s(c))})}}return n.create=r=>new n(r),n})();function we(n){if(n||(n=I.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const re=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Re extends G{constructor(r,t){super(),this.subject=r,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const r=this.subject,t=r.observers;if(this.subject=null,!t||0===t.length||r.isStopped||r.closed)return;const s=t.indexOf(this.subscriber);-1!==s&&t.splice(s,1)}}class Be extends ce{constructor(r){super(r),this.destination=r}}let Pe=(()=>{class n extends ge{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J](){return new Be(this)}lift(t){const s=new Ke(this,this);return s.operator=t,s}next(t){if(this.closed)throw new re;if(!this.isStopped){const{observers:s}=this,o=s.length,c=s.slice();for(let f=0;f<o;f++)c[f].next(t)}}error(t){if(this.closed)throw new re;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:s}=this,o=s.length,c=s.slice();for(let f=0;f<o;f++)c[f].error(t);this.observers.length=0}complete(){if(this.closed)throw new re;this.isStopped=!0;const{observers:t}=this,s=t.length,o=t.slice();for(let c=0;c<s;c++)o[c].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new re;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new re;return this.hasError?(t.error(this.thrownError),G.EMPTY):this.isStopped?(t.complete(),G.EMPTY):(this.observers.push(t),new Re(this,t))}asObservable(){const t=new ge;return t.source=this,t}}return n.create=(r,t)=>new Ke(r,t),n})();class Ke extends Pe{constructor(r,t){super(),this.destination=r,this.source=t}next(r){const{destination:t}=this;t&&t.next&&t.next(r)}error(r){const{destination:t}=this;t&&t.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:t}=this;return t?this.source.subscribe(r):G.EMPTY}}function Qe(n){return n&&"function"==typeof n.schedule}function rt(n,r){return function(s){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new st(n,r))}}class st{constructor(r,t){this.project=r,this.thisArg=t}call(r,t){return t.subscribe(new ft(r,this.project,this.thisArg))}}class ft extends ce{constructor(r,t,s){super(r),this.project=t,this.count=0,this.thisArg=s||this}_next(r){let t;try{t=this.project.call(this.thisArg,r,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const kt=n=>r=>{for(let t=0,s=n.length;t<s&&!r.closed;t++)r.next(n[t]);r.complete()},On="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Gr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function mi(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const dt=n=>{if(n&&"function"==typeof n[ze])return(n=>r=>{const t=n[ze]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(r)})(n);if(Gr(n))return kt(n);if(mi(n))return(n=>r=>(n.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,N),r))(n);if(n&&"function"==typeof n[On])return(n=>r=>{const t=n[On]();for(;;){let s;try{s=t.next()}catch(o){return r.error(o),r}if(s.done){r.complete();break}if(r.next(s.value),r.closed)break}return"function"==typeof t.return&&r.add(()=>{t.return&&t.return()}),r})(n);{const t=`You provided ${W(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Bt(n,r){return new ge(t=>{const s=new G;let o=0;return s.add(r.schedule(function(){o!==n.length?(t.next(n[o++]),t.closed||s.add(this.schedule())):t.complete()})),s})}function an(n,r){return r?function(n,r){if(null!=n){if(function(n){return n&&"function"==typeof n[ze]}(n))return function(n,r){return new ge(t=>{const s=new G;return s.add(r.schedule(()=>{const o=n[ze]();s.add(o.subscribe({next(c){s.add(r.schedule(()=>t.next(c)))},error(c){s.add(r.schedule(()=>t.error(c)))},complete(){s.add(r.schedule(()=>t.complete()))}}))})),s})}(n,r);if(mi(n))return function(n,r){return new ge(t=>{const s=new G;return s.add(r.schedule(()=>n.then(o=>{s.add(r.schedule(()=>{t.next(o),s.add(r.schedule(()=>t.complete()))}))},o=>{s.add(r.schedule(()=>t.error(o)))}))),s})}(n,r);if(Gr(n))return Bt(n,r);if(function(n){return n&&"function"==typeof n[On]}(n)||"string"==typeof n)return function(n,r){if(!n)throw new Error("Iterable cannot be null");return new ge(t=>{const s=new G;let o;return s.add(()=>{o&&"function"==typeof o.return&&o.return()}),s.add(r.schedule(()=>{o=n[On](),s.add(r.schedule(function(){if(t.closed)return;let c,f;try{const m=o.next();c=m.value,f=m.done}catch(m){return void t.error(m)}f?t.complete():(t.next(c),this.schedule())}))})),s})}(n,r)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,r):n instanceof ge?n:new ge(dt(n))}class ar extends ce{constructor(r){super(),this.parent=r}_next(r){this.parent.notifyNext(r)}_error(r){this.parent.notifyError(r),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Tn extends ce{notifyNext(r){this.destination.next(r)}notifyError(r){this.destination.error(r)}notifyComplete(){this.destination.complete()}}function Tr(n,r){if(r.closed)return;if(n instanceof ge)return n.subscribe(r);let t;try{t=dt(n)(r)}catch(s){r.error(s)}return t}function hi(n,r,t=Number.POSITIVE_INFINITY){return"function"==typeof r?s=>s.pipe(hi((o,c)=>an(n(o,c)).pipe(rt((f,m)=>r(o,f,c,m))),t)):("number"==typeof r&&(t=r),s=>s.lift(new mr(n,t)))}class mr{constructor(r,t=Number.POSITIVE_INFINITY){this.project=r,this.concurrent=t}call(r,t){return t.subscribe(new ni(r,this.project,this.concurrent))}}class ni extends Tn{constructor(r,t,s=Number.POSITIVE_INFINITY){super(r),this.project=t,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)}_tryNext(r){let t;const s=this.index++;try{t=this.project(r,s)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(t)}_innerSub(r){const t=new ar(this),s=this.destination;s.add(t);const o=Tr(r,t);o!==t&&s.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(r){this.destination.next(r)}notifyComplete(){const r=this.buffer;this.active--,r.length>0?this._next(r.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Ii(n=Number.POSITIVE_INFINITY){return hi(et,n)}function Pt(n,r){return r?Bt(n,r):new ge(kt(n))}function Ur(){return function(r){return r.lift(new ra(r))}}class ra{constructor(r){this.connectable=r}call(r,t){const{connectable:s}=this;s._refCount++;const o=new vs(r,s),c=t.subscribe(o);return o.closed||(o.connection=s.connect()),c}}class vs extends ce{constructor(r,t){super(r),this.connectable=t}_unsubscribe(){const{connectable:r}=this;if(!r)return void(this.connection=null);this.connectable=null;const t=r._refCount;if(t<=0)return void(this.connection=null);if(r._refCount=t-1,t>1)return void(this.connection=null);const{connection:s}=this,o=r._connection;this.connection=null,o&&(!s||o===s)&&o.unsubscribe()}}class or extends ge{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let r=this._connection;return r||(this._isComplete=!1,r=this._connection=new G,r.add(this.source.subscribe(new Aa(this.getSubject(),this))),r.closed&&(this._connection=null,r=G.EMPTY)),r}refCount(){return Ur()(this)}}const iu=(()=>{const n=or.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Aa extends Be{constructor(r,t){super(r),this.connectable=t}_error(r){this._unsubscribe(),super._error(r)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const r=this.connectable;if(r){this.connectable=null;const t=r._connection;r._refCount=0,r._subject=null,r._connection=null,t&&t.unsubscribe()}}}function Qi(){return new Pe}function pi(n){for(let r in n)if(n[r]===pi)return r;throw Error("Could not find renamed property on target object.")}function wu(n,r){for(const t in r)r.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=r[t])}function Sn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Sn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const t=r.indexOf("\n");return-1===t?r:r.substring(0,t)}function $e(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ho=pi({__forward_ref__:pi});function Cr(n){return n.__forward_ref__=Cr,n.toString=function(){return Sn(this())},n}function vr(n){return $u(n)?n():n}function $u(n){return"function"==typeof n&&n.hasOwnProperty(ho)&&n.__forward_ref__===Cr}class rs extends Error{constructor(r,t){super(function(n,r){return`${n?`NG0${n}: `:""}${r}`}(r,t)),this.code=r}}function Pr(n){return"string"==typeof n?n:null==n?"":String(n)}function sa(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pr(n)}function Wo(n,r){const t=r?` in ${r}`:"";throw new rs("201",`No provider for ${sa(n)} found${t}`)}function Wi(n,r,t,s){throw new Error(`ASSERTION ERROR: ${n}`+(null==s?"":` [Expected=> ${t} ${s} ${r} <=Actual]`))}function Xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dn(n){return Vn(n,dr)||Vn(n,qt)}function Vn(n,r){return n.hasOwnProperty(r)?n[r]:null}function zn(n){return n&&(n.hasOwnProperty(zr)||n.hasOwnProperty(Hs))?n[zr]:null}const dr=pi({\u0275prov:pi}),zr=pi({\u0275inj:pi}),qt=pi({ngInjectableDef:pi}),Hs=pi({ngInjectorDef:pi});var sr=(()=>((sr=sr||{})[sr.Default=0]="Default",sr[sr.Host=1]="Host",sr[sr.Self=2]="Self",sr[sr.SkipSelf=4]="SkipSelf",sr[sr.Optional=8]="Optional",sr))();let Oe;function Ft(n){const r=Oe;return Oe=n,r}function fn(n,r,t){const s=Dn(n);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:t&sr.Optional?null:void 0!==r?r:void Wo(Sn(n),"Injector")}function lr(n){return{toString:n}.toString()}var Vi=(()=>((Vi=Vi||{})[Vi.OnPush=0]="OnPush",Vi[Vi.Default=1]="Default",Vi))(),Oi=(()=>((Oi=Oi||{})[Oi.Emulated=0]="Emulated",Oi[Oi.None=2]="None",Oi[Oi.ShadowDom=3]="ShadowDom",Oi))();const vn="undefined"!=typeof globalThis&&globalThis,Eu="undefined"!=typeof window&&window,ma="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ht=vn||"undefined"!=typeof global&&global||Eu||ma,su={},Di=[],th=pi({\u0275cmp:pi}),xl=pi({\u0275dir:pi}),Mo=pi({\u0275pipe:pi}),zp=pi({\u0275mod:pi}),jp=pi({\u0275loc:pi}),so=pi({\u0275fac:pi}),cc=pi({__NG_ELEMENT_ID__:pi});let nh=0;function Us(n){return lr(()=>{const t={},s={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Vi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Di,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,id:"c",styles:n.styles||Di,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.directives,c=n.features,f=n.pipes;return s.id+=nh++,s.inputs=Mu(n.inputs,t),s.outputs=Mu(n.outputs),c&&c.forEach(m=>m(s)),s.directiveDefs=o?()=>("function"==typeof o?o():o).map(dc):null,s.pipeDefs=f?()=>("function"==typeof f?f():f).map(ao):null,s})}function dc(n){return Ia(n)||function(n){return n[xl]||null}(n)}function ao(n){return function(n){return n[Mo]||null}(n)}const rh={};function qi(n){return lr(()=>{const r={type:n.type,bootstrap:n.bootstrap||Di,declarations:n.declarations||Di,imports:n.imports||Di,exports:n.exports||Di,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(rh[n.id]=n.type),r})}function Mu(n,r){if(null==n)return su;const t={};for(const s in n)if(n.hasOwnProperty(s)){let o=n[s],c=o;Array.isArray(o)&&(c=o[1],o=o[0]),t[o]=s,r&&(r[o]=c)}return t}const Bn=Us;function Ys(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ia(n){return n[th]||null}function Qu(n,r){const t=n[zp]||null;if(!t&&!0===r)throw new Error(`Type ${Sn(n)} does not have '\u0275mod' property.`);return t}function Rr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ui(n){return Array.isArray(n)&&!0===n[1]}function tr(n){return 0!=(8&n.flags)}function Vu(n){return 2==(2&n.flags)}function ws(n){return 1==(1&n.flags)}function is(n){return null!==n.template}function Qr(n){return 0!=(512&n[2])}function Id(n,r){return n.hasOwnProperty(so)?n[so]:null}class ep{constructor(r,t,s){this.previousValue=r,this.currentValue=t,this.firstChange=s}isFirstChange(){return this.firstChange}}function Ei(){return Li}function Li(n){return n.type.prototype.ngOnChanges&&(n.setInput=Wl),lh}function lh(){const n=ay(this),r=null==n?void 0:n.current;if(r){const t=n.previous;if(t===su)n.previous=r;else for(let s in r)t[s]=r[s];n.current=null,this.ngOnChanges(r)}}function Wl(n,r,t,s){const o=ay(n)||function(n,r){return n[_f]=r}(n,{previous:su,current:null}),c=o.current||(o.current={}),f=o.previous,m=this.declaredInputs[t],_=f[m];c[m]=new ep(_&&_.currentValue,r,f===su),n[s]=r}Ei.ngInherit=!0;const _f="__ngSimpleChanges__";function ay(n){return n[_f]||null}let ug;function yf(){return void 0!==ug?ug:"undefined"!=typeof document?document:void 0}function Fs(n){return!!n.listen}const mc={createRenderer:(n,r)=>yf()};function La(n){for(;Array.isArray(n);)n=n[0];return n}function Up(n,r){return La(r[n])}function zu(n,r){return La(r[n.index])}function tp(n,r){return n.data[r]}function qu(n,r){const t=r[n];return Rr(t)?t:t[0]}function T0(n){return 4==(4&n[2])}function gc(n){return 128==(128&n[2])}function _c(n,r){return null==r?null:n[r]}function nd(n){n[18]=0}function uy(n,r){n[5]+=r;let t=n,s=n[3];for(;null!==s&&(1===r&&1===t[5]||-1===r&&0===t[5]);)s[5]+=r,t=s,s=s[3]}const qr={lFrame:Uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function q1(){return qr.bindingsEnabled}function In(){return qr.lFrame.lView}function Yi(){return qr.lFrame.tView}function fr(n){return qr.lFrame.contextLView=n,n[8]}function To(){let n=vf();for(;null!==n&&64===n.type;)n=n.parent;return n}function vf(){return qr.lFrame.currentTNode}function ju(){const n=qr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Su(n,r){const t=qr.lFrame;t.currentTNode=n,t.isParent=r}function Ua(){return qr.lFrame.isParent}function go(){qr.lFrame.isParent=!1}function Ho(){return qr.isInCheckNoChangesMode}function uo(n){qr.isInCheckNoChangesMode=n}function Fa(){return qr.lFrame.bindingIndex}function uu(){return qr.lFrame.bindingIndex++}function ko(n){const r=qr.lFrame,t=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,t}function dg(n){qr.lFrame.inI18n=n}function k0(n,r){const t=qr.lFrame;t.bindingIndex=t.bindingRootIndex=n,yc(r)}function yc(n){qr.lFrame.currentDirectiveIndex=n}function id(){return qr.lFrame.currentQueryIndex}function Gp(n){qr.lFrame.currentQueryIndex=n}function I0(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Kp(n,r,t){if(t&sr.SkipSelf){let o=r,c=n;for(;!(o=o.parent,null!==o||t&sr.Host||(o=I0(c),null===o||(c=c[15],10&o.type))););if(null===o)return!1;r=o,n=c}const s=qr.lFrame=xf();return s.currentTNode=r,s.lView=n,!0}function bf(n){const r=xf(),t=n[1];qr.lFrame=r,r.currentTNode=t.firstChild,r.lView=n,r.tView=t,r.contextLView=n,r.bindingIndex=t.bindingStartIndex,r.inI18n=!1}function xf(){const n=qr.lFrame,r=null===n?null:n.child;return null===r?Uo(n):r}function Uo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Xp(){const n=qr.lFrame;return qr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const N0=Xp;function np(){const n=Xp();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Au(){return qr.lFrame.selectedIndex}function tl(n){qr.lFrame.selectedIndex=n}function Ps(){const n=qr.lFrame;return tp(n.tView,n.selectedIndex)}function ip(n,r){for(let t=r.directiveStart,s=r.directiveEnd;t<s;t++){const c=n.data[t].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:x,ngOnDestroy:E}=c;f&&(n.contentHooks||(n.contentHooks=[])).push(-t,f),m&&((n.contentHooks||(n.contentHooks=[])).push(t,m),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,m)),_&&(n.viewHooks||(n.viewHooks=[])).push(-t,_),x&&((n.viewHooks||(n.viewHooks=[])).push(t,x),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,x)),null!=E&&(n.destroyHooks||(n.destroyHooks=[])).push(t,E)}}function fh(n,r,t){Df(n,r,3,t)}function fg(n,r,t,s){(3&n[2])===t&&Df(n,r,t,s)}function Od(n,r){let t=n[2];(3&t)===r&&(t&=2047,t+=1,n[2]=t)}function Df(n,r,t,s){const c=null!=s?s:-1,f=r.length-1;let m=0;for(let _=void 0!==s?65535&n[18]:0;_<f;_++)if("number"==typeof r[_+1]){if(m=r[_],null!=s&&m>=s)break}else r[_]<0&&(n[18]+=65536),(m<c||-1==c)&&(dy(n,t,r,_),n[18]=(4294901760&n[18])+_+2),_++}function dy(n,r,t,s){const o=t[s]<0,c=t[s+1],m=n[o?-t[s]:t[s]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{c.call(m)}finally{}}}else try{c.call(m)}finally{}}class sp{constructor(r,t,s){this.factory=r,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=s}}function op(n,r,t){const s=Fs(n);let o=0;for(;o<t.length;){const c=t[o];if("number"==typeof c){if(0!==c)break;o++;const f=t[o++],m=t[o++],_=t[o++];s?n.setAttribute(r,m,_,f):r.setAttributeNS(f,m,_)}else{const f=c,m=t[++o];Tu(f)?s&&n.setProperty(r,f,m):s?n.setAttribute(r,f,m):r.setAttribute(f,m),o++}}return o}function es(n){return 3===n||4===n||6===n}function Tu(n){return 64===n.charCodeAt(0)}function ku(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let t=-1;for(let s=0;s<r.length;s++){const o=r[s];"number"==typeof o?t=o:0===t||Hu(n,t,o,null,-1===t||2===t?r[++s]:null)}}return n}function Hu(n,r,t,s,o){let c=0,f=n.length;if(-1===r)f=-1;else for(;c<n.length;){const m=n[c++];if("number"==typeof m){if(m===r){f=-1;break}if(m>r){f=c-1;break}}}for(;c<n.length;){const m=n[c];if("number"==typeof m)break;if(m===t){if(null===s)return void(null!==o&&(n[c+1]=o));if(s===n[c+1])return void(n[c+2]=o)}c++,null!==s&&c++,null!==o&&c++}-1!==f&&(n.splice(f,0,r),c=f+1),n.splice(c++,0,t),null!==s&&n.splice(c++,0,s),null!==o&&n.splice(c++,0,o)}function wf(n){return-1!==n}function hh(n){return 32767&n}function ph(n,r){let t=function(n){return n>>16}(n),s=r;for(;t>0;)s=s[15],t--;return s}let Iu=!0;function Yo(n){const r=Iu;return Iu=n,r}let Pd=0;function up(n,r){const t=Jp(n,r);if(-1!==t)return t;const s=r[1];s.firstCreatePass&&(n.injectorIndex=r.length,Ka(s.data,n),Ka(r,null),Ka(s.blueprint,null));const o=g(n,r),c=n.injectorIndex;if(wf(o)){const f=hh(o),m=ph(o,r),_=m[1].data;for(let x=0;x<8;x++)r[c+x]=m[f+x]|_[f+x]}return r[c+8]=o,c}function Ka(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Jp(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function g(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,s=null,o=r;for(;null!==o;){const c=o[1],f=c.type;if(s=2===f?c.declTNode:1===f?o[6]:null,null===s)return-1;if(t++,o=o[15],-1!==s.injectorIndex)return s.injectorIndex|t<<16}return-1}function D(n,r,t){!function(n,r,t){let s;"string"==typeof t?s=t.charCodeAt(0)||0:t.hasOwnProperty(cc)&&(s=t[cc]),null==s&&(s=t[cc]=Pd++);const o=255&s;r.data[n+(o>>5)]|=1<<o}(n,r,t)}function k(n,r,t){if(t&sr.Optional)return n;Wo(r,"NodeInjector")}function j(n,r,t,s){if(t&sr.Optional&&void 0===s&&(s=null),0==(t&(sr.Self|sr.Host))){const o=n[9],c=Ft(void 0);try{return o?o.get(r,s,t&sr.Optional):fn(r,s,t&sr.Optional)}finally{Ft(c)}}return k(s,r,t)}function ee(n,r,t,s=sr.Default,o){if(null!==n){const c=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(cc)?n[cc]:void 0;return"number"==typeof r?r>=0?255&r:_e:r}(t);if("function"==typeof c){if(!Kp(r,n,s))return s&sr.Host?k(o,t,s):j(r,t,s,o);try{const f=c(s);if(null!=f||s&sr.Optional)return f;Wo(t)}finally{N0()}}else if("number"==typeof c){let f=null,m=Jp(n,r),_=-1,x=s&sr.Host?r[16][6]:null;for((-1===m||s&sr.SkipSelf)&&(_=-1===m?g(n,r):r[m+8],-1!==_&&pt(s,!1)?(f=r[1],m=hh(_),r=ph(_,r)):m=-1);-1!==m;){const E=r[1];if(Je(c,m,E.data)){const T=de(m,r,t,f,s,x);if(T!==le)return T}_=r[m+8],-1!==_&&pt(s,r[1].data[m+8]===x)&&Je(c,m,r)?(f=E,m=hh(_),r=ph(_,r)):m=-1}}}return j(r,t,s,o)}const le={};function _e(){return new gt(To(),In())}function de(n,r,t,s,o,c){const f=r[1],m=f.data[n+8],E=ve(m,f,t,null==s?Vu(m)&&Iu:s!=f&&0!=(3&m.type),o&sr.Host&&c===m);return null!==E?Ne(r,f,E,m):le}function ve(n,r,t,s,o){const c=n.providerIndexes,f=r.data,m=1048575&c,_=n.directiveStart,E=c>>20,L=o?m+E:n.directiveEnd;for(let z=s?m:m+E;z<L;z++){const X=f[z];if(z<_&&t===X||z>=_&&X.type===t)return z}if(o){const z=f[_];if(z&&is(z)&&z.type===t)return _}return null}function Ne(n,r,t,s){let o=n[t];const c=r.data;if(function(n){return n instanceof sp}(o)){const f=o;f.resolving&&function(n,r){throw new rs("200",`Circular dependency in DI detected for ${n}`)}(sa(c[t]));const m=Yo(f.canSeeViewProviders);f.resolving=!0;const _=f.injectImpl?Ft(f.injectImpl):null;Kp(n,s,sr.Default);try{o=n[t]=f.factory(void 0,c,n,s),r.firstCreatePass&&t>=s.directiveStart&&function(n,r,t){const{ngOnChanges:s,ngOnInit:o,ngDoCheck:c}=r.type.prototype;if(s){const f=Li(r);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,f),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,f)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),c&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,c),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,c))}(t,c[t],r)}finally{null!==_&&Ft(_),Yo(m),f.resolving=!1,N0()}}return o}function Je(n,r,t){return!!(t[r+(n>>5)]&1<<n)}function pt(n,r){return!(n&sr.Self||n&sr.Host&&r)}class gt{constructor(r,t){this._tNode=r,this._lView=t}get(r,t,s){return ee(this._tNode,this._lView,r,s,t)}}function bt(n){return lr(()=>{const r=n.prototype.constructor,t=r[so]||Lt(r),s=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==s;){const c=o[so]||Lt(o);if(c&&c!==t)return c;o=Object.getPrototypeOf(o)}return c=>new c})}function Lt(n){return $u(n)?()=>{const r=Lt(vr(n));return r&&r()}:Id(n)}const br="__parameters__";function ai(n,r,t){return lr(()=>{const s=function(n){return function(...t){if(n){const s=n(...t);for(const o in s)this[o]=s[o]}}}(r);function o(...c){if(this instanceof o)return s.apply(this,c),this;const f=new o(...c);return m.annotation=f,m;function m(_,x,E){const T=_.hasOwnProperty(br)?_[br]:Object.defineProperty(_,br,{value:[]})[br];for(;T.length<=E;)T.push(null);return(T[E]=T[E]||[]).push(f),_}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class Xr{constructor(r,t){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Cf(n,r){void 0===r&&(r=n);for(let t=0;t<n.length;t++){let s=n[t];Array.isArray(s)?(r===n&&(r=n.slice(0,t)),Cf(s,r)):r!==n&&r.push(s)}return r}function mh(n,r){n.forEach(t=>Array.isArray(t)?mh(t,r):r(t))}function Jx(n,r,t){r>=n.length?n.push(t):n.splice(r,0,t)}function B0(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function pg(n,r){const t=[];for(let s=0;s<n;s++)t.push(r);return t}function Rd(n,r,t){let s=$0(n,r);return s>=0?n[1|s]=t:(s=~s,function(n,r,t,s){let o=n.length;if(o==r)n.push(t,s);else if(1===o)n.push(s,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>r;)n[o]=n[o-2],o--;n[r]=t,n[r+1]=s}}(n,s,r,t)),s}function Qx(n,r){const t=$0(n,r);if(t>=0)return n[1|t]}function $0(n,r){return function(n,r,t){let s=0,o=n.length>>t;for(;o!==s;){const c=s+(o-s>>1),f=n[c<<t];if(r===f)return c<<t;f>r?o=c:s=c+1}return~(o<<t)}(n,r,1)}const em={},j0="__NG_DI_FLAG__",_y="ngTempTokenPath",JA=/\n/gm,tD="__source",yy=pi({provide:String,useValue:pi});let mg;function W0(n){const r=mg;return mg=n,r}function H0(n,r=sr.Default){if(void 0===mg)throw new Error("inject() must be called from an injection context");return null===mg?fn(n,void 0,r):mg.get(n,r&sr.Optional?null:void 0,r)}function Xn(n,r=sr.Default){return(Oe||H0)(vr(n),r)}function lp(n){const r=[];for(let t=0;t<n.length;t++){const s=vr(n[t]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let o,c=sr.Default;for(let f=0;f<s.length;f++){const m=s[f],_=YC(m);"number"==typeof _?-1===_?o=m.token:c|=_:o=m}r.push(Xn(o,c))}else r.push(Xn(s))}return r}function U0(n,r){return n[j0]=r,n.prototype[j0]=r,n}function YC(n){return n[j0]}function nD(n,r,t,s){const o=n[_y];throw r[tD]&&o.unshift(r[tD]),n.message=function(n,r,t,s=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let o=Sn(r);if(Array.isArray(r))o=r.map(Sn).join(" -> ");else if("object"==typeof r){let c=[];for(let f in r)if(r.hasOwnProperty(f)){let m=r[f];c.push(f+":"+("string"==typeof m?JSON.stringify(m):Sn(m)))}o=`{${c.join(", ")}}`}return`${t}${s?"("+s+")":""}[${o}]: ${n.replace(JA,"\n  ")}`}("\n"+n.message,o,t,s),n.ngTokenPath=o,n[_y]=null,n}const nv=U0(ai("Inject",n=>({token:n})),-1),_h=U0(ai("Optional"),8),Y0=U0(ai("SkipSelf"),4);let _g;function cp(n){var r;return(null===(r=function(){if(void 0===_g&&(_g=null,ht.trustedTypes))try{_g=ht.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return _g}())||void 0===r?void 0:r.createHTML(n))||n}class yg{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Dc(n){return n instanceof yg?n.changingThisBreaksApplicationSecurity:n}function yh(n,r){const t=function(n){return n instanceof yg&&n.getTypeName()||null}(n);if(null!=t&&t!==r){if("ResourceURL"===t&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===r}class oT{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const t=(new window.DOMParser).parseFromString(cp(r),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(r):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Ef{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const s=this.inertDocument.createElement("body");t.appendChild(s)}}getInertBodyElement(r){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=cp(r),t;const s=this.inertDocument.createElement("body");return s.innerHTML=cp(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(r){const t=r.attributes;for(let o=t.length-1;0<o;o--){const f=t.item(o).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&r.removeAttribute(f)}let s=r.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const K0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fD=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function uv(n){return(n=String(n)).match(K0)||n.match(fD)?n:"unsafe:"+n}function lT(n){return(n=String(n)).split(",").map(r=>uv(r.trim())).join(", ")}function vh(n){const r={};for(const t of n.split(","))r[t]=!0;return r}function Dy(...n){const r={};for(const t of n)for(const s in t)t.hasOwnProperty(s)&&(r[s]=!0);return r}const nE=vh("area,br,col,hr,img,wbr"),oa=vh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rE=vh("rp,rt"),vg=Dy(nE,Dy(oa,vh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dy(rE,vh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dy(rE,oa)),dp=vh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iE=vh("srcset"),hD=Dy(dp,iE,vh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Ra=(()=>((Ra=Ra||{})[Ra.NONE=0]="NONE",Ra[Ra.HTML=1]="HTML",Ra[Ra.STYLE=2]="STYLE",Ra[Ra.SCRIPT=3]="SCRIPT",Ra[Ra.URL=4]="URL",Ra[Ra.RESOURCE_URL=5]="RESOURCE_URL",Ra))();function od(n){const r=function(){const n=In();return n&&n[12]}();return r?r.sanitize(Ra.URL,n)||"":yh(n,"URL")?Dc(n):uv(Pr(n))}const cv="__ngContext__";function nl(n,r){n[cv]=r}function fv(n){const r=function(n){return n[cv]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function bg(n){return n.ngOriginalError}function Ey(n,...r){n.error(...r)}class xg{constructor(){this._console=console}handleError(r){const t=this._findOriginalError(r),s=this._findContext(r),o=function(n){return n&&n.ngErrorLogger||Ey}(r);o(this._console,"ERROR",r),t&&o(this._console,"ORIGINAL ERROR",t),s&&o(this._console,"ERROR CONTEXT",s)}_findContext(r){return r?function(n){return n.ngDebugContext}(r)||this._findContext(bg(r)):null}_findOriginalError(r){let t=r&&bg(r);for(;t&&bg(t);)t=bg(t);return t||null}}const pE=/^>|^->|<!--|-->|--!>|<!-$/g,yT=/(<|>)/;const mE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ht))();function lu(n){return n instanceof Function?n():n}var Bd=(()=>((Bd=Bd||{})[Bd.Important=1]="Important",Bd[Bd.DashCase=2]="DashCase",Bd))();let bE;function vD(n,r){return bE(n,r)}function Dg(n){const r=n[3];return Ui(r)?r[3]:r}function My(n){return xD(n[13])}function xE(n){return xD(n[4])}function xD(n){for(;null!==n&&!Ui(n);)n=n[4];return n}function wg(n,r,t,s,o){if(null!=s){let c,f=!1;Ui(s)?c=s:Rr(s)&&(f=!0,s=s[0]);const m=La(s);0===n&&null!==t?null==o?IE(r,t,m):rm(r,t,m,o||null,!0):1===n&&null!==t?rm(r,t,m,o||null,!0):2===n?lt(r,m,f):3===n&&r.destroyNode(m),null!=c&&function(n,r,t,s,o){const c=t[7];c!==La(t)&&wg(r,n,s,c,o);for(let m=10;m<t.length;m++){const _=t[m];vt(_[1],_,n,r,s,c)}}(r,n,c,t,o)}}function gv(n,r){return Fs(n)?n.createText(r):n.createTextNode(r)}function DD(n,r,t){Fs(n)?n.setValue(r,t):r.textContent=t}function wE(n,r){return n.createComment(function(n){return n.replace(pE,r=>r.replace(yT,"\u200b$1\u200b"))}(r))}function wD(n,r,t){return Fs(n)?n.createElement(r,t):null===t?n.createElement(r):n.createElementNS(t,r)}function q0(n,r){const t=n[9],s=t.indexOf(r),o=r[3];1024&r[2]&&(r[2]&=-1025,uy(o,-1)),t.splice(s,1)}function Sy(n,r){if(n.length<=10)return;const t=10+r,s=n[t];if(s){const o=s[17];null!==o&&o!==n&&q0(o,s),r>0&&(n[t-1][4]=s[4]);const c=B0(n,10+r);!function(n,r){vt(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(s[1],s);const f=c[19];null!==f&&f.detachView(c[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function Ay(n,r){if(!(256&r[2])){const t=r[11];Fs(t)&&t.destroyNode&&vt(n,r,t,3,null,null),function(n){let r=n[13];if(!r)return Cg(n[1],n);for(;r;){let t=null;if(Rr(r))t=r[13];else{const s=r[10];s&&(t=s)}if(!t){for(;r&&!r[4]&&r!==n;)Rr(r)&&Cg(r[1],r),r=r[3];null===r&&(r=n),Rr(r)&&Cg(r[1],r),t=r&&r[4]}r=t}}(r)}}function Cg(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(n,r){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let s=0;s<t.length;s+=2){const o=r[t[s]];if(!(o instanceof sp)){const c=t[s+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const m=o[c[f]],_=c[f+1];try{_.call(m)}finally{}}else try{c.call(o)}finally{}}}}(n,r),function(n,r){const t=n.cleanup,s=r[7];let o=-1;if(null!==t)for(let c=0;c<t.length-1;c+=2)if("string"==typeof t[c]){const f=t[c+1],m="function"==typeof f?f(r):La(r[f]),_=s[o=t[c+2]],x=t[c+3];"boolean"==typeof x?m.removeEventListener(t[c],_,x):x>=0?s[o=x]():s[o=-x].unsubscribe(),c+=2}else{const f=s[o=t[c+1]];t[c].call(f)}if(null!==s){for(let c=o+1;c<s.length;c++)s[c]();r[7]=null}}(n,r),1===r[1].type&&Fs(r[11])&&r[11].destroy();const t=r[17];if(null!==t&&Ui(r[3])){t!==r[3]&&q0(t,r);const s=r[19];null!==s&&s.detachView(n)}}}function TE(n,r,t){return kE(n,r.parent,t)}function kE(n,r,t){let s=r;for(;null!==s&&40&s.type;)s=(r=s).parent;if(null===s)return t[0];if(2&s.flags){const o=n.data[s.directiveStart].encapsulation;if(o===Oi.None||o===Oi.Emulated)return null}return zu(s,t)}function rm(n,r,t,s,o){Fs(n)?n.insertBefore(r,t,s,o):r.insertBefore(t,s,o)}function IE(n,r,t){Fs(n)?n.appendChild(r,t):r.appendChild(t)}function CT(n,r,t,s,o){null!==s?rm(n,r,t,s,o):IE(n,r,t)}function yv(n,r){return Fs(n)?n.parentNode(r):r.parentNode}function q(n,r,t){return Z(n,r,t)}function ae(n,r,t){return 40&n.type?zu(n,t):null}let oe,Z=ae;function me(n,r){Z=n,oe=r}function xe(n,r,t,s){const o=TE(n,s,r),c=r[11],m=q(s.parent||r[6],s,r);if(null!=o)if(Array.isArray(t))for(let _=0;_<t.length;_++)CT(c,o,t[_],m,!1);else CT(c,o,t,m,!1);void 0!==oe&&oe(c,s,r,t,o)}function Me(n,r){if(null!==r){const t=r.type;if(3&t)return zu(r,n);if(4&t)return ut(-1,n[r.index]);if(8&t){const s=r.child;if(null!==s)return Me(n,s);{const o=n[r.index];return Ui(o)?ut(-1,o):La(o)}}if(32&t)return vD(r,n)()||La(n[r.index]);{const s=Ye(n,r);return null!==s?Array.isArray(s)?s[0]:Me(Dg(n[16]),s):Me(n,r.next)}}return null}function Ye(n,r){return null!==r?n[16][6].projection[r.projection]:null}function ut(n,r){const t=10+n+1;if(t<r.length){const s=r[t],o=s[1].firstChild;if(null!==o)return Me(s,o)}return r[7]}function lt(n,r,t){const s=yv(n,r);s&&function(n,r,t,s){Fs(n)?n.removeChild(r,t,s):r.removeChild(t)}(n,s,r,t)}function wt(n,r,t,s,o,c,f){for(;null!=t;){const m=s[t.index],_=t.type;if(f&&0===r&&(m&&nl(La(m),s),t.flags|=4),64!=(64&t.flags))if(8&_)wt(n,r,t.child,s,o,c,!1),wg(r,n,o,m,c);else if(32&_){const x=vD(t,s);let E;for(;E=x();)wg(r,n,o,E,c);wg(r,n,o,m,c)}else 16&_?hn(n,r,s,t,o,c):wg(r,n,o,m,c);t=f?t.projectionNext:t.next}}function vt(n,r,t,s,o,c){wt(t,s,n.firstChild,r,o,c,!1)}function hn(n,r,t,s,o,c){const f=t[16],_=f[6].projection[s.projection];if(Array.isArray(_))for(let x=0;x<_.length;x++)wg(r,n,o,_[x],c);else wt(n,r,_,f[3],o,c,!0)}function $n(n,r,t){Fs(n)?n.setAttribute(r,"style",t):r.style.cssText=t}function Wr(n,r,t){Fs(n)?""===t?n.removeAttribute(r,"class"):n.setAttribute(r,"class",t):r.className=t}function ls(n,r,t){let s=n.length;for(;;){const o=n.indexOf(r,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const c=r.length;if(o+c===s||n.charCodeAt(o+c)<=32)return o}t=o+1}}const _o="ng-template";function Ci(n,r,t){let s=0;for(;s<n.length;){let o=n[s++];if(t&&"class"===o){if(o=n[s],-1!==ls(o.toLowerCase(),r,0))return!0}else if(1===o){for(;s<n.length&&"string"==typeof(o=n[s++]);)if(o.toLowerCase()===r)return!0;return!1}}return!1}function Zs(n){return 4===n.type&&n.value!==_o}function yo(n,r,t){return r===(4!==n.type||t?n.value:_o)}function vo(n,r,t){let s=4;const o=n.attrs||[],c=function(n){for(let r=0;r<n.length;r++)if(es(n[r]))return r;return n.length}(o);let f=!1;for(let m=0;m<r.length;m++){const _=r[m];if("number"!=typeof _){if(!f)if(4&s){if(s=2|1&s,""!==_&&!yo(n,_,t)||""===_&&1===r.length){if(Gi(s))return!1;f=!0}}else{const x=8&s?_:r[++m];if(8&s&&null!==n.attrs){if(!Ci(n.attrs,x,t)){if(Gi(s))return!1;f=!0}continue}const T=la(8&s?"class":_,o,Zs(n),t);if(-1===T){if(Gi(s))return!1;f=!0;continue}if(""!==x){let L;L=T>c?"":o[T+1].toLowerCase();const z=8&s?L:null;if(z&&-1!==ls(z,x,0)||2&s&&x!==L){if(Gi(s))return!1;f=!0}}}}else{if(!f&&!Gi(s)&&!Gi(_))return!1;if(f&&Gi(_))continue;f=!1,s=_|1&s}}return Gi(s)||f}function Gi(n){return 0==(1&n)}function la(n,r,t,s){if(null===r)return-1;let o=0;if(s||!t){let c=!1;for(;o<r.length;){const f=r[o];if(f===n)return o;if(3===f||6===f)c=!0;else{if(1===f||2===f){let m=r[++o];for(;"string"==typeof m;)m=r[++o];continue}if(4===f)break;if(0===f){o+=4;continue}}o+=c?1:2}return-1}return function(n,r){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const s=n[t];if("number"==typeof s)return-1;if(s===r)return t;t++}return-1}(r,n)}function ca(n,r,t=!1){for(let s=0;s<r.length;s++)if(vo(n,r[s],t))return!0;return!1}function e_(n,r){e:for(let t=0;t<r.length;t++){const s=r[t];if(n.length===s.length){for(let o=0;o<n.length;o++)if(n[o]!==s[o])continue e;return!0}}return!1}function Sf(n,r){return n?":not("+r.trim()+")":r}function t_(n){let r=n[0],t=1,s=2,o="",c=!1;for(;t<n.length;){let f=n[t];if("string"==typeof f)if(2&s){const m=n[++t];o+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&s?o+="."+f:4&s&&(o+=" "+f);else""!==o&&!Gi(f)&&(r+=Sf(c,o),o=""),s=f,c=c||!Gi(s);t++}return""!==o&&(r+=Sf(c,o)),r}const Ri={};function Wt(n){lV(Yi(),In(),Au()+n,Ho())}function lV(n,r,t,s){if(!s)if(3==(3&r[2])){const c=n.preOrderCheckHooks;null!==c&&fh(r,c,t)}else{const c=n.preOrderHooks;null!==c&&fg(r,c,0,t)}tl(t)}function LE(n,r){return n<<17|r<<2}function im(n){return n>>17&32767}function ET(n){return 2|n}function sm(n){return(131068&n)>>2}function MT(n,r){return-131069&n|r<<2}function PF(n){return 1|n}function yV(n,r){const t=n.contentQueries;if(null!==t)for(let s=0;s<t.length;s+=2){const o=t[s],c=t[s+1];if(-1!==c){const f=n.data[c];Gp(o),f.contentQueries(2,r[c],c)}}}function BE(n,r,t,s,o,c,f,m,_,x){const E=r.blueprint.slice();return E[0]=o,E[2]=140|s,nd(E),E[3]=E[15]=n,E[8]=t,E[10]=f||n&&n[10],E[11]=m||n&&n[11],E[12]=_||n&&n[12]||null,E[9]=x||n&&n[9]||null,E[6]=c,E[16]=2==r.type?n[16]:E,E}function vv(n,r,t,s,o){let c=n.data[r];if(null===c)c=$E(n,r,t,s,o),qr.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=t,c.value=s,c.attrs=o;const f=ju();c.injectorIndex=null===f?-1:f.injectorIndex}return Su(c,!0),c}function $E(n,r,t,s,o){const c=vf(),f=Ua(),_=n.data[r]=function(n,r,t,s,o,c){return{type:t,index:s,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,t,r,s,o);return null===n.firstChild&&(n.firstChild=_),null!==c&&(f?null==c.child&&null!==_.parent&&(c.child=_):null===c.next&&(c.next=_)),_}function Iy(n,r,t,s){if(0===t)return-1;const o=r.length;for(let c=0;c<t;c++)r.push(s),n.blueprint.push(s),n.data.push(null);return o}function CD(n,r,t){bf(r);try{const s=n.viewQuery;null!==s&&WT(1,s,t);const o=n.template;null!==o&&KF(n,r,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yV(n,r),n.staticViewQueries&&WT(2,n.viewQuery,t);const c=n.components;null!==c&&function(n,r){for(let t=0;t<r.length;t++)IV(n,r[t])}(r,c)}catch(s){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),s}finally{r[2]&=-5,np()}}function Ny(n,r,t,s){const o=r[2];if(256==(256&o))return;bf(r);const c=Ho();try{nd(r),function(n){qr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&KF(n,r,t,2,s);const f=3==(3&o);if(!c)if(f){const x=n.preOrderCheckHooks;null!==x&&fh(r,x,null)}else{const x=n.preOrderHooks;null!==x&&fg(r,x,0,null),Od(r,0)}if(function(n){for(let r=My(n);null!==r;r=xE(r)){if(!r[2])continue;const t=r[9];for(let s=0;s<t.length;s++){const o=t[s],c=o[3];0==(1024&o[2])&&uy(c,1),o[2]|=1024}}}(r),function(n){for(let r=My(n);null!==r;r=xE(r))for(let t=10;t<r.length;t++){const s=r[t],o=s[1];gc(s)&&Ny(o,s,o.template,s[8])}}(r),null!==n.contentQueries&&yV(n,r),!c)if(f){const x=n.contentCheckHooks;null!==x&&fh(r,x)}else{const x=n.contentHooks;null!==x&&fg(r,x,1),Od(r,1)}!function(n,r){const t=n.hostBindingOpCodes;if(null!==t)try{for(let s=0;s<t.length;s++){const o=t[s];if(o<0)tl(~o);else{const c=o,f=t[++s],m=t[++s];k0(f,c),m(2,r[c])}}}finally{tl(-1)}}(n,r);const m=n.components;null!==m&&function(n,r){for(let t=0;t<r.length;t++)kV(n,r[t])}(r,m);const _=n.viewQuery;if(null!==_&&WT(2,_,s),!c)if(f){const x=n.viewCheckHooks;null!==x&&fh(r,x)}else{const x=n.viewHooks;null!==x&&fg(r,x,2),Od(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),c||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,uy(r[3],-1))}finally{np()}}function bV(n,r,t,s){const o=r[10],c=!Ho(),f=T0(r);try{c&&!f&&o.begin&&o.begin(),f&&CD(n,r,s),Ny(n,r,t,s)}finally{c&&!f&&o.end&&o.end()}}function KF(n,r,t,s,o){const c=Au(),f=2&s;try{tl(-1),f&&r.length>20&&lV(n,r,20,Ho()),t(s,o)}finally{tl(c)}}function ZF(n,r,t){!q1()||(function(n,r,t,s){const o=t.directiveStart,c=t.directiveEnd;n.firstCreatePass||up(t,r),nl(s,r);const f=t.initialInputs;for(let m=o;m<c;m++){const _=n.data[m],x=is(_);x&&Mg(r,t,_);const E=Ne(r,n,m,t);nl(E,r),null!==f&&Ly(0,m-o,E,_,0,f),x&&(qu(t.index,r)[8]=E)}}(n,r,t,zu(t,r)),128==(128&t.flags)&&function(n,r,t){const s=t.directiveStart,o=t.directiveEnd,f=t.index,m=qr.lFrame.currentDirectiveIndex;try{tl(f);for(let _=s;_<o;_++){const x=n.data[_],E=r[_];yc(_),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&BT(x,E)}}finally{tl(-1),yc(m)}}(n,r,t))}function bv(n,r,t=zu){const s=r.localNames;if(null!==s){let o=r.index+1;for(let c=0;c<s.length;c+=2){const f=s[c+1],m=-1===f?t(r,n):n[f];n[o++]=m}}}function xV(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=OT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function OT(n,r,t,s,o,c,f,m,_,x){const E=20+s,T=E+o,L=function(n,r){const t=[];for(let s=0;s<r;s++)t.push(s<n?null:Ri);return t}(E,T),z="function"==typeof x?x():x;return L[1]={type:n,blueprint:L,template:t,queries:null,viewQuery:m,declTNode:r,data:L.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:_,consts:z,incompleteFirstPass:!1}}function wV(n,r,t,s){const o=rP(r);null===t?o.push(s):(o.push(t),n.firstCreatePass&&iP(n).push(s,o.length-1))}function CV(n,r,t){for(let s in n)if(n.hasOwnProperty(s)){const o=n[s];(t=null===t?{}:t).hasOwnProperty(s)?t[s].push(r,o):t[s]=[r,o]}return t}function bh(n,r,t,s,o,c,f,m){const _=zu(r,t);let E,x=r.inputs;!m&&null!=x&&(E=x[s])?(sP(n,t,E,s,o),Vu(r)&&function(n,r){const t=qu(r,n);16&t[2]||(t[2]|=64)}(t,r.index)):3&r.type&&(s=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(s),o=null!=f?f(o,r.value||"",s):o,Fs(c)?c.setProperty(_,s,o):Tu(s)||(_.setProperty?_.setProperty(s,o):_[s]=o))}function ED(n,r,t,s){let o=!1;if(q1()){const c=function(n,r,t){const s=n.directiveRegistry;let o=null;if(s)for(let c=0;c<s.length;c++){const f=s[c];ca(t,f.selectors,!1)&&(o||(o=[]),D(up(t,r),n,f.type),is(f)?(qF(n,t),o.unshift(f)):o.push(f))}return o}(n,r,t),f=null===s?null:{"":-1};if(null!==c){o=!0,SV(t,n.data.length,c.length);for(let E=0;E<c.length;E++){const T=c[E];T.providersResolver&&T.providersResolver(T)}let m=!1,_=!1,x=Iy(n,r,c.length,null);for(let E=0;E<c.length;E++){const T=c[E];t.mergedAttrs=ku(t.mergedAttrs,T.hostAttrs),$T(n,t,r,x,T),xv(x,T,f),null!==T.contentQueries&&(t.flags|=8),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(t.flags|=128);const L=T.type.prototype;!m&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),m=!0),!_&&(L.ngOnChanges||L.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),_=!0),x++}!function(n,r){const s=r.directiveEnd,o=n.data,c=r.attrs,f=[];let m=null,_=null;for(let x=r.directiveStart;x<s;x++){const E=o[x],T=E.inputs,L=null===c||Zs(r)?null:VT(T,c);f.push(L),m=CV(T,x,m),_=CV(E.outputs,x,_)}null!==m&&(m.hasOwnProperty("class")&&(r.flags|=16),m.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=f,r.inputs=m,r.outputs=_}(n,t)}f&&function(n,r,t){if(r){const s=n.localNames=[];for(let o=0;o<r.length;o+=2){const c=t[r[o+1]];if(null==c)throw new rs("301",`Export of name '${r[o+1]}' not found!`);s.push(r[o],c)}}}(t,s,f)}return t.mergedAttrs=ku(t.mergedAttrs,t.attrs),o}function RT(n,r,t,s,o,c){const f=c.hostBindings;if(f){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const _=~r.index;(function(n){let r=n.length;for(;r>0;){const t=n[--r];if("number"==typeof t&&t<0)return t}return 0})(m)!=_&&m.push(_),m.push(s,o,f)}}function BT(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function qF(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function xv(n,r,t){if(t){if(r.exportAs)for(let s=0;s<r.exportAs.length;s++)t[r.exportAs[s]]=n;is(r)&&(t[""]=n)}}function SV(n,r,t){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+t,n.providerIndexes=r}function $T(n,r,t,s,o){n.data[s]=o;const c=o.factory||(o.factory=Id(o.type)),f=new sp(c,is(o),null);n.blueprint[s]=f,t[s]=f,RT(n,r,0,s,Iy(n,t,o.hostVars,Ri),o)}function Mg(n,r,t){const s=zu(r,n),o=xV(t),c=n[10],f=VE(n,BE(n,o,null,t.onPush?64:16,s,r,c,c.createRenderer(s,t),null,null));n[r.index]=f}function Kl(n,r,t,s,o,c,f){if(null==c)Fs(n)?n.removeAttribute(r,o,t):r.removeAttribute(o);else{const m=null==f?Pr(c):f(c,s||"",o);Fs(n)?n.setAttribute(r,o,m,t):t?r.setAttributeNS(t,o,m):r.setAttribute(o,m)}}function Ly(n,r,t,s,o,c){const f=c[r];if(null!==f){const m=s.setInput;for(let _=0;_<f.length;){const x=f[_++],E=f[_++],T=f[_++];null!==m?s.setInput(t,T,x,E):t[E]=T}}}function VT(n,r){let t=null,s=0;for(;s<r.length;){const o=r[s];if(0!==o)if(5!==o){if("number"==typeof o)break;n.hasOwnProperty(o)&&(null===t&&(t=[]),t.push(o,n[o],r[s+1])),s+=2}else s+=2;else s+=4}return t}function AV(n,r,t,s){return new Array(n,!0,!1,r,null,0,s,t,null,null)}function kV(n,r){const t=qu(r,n);if(gc(t)){const s=t[1];80&t[2]?Ny(s,t,s.template,t[8]):t[5]>0&&tP(t)}}function tP(n){for(let s=My(n);null!==s;s=xE(s))for(let o=10;o<s.length;o++){const c=s[o];if(1024&c[2]){const f=c[1];Ny(f,c,f.template,c[8])}else c[5]>0&&tP(c)}const t=n[1].components;if(null!==t)for(let s=0;s<t.length;s++){const o=qu(t[s],n);gc(o)&&o[5]>0&&tP(o)}}function IV(n,r){const t=qu(r,n),s=t[1];(function(n,r){for(let t=r.length;t<n.blueprint.length;t++)r.push(n.blueprint[t])})(s,t),CD(s,t,t[8])}function VE(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function nP(n){for(;n;){n[2]|=64;const r=Dg(n);if(Qr(n)&&!r)return n;n=r}return null}function jT(n,r,t){const s=r[10];s.begin&&s.begin();try{Ny(n,r,n.template,t)}catch(o){throw BV(r,o),o}finally{s.end&&s.end()}}function OV(n){!function(n){for(let r=0;r<n.components.length;r++){const t=n.components[r],s=fv(t),o=s[1];bV(o,s,o.template,t)}}(n[8])}function WT(n,r,t){Gp(0),r(n,t)}const HT=(()=>Promise.resolve(null))();function rP(n){return n[7]||(n[7]=[])}function iP(n){return n.cleanup||(n.cleanup=[])}function BV(n,r){const t=n[9],s=t?t.get(xg,null):null;s&&s.handleError(r)}function sP(n,r,t,s,o){for(let c=0;c<t.length;){const f=t[c++],m=t[c++],_=r[f],x=n.data[f];null!==x.setInput?x.setInput(_,o,s,m):_[m]=o}}function UT(n,r,t){let s=t?n.styles:null,o=t?n.classes:null,c=0;if(null!==r)for(let f=0;f<r.length;f++){const m=r[f];"number"==typeof m?c=m:1==c?o=$e(o,m):2==c&&(s=$e(s,m+": "+r[++f]+";"))}t?n.styles=s:n.stylesWithoutHost=s,t?n.classes=o:n.classesWithoutHost=o}const Fy=new Xr("INJECTOR",-1);class GT{get(r,t=em){if(t===em){const s=new Error(`NullInjectorError: No provider for ${Sn(r)}!`);throw s.name="NullInjectorError",s}return t}}const Dv=new Xr("Set Injector scope."),om={},uQ={};let jE;function aP(){return void 0===jE&&(jE=new GT),jE}function _a(n,r=null,t=null,s){return new lQ(n,t,r||aP(),s)}class lQ{constructor(r,t,s,o=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];t&&mh(t,m=>this.processProvider(m,r,t)),mh([r],m=>this.processInjectorType(m,[],c)),this.records.set(Fy,SD(void 0,this));const f=this.records.get(Dv);this.scope=null!=f?f.value:null,this.source=o||("object"==typeof r?null:Sn(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,t=em,s=sr.Default){this.assertNotDestroyed();const o=W0(this),c=Ft(void 0);try{if(!(s&sr.SkipSelf)){let m=this.records.get(r);if(void 0===m){const _=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xr}(r)&&Dn(r);m=_&&this.injectableDefInScope(_)?SD(oP(r),om):null,this.records.set(r,m)}if(null!=m)return this.hydrate(r,m)}return(s&sr.Self?aP():this.parent).get(r,t=s&sr.Optional&&t===em?null:t)}catch(f){if("NullInjectorError"===f.name){if((f[_y]=f[_y]||[]).unshift(Sn(r)),o)throw f;return nD(f,r,"R3InjectorError",this.source)}throw f}finally{Ft(c),W0(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((s,o)=>r.push(Sn(o))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,t,s){if(!(r=vr(r)))return!1;let o=zn(r);const c=null==o&&r.ngModule||void 0,f=void 0===c?r:c,m=-1!==s.indexOf(f);if(void 0!==c&&(o=zn(c)),null==o)return!1;if(null!=o.imports&&!m){let E;s.push(f);try{mh(o.imports,T=>{this.processInjectorType(T,t,s)&&(void 0===E&&(E=[]),E.push(T))})}finally{}if(void 0!==E)for(let T=0;T<E.length;T++){const{ngModule:L,providers:z}=E[T];mh(z,X=>this.processProvider(X,L,z||Di))}}this.injectorDefTypes.add(f);const _=Id(f)||(()=>new f);this.records.set(f,SD(_,om));const x=o.providers;if(null!=x&&!m){const E=r;mh(x,T=>this.processProvider(T,E,x))}return void 0!==c&&void 0!==r.providers}processProvider(r,t,s){let o=wv(r=vr(r))?r:vr(r&&r.provide);const c=function(n,r,t){return WE(n)?SD(void 0,n.useValue):SD($V(n),om)}(r);if(wv(r)||!0!==r.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=SD(void 0,om,!0),f.factory=()=>lp(f.multi),this.records.set(o,f)),o=r,f.multi.push(r)}this.records.set(o,c)}hydrate(r,t){return t.value===om&&(t.value=uQ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(r){if(!r.providedIn)return!1;const t=vr(r.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function oP(n){const r=Dn(n),t=null!==r?r.factory:Id(n);if(null!==t)return t;if(n instanceof Xr)throw new Error(`Token ${Sn(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const r=n.length;if(r>0){const s=pg(r,"?");throw new Error(`Can't resolve all parameters for ${Sn(n)}: (${s.join(", ")}).`)}const t=function(n){const r=n&&(n[dr]||n[qt]);if(r){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),r}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function $V(n,r,t){let s;if(wv(n)){const o=vr(n);return Id(o)||oP(o)}if(WE(n))s=()=>vr(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))s=()=>n.useFactory(...lp(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))s=()=>Xn(vr(n.useExisting));else{const o=vr(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Id(o)||oP(o);s=()=>new o(...lp(n.deps))}return s}function SD(n,r,t=!1){return{factory:n,value:r,multi:t?[]:void 0}}function WE(n){return null!==n&&"object"==typeof n&&yy in n}function wv(n){return"function"==typeof n}const uP=function(n,r,t){return function(n,r=null,t=null,s){const o=_a(n,r,t,s);return o._resolveInjectorDefTypes(),o}({name:t},r,n,t)};let ya=(()=>{class n{static create(t,s){return Array.isArray(t)?uP(t,s,""):uP(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=em,n.NULL=new GT,n.\u0275prov=Xe({token:n,providedIn:"any",factory:()=>Xn(Fy)}),n.__NG_ELEMENT_ID__=-1,n})();function yQ(n,r){ip(fv(n)[1],To())}function bo(n){let r=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const s=[n];for(;r;){let o;if(is(n))o=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");o=r.\u0275dir}if(o){if(t){s.push(o);const f=n;f.inputs=Tv(n.inputs),f.declaredInputs=Tv(n.declaredInputs),f.outputs=Tv(n.outputs);const m=o.hostBindings;m&&gP(n,m);const _=o.viewQuery,x=o.contentQueries;if(_&&QV(n,_),x&&qT(n,x),wu(n.inputs,o.inputs),wu(n.declaredInputs,o.declaredInputs),wu(n.outputs,o.outputs),is(o)&&o.data.animation){const E=n.data;E.animation=(E.animation||[]).concat(o.data.animation)}}const c=o.features;if(c)for(let f=0;f<c.length;f++){const m=c[f];m&&m.ngInherit&&m(n),m===bo&&(t=!1)}}r=Object.getPrototypeOf(r)}!function(n){let r=0,t=null;for(let s=n.length-1;s>=0;s--){const o=n[s];o.hostVars=r+=o.hostVars,o.hostAttrs=ku(o.hostAttrs,t=ku(t,o.hostAttrs))}}(s)}function Tv(n){return n===su?{}:n===Di?[]:n}function QV(n,r){const t=n.viewQuery;n.viewQuery=t?(s,o)=>{r(s,o),t(s,o)}:r}function qT(n,r){const t=n.contentQueries;n.contentQueries=t?(s,o,c)=>{r(s,o,c),t(s,o,c)}:r}function gP(n,r){const t=n.hostBindings;n.hostBindings=t?(s,o)=>{r(s,o),t(s,o)}:r}let GE=null;function Ry(){if(!GE){const n=ht.Symbol;if(n&&n.iterator)GE=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<r.length;++t){const s=r[t];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(GE=s)}}}return GE}class fp{constructor(r){this.wrapped=r}static wrap(r){return new fp(r)}static unwrap(r){return fp.isWrapped(r)?r.wrapped:r}static isWrapped(r){return r instanceof fp}}function By(n){return!!ek(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ry()in n)}function ek(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wl(n,r,t){return!Object.is(n[r],t)&&(n[r]=t,!0)}function $y(n,r,t,s){const o=wl(n,r,t);return wl(n,r+1,s)||o}function Js(n,r,t,s){const o=In();return wl(o,uu(),r)&&(Yi(),function(n,r,t,s,o,c){const f=zu(n,r);Kl(r[11],f,c,n.value,t,s,o)}(Ps(),o,n,r,t,s)),Js}function Vy(n,r,t,s){return wl(n,uu(),t)?r+Pr(t)+s:Ri}function kD(n,r,t,s,o,c,f,m,_,x){const T=function(n,r,t,s,o,c){const f=$y(n,r,t,s);return $y(n,r+2,o,c)||f}(n,Fa(),t,o,f,_);return ko(4),T?r+Pr(t)+s+Pr(o)+c+Pr(f)+m+Pr(_)+x:Ri}function Nn(n,r,t,s,o,c,f,m){const _=In(),x=Yi(),E=n+20,T=x.firstCreatePass?function(n,r,t,s,o,c,f,m,_){const x=r.consts,E=vv(r,n,4,f||null,_c(x,m));ED(r,t,E,_c(x,_)),ip(r,E);const T=E.tViews=OT(2,E,s,o,c,r.directiveRegistry,r.pipeRegistry,null,r.schemas,x);return null!==r.queries&&(r.queries.template(r,E),T.queries=r.queries.embeddedTView(E)),E}(E,x,_,r,t,s,o,c,f):x.data[E];Su(T,!1);const L=_[11].createComment("");xe(x,_,L,T),nl(L,_),VE(_,_[E]=AV(L,_,L,T)),ws(T)&&ZF(x,_,T),null!=f&&bv(_,T,m)}function xt(n,r=sr.Default){const t=In();return null===t?Xn(n,r):ee(To(),t,vr(n),r)}function Xt(n,r,t){const s=In();return wl(s,uu(),r)&&bh(Yi(),Ps(),s,n,r,s[11],t,!1),Xt}function qE(n,r,t,s,o){const f=o?"class":"style";sP(n,t,r.inputs[f],f,s)}function _t(n,r,t,s){const o=In(),c=Yi(),f=20+n,m=o[11],_=o[f]=wD(m,r,qr.lFrame.currentNamespace),x=c.firstCreatePass?function(n,r,t,s,o,c,f){const m=r.consts,x=vv(r,n,2,o,_c(m,c));return ED(r,t,x,_c(m,f)),null!==x.attrs&&UT(x,x.attrs,!1),null!==x.mergedAttrs&&UT(x,x.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,x),x}(f,c,o,0,r,t,s):c.data[f];Su(x,!0);const E=x.mergedAttrs;null!==E&&op(m,_,E);const T=x.classes;null!==T&&Wr(m,_,T);const L=x.styles;null!==L&&$n(m,_,L),64!=(64&x.flags)&&xe(c,o,_,x),0===qr.lFrame.elementDepthCount&&nl(_,o),qr.lFrame.elementDepthCount++,ws(x)&&(ZF(c,o,x),function(n,r,t){if(tr(r)){const o=r.directiveEnd;for(let c=r.directiveStart;c<o;c++){const f=n.data[c];f.contentQueries&&f.contentQueries(1,t[c],c)}}}(c,x,o)),null!==s&&bv(o,x)}function yt(){let n=To();Ua()?go():(n=n.parent,Su(n,!1));const r=n;qr.lFrame.elementDepthCount--;const t=Yi();t.firstCreatePass&&(ip(t,n),tr(n)&&t.queries.elementEnd(n)),null!=r.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(r)&&qE(t,r,In(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(r)&&qE(t,r,In(),r.stylesWithoutHost,!1)}function da(n,r,t,s){_t(n,r,t,s),yt()}function gs(){return In()}function ck(n){return!!n&&"function"==typeof n.then}const dk=function(n){return!!n&&"function"==typeof n.subscribe};function hr(n,r,t,s){const o=In(),c=Yi(),f=To();return function(n,r,t,s,o,c,f,m){const _=ws(s),E=n.firstCreatePass&&iP(n),T=r[8],L=rP(r);let z=!0;if(3&s.type||m){const ne=zu(s,r),pe=m?m(ne):ne,fe=L.length,ke=m?Ee=>m(La(Ee[s.index])):s.index;if(Fs(t)){let Ee=null;if(!m&&_&&(Ee=function(n,r,t,s){const o=n.cleanup;if(null!=o)for(let c=0;c<o.length-1;c+=2){const f=o[c];if(f===t&&o[c+1]===s){const m=r[7],_=o[c+2];return m.length>_?m[_]:null}"string"==typeof f&&(c+=2)}return null}(n,r,o,s.index)),null!==Ee)(Ee.__ngLastListenerFn__||Ee).__ngNextListenerFn__=c,Ee.__ngLastListenerFn__=c,z=!1;else{c=LP(s,r,T,c,!1);const He=t.listen(pe,o,c);L.push(c,He),E&&E.push(o,ke,fe,fe+1)}}else c=LP(s,r,T,c,!0),pe.addEventListener(o,c,f),L.push(c),E&&E.push(o,ke,fe,f)}else c=LP(s,r,T,c,!1);const X=s.outputs;let Q;if(z&&null!==X&&(Q=X[o])){const ne=Q.length;if(ne)for(let pe=0;pe<ne;pe+=2){const at=r[Q[pe]][Q[pe+1]].subscribe(c),it=L.length;L.push(c,at),E&&E.push(o,s.index,it,-(it+1))}}}(c,o,o[11],f,n,r,!!t,s),hr}function mz(n,r,t,s){try{return!1!==t(s)}catch(o){return BV(n,o),!1}}function LP(n,r,t,s,o){return function c(f){if(f===Function)return s;const m=2&n.flags?qu(n.index,r):r;0==(32&r[2])&&nP(m);let _=mz(r,0,s,f),x=c.__ngNextListenerFn__;for(;x;)_=mz(r,0,x,f)&&_,x=x.__ngNextListenerFn__;return o&&!1===_&&(f.preventDefault(),f.returnValue=!1),_}}function gn(n=1){return function(n){return(qr.lFrame.contextLView=function(n,r){for(;n>0;)r=r[15],n--;return r}(n,qr.lFrame.contextLView))[8]}(n)}function gz(n,r){let t=null;const s=function(n){const r=n.attrs;if(null!=r){const t=r.indexOf(5);if(0==(1&t))return r[t+1]}return null}(n);for(let o=0;o<r.length;o++){const c=r[o];if("*"!==c){if(null===s?ca(n,c,!0):e_(s,c))return o}else t=o}return t}function Fv(n){const r=In()[16][6];if(!r.projection){const s=r.projection=pg(n?n.length:1,null),o=s.slice();let c=r.child;for(;null!==c;){const f=n?gz(c,n):0;null!==f&&(o[f]?o[f].projectionNext=c:s[f]=c,o[f]=c),c=c.next}}}function Pv(n,r=0,t){const s=In(),o=Yi(),c=vv(o,20+n,16,null,t||null);null===c.projection&&(c.projection=r),go(),64!=(64&c.flags)&&function(n,r,t){hn(r[11],0,r,t,TE(n,t,r),q(t.parent||r[6],t,r))}(o,s,c)}function Rv(n,r,t){return tM(n,"",r,"",t),Rv}function tM(n,r,t,s,o){const c=In(),f=Vy(c,r,t,s);return f!==Ri&&bh(Yi(),Ps(),c,n,f,c[11],o,!1),tM}function pp(n,r,t,s,o){const c=n[t+1],f=null===r;let m=s?im(c):sm(c),_=!1;for(;0!==m&&(!1===_||f);){const E=n[m+1];VP(n[m],r)&&(_=!0,n[m+1]=s?PF(E):ET(E)),m=s?im(E):sm(E)}_&&(n[t+1]=s?ET(c):PF(c))}function VP(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&$0(n,r)>=0}const Uu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hk(n){return n.substring(Uu.key,Uu.keyEnd)}function RQ(n,r){const t=Uu.textEnd;return t===r?-1:(r=Uu.keyEnd=function(n,r,t){for(;r<t&&n.charCodeAt(r)>32;)r++;return r}(n,Uu.key=r,t),ND(n,r,t))}function ND(n,r,t){for(;r<t&&n.charCodeAt(r)<=32;)r++;return r}function i_(n,r,t){return wh(n,r,t,!1),i_}function Ti(n,r){return wh(n,r,null,!0),Ti}function mp(n){Ec(Rd,Ng,n,!0)}function Ng(n,r){for(let t=function(n){return function(n){Uu.key=0,Uu.keyEnd=0,Uu.value=0,Uu.valueEnd=0,Uu.textEnd=n.length}(n),RQ(n,ND(n,0,Uu.textEnd))}(r);t>=0;t=RQ(r,t))Rd(n,hk(r),!0)}function wh(n,r,t,s){const o=In(),c=Yi(),f=ko(2);c.firstUpdatePass&&Cz(c,n,f,s),r!==Ri&&wl(o,f,r)&&Hy(c,c.data[Au()],o,o[11],n,o[f+1]=function(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Sn(Dc(n)))),n}(r,t),s,f)}function Ec(n,r,t,s){const o=Yi(),c=ko(2);o.firstUpdatePass&&Cz(o,null,c,s);const f=In();if(t!==Ri&&wl(f,c,t)){const m=o.data[Au()];if($v(m,s)&&!WP(o,c)){let _=s?m.classesWithoutHost:m.stylesWithoutHost;null!==_&&(t=$e(_,t||"")),qE(o,m,f,t,s)}else!function(n,r,t,s,o,c,f,m){o===Ri&&(o=Di);let _=0,x=0,E=0<o.length?o[0]:null,T=0<c.length?c[0]:null;for(;null!==E||null!==T;){const L=_<o.length?o[_+1]:void 0,z=x<c.length?c[x+1]:void 0;let Q,X=null;E===T?(_+=2,x+=2,L!==z&&(X=T,Q=z)):null===T||null!==E&&E<T?(_+=2,X=E):(x+=2,X=T,Q=z),null!==X&&Hy(n,r,t,s,X,Q,f,m),E=_<o.length?o[_]:null,T=x<c.length?c[x]:null}}(o,m,f,f[11],f[c+1],f[c+1]=function(n,r,t){if(null==t||""===t)return Di;const s=[],o=Dc(t);if(Array.isArray(o))for(let c=0;c<o.length;c++)n(s,o[c],!0);else if("object"==typeof o)for(const c in o)o.hasOwnProperty(c)&&n(s,c,o[c]);else"string"==typeof o&&r(s,o);return s}(n,r,t),s,c)}}function WP(n,r){return r>=n.expandoStartIndex}function Cz(n,r,t,s){const o=n.data;if(null===o[t+1]){const c=o[Au()],f=WP(n,t);$v(c,s)&&null===r&&!f&&(r=!1),r=function(n,r,t,s){const o=function(n){const r=qr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let c=s?r.residualClasses:r.residualStyles;if(null===o)0===(s?r.classBindings:r.styleBindings)&&(t=Ch(t=Wy(null,n,r,t,s),r.attrs,s),c=null);else{const f=r.directiveStylingLast;if(-1===f||n[f]!==o)if(t=Wy(o,n,r,t,s),null===c){let _=function(n,r,t){const s=t?r.classBindings:r.styleBindings;if(0!==sm(s))return n[im(s)]}(n,r,s);void 0!==_&&Array.isArray(_)&&(_=Wy(null,n,r,_[1],s),_=Ch(_,r.attrs,s),function(n,r,t,s){n[im(t?r.classBindings:r.styleBindings)]=s}(n,r,s,_))}else c=function(n,r,t){let s;const o=r.directiveEnd;for(let c=1+r.directiveStylingLast;c<o;c++)s=Ch(s,n[c].hostAttrs,t);return Ch(s,r.attrs,t)}(n,r,s)}return void 0!==c&&(s?r.residualClasses=c:r.residualStyles=c),t}(o,c,r,s),function(n,r,t,s,o,c){let f=c?r.classBindings:r.styleBindings,m=im(f),_=sm(f);n[s]=t;let E,x=!1;if(Array.isArray(t)){const T=t;E=T[1],(null===E||$0(T,E)>0)&&(x=!0)}else E=t;if(o)if(0!==_){const L=im(n[m+1]);n[s+1]=LE(L,m),0!==L&&(n[L+1]=MT(n[L+1],s)),n[m+1]=function(n,r){return 131071&n|r<<17}(n[m+1],s)}else n[s+1]=LE(m,0),0!==m&&(n[m+1]=MT(n[m+1],s)),m=s;else n[s+1]=LE(_,0),0===m?m=s:n[_+1]=MT(n[_+1],s),_=s;x&&(n[s+1]=ET(n[s+1])),pp(n,E,s,!0),pp(n,E,s,!1),function(n,r,t,s,o){const c=o?n.residualClasses:n.residualStyles;null!=c&&"string"==typeof r&&$0(c,r)>=0&&(t[s+1]=PF(t[s+1]))}(r,E,n,s,c),f=LE(m,_),c?r.classBindings=f:r.styleBindings=f}(o,c,r,t,f,s)}}function Wy(n,r,t,s,o){let c=null;const f=t.directiveEnd;let m=t.directiveStylingLast;for(-1===m?m=t.directiveStart:m++;m<f&&(c=r[m],s=Ch(s,c.hostAttrs,o),c!==n);)m++;return null!==n&&(t.directiveStylingLast=m),s}function Ch(n,r,t){const s=t?1:2;let o=-1;if(null!==r)for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?o=f:o===s&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rd(n,f,!!t||r[++c]))}return void 0===n?null:n}function Hy(n,r,t,s,o,c,f,m){if(!(3&r.type))return;const _=n.data,x=_[m+1];Eh(function(n){return 1==(1&n)}(x)?Uy(_,r,t,o,sm(x),f):void 0)||(Eh(c)||function(n){return 2==(2&n)}(x)&&(c=Uy(_,null,t,o,m,f)),function(n,r,t,s,o){const c=Fs(n);if(r)o?c?n.addClass(t,s):t.classList.add(s):c?n.removeClass(t,s):t.classList.remove(s);else{let f=-1===s.indexOf("-")?void 0:Bd.DashCase;if(null==o)c?n.removeStyle(t,s,f):t.style.removeProperty(s);else{const m="string"==typeof o&&o.endsWith("!important");m&&(o=o.slice(0,-10),f|=Bd.Important),c?n.setStyle(t,s,o,f):t.style.setProperty(s,o,m?"important":"")}}}(s,f,Up(Au(),t),o,c))}function Uy(n,r,t,s,o,c){const f=null===r;let m;for(;o>0;){const _=n[o],x=Array.isArray(_),E=x?_[1]:_,T=null===E;let L=t[o+1];L===Ri&&(L=T?Di:void 0);let z=T?Qx(L,s):E===s?L:void 0;if(x&&!Eh(z)&&(z=Qx(_,s)),Eh(z)&&(m=z,f))return m;const X=n[o+1];o=f?im(X):sm(X)}if(null!==r){let _=c?r.residualClasses:r.residualStyles;null!=_&&(m=Qx(_,s))}return m}function Eh(n){return void 0!==n}function $v(n,r){return 0!=(n.flags&(r?16:32))}function qn(n,r=""){const t=In(),s=Yi(),o=n+20,c=s.firstCreatePass?vv(s,o,1,r,null):s.data[o],f=t[o]=gv(t[11],r);xe(s,t,f,c),Su(c,!1)}function Xl(n){return Xa("",n,""),Xl}function Xa(n,r,t){const s=In(),o=Vy(s,n,r,t);return o!==Ri&&function(n,r,t){const s=Up(r,n);DD(n[11],s,t)}(s,Au(),o),Xa}const zv=void 0;var Iz=["en",[["a","p"],["AM","PM"],zv],[["AM","PM"],zv,zv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zv,"{1} 'at' {0}",zv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const r=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===t?1:5}];let jv={};function Mc(n){const r=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Oz(r);if(t)return t;const s=r.split("-")[0];if(t=Oz(s),t)return t;if("en"===s)return Iz;throw new Error(`Missing locale data for the locale "${n}".`)}function Nz(n){return Mc(n)[Er.PluralCase]}function Oz(n){return n in jv||(jv[n]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[n]),jv[n]}var Er=(()=>((Er=Er||{})[Er.LocaleId=0]="LocaleId",Er[Er.DayPeriodsFormat=1]="DayPeriodsFormat",Er[Er.DayPeriodsStandalone=2]="DayPeriodsStandalone",Er[Er.DaysFormat=3]="DaysFormat",Er[Er.DaysStandalone=4]="DaysStandalone",Er[Er.MonthsFormat=5]="MonthsFormat",Er[Er.MonthsStandalone=6]="MonthsStandalone",Er[Er.Eras=7]="Eras",Er[Er.FirstDayOfWeek=8]="FirstDayOfWeek",Er[Er.WeekendRange=9]="WeekendRange",Er[Er.DateFormat=10]="DateFormat",Er[Er.TimeFormat=11]="TimeFormat",Er[Er.DateTimeFormat=12]="DateTimeFormat",Er[Er.NumberSymbols=13]="NumberSymbols",Er[Er.NumberFormats=14]="NumberFormats",Er[Er.CurrencyCode=15]="CurrencyCode",Er[Er.CurrencySymbol=16]="CurrencySymbol",Er[Er.CurrencyName=17]="CurrencyName",Er[Er.Currencies=18]="Currencies",Er[Er.Directionality=19]="Directionality",Er[Er.PluralCase=20]="PluralCase",Er[Er.ExtraData=21]="ExtraData",Er))();const nR=["zero","one","two","few","many"],BD="en-US",sM={marker:"element"},$D={marker:"ICU"};var du=(()=>((du=du||{})[du.SHIFT=2]="SHIFT",du[du.APPEND_EAGERLY=1]="APPEND_EAGERLY",du[du.COMMENT=2]="COMMENT",du))();let Pz=BD;function rR(n){(function(n,r){null==n&&Wi(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Pz=n.toLowerCase().replace(/_/g,"-"))}function Rz(n,r,t){const s=r.insertBeforeIndex,o=Array.isArray(s)?s[0]:s;return null===o?ae(n,0,t):La(t[o])}function iR(n,r,t,s,o){const c=r.insertBeforeIndex;if(Array.isArray(c)){let f=s,m=null;if(3&r.type||(m=f,f=o),null!==f&&0==(2&r.flags))for(let _=1;_<c.length;_++)rm(n,f,t[c[_]],m,!1)}}function Bz(n,r){if(n.push(r),n.length>1)for(let t=n.length-2;t>=0;t--){const s=n[t];sR(s)||tq(s,r)&&null===nq(s)&&$z(s,r.index)}}function sR(n){return!(64&n.type)}function tq(n,r){return sR(r)||n.index>r.index}function nq(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function $z(n,r){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=r:(me(Rz,iR),n.insertBeforeIndex=r)}function aM(n,r){const t=n.data[r];return null===t||"string"==typeof t?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function zz(n,r,t){const s=$E(n,t,64,null,null);return Bz(r,s),s}function xk(n,r){const t=r[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}function oM(n){return n>>>17}function Dk(n){return(131070&n)>>>1}let VD=0,zD=0;function Wv(n,r,t,s){const o=t[11];let f,c=null;for(let m=0;m<r.length;m++){const _=r[m];if("string"==typeof _){const x=r[++m];null===t[x]&&(t[x]=gv(o,_))}else if("number"==typeof _)switch(1&_){case 0:const x=oM(_);let E,T;if(null===c&&(c=x,f=yv(o,s)),x===c?(E=s,T=f):(E=null,T=La(t[x])),null!==T){const Q=Dk(_);rm(o,T,t[Q],E,!1);const pe=aM(n,Q);if(null!==pe&&"object"==typeof pe){const fe=xk(pe,t);null!==fe&&Wv(n,pe.create[fe],t,t[pe.anchorIdx])}}break;case 1:const z=r[++m],X=r[++m];Kl(o,Up(_>>>1,t),null,null,z,X,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${_}"`)}else switch(_){case $D:const x=r[++m],E=r[++m];null===t[E]&&nl(t[E]=wE(o,x),t);break;case sM:const T=r[++m],L=r[++m];null===t[L]&&nl(t[L]=wD(o,T,null),t)}}}function s_(n,r,t,s,o){for(let c=0;c<t.length;c++){const f=t[c],m=t[++c];if(f&o){let _="";for(let x=c+1;x<=c+m;x++){const E=t[x];if("string"==typeof E)_+=E;else if("number"==typeof E)if(E<0)_+=Pr(r[s-E]);else{const T=E>>>2;switch(3&E){case 1:const L=t[++x],z=t[++x],X=n.data[T];"string"==typeof X?Kl(r[11],r[T],null,X,L,_,z):bh(n,X,r,L,_,r[11],z,!1);break;case 0:const Q=r[T];null!==Q&&DD(r[11],Q,_);break;case 2:Hv(n,aM(n,T),r,_);break;case 3:jz(n,aM(n,T),s,r)}}}}else{const _=t[c+1];if(_>0&&3==(3&_)){const E=aM(n,_>>>2);r[E.currentCaseLViewIndex]<0&&jz(n,E,s,r)}}c+=m}}function jz(n,r,t,s){let o=s[r.currentCaseLViewIndex];if(null!==o){let c=VD;o<0&&(o=s[r.currentCaseLViewIndex]=~o,c=-1),s_(n,s,r.update[o],t,c)}}function Hv(n,r,t,s){const o=function(n,r){let t=n.cases.indexOf(r);if(-1===t)switch(n.type){case 1:{const s=function(n,r){const t=Nz(r)(parseInt(n,10)),s=nR[t];return void 0!==s?s:"other"}(r,Pz);t=n.cases.indexOf(s),-1===t&&"other"!==s&&(t=n.cases.indexOf("other"));break}case 0:t=n.cases.indexOf("other")}return-1===t?null:t}(r,s);if(xk(r,t)!==o&&(dm(n,r,t),t[r.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const f=t[r.anchorIdx];f&&Wv(n,r.create[o],t,f)}}function dm(n,r,t){let s=xk(r,t);if(null!==s){const o=r.remove[s];for(let c=0;c<o.length;c++){const f=o[c];if(f>0){const m=Up(f,t);null!==m&&lt(t[11],m)}else dm(n,aM(n,~f),t)}}}function uR(){const n=[];let t,s,r=-1;function c(m,_){r=0;const x=xk(m,_);s=null!==x?m.remove[x]:Di}function f(){if(r<s.length){const m=s[r++];return m>0?t[m]:(n.push(r,s),c(t[1].data[~m],t),f())}return 0===n.length?null:(s=n.pop(),r=n.pop(),f())}return function(m,_){for(t=_;n.length;)n.pop();return c(m.value,_),f}}const wk=/\ufffd(\d+):?\d*\ufffd/gi,Hz=/\ufffd(\d+)\ufffd/,lR=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Uz=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,aq=/\uE500/g;function Yz(n,r,t,s,o,c,f){const m=Iy(n,s,1,null);let _=m<<du.SHIFT,x=ju();r===x&&(x=null),null===x&&(_|=du.APPEND_EAGERLY),f&&(_|=du.COMMENT,function(n){void 0===bE&&(bE=n())}(uR)),o.push(_,null===c?"":c);const E=$E(n,m,f?32:1,null===c?"":c,null);Bz(t,E);const T=E.index;return Su(E,!1),null!==x&&r!==x&&function(n,r){let t=n.insertBeforeIndex;null===t?(me(Rz,iR),t=n.insertBeforeIndex=[null,r]):(function(n,r,t){n!=r&&Wi(t,n,r,"==")}(Array.isArray(t),!0,"Expecting array here"),t.push(r))}(x,T),E}function uq(n,r,t,s,o,c,f){const m=f.match(wk),_=Yz(n,r,t,c,s,m?null:f,!1);m&&Af(o,f,_.index,null,0,null)}function Af(n,r,t,s,o,c){const f=n.length,m=f+1;n.push(null,null);const _=f+2,x=r.split(wk);let E=0;for(let T=0;T<x.length;T++){const L=x[T];if(1&T){const z=o+parseInt(L,10);n.push(-1-z),E|=dR(z)}else""!==L&&n.push(L)}return n.push(t<<2|(s?1:0)),s&&n.push(s,c),n[f]=E,n[m]=n.length-_,E}function dR(n){return 1<<Math.min(n,31)}function HD(n){let r,c,t="",s=0,o=!1;for(;null!==(r=Uz.exec(n));)o?r[0]===`\ufffd/*${c}\ufffd`&&(s=r.index,o=!1):(t+=n.substring(s,r.index+r[0].length),c=r[1],o=!0);return t+=n.substr(s),t}function UD(n,r,t,s,o,c){let f=0;const m={type:o.type,currentCaseLViewIndex:Iy(n,r,1,null),anchorIdx:c,cases:[],create:[],remove:[],update:[]};(function(n,r,t){n.push(dR(r.mainBinding),2,-1-r.mainBinding,t<<2|2)})(t,o,c),function(n,r,t){const s=n.data[r];null===s?n.data[r]=t:s.value=t}(n,c,m);const _=o.values;for(let x=0;x<_.length;x++){const E=_[x],T=[];for(let L=0;L<E.length;L++){const z=E[L];if("string"!=typeof z){const X=T.push(z)-1;E[L]=`\x3c!--\ufffd${X}\ufffd--\x3e`}}f=dq(n,m,r,t,s,o.cases[x],E.join(""),T)|f}f&&function(n,r,t){n.push(r,1,t<<2|3)}(t,f,c)}function cq(n){const r=[],t=[];let s=1,o=0;const c=fR(n=n.replace(lR,function(f,m,_){return s="select"===_?0:1,o=parseInt(m.substr(1),10),""}));for(let f=0;f<c.length;){let m=c[f++].trim();1===s&&(m=m.replace(/\s*(?:=)?(\w+)\s*/,"$1")),m.length&&r.push(m);const _=fR(c[f++]);r.length>t.length&&t.push(_)}return{type:s,mainBinding:o,cases:r,values:t}}function fR(n){if(!n)return[];let r=0;const t=[],s=[],o=/[{}]/g;let c;for(o.lastIndex=0;c=o.exec(n);){const m=c.index;if("}"==c[0]){if(t.pop(),0==t.length){const _=n.substring(r,m);lR.test(_)?s.push(cq(_)):s.push(_),r=m+1}}else{if(0==t.length){const _=n.substring(r,m);s.push(_),r=m+1}t.push("{")}}const f=n.substring(r);return s.push(f),s}function dq(n,r,t,s,o,c,f,m){const _=[],x=[],E=[];r.cases.push(c),r.create.push(_),r.remove.push(x),r.update.push(E);const L=function(n){const r=new Ef(n);return function(){try{return!!(new window.DOMParser).parseFromString(cp(""),"text/html")}catch(n){return!1}}()?new oT(r):r}(yf()).getInertBodyElement(f),z=function(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(L)||L;return z?Kz(n,r,t,s,_,x,E,z,o,m,0):0}function Kz(n,r,t,s,o,c,f,m,_,x,E){let T=0,L=m.firstChild;for(;L;){const z=Iy(n,t,1,null);switch(L.nodeType){case Node.ELEMENT_NODE:const X=L,Q=X.tagName.toLowerCase();if(vg.hasOwnProperty(Q)){hR(o,sM,Q,_,z),n.data[z]=Q;const ke=X.attributes;for(let Ee=0;Ee<ke.length;Ee++){const He=ke.item(Ee),at=He.name.toLowerCase();He.value.match(wk)?hD.hasOwnProperty(at)&&Af(f,He.value,z,He.name,0,dp[at]?uv:iE[at]?lT:null):mq(o,z,He)}T=Kz(n,r,t,s,o,c,f,L,z,x,E+1)|T,Xz(c,z,E)}break;case Node.TEXT_NODE:const ne=L.textContent||"",pe=ne.match(wk);hR(o,null,pe?"":ne,_,z),Xz(c,z,E),pe&&(T=Af(f,ne,z,null,0,null)|T);break;case Node.COMMENT_NODE:const fe=Hz.exec(L.textContent||"");if(fe){const Ee=x[parseInt(fe[1],10)];hR(o,$D,"",_,z),UD(n,t,s,_,Ee,z),fq(c,z,E)}}L=L.nextSibling}return T}function Xz(n,r,t){0===t&&n.push(r)}function fq(n,r,t){0===t&&(n.push(~r),n.push(r))}function hR(n,r,t,s,o){null!==r&&n.push(r),n.push(t,o,function(n,r,t){return 0|r<<17|t<<1}(0,s,o))}function mq(n,r,t){n.push(r<<1|1,t.name,t.value)}function Jz(n,r,t=-1){const s=Yi(),o=In(),c=20+n,f=_c(s.consts,r),m=ju();s.firstCreatePass&&function(n,r,t,s,o,c){const f=ju(),m=[],_=[],x=[[]],E=function(n){return n.replace(aq," ")}(o=function(n,r){if(function(n){return-1===n}(r))return HD(n);{const t=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,s=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return HD(n.substring(t,s))}}(o,c)).split(cR);for(let T=0;T<E.length;T++){let L=E[T];if(0==(1&T)){const z=fR(L);for(let X=0;X<z.length;X++){let Q=z[X];if(0==(1&X)){const ne=Q;""!==ne&&uq(n,f,x[0],m,_,t,ne)}else{const ne=Q;if("object"!=typeof ne)throw new Error(`Unable to parse ICU expression in "${o}" message.`);UD(n,t,_,r,ne,Yz(n,f,x[0],t,m,"",!0).index)}}}else{const z=47===L.charCodeAt(0),Q=(L.charCodeAt(z?1:0),20+Number.parseInt(L.substring(z?2:1)));if(z)x.shift(),Su(ju(),!1);else{const ne=zz(n,x[0],Q);x.unshift([]),Su(ne,!0)}}}n.data[s]={create:m,update:_}}(s,null===m?0:m.index,o,c,f,t);const _=s.data[c],E=kE(s,m===o[6]?null:m,o);(function(n,r,t,s){const o=n[11];for(let c=0;c<r.length;c++){const f=r[c++],m=r[c],_=(f&du.COMMENT)===du.COMMENT,x=(f&du.APPEND_EAGERLY)===du.APPEND_EAGERLY,E=f>>>du.SHIFT;let T=n[E];null===T&&(T=n[E]=_?o.createComment(m):gv(o,m)),x&&null!==t&&rm(o,t,T,s,!1)}})(o,_.create,E,m&&8&m.type?o[m.index]:null),dg(!0)}function Sc(n,r,t){Jz(n,r,t),dg(!1)}function YD(n){return function(n){n&&(VD|=1<<Math.min(zD,31)),zD++}(wl(In(),uu(),n)),YD}function mR(n,r,t,s,o){if(n=vr(n),Array.isArray(n))for(let c=0;c<n.length;c++)mR(n[c],r,t,s,o);else{const c=Yi(),f=In();let m=wv(n)?n:vr(n.provide),_=$V(n);const x=To(),E=1048575&x.providerIndexes,T=x.directiveStart,L=x.providerIndexes>>20;if(wv(n)||!n.multi){const z=new sp(_,o,xt),X=_R(m,r,o?E:E+L,T);-1===X?(D(up(x,f),c,m),gR(c,n,r.length),r.push(m),x.directiveStart++,x.directiveEnd++,o&&(x.providerIndexes+=1048576),t.push(z),f.push(z)):(t[X]=z,f[X]=z)}else{const z=_R(m,r,E+L,T),X=_R(m,r,E,E+L),Q=z>=0&&t[z],ne=X>=0&&t[X];if(o&&!ne||!o&&!Q){D(up(x,f),c,m);const pe=function(n,r,t,s,o){const c=new sp(n,t,xt);return c.multi=[],c.index=r,c.componentProviders=0,Uv(c,o,s&&!t),c}(o?Mq:Eq,t.length,o,s,_);!o&&ne&&(t[X].providerFactory=pe),gR(c,n,r.length,0),r.push(m),x.directiveStart++,x.directiveEnd++,o&&(x.providerIndexes+=1048576),t.push(pe),f.push(pe)}else gR(c,n,z>-1?z:X,Uv(t[o?X:z],_,!o&&s));!o&&s&&ne&&t[X].componentProviders++}}}function gR(n,r,t,s){const o=wv(r);if(o||function(n){return!!n.useClass}(r)){const f=(r.useClass||r).prototype.ngOnDestroy;if(f){const m=n.destroyHooks||(n.destroyHooks=[]);if(!o&&r.multi){const _=m.indexOf(t);-1===_?m.push(t,[s,f]):m[_+1].push(s,f)}else m.push(t,f)}}}function Uv(n,r,t){return t&&n.componentProviders++,n.multi.push(r)-1}function _R(n,r,t,s){for(let o=t;o<s;o++)if(r[o]===n)return o;return-1}function Eq(n,r,t,s){return Mk(this.multi,[])}function Mq(n,r,t,s){const o=this.multi;let c;if(this.providerFactory){const f=this.providerFactory.componentProviders,m=Ne(t,t[1],this.providerFactory.index,s);c=m.slice(0,f),Mk(o,c);for(let _=f;_<m.length;_++)c.push(m[_])}else c=[],Mk(o,c);return c}function Mk(n,r){for(let t=0;t<n.length;t++)r.push((0,n[t])());return r}function Rs(n,r=[]){return t=>{t.providersResolver=(s,o)=>function(n,r,t){const s=Yi();if(s.firstCreatePass){const o=is(n);mR(t,s.data,s.blueprint,o,!0),mR(r,s.data,s.blueprint,o,!1)}}(s,o?o(n):n,r)}}class fM{}const Sk="ngComponent";class pM{resolveComponentFactory(r){throw function(n){const r=Error(`No component factory found for ${Sn(n)}. Did you add it to @NgModule.entryComponents?`);return r[Sk]=n,r}(r)}}let sl=(()=>{class n{}return n.NULL=new pM,n})();function Yv(...n){}function a_(n,r){return new Ji(zu(n,r))}const Tk=function(){return a_(To(),In())};let Ji=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Tk,n})();function kk(n){return n instanceof Ji?n.nativeElement:n}class o_{}let cd=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>Xv(),n})();const Xv=function(){const n=In(),t=qu(To().index,n);return function(n){return n[11]}(Rr(t)?t:n)};let Zv=(()=>{class n{}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:()=>null}),n})();class Ik{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const xR=new Ik("12.2.13");class DR{constructor(){}supports(r){return By(r)}create(r){return new wR(r)}}const nj=(n,r)=>r;class wR{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||nj}forEachItem(r){let t;for(t=this._itHead;null!==t;t=t._next)r(t)}forEachOperation(r){let t=this._itHead,s=this._removalsHead,o=0,c=null;for(;t||s;){const f=!s||t&&t.currentIndex<SR(s,o,c)?t:s,m=SR(f,o,c),_=f.currentIndex;if(f===s)o--,s=s._nextRemoved;else if(t=t._next,null==f.previousIndex)o++;else{c||(c=[]);const x=m-o,E=_-o;if(x!=E){for(let L=0;L<x;L++){const z=L<c.length?c[L]:c[L]=0,X=z+L;E<=X&&X<x&&(c[L]=z+1)}c[f.previousIndex]=E-x}}m!==_&&r(f,m,_)}}forEachPreviousItem(r){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)r(t)}forEachMovedItem(r){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)r(t)}forEachIdentityChange(r){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)r(t)}diff(r){if(null==r&&(r=[]),!By(r))throw new Error(`Error trying to diff '${Sn(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o,c,f,t=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(let m=0;m<this.length;m++)c=r[m],f=this._trackByFn(m,c),null!==t&&Object.is(t.trackById,f)?(s&&(t=this._verifyReinsertion(t,c,f,m)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,f,m),s=!0),t=t._next}else o=0,function(n,r){if(Array.isArray(n))for(let t=0;t<n.length;t++)r(n[t]);else{const t=n[Ry()]();let s;for(;!(s=t.next()).done;)r(s.value)}}(r,m=>{f=this._trackByFn(o,m),null!==t&&Object.is(t.trackById,f)?(s&&(t=this._verifyReinsertion(t,m,f,o)),Object.is(t.item,m)||this._addIdentityChange(t,m)):(t=this._mismatch(t,m,f,o),s=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,t,s,o){let c;return null===r?c=this._itTail:(c=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,c,o)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(s,o))?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,c,o)):r=this._addAfter(new CR(t,s),c,o),r}_verifyReinsertion(r,t,s,o){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==c?r=this._reinsertAfter(c,r._prev,o):r.currentIndex!=o&&(r.currentIndex=o,this._addToMoves(r,o)),r}_truncate(r){for(;null!==r;){const t=r._next;this._addToRemovals(this._unlink(r)),r=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,t,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const o=r._prevRemoved,c=r._nextRemoved;return null===o?this._removalsHead=c:o._nextRemoved=c,null===c?this._removalsTail=o:c._prevRemoved=o,this._insertAfter(r,t,s),this._addToMoves(r,s),r}_moveAfter(r,t,s){return this._unlink(r),this._insertAfter(r,t,s),this._addToMoves(r,s),r}_addAfter(r,t,s){return this._insertAfter(r,t,s),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,t,s){const o=null===t?this._itHead:t._next;return r._next=o,r._prev=t,null===o?this._itTail=r:o._prev=r,null===t?this._itHead=r:t._next=r,null===this._linkedRecords&&(this._linkedRecords=new MR),this._linkedRecords.put(r),r.currentIndex=s,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const t=r._prev,s=r._next;return null===t?this._itHead=s:t._next=s,null===s?this._itTail=t:s._prev=t,r}_addToMoves(r,t){return r.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MR),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,t){return r.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class CR{constructor(r,t){this.item=r,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ER{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,t){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===t||t<=s.currentIndex)&&Object.is(s.trackById,r))return s;return null}remove(r){const t=r._prevDup,s=r._nextDup;return null===t?this._head=s:t._nextDup=s,null===s?this._tail=t:s._prevDup=t,null===this._head}}class MR{constructor(){this.map=new Map}put(r){const t=r.trackById;let s=this.map.get(t);s||(s=new ER,this.map.set(t,s)),s.add(r)}get(r,t){const o=this.map.get(r);return o?o.get(r,t):null}remove(r){const t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SR(n,r,t){const s=n.previousIndex;if(null===s)return s;let o=0;return t&&s<t.length&&(o=t[s]),s+r+o}class Qv{constructor(){}supports(r){return r instanceof Map||ek(r)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let t;for(t=this._mapHead;null!==t;t=t._next)r(t)}forEachPreviousItem(r){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)r(t)}forEachChangedItem(r){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)r(t)}diff(r){if(r){if(!(r instanceof Map||ek(r)))throw new Error(`Error trying to diff '${Sn(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(r,(s,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,s),this._appendAfter=t,t=t._next;else{const c=this._getOrCreateRecordForKey(o,s);t=this._insertBeforeOrAppend(t,c)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let s=t;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,t){if(r){const s=r._prev;return t._next=r,t._prev=s,r._prev=t,s&&(s._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(r,t){if(this._records.has(r)){const o=this._records.get(r);this._maybeAddToChanges(o,t);const c=o._prev,f=o._next;return c&&(c._next=f),f&&(f._prev=c),o._next=null,o._prev=null,o}const s=new fm(r);return this._records.set(r,s),s.currentValue=t,this._addToAdditions(s),s}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(s=>t(r[s],s))}}class fm{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AR(){return new mM([new DR])}let mM=(()=>{class n{constructor(t){this.factories=t}static create(t,s){if(null!=s){const o=s.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:s=>n.create(t,s||AR()),deps:[[n,new Y0,new _h]]}}find(t){const s=this.factories.find(o=>o.supports(t));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:AR}),n})();function gM(){return new XD([new Qv])}let XD=(()=>{class n{constructor(t){this.factories=t}static create(t,s){if(s){const o=s.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:s=>n.create(t,s||gM()),deps:[[n,new Y0,new _h]]}}find(t){const s=this.factories.find(o=>o.supports(t));if(s)return s;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:gM}),n})();function u_(n,r,t,s,o=!1){for(;null!==t;){const c=r[t.index];if(null!==c&&s.push(La(c)),Ui(c))for(let m=10;m<c.length;m++){const _=c[m],x=_[1].firstChild;null!==x&&u_(_[1],_,x,s)}const f=t.type;if(8&f)u_(n,r,t.child,s);else if(32&f){const m=vD(t,r);let _;for(;_=m();)s.push(_)}else if(16&f){const m=Ye(r,t);if(Array.isArray(m))s.push(...m);else{const _=Dg(r[16]);u_(_[1],_,m,s,!0)}}t=o?t.projectionNext:t.next}return s}class _M{constructor(r,t){this._lView=r,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,t=r[1];return u_(t,r,t.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ui(r)){const t=r[8],s=t?t.indexOf(this):-1;s>-1&&(Sy(r,s),B0(t,s))}this._attachedToViewContainer=!1}Ay(this._lView[1],this._lView)}onDestroy(r){wV(this._lView[1],this._lView,null,r)}markForCheck(){nP(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){jT(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,r,t){uo(!0);try{jT(n,r,t)}finally{uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,r){vt(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class TR extends _M{constructor(r){super(r),this._view=r}detectChanges(){OV(this._view)}checkNoChanges(){!function(n){uo(!0);try{OV(n)}finally{uo(!1)}}(this._view)}get context(){return null}}const yM=[new Qv],qv=new mM([new DR]),OR=new XD(yM),kq=function(){return Ok(To(),In())};let lo=(()=>{class n{}return n.__NG_ELEMENT_ID__=kq,n})();const LR=lo,Iq=class extends LR{constructor(r,t,s){super(),this._declarationLView=r,this._declarationTContainer=t,this.elementRef=s}createEmbeddedView(r){const t=this._declarationTContainer.tViews,s=BE(this._declarationLView,t,r,16,null,t.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(s[19]=c.createEmbeddedView(t)),CD(t,s,r),new _M(s)}};function Ok(n,r){return 4&n.type?new Iq(r,n,a_(n,r)):null}class eb{}const sj=function(){return lj(To(),In())};let Ud=(()=>{class n{}return n.__NG_ELEMENT_ID__=sj,n})();const aj=Ud,oj=class extends aj{constructor(r,t,s){super(),this._lContainer=r,this._hostTNode=t,this._hostLView=s}get element(){return a_(this._hostTNode,this._hostLView)}get injector(){return new gt(this._hostTNode,this._hostLView)}get parentInjector(){const r=g(this._hostTNode,this._hostLView);if(wf(r)){const t=ph(r,this._hostLView),s=hh(r);return new gt(t[1].data[s+8],t)}return new gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const t=uj(this._lContainer);return null!==t&&t[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,t,s){const o=r.createEmbeddedView(t||{});return this.insert(o,s),o}createComponent(r,t,s,o,c){const f=s||this.parentInjector;if(!c&&null==r.ngModule&&f){const _=f.get(eb,null);_&&(c=_)}const m=r.create(f,o,void 0,c);return this.insert(m.hostView,t),m}insert(r,t){const s=r._lView,o=s[1];if(function(n){return Ui(n[3])}(s)){const E=this.indexOf(r);if(-1!==E)this.detach(E);else{const T=s[3],L=new oj(T,T[6],T[3]);L.detach(L.indexOf(r))}}const c=this._adjustIndex(t),f=this._lContainer;!function(n,r,t,s){const o=10+s,c=t.length;s>0&&(t[o-1][4]=r),s<c-10?(r[4]=t[o],Jx(t,10+s,r)):(t.push(r),r[4]=null),r[3]=t;const f=r[17];null!==f&&t!==f&&function(n,r){const t=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===t?n[9]=[r]:t.push(r)}(f,r);const m=r[19];null!==m&&m.insertView(n),r[2]|=128}(o,s,f,c);const m=ut(c,f),_=s[11],x=yv(_,f[7]);return null!==x&&function(n,r,t,s,o,c){s[0]=o,s[6]=r,vt(n,s,t,1,o,c)}(o,f[6],_,s,x,m),r.attachToViewContainerRef(),Jx(PR(f),c,r),r}move(r,t){return this.insert(r,t)}indexOf(r){const t=uj(this._lContainer);return null!==t?t.indexOf(r):-1}remove(r){const t=this._adjustIndex(r,-1),s=Sy(this._lContainer,t);s&&(B0(PR(this._lContainer),t),Ay(s[1],s))}detach(r){const t=this._adjustIndex(r,-1),s=Sy(this._lContainer,t);return s&&null!=B0(PR(this._lContainer),t)?new _M(s):null}_adjustIndex(r,t=0){return null==r?this.length+t:r}};function uj(n){return n[8]}function PR(n){return n[8]||(n[8]=[])}function lj(n,r){let t;const s=r[n.index];if(Ui(s))t=s;else{let o;if(8&n.type)o=La(s);else{const c=r[11];o=c.createComment("");const f=zu(n,r);rm(c,yv(c,f),o,function(n,r){return Fs(n)?n.nextSibling(r):r.nextSibling}(c,f),!1)}r[n.index]=t=AV(s,r,o,n),VE(r,t)}return new oj(t,n,r)}const d_={};class Xk extends sl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const t=Ia(r);return new QR(t,this.ngModule)}}function Zk(n){const r=[];for(let t in n)n.hasOwnProperty(t)&&r.push({propName:n[t],templateName:t});return r}const Ij=new Xr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mE});class QR extends fM{constructor(r,t){super(),this.componentDef=r,this.ngModule=t,this.componentType=r.type,this.selector=function(n){return n.map(t_).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Zk(this.componentDef.inputs)}get outputs(){return Zk(this.componentDef.outputs)}create(r,t,s,o){const c=(o=o||this.ngModule)?function(n,r){return{get:(t,s,o)=>{const c=n.get(t,d_,o);return c!==d_||s===d_?c:r.get(t,s,o)}}}(r,o.injector):r,f=c.get(o_,mc),m=c.get(Zv,null),_=f.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",E=s?function(n,r,t){if(Fs(n))return n.selectRootElement(r,t===Oi.ShadowDom);let s="string"==typeof r?n.querySelector(r):r;return s.textContent="",s}(_,s,this.componentDef.encapsulation):wD(f.createRenderer(null,this.componentDef),x,function(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(x)),T=this.componentDef.onPush?576:528,L=function(n,r){return{components:[],scheduler:n||mE,clean:HT,playerHandler:r||null,flags:0}}(),z=OT(0,null,null,1,0,null,null,null,null,null),X=BE(null,z,L,T,null,null,f,_,m,c);let Q,ne;bf(X);try{const pe=function(n,r,t,s,o,c){const f=t[1];t[20]=n;const _=vv(f,20,2,"#host",null),x=_.mergedAttrs=r.hostAttrs;null!==x&&(UT(_,x,!0),null!==n&&(op(o,n,x),null!==_.classes&&Wr(o,n,_.classes),null!==_.styles&&$n(o,n,_.styles)));const E=s.createRenderer(n,r),T=BE(t,xV(r),null,r.onPush?64:16,t[20],_,s,E,c||null,null);return f.firstCreatePass&&(D(up(_,t),f,r.type),qF(f,_),SV(_,t.length,1)),VE(t,T),t[20]=T}(E,this.componentDef,X,f,_);if(E)if(s)op(_,E,["ng-version",xR.full]);else{const{attrs:fe,classes:ke}=function(n){const r=[],t=[];let s=1,o=2;for(;s<n.length;){let c=n[s];if("string"==typeof c)2===o?""!==c&&r.push(c,n[++s]):8===o&&t.push(c);else{if(!Gi(o))break;o=c}s++}return{attrs:r,classes:t}}(this.componentDef.selectors[0]);fe&&op(_,E,fe),ke&&ke.length>0&&Wr(_,E,ke.join(" "))}if(ne=tp(z,20),void 0!==t){const fe=ne.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Ee=t[ke];fe.push(null!=Ee?Array.from(Ee):null)}}Q=function(n,r,t,s,o){const c=t[1],f=function(n,r,t){const s=To();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),$T(n,s,r,Iy(n,r,1,null),t));const o=Ne(r,n,s.directiveStart,s);nl(o,r);const c=zu(s,r);return c&&nl(c,r),o}(c,t,r);if(s.components.push(f),n[8]=f,o&&o.forEach(_=>_(f,r)),r.contentQueries){const _=To();r.contentQueries(1,f,_.directiveStart)}const m=To();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(tl(m.index),RT(t[1],m,0,m.directiveStart,m.directiveEnd,r),BT(r,f)),f}(pe,this.componentDef,X,L,[yQ]),CD(z,X,null)}finally{np()}return new Nj(this.componentType,Q,a_(ne,X),X,ne)}}class Nj extends class{}{constructor(r,t,s,o,c){super(),this.location=s,this._rootLView=o,this._tNode=c,this.instance=t,this.hostView=this.changeDetectorRef=new TR(o),this.componentType=r}get injector(){return new gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}const ib=new Map;class Rj extends eb{constructor(r,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xk(this);const s=Qu(r),o=function(n){return n[jp]||null}(r);o&&rR(o),this._bootstrapComponents=lu(s.bootstrap),this._r3Injector=_a(r,t,[{provide:eb,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],Sn(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,t=ya.THROW_IF_NOT_FOUND,s=sr.Default){return r===ya||r===eb||r===Fy?this:this._r3Injector.get(r,t,s)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class qR extends class{}{constructor(r){super(),this.moduleType=r,null!==Qu(r)&&function(n){const r=new Set;!function t(s){const o=Qu(s,!0),c=o.id;null!==c&&(function(n,r,t){if(r&&r!==t)throw new Error(`Duplicate module registered for ${n} - ${Sn(r)} vs ${Sn(r.name)}`)}(c,ib.get(c),s),ib.set(c,s));const f=lu(o.imports);for(const m of f)r.has(m)||(r.add(m),t(m))}(n)}(r)}create(r){return new Rj(this.moduleType,r)}}function Qk(n,r,t,s,o,c){const f=r+t;return wl(n,f,o)?function(n,r,t){return n[r]=t}(n,f+1,c?s.call(c,o):s(o)):function(n,r){const t=n[r];return t===Ri?void 0:t}(n,f+1)}function t3(n,r){const t=Yi();let s;const o=n+20;t.firstCreatePass?(s=function(n,r){if(r)for(let t=r.length-1;t>=0;t--){const s=r[t];if(n===s.name)return s}throw new rs("302",`The pipe '${n}' could not be found!`)}(r,t.pipeRegistry),t.data[o]=s,s.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,s.onDestroy)):s=t.data[o];const c=s.factory||(s.factory=Id(s.type)),f=Ft(xt);try{const m=Yo(!1),_=c();return Yo(m),function(n,r,t,s){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),r[t]=s}(t,In(),o,_),_}finally{Ft(f)}}function n3(n,r,t){const s=n+20,o=In(),c=function(n,r){return n[r]}(o,s);return function(n,r){fp.isWrapped(r)&&(r=fp.unwrap(r),n[Fa()]=Ri);return r}(o,function(n,r){return n[1].data[r].pure}(o,s)?Qk(o,function(){const n=qr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,c.transform,t,c):c.transform(t))}function r3(n){return r=>{setTimeout(n,void 0,r)}}const Hr=class extends Pe{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,t,s){var o,c,f;let m=r,_=t||(()=>null),x=s;if(r&&"object"==typeof r){const T=r;m=null===(o=T.next)||void 0===o?void 0:o.bind(T),_=null===(c=T.error)||void 0===c?void 0:c.bind(T),x=null===(f=T.complete)||void 0===f?void 0:f.bind(T)}this.__isAsync&&(_=r3(_),m&&(m=r3(m)),x&&(x=r3(x)));const E=super.subscribe({next:m,error:_,complete:x});return r instanceof G&&r.add(E),E}};function i3(){return this._results[Ry()]()}class eI{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ry(),s=eI.prototype;s[t]||(s[t]=i3)}get changes(){return this._changes||(this._changes=new Hr)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,t){return this._results.reduce(r,t)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,t){const s=this;s.dirty=!1;const o=Cf(r);(this._changesDetected=!function(n,r,t){if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++){let o=n[s],c=r[s];if(t&&(o=t(o),c=t(c)),c!==o)return!1}return!0}(s._results,o,t))&&(s._results=o,s.length=o.length,s.last=o[this.length-1],s.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tI{constructor(r){this.queryList=r,this.matches=null}clone(){return new tI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bg{constructor(r=[]){this.queries=r}createEmbeddedView(r){const t=r.queries;if(null!==t){const s=null!==r.contentQueries?r.contentQueries[0]:t.length,o=[];for(let c=0;c<s;c++){const f=t.getByIndex(c);o.push(this.queries[f.indexInDeclarationView].clone())}return new Bg(o)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let t=0;t<this.queries.length;t++)null!==h_(r,t).matches&&this.queries[t].setDirty()}}class ab{constructor(r,t,s=null){this.predicate=r,this.flags=t,this.read=s}}class iw{constructor(r=[]){this.queries=r}elementStart(r,t){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(r,t)}elementEnd(r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r)}embeddedTView(r){let t=null;for(let s=0;s<this.length;s++){const o=null!==t?t.length:0,c=this.getByIndex(s).embeddedTView(r,o);c&&(c.indexInDeclarationView=s,null!==t?t.push(c):t=[c])}return null!==t?new iw(t):null}template(r,t){for(let s=0;s<this.queries.length;s++)this.queries[s].template(r,t)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class nI{constructor(r,t=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,t){this.elementStart(r,t)}embeddedTView(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new nI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let s=r.parent;for(;null!==s&&8&s.type&&s.index!==t;)s=s.parent;return t===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(r,t){const s=this.metadata.predicate;if(Array.isArray(s))for(let o=0;o<s.length;o++){const c=s[o];this.matchTNodeWithReadOption(r,t,Gj(t,c)),this.matchTNodeWithReadOption(r,t,ve(t,r,c,!1,!1))}else s===lo?4&t.type&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,ve(t,r,s,!1,!1))}matchTNodeWithReadOption(r,t,s){if(null!==s){const o=this.metadata.read;if(null!==o)if(o===Ji||o===Ud||o===lo&&4&t.type)this.addMatch(t.index,-2);else{const c=ve(t,r,o,!1,!1);null!==c&&this.addMatch(t.index,c)}else this.addMatch(t.index,s)}}addMatch(r,t){null===this.matches?this.matches=[r,t]:this.matches.push(r,t)}}function Gj(n,r){const t=n.localNames;if(null!==t)for(let s=0;s<t.length;s+=2)if(t[s]===r)return t[s+1];return null}function Kj(n,r,t,s){return-1===t?function(n,r){return 11&n.type?a_(n,r):4&n.type?Ok(n,r):null}(r,n):-2===t?function(n,r,t){return t===Ji?a_(r,n):t===lo?Ok(r,n):t===Ud?lj(r,n):void 0}(n,r,s):Ne(n,n[1],t,r)}function rI(n,r,t,s){const o=r[19].queries[s];if(null===o.matches){const c=n.data,f=t.matches,m=[];for(let _=0;_<f.length;_+=2){const x=f[_];m.push(x<0?null:Kj(r,c[x],f[_+1],t.metadata.read))}o.matches=m}return o.matches}function iI(n,r,t,s){const o=n.queries.getByIndex(t),c=o.matches;if(null!==c){const f=rI(n,r,o,t);for(let m=0;m<c.length;m+=2){const _=c[m];if(_>0)s.push(f[m/2]);else{const x=c[m+1],E=r[-_];for(let T=10;T<E.length;T++){const L=E[T];L[17]===L[3]&&iI(L[1],L,x,s)}if(null!==E[9]){const T=E[9];for(let L=0;L<T.length;L++){const z=T[L];iI(z[1],z,x,s)}}}}}return s}function Qs(n){const r=In(),t=Yi(),s=id();Gp(s+1);const o=h_(t,s);if(n.dirty&&T0(r)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const c=o.crossesNgTemplate?iI(t,r,s,[]):rI(t,r,o,s);n.reset(c,kk),n.notifyOnChanges()}return!0}return!1}function kf(n,r,t){const s=Yi();s.firstCreatePass&&(function(n,r,t){null===n.queries&&(n.queries=new iw),n.queries.track(new nI(r,t))}(s,new ab(n,r,t),-1),2==(2&r)&&(s.staticViewQueries=!0)),function(n,r,t){const s=new eI(4==(4&t));wV(n,r,s,s.destroy),null===r[19]&&(r[19]=new Bg),r[19].queries.push(new tI(s))}(s,In(),r)}function qs(){return function(n,r){return n[19].queries[r].queryList}(In(),id())}function h_(n,r){return n.queries.getByIndex(r)}const dI=new Xr("Application Initializer");let ub=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Yv,this.reject=Yv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,o)=>{this.resolve=s,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const c=this.appInits[o]();if(ck(c))t.push(c);else if(dk(c)){const f=new Promise((m,_)=>{c.subscribe({complete:m,error:_})});t.push(f)}}Promise.all(t).then(()=>{s()}).catch(o=>{this.reject(o)}),0===t.length&&s(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Xn(dI,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const ow=new Xr("AppId"),Aee={provide:ow,useFactory:function(){return`${D3()}${D3()}${D3()}`},deps:[]};function D3(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const w3=new Xr("Platform Initializer"),zM=new Xr("Platform ID"),Tee=new Xr("appBootstrapListener");let C3=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const bp=new Xr("LocaleId"),fI=new Xr("DefaultCurrencyCode");class oye{constructor(r,t){this.ngModuleFactory=r,this.componentFactories=t}}const r7=function(n){return new qR(n)},uye=r7,M3=function(n){return Promise.resolve(r7(n))},i7=function(n){const r=r7(n),s=lu(Qu(n).declarations).reduce((o,c)=>{const f=Ia(c);return f&&o.push(new QR(f)),o},[]);return new oye(r,s)},s7=i7,Pee=function(n){return Promise.resolve(i7(n))};let hI=(()=>{class n{constructor(){this.compileModuleSync=uye,this.compileModuleAsync=M3,this.compileModuleAndAllComponentsSync=s7,this.compileModuleAndAllComponentsAsync=Pee}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const $ee=(()=>Promise.resolve(0))();function pI(n){"undefined"==typeof Zone?$ee.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Bs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hr(!1),this.onMicrotaskEmpty=new Hr(!1),this.onStable=new Hr(!1),this.onError=new Hr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&t,o.shouldCoalesceRunChangeDetection=s,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let n=ht.requestAnimationFrame,r=ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(n){const r=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ht,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,mI(n),n.isCheckStableRunning=!0,S3(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),mI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,s,o,c,f,m)=>{try{return T3(n),t.invokeTask(o,c,f,m)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||n.shouldCoalesceRunChangeDetection)&&r(),k3(n)}},onInvoke:(t,s,o,c,f,m,_)=>{try{return T3(n),t.invoke(o,c,f,m,_)}finally{n.shouldCoalesceRunChangeDetection&&r(),k3(n)}},onHasTask:(t,s,o,c)=>{t.hasTask(o,c),s===o&&("microTask"==c.change?(n._hasPendingMicrotasks=c.microTask,mI(n),S3(n)):"macroTask"==c.change&&(n.hasPendingMacrotasks=c.macroTask))},onHandleError:(t,s,o,c)=>(t.handleError(o,c),n.runOutsideAngular(()=>n.onError.emit(c)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,t,s){return this._inner.run(r,t,s)}runTask(r,t,s,o){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+o,r,zee,Yv,Yv);try{return c.runTask(f,t,s)}finally{c.cancelTask(f)}}runGuarded(r,t,s){return this._inner.runGuarded(r,t,s)}runOutsideAngular(r){return this._outer.run(r)}}const zee={};function S3(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function T3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function k3(n){n._nesting--,S3(n)}class o7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hr,this.onMicrotaskEmpty=new Hr,this.onStable=new Hr,this.onError=new Hr}run(r,t,s){return r.apply(t,s)}runGuarded(r,t,s){return r.apply(t,s)}runOutsideAngular(r){return r()}runTask(r,t,s,o){return r.apply(t,s)}}let gI=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),pI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pI(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(t)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,s,o){let c=-1;s&&s>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),t(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:t,timeoutId:c,updateCb:o})}whenStable(t,s,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,s,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,s,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(Xn(Bs))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),_I=(()=>{class n{constructor(){this._applications=new Map,I3.addToWindow(this)}registerApplication(t,s){this._applications.set(t,s)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,s=!0){return I3.findTestabilityInTree(this,t,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class jee{addToWindow(r){}findTestabilityInTree(r,t,s){return null}}let I3=new jee,u7=!0,uw=!1;let xp;const gu=new Xr("AllowMultipleToken");function Lu(n,r,t=[]){const s=`Platform: ${r}`,o=new Xr(s);return(c=[])=>{let f=lb();if(!f||f.injector.get(gu,!1))if(n)n(t.concat(c).concat({provide:o,useValue:!0}));else{const m=t.concat(c).concat({provide:o,useValue:!0},{provide:Dv,useValue:"platform"});!function(n){if(xp&&!xp.destroyed&&!xp.injector.get(gu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xp=n.get(Th);const r=n.get(w3,null);r&&r.forEach(t=>t())}(ya.create({providers:m,name:s}))}return function(n){const r=lb();if(!r)throw new Error("No platform exists!");if(!r.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return r}(o)}}function lb(){return xp&&!xp.destroyed?xp:null}let Th=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,s){const m=function(n,r){let t;return t="noop"===n?new o7:("zone.js"===n?void 0:n)||new Bs({enableLongStackTrace:(uw=!0,u7),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),t}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),_=[{provide:Bs,useValue:m}];return m.run(()=>{const x=ya.create({providers:_,parent:this.injector,name:t.moduleType.name}),E=t.create(x),T=E.injector.get(xg,null);if(!T)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const L=m.onError.subscribe({next:z=>{T.handleError(z)}});E.onDestroy(()=>{WM(this._modules,E),L.unsubscribe()})}),function(n,r,t){try{const s=t();return ck(s)?s.catch(o=>{throw r.runOutsideAngular(()=>n.handleError(o)),o}):s}catch(s){throw r.runOutsideAngular(()=>n.handleError(s)),s}}(T,m,()=>{const L=E.injector.get(ub);return L.runInitializers(),L.donePromise.then(()=>(rR(E.injector.get(bp,BD)||BD),this._moduleDoBootstrap(E),E))})})}bootstrapModule(t,s=[]){const o=L3({},s);return function(n,r,t){const s=new qR(t);return Promise.resolve(s)}(0,0,t).then(c=>this.bootstrapModuleFactory(c,o))}_moduleDoBootstrap(t){const s=t.injector.get(__);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>s.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Sn(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(s)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Xn(ya))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function L3(n,r){return Array.isArray(r)?r.reduce(L3,n):Object.assign(Object.assign({},n),r)}let __=(()=>{class n{constructor(t,s,o,c,f){this._zone=t,this._injector=s,this._exceptionHandler=o,this._componentFactoryResolver=c,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ge(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),_=new ge(x=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),pI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=function(...n){let r=Number.POSITIVE_INFINITY,t=null,s=n[n.length-1];return Qe(s)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(r=n.pop())):"number"==typeof s&&(r=n.pop()),null===t&&1===n.length&&n[0]instanceof ge?n[0]:Ii(r)(Pt(n,t))}(m,_.pipe(n=>Ur()(function(n,r){return function(s){let o;o="function"==typeof n?n:function(){return n};const c=Object.create(s,iu);return c.source=s,c.subjectFactory=o,c}}(Qi)(n))))}bootstrap(t,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=t instanceof fM?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(o.componentType);const c=function(n){return n.isBoundToModule}(o)?void 0:this._injector.get(eb),m=o.create(ya.NULL,[],s||o.selector,c),_=m.location.nativeElement,x=m.injector.get(gI,null),E=x&&m.injector.get(_I);return x&&E&&E.registerApplication(_,x),m.onDestroy(()=>{this.detachView(m.hostView),WM(this.components,m),E&&E.unregisterApplication(_)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const s=t;this._views.push(s),s.attachToAppRef(this)}detachView(t){const s=t;WM(this._views,s),s.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tee,[]).concat(this._bootstrapListeners).forEach(o=>o(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Xn(Bs),Xn(ya),Xn(xg),Xn(sl),Xn(ub))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function WM(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}const Kee=Lu(null,"core",[{provide:zM,useValue:"unknown"},{provide:Th,deps:[ya]},{provide:_I,deps:[]},{provide:C3,deps:[]}]),v7=[{provide:__,useClass:__,deps:[Bs,ya,xg,sl,ub]},{provide:Ij,deps:[Bs],useFactory:function(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(t){r.push(t)}}},{provide:ub,useClass:ub,deps:[[new _h,dI]]},{provide:hI,useClass:hI,deps:[]},Aee,{provide:mM,useFactory:function(){return qv},deps:[]},{provide:XD,useFactory:function(){return OR},deps:[]},{provide:bp,useFactory:function(n){return rR(n=n||"undefined"!=typeof $localize&&$localize.locale||BD),n},deps:[[new nv(bp),new _h,new Y0]]},{provide:fI,useValue:"USD"}];let x7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Xn(__))},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({providers:v7}),n})(),e1=null;function yw(){return e1}const co=new Xr("DocumentToken");var Ih=(()=>((Ih=Ih||{})[Ih.Decimal=0]="Decimal",Ih[Ih.Percent=1]="Percent",Ih[Ih.Currency=2]="Currency",Ih[Ih.Scientific=3]="Scientific",Ih))(),El=(()=>((El=El||{})[El.Zero=0]="Zero",El[El.One=1]="One",El[El.Two=2]="Two",El[El.Few=3]="Few",El[El.Many=4]="Many",El[El.Other=5]="Other",El))(),gi=(()=>((gi=gi||{})[gi.Decimal=0]="Decimal",gi[gi.Group=1]="Group",gi[gi.List=2]="List",gi[gi.PercentSign=3]="PercentSign",gi[gi.PlusSign=4]="PlusSign",gi[gi.MinusSign=5]="MinusSign",gi[gi.Exponential=6]="Exponential",gi[gi.SuperscriptingExponent=7]="SuperscriptingExponent",gi[gi.PerMille=8]="PerMille",gi[gi.Infinity=9]="Infinity",gi[gi.NaN=10]="NaN",gi[gi.TimeSeparator=11]="TimeSeparator",gi[gi.CurrencyDecimal=12]="CurrencyDecimal",gi[gi.CurrencyGroup=13]="CurrencyGroup",gi))();function Nh(n,r){const t=Mc(n),s=t[Er.NumberSymbols][r];if(void 0===s){if(r===gi.CurrencyDecimal)return t[Er.NumberSymbols][gi.Decimal];if(r===gi.CurrencyGroup)return t[Er.NumberSymbols][gi.Group]}return s}const Tte=Nz,$te=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hB(n){const r=parseInt(n);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+n);return r}class PI{}let pB=(()=>{class n extends PI{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Tte(s||this.locale)(t)){case El.Zero:return"zero";case El.One:return"one";case El.Two:return"two";case El.Few:return"few";case El.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Xn(bp))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class Zte{constructor(r,t,s,o){this.$implicit=r,this.ngForOf=t,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fh=(()=>{class n{constructor(t,s,o){this._viewContainer=t,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((o,c,f)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Zte(null,this._ngForOf,-1,-1),null===f?void 0:f),_=new fW(o,m);s.push(_)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const m=this._viewContainer.get(c);this._viewContainer.move(m,f);const _=new fW(o,m);s.push(_)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=c,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(xt(Ud),xt(lo),xt(mM))},n.\u0275dir=Bn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class fW{constructor(r,t){this.record=r,this.view=t}}let pd=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new BI,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hW("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hW("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(xt(Ud),xt(lo))},n.\u0275dir=Bn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class BI{constructor(){this.$implicit=null,this.ngIf=null}}function hW(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Sn(r)}'.`)}let vW=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=bW}transform(t,s=bW){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const o=this.differ.diff(t),c=s!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(f=>{this.keyValues.push(function(n,r){return{key:n,value:r}}(f.key,f.currentValue))})),(o||c)&&(this.keyValues.sort(s),this.compareFn=s),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(xt(XD,16))},n.\u0275pipe=Ys({name:"keyvalue",type:n,pure:!1}),n})();function bW(n,r){const t=n.key,s=r.key;if(t===s)return 0;if(void 0===t)return 1;if(void 0===s)return-1;if(null===t)return 1;if(null===s)return-1;if("string"==typeof t&&"string"==typeof s)return t<s?-1:1;if("number"==typeof t&&"number"==typeof s)return t-s;if("boolean"==typeof t&&"boolean"==typeof s)return t<s?-1:1;const o=String(t),c=String(s);return o==c?0:o<c?-1:1}let xW=(()=>{class n{constructor(t){this._locale=t}transform(t,s,o){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale;try{return function(n,r,t){return function(n,r,t,s,o,c,f=!1){let m="",_=!1;if(isFinite(n)){let x=function(n){let s,o,c,f,m,r=Math.abs(n)+"",t=0;for((o=r.indexOf("."))>-1&&(r=r.replace(".","")),(c=r.search(/e/i))>0?(o<0&&(o=c),o+=+r.slice(c+1),r=r.substring(0,c)):o<0&&(o=r.length),c=0;"0"===r.charAt(c);c++);if(c===(m=r.length))s=[0],o=1;else{for(m--;"0"===r.charAt(m);)m--;for(o-=c,s=[],f=0;c<=m;c++,f++)s[f]=Number(r.charAt(c))}return o>22&&(s=s.splice(0,21),t=o-1,o=1),{digits:s,exponent:t,integerLen:o}}(n);f&&(x=function(n){if(0===n.digits[0])return n;const r=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===r?n.digits.push(0,0):1===r&&n.digits.push(0),n.integerLen+=2),n}(x));let E=r.minInt,T=r.minFrac,L=r.maxFrac;if(c){const fe=c.match($te);if(null===fe)throw new Error(`${c} is not a valid digit info`);const ke=fe[1],Ee=fe[3],He=fe[5];null!=ke&&(E=hB(ke)),null!=Ee&&(T=hB(Ee)),null!=He?L=hB(He):null!=Ee&&T>L&&(L=T)}!function(n,r,t){if(r>t)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${t}).`);let s=n.digits,o=s.length-n.integerLen;const c=Math.min(Math.max(r,o),t);let f=c+n.integerLen,m=s[f];if(f>0){s.splice(Math.max(n.integerLen,f));for(let T=f;T<s.length;T++)s[T]=0}else{o=Math.max(0,o),n.integerLen=1,s.length=Math.max(1,f=c+1),s[0]=0;for(let T=1;T<f;T++)s[T]=0}if(m>=5)if(f-1<0){for(let T=0;T>f;T--)s.unshift(0),n.integerLen++;s.unshift(1),n.integerLen++}else s[f-1]++;for(;o<Math.max(0,c);o++)s.push(0);let _=0!==c;const x=r+n.integerLen,E=s.reduceRight(function(T,L,z,X){return X[z]=(L+=T)<10?L:L-10,_&&(0===X[z]&&z>=x?X.pop():_=!1),L>=10?1:0},0);E&&(s.unshift(E),n.integerLen++)}(x,T,L);let z=x.digits,X=x.integerLen;const Q=x.exponent;let ne=[];for(_=z.every(fe=>!fe);X<E;X++)z.unshift(0);for(;X<0;X++)z.unshift(0);X>0?ne=z.splice(X,z.length):(ne=z,z=[0]);const pe=[];for(z.length>=r.lgSize&&pe.unshift(z.splice(-r.lgSize,z.length).join(""));z.length>r.gSize;)pe.unshift(z.splice(-r.gSize,z.length).join(""));z.length&&pe.unshift(z.join("")),m=pe.join(Nh(t,s)),ne.length&&(m+=Nh(t,o)+ne.join("")),Q&&(m+=Nh(t,gi.Exponential)+"+"+Q)}else m=Nh(t,gi.Infinity);return m=n<0&&!_?r.negPre+m+r.negSuf:r.posPre+m+r.posSuf,m}(n,function(n,r="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=n.split(";"),o=s[0],c=s[1],f=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=f[0],_=f[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let E=0;E<_.length;E++){const T=_.charAt(E);"0"===T?t.minFrac=t.maxFrac=E+1:"#"===T?t.maxFrac=E+1:t.posSuf+=T}const x=m.split(",");if(t.gSize=x[1]?x[1].length:0,t.lgSize=x[2]||x[1]?(x[2]||x[1]).length:0,c){const E=o.length-t.posPre.length-t.posSuf.length,T=c.indexOf("#");t.negPre=c.substr(0,T).replace(/'/g,""),t.negSuf=c.substr(T+E).replace(/'/g,"")}else t.negPre=r+t.posPre,t.negSuf=t.posSuf;return t}(function(n,r){return Mc(n)[Er.NumberFormats][r]}(r,Ih.Percent),Nh(r,gi.MinusSign)),r,gi.Group,gi.Decimal,t,!0).replace(new RegExp("%","g"),Nh(r,gi.PercentSign))}(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,s)}catch(c){throw function(n,r){return Error(`InvalidPipeArgument: '${r}' for pipe '${Sn(n)}'`)}(n,c.message)}}}return n.\u0275fac=function(t){return new(t||n)(xt(bp,16))},n.\u0275pipe=Ys({name:"percent",type:n,pure:!0}),n})();let Ph=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({providers:[{provide:PI,useClass:pB}]}),n})();class DB extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){e1||(e1=n)}(new DB)}onAndCancel(r,t,s){return r.addEventListener(t,s,!1),()=>{r.removeEventListener(t,s,!1)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,t){return(t=t||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return"window"===t?window:"document"===t?r:"body"===t?r.body:null}getBaseHref(r){const t=(p2=p2||document.querySelector("base"),p2?p2.getAttribute("href"):null);return null==t?null:function(n){HI=HI||document.createElement("a"),HI.setAttribute("href",n);const r=HI.pathname;return"/"===r.charAt(0)?r:`/${r}`}(t)}resetBaseElement(){p2=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(n,r){r=encodeURIComponent(r);for(const t of n.split(";")){const s=t.indexOf("="),[o,c]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(o.trim()===r)return decodeURIComponent(c)}return null}(document.cookie,r)}}let HI,p2=null;const MW=new Xr("TRANSITION_ID"),yne=[{provide:dI,useFactory:function(n,r,t){return()=>{t.get(ub).donePromise.then(()=>{const s=yw(),o=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)s.remove(o[c])})}},deps:[MW,co,ya],multi:!0}];class wB{static init(){!function(n){I3=n}(new wB)}addToWindow(r){ht.getAngularTestability=(s,o=!0)=>{const c=r.findTestabilityInTree(s,o);if(null==c)throw new Error("Could not find testability for element.");return c},ht.getAllAngularTestabilities=()=>r.getAllTestabilities(),ht.getAllAngularRootElements=()=>r.getAllRootElements(),ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(s=>{const o=ht.getAllAngularTestabilities();let c=o.length,f=!1;const m=function(_){f=f||_,c--,0==c&&s(f)};o.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(r,t,s){if(null==t)return null;const o=r.getTestability(t);return null!=o?o:s?yw().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null}}let vne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const ww=new Xr("EventManagerPlugins");let Cw=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,o){return this._findPluginFor(s).addEventListener(t,s,o)}addGlobalEventListener(t,s,o){return this._findPluginFor(s).addGlobalEventListener(t,s,o)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const o=this._plugins;for(let c=0;c<o.length;c++){const f=o[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Xn(ww),Xn(Bs))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class CB{constructor(r){this._doc=r}addGlobalEventListener(r,t,s){const o=yw().getGlobalEventTarget(this._doc,r);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,s)}}let TW=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),w_=(()=>{class n extends TW{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,o){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,o.push(s.appendChild(f))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(EB),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(t,o,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(EB))}}return n.\u0275fac=function(t){return new(t||n)(Xn(co))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function EB(n){yw().remove(n)}const GI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},KI=/%COMP%/g;function Wg(n,r,t){for(let s=0;s<r.length;s++){let o=r[s];Array.isArray(o)?Wg(n,o,t):(o=o.replace(KI,n),t.push(o))}return t}function wb(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let SB=(()=>{class n{constructor(t,s,o){this.eventManager=t,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ZI(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case Oi.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new g2(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(t),o}case 1:case Oi.ShadowDom:return new Ane(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const o=Wg(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Xn(Cw),Xn(w_),Xn(ow))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class ZI{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,t){return t?document.createElementNS(GI[t]||t,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,t){r.appendChild(t)}insertBefore(r,t,s){r&&r.insertBefore(t,s)}removeChild(r,t){r&&r.removeChild(t)}selectRootElement(r,t){let s="string"==typeof r?document.querySelector(r):r;if(!s)throw new Error(`The selector "${r}" did not match any elements`);return t||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,s,o){if(o){t=o+":"+t;const c=GI[o];c?r.setAttributeNS(c,t,s):r.setAttribute(t,s)}else r.setAttribute(t,s)}removeAttribute(r,t,s){if(s){const o=GI[s];o?r.removeAttributeNS(o,t):r.removeAttribute(`${s}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,s,o){o&(Bd.DashCase|Bd.Important)?r.style.setProperty(t,s,o&Bd.Important?"important":""):r.style[t]=s}removeStyle(r,t,s){s&Bd.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,s){r[t]=s}setValue(r,t){r.nodeValue=t}listen(r,t,s){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,t,wb(s)):this.eventManager.addEventListener(r,t,wb(s))}}class g2 extends ZI{constructor(r,t,s,o){super(r),this.component=s;const c=Wg(o+"-"+s.id,s.styles,[]);t.addStyles(c),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(KI,n)}(o+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(KI,n)}(o+"-"+s.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,t){const s=super.createElement(r,t);return super.setAttribute(s,this.contentAttr,""),s}}class Ane extends ZI{constructor(r,t,s,o){super(r),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Wg(o.id,o.styles,[]);for(let f=0;f<c.length;f++){const m=document.createElement("style");m.textContent=c[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,s){return super.insertBefore(this.nodeOrShadowRoot(r),t,s)}removeChild(r,t){return super.removeChild(this.nodeOrShadowRoot(r),t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Tne=(()=>{class n extends CB{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,o){return t.addEventListener(s,o,!1),()=>this.removeEventListener(t,s,o)}removeEventListener(t,s,o){return t.removeEventListener(s,o)}}return n.\u0275fac=function(t){return new(t||n)(Xn(co))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const RW=["alt","control","meta","shift"],Nne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BW={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},One={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lne=(()=>{class n extends CB{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,o){const c=n.parseEventName(s),f=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yw().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const s=t.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(s.pop());let f="";if(RW.forEach(_=>{const x=s.indexOf(_);x>-1&&(s.splice(x,1),f+=_+".")}),f+=c,0!=s.length||0===c.length)return null;const m={};return m.domEventName=o,m.fullKey=f,m}static getEventFullKey(t){let s="",o=function(n){let r=n.key;if(null==r){if(r=n.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&BW.hasOwnProperty(r)&&(r=BW[r]))}return Nne[r]||r}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),RW.forEach(c=>{c!=o&&One[c](t)&&(s+=c+".")}),s+=o,s}static eventCallback(t,s,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>s(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(Xn(co))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Vne=Lu(Kee,"browser",[{provide:zM,useValue:"browser"},{provide:w3,useValue:function(){DB.makeCurrent(),wB.init()},multi:!0},{provide:co,useFactory:function(){return function(n){ug=n}(document),document},deps:[]}]),zne=[[],{provide:Dv,useValue:"root"},{provide:xg,useFactory:function(){return new xg},deps:[]},{provide:ww,useClass:Tne,multi:!0,deps:[co,Bs,zM]},{provide:ww,useClass:Lne,multi:!0,deps:[co]},[],{provide:SB,useClass:SB,deps:[Cw,w_,ow]},{provide:o_,useExisting:SB},{provide:TW,useExisting:w_},{provide:w_,useClass:w_,deps:[co]},{provide:gI,useClass:gI,deps:[Bs]},{provide:Cw,useClass:Cw,deps:[ww,Bs]},{provide:class{},useClass:vne,deps:[]},[]];let C_=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ow,useValue:t.appId},{provide:MW,useExisting:ow},yne]}}}return n.\u0275fac=function(t){return new(t||n)(Xn(n,12))},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({providers:zne,imports:[Ph,x7]}),n})();"undefined"!=typeof window&&window;var en=v(8239),w=v(706),yn=v(6338),fs=v(4879),Dr=v(1300),Rh=v(4429);const YW={kernelName:yn.SY,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,(0,Rh.N)((0,fs.p)(t,"float32"),-1))}}};var ul=v(8366),bm=v(181),Ml=v(8153),Dp=v(6900),md=v(4463),wp=v(3217);const Gne={kernelName:yn.VG,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>{const s=(0,md.h)((0,fs.p)(t,"float32")),o=(0,Dp._)((0,wp.l)((0,Ml.i)(1),s));return(0,bm.W)((0,ul.h)(n,o))}}}},Kne={kernelName:yn.Sp,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>{const s=(0,Dp._)((0,wp.l)((0,md.h)((0,fs.p)(t,"float32")),1));return(0,ul.h)(n,s)}}}};var xo=v(3469),ji=v(3626),Jo=v(7782);const GW={kernelName:yn.mm,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=xo.$N(t.shape,s.shape);return{a:()=>{let m=n;const _=xo.RR(t.shape,o);return _.length>0&&(m=(0,Jo.S)(m,_)),(0,ji.X)(m,t.shape)},b:()=>{let m=n;const _=xo.RR(s.shape,o);return _.length>0&&(m=(0,Jo.S)(m,_)),(0,ji.X)(m,s.shape)}}}},Xne={kernelName:yn.Xz,saveAllInputs:!0,gradFunc:(n,r)=>{const t={};return r.forEach((s,o)=>{t[o]=()=>n.clone()}),t}};var _u=v(9314);const RB={kernelName:yn.sJ,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,_u.P)(t)}}},BB={kernelName:yn.aJ,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,_u.P)(t)}}},$B={kernelName:yn.M2,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,Dp._)((0,wp.l)((0,Ml.i)(1),(0,md.h)((0,fs.p)(t,"float32")))))}}};var Cp=v(319);const VB={kernelName:yn.qw,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>{const s=(0,Dp._)((0,Cp.I)((0,Ml.i)(1),(0,md.h)((0,fs.p)(t,"float32"))));return(0,ul.h)(n,s)}}}},Zne={kernelName:yn.QC,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=(0,xo.$N)(t.shape,s.shape);return{a:()=>{const m=(0,Cp.I)((0,md.h)(t),(0,md.h)(s));let _=(0,Dr.d)(n,(0,ul.h)(s,m));const x=(0,xo.RR)(t.shape,o);return x.length>0&&(_=(0,Jo.S)(_,x)),(0,ji.X)(_,t.shape)},b:()=>{const m=(0,Cp.I)((0,md.h)(t),(0,md.h)(s));let _=(0,bm.W)((0,Dr.d)(n,(0,ul.h)(t,m)));const x=(0,xo.RR)(s.shape,o);return x.length>0&&(_=(0,Jo.S)(_,x)),(0,ji.X)(_,s.shape)}}}},Jne={kernelName:yn.jM,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,Cp.I)((0,md.h)((0,fs.p)(t,"float32")),1))}}},Qne={kernelName:yn.Oy,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,wp.l)((0,Ml.i)(1),(0,md.h)((0,fs.p)(t,"float32"))))}}};var xm=v(6070),Ug=v(4810),hs=v(62),Mw=v(5948);const KW=(0,Mw.op)({avgPool3dGrad_:function(n,r,t,s,o,c){const f=(0,Ug._1)(n,"dy","avgPool3dGrad"),m=(0,Ug._1)(r,"input","avgPool3dGrad");let _=f,x=m,E=!1;4===m.rank&&(E=!0,_=(0,ji.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]]),x=(0,ji.X)(m,[1,m.shape[0],m.shape[1],m.shape[2],m.shape[3]])),hs.hu(5===_.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${_.rank}.`),hs.hu(5===x.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${x.rank}.`),null!=c&&hs.hu(hs.GN(o),()=>`Error in avgPool3dGrad: pad must be an integer when using, dimRoundingMode ${c} but got pad ${o}.`);const z=xm.BV.runKernel(yn.IM,{dy:_,input:x},{filterSize:t,strides:s,pad:o,dimRoundingMode:c});return E?(0,ji.X)(z,[z.shape[1],z.shape[2],z.shape[3],z.shape[4]]):z}}),jB={kernelName:yn._k,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{filterSize:o,strides:c,pad:f,dimRoundingMode:m}=t;return{x:()=>KW(n,s,o,c,f,m)}}},WB=(0,Mw.op)({avgPoolGrad_:function(n,r,t,s,o){const c=(0,Ug._1)(n,"dy","avgPoolGrad"),f=(0,Ug._1)(r,"input","avgPoolGrad");hs.hu(f.rank===c.rank,()=>`Rank of input (${f.rank}) does not match rank of dy (${c.rank})`);let m=f,_=c,x=!1;3===f.rank&&(x=!0,m=(0,ji.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),_=(0,ji.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]])),hs.hu(4===_.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${_.rank}.`),hs.hu(4===m.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${m.rank}.`);const L=xm.BV.runKernel(yn.RO,{dy:_,input:m},{filterSize:t,strides:s,pad:o});return x?(0,ji.X)(L,[L.shape[1],L.shape[2],L.shape[3]]):L}}),HB={kernelName:yn.Jh,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{filterSize:o,strides:c,pad:f}=t;return{x:()=>WB(n,s,o,c,f)}}};var r1=v(4291);const UB={kernelName:yn.XL,inputsToSave:["a","b"],gradFunc:(n,r,t)=>{const[s,o]=r,{transposeA:c,transposeB:f}=t;return c||f?!c&&f?{a:()=>(0,r1.O)(n,o,!1,!1),b:()=>(0,r1.O)(n,s,!0,!1)}:c&&!f?{a:()=>(0,r1.O)(o,n,!1,!0),b:()=>(0,r1.O)(s,n,!1,!1)}:{a:()=>(0,r1.O)(o,n,!0,!0),b:()=>(0,r1.O)(n,s,!0,!0)}:{a:()=>(0,r1.O)(n,o,!1,!0),b:()=>(0,r1.O)(s,n,!0,!1)}}};var ZW=v(1705);const eN={kernelName:yn.zw,gradFunc:(n,r,t)=>{const{blockShape:s,crops:o}=t;return{x:()=>(0,ZW.f)(n,s,o)}}},tN={kernelName:yn.Ly,gradFunc:(n,r,t)=>{const o=t.inputShape,c=t.shape,f=Array.from(c);for(let _=o.length-1;_>=0;_--)if(o[_]===c[_])f[_]=1;else if(1!==o[_])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${c}].`);const m=[];for(let _=0;_<f.length;_++)f[_]>1&&m.push(_);return{x:()=>(0,Jo.S)(n,m,!0)}}},qne={kernelName:yn.RF,gradFunc:n=>({x:()=>n.clone()})},YB={kernelName:yn.gJ,gradFunc:n=>({x:()=>(0,_u.P)(n)})};var _2=v(4239),Sw=v(521),JW=v(7369),Cb=v(8793);const ere={kernelName:yn.xn,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{clipValueMin:o,clipValueMax:c}=t;return{x:()=>(0,Cb.a)((0,JW.H)((0,_2.b)(s,o),(0,Sw.z)(s,c)),n,(0,_u.P)(n))}}},Aw={kernelName:yn.yj,inputsToSave:["x"],gradFunc:YW.gradFunc};var y2=v(633);const tre={kernelName:yn.Eh,saveAllInputs:!0,gradFunc:(n,r,t)=>{const s=r.map(_=>_.shape),{axis:o}=t,c=(0,hs.EC)(o,r[0].shape)[0],f=s.map(_=>_[c]);return(0,y2.V)(n,f,c).map(_=>()=>_)}};var QW=v(4867),qW=v(8445),Yg=v(7202);const GB={kernelName:yn.mh,inputsToSave:["x","filter"],gradFunc:(n,r,t)=>{const[s,o]=r,{dilations:c,strides:f,pad:m,dataFormat:_}=t;return hs.hu(Yg.I0(c),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${c}'`),{x:()=>(0,qW._)(s.shape,n,o,f,m,_),filter:()=>(0,QW.p)(s,n,o.shape,f,m,_)}}};var nre=v(6509);const rre={kernelName:yn.wm,inputsToSave:["dy","filter"],gradFunc:(n,r,t)=>{const[s,o]=r,{strides:c,pad:f,dataFormat:m,dimRoundingMode:_}=t;return{dy:()=>(0,nre.T)(n,o,c,f,m,1,_),filter:()=>(0,QW.p)(n,s,o.shape,c,f,m,_)}}},ire=(0,Mw.op)({conv3DBackpropFilter_:function(n,r,t,s,o){let c=n;4===n.rank&&(c=(0,ji.X)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));let f=r;return 4===f.rank&&(f=(0,ji.X)(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),hs.hu(5===c.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${c.shape}.`),hs.hu(5===f.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${f.shape}.`),hs.hu(5===t.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${t}.`),hs.hu(c.shape[4]===t[3],()=>`Error in conv3dDerFilter: depth of input ${c.shape[4]}) must match input depth in filter (${t[3]}.`),hs.hu(f.shape[4]===t[4],()=>`Error in conv3dDerFilter: depth of dy (${f.shape[4]}) must match output depth for filter (${t[4]}).`),xm.BV.runKernel(yn.o2,{x:c,dy:f},{strides:s,pad:o,filterShape:t})}});var sre=v(8921);const are={kernelName:yn.x1,inputsToSave:["x","filter"],gradFunc:(n,r,t)=>{const{dilations:s,strides:o,pad:c}=t;hs.hu((0,Yg.I0)(s),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const[f,m]=r;return{x:()=>(0,sre._)(f.shape,n,m,o,c),filter:()=>ire(f,n,m.shape,o,c)}}};var ore=v(1969);const KB={kernelName:yn.mc,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)((0,bm.W)((0,ore.O)((0,fs.p)(t,"float32"))),n)}}};var ure=v(3981);const lre={kernelName:yn.TR,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)((0,ure.R)((0,fs.p)(t,"float32")),n)}}};var i1=v(2745),cre=v(5023),nN=v(3111);const XB={kernelName:yn.iH,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{axis:o,exclusive:c,reverse:f}=t;return{x:()=>{const m=(0,i1.Q3)([o],s.rank);let _=(0,cre.z)(n,o,c,!f);return null!=m&&(_=(0,nN.p)(_,m)),_}}}};var v2=v(527),rN=v(3905);const dre={kernelName:yn.ci,inputsToSave:["x","filter"],gradFunc:(n,r,t)=>{const{dilations:s,strides:o,pad:c,dimRoundingMode:f}=t,m=null==s?[1,1]:s;hs.hu(Yg.I0(m),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${m}'`);const[_,x]=r;return hs.hu(4===_.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${_.rank}.`),hs.hu(4===x.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${x.rank}.`),hs.hu(_.shape[3]===x.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${_.shape[3]}) must match the inChannels dimension in filter ${x.shape[2]}.`),hs.hu(Yg.jT(o,m),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${o} and dilations '${m}'.`),null!=f&&hs.hu(hs.GN(c),()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${f} but got pad ${c}.`),{x:()=>(0,rN.v)(_.shape,n,x,o,c,m,f),filter:()=>(0,v2.z)(_,n,x.shape,o,c,m,f)}}},fre={kernelName:yn.p4,inputsToSave:["x","filter"],gradFunc:(n,r,t)=>{const[s,o]=r,c={x:s,filter:o,dy:n},f={x:s,filter:o,dy:n};return{x:()=>xm.BV.runKernel(yn.ek,c,t),filter:()=>xm.BV.runKernel(yn.Vn,f,t)}}},hre={kernelName:yn.SX,outputsToSave:[!0],gradFunc:(n,r)=>{const[t]=r,s={dy:n,y:t};return{x:()=>xm.BV.runKernel(yn.HE,s)}}};var iN=v(835);const pre={kernelName:yn.Om,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r,s=(0,Dr.d)((0,iN.Q)((0,bm.W)((0,md.h)(t))),2/Math.sqrt(Math.PI));return{x:()=>(0,Dr.d)(n,s)}}},eH={kernelName:yn.NE,outputsToSave:[!0],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,t)}}},mre={kernelName:yn.YF,inputsToSave:["input"],gradFunc:(n,r)=>{const[t]=r;return{input:()=>(0,ji.X)(n,t.shape)}}},gre={kernelName:yn.Y0,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,(0,iN.Q)(t))}}},Eb={kernelName:yn.OR,gradFunc:n=>({x:()=>(0,_u.P)(n)})},_re={kernelName:yn.je,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=(0,xo.$N)(t.shape,s.shape);return{a:()=>{const m=(0,ul.h)(n,(0,fs.p)(s,"float32")),_=(0,xo.RR)(t.shape,o);return _.length>0?(0,ji.X)((0,Jo.S)(m,_),t.shape):m},b:()=>{let m=(0,Dr.d)(n,(0,fs.p)(t,"float32"));const _=(0,xo.RR)(s.shape,o);_.length>0&&(m=(0,ji.X)((0,Jo.S)(m,_),s.shape));const x=(0,md.h)(s);return(0,bm.W)((0,ul.h)(m,(0,fs.p)(x,"float32")))}}}};var tH=v(242),yre=v(3063);const ZB={kernelName:yn.sH,inputsToSave:["x","mean","variance","scale"],gradFunc:(n,r,t)=>{const{varianceEpsilon:s}=t,[o,c,f,m]=r,_=null==m?(0,Ml.i)(1):m,x=(0,xo.RR)(c.shape,o.shape),E=[];if(1===c.rank){for(let Ee=0;Ee<o.shape.length-1;++Ee)E.push(o.shape[Ee]);E.push(1)}const T=(0,wp.l)(o,c),L=(0,Dr.d)(n,_),z=(0,tH.b)((0,Cp.I)(f,(0,Ml.i)(s))),X=(0,Dr.d)((0,Dr.d)((0,Dr.d)(z,z),z),(0,Ml.i)(-.5));return{x:()=>(0,ji.X)((0,Dr.d)((0,Dr.d)(n,1===c.rank?(0,yre.G)((0,ji.X)(z,[1,1,1,c.shape[0]]),E):z),_),o.shape),mean:()=>{let Ee=(0,Dr.d)((0,Dr.d)(z,(0,Ml.i)(-1)),L);return 1===c.rank&&(Ee=(0,Jo.S)(Ee,x)),(0,ji.X)(Ee,c.shape)},variance:()=>{let Ee=(0,Dr.d)((0,Dr.d)(X,T),L);return 1===c.rank&&(Ee=(0,Jo.S)(Ee,x)),(0,ji.X)(Ee,c.shape)},scale:()=>{const Ee=(0,Dr.d)(T,z);let He=(0,Dr.d)(n,Ee);return 1===c.rank&&(He=(0,Jo.S)(He,x)),(0,ji.X)(He,c.shape)},offset:()=>{let Ee=n;return 1===c.rank&&(Ee=(0,Jo.S)(Ee,x)),(0,ji.X)(Ee,c.shape)}}}};var vre=v(6442);const bre={kernelName:yn.qi,inputsToSave:["x","indices"],gradFunc:(n,r,t)=>{const[s,o]=r,{axis:c}=t,f=(0,hs.EC)(c,s.shape)[0];return{x:()=>{const _=s.shape,x=o.size,E=_.slice(0,f),T=E.length,L=_.slice(c,_.length).slice(1),z=L.length,X=nH(0,T),Q=nH(T+1,T+1+z),ne=kw([E,[x],L]),pe=(0,ji.X)(n,ne),fe=(0,ji.X)(o,[x]),ke=kw([[T],X,Q]),Ee=(0,nN.p)(pe,ke);let He=(0,vre.p)(Ee,fe,s.shape[f]);const at=(0,i1.LJ)(ke);return He=(0,nN.p)(He,at),He},indices:()=>o}}};function nH(n,r){const t=[];for(let s=n;s<r;++s)t.push(s);return t}function kw(n){const r=[];for(let t=0;t<n.length;++t)for(let s=0;s<n[t].length;++s)r.push(n[t][s]);return r}const xre={kernelName:yn.Ac,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r;return{a:()=>(0,_u.P)(t),b:()=>(0,_u.P)(s)}}},Dre={kernelName:yn.iJ,gradFunc:n=>({x:()=>(0,fs.p)(n,"float32")})},sN={kernelName:yn.av,gradFunc:n=>({x:()=>(0,_u.P)(n)})},rH={kernelName:yn.iW,gradFunc:n=>({x:()=>(0,_u.P)(n)})},iH={kernelName:yn.r7,gradFunc:n=>({x:()=>(0,_u.P)(n)})};var b2=v(7844);const wre={kernelName:yn.J$,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{alpha:o}=t,c=(0,b2.p)(s,0);return{x:()=>(0,Cb.a)(c,n,(0,Dr.d)(n,o))}}},JB={kernelName:yn.kU,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,Cp.I)(t,1))}}},QB={kernelName:yn.Zb,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,fs.p)(t,"float32"))}}},Cre={kernelName:yn.qC,inputsToSave:[],outputsToSave:[!0],gradFunc:(n,r,t)=>{const[s]=r,{axis:o}=t;return{logits:()=>{const f=(0,iN.Q)(s);return(0,wp.l)(n,(0,Dr.d)((0,Jo.S)(n,o,!0),f))}}}},Ere=(0,Mw.op)({localResponseNormalizationBackprop_:function(n,r,t,s=5,o=1,c=1,f=.5){return xm.BV.runKernel(yn.Hh,{x:n,y:r,dy:t},{depthRadius:s,bias:o,alpha:c,beta:f})}}),Mre={kernelName:yn.eZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,r,t)=>{const[s,o]=r,{depthRadius:c,bias:f,alpha:m,beta:_}=t;return{x:()=>Ere(s,o,n,c,f,m,_)}}};var Sre=v(5393);function sH(n,r,t,s){return r.rank<t.rank&&(r=(0,ji.X)(r,i1.rv(r.shape,s))),n.rank<t.rank&&(n=(0,ji.X)(n,i1.rv(n.shape,s))),{x:()=>(0,Dr.d)(n,(0,fs.p)((0,Sre.D)(t,r),n.dtype))}}const qB={kernelName:yn.Yo,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,r,t)=>{const s=t,{reductionIndices:o}=s,c=r[0],_=sH(n,r[1],c,hs.EC(o,c.shape));return{x:()=>_.x()}}};var Are=v(9027);const Tre={kernelName:yn.BM,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r;return{a:()=>(0,Dr.d)(n,(0,fs.p)((0,_2.b)(t,s),"float32")),b:()=>(0,Dr.d)(n,(0,fs.p)((0,Are.d)(t,s),"float32"))}}},Ire=(0,Mw.op)({maxPool3dGrad_:function(n,r,t,s,o,c,f){const m=(0,Ug._1)(n,"dy","maxPool3dGrad"),_=(0,Ug._1)(r,"input","maxPool3dGrad"),x=(0,Ug._1)(t,"output","maxPool3dGrad");let E=m,T=_,L=x,z=!1;4===_.rank&&(z=!0,E=(0,ji.X)(m,[1,m.shape[0],m.shape[1],m.shape[2],m.shape[3]]),T=(0,ji.X)(_,[1,_.shape[0],_.shape[1],_.shape[2],_.shape[3]]),L=(0,ji.X)(x,[1,x.shape[0],x.shape[1],x.shape[2],x.shape[3]])),hs.hu(5===E.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${E.rank}.`),hs.hu(5===T.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${T.rank}.`),hs.hu(5===L.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${L.rank}.`),null!=f&&hs.hu(hs.GN(c),()=>`Error in maxPool3dGrad: pad must be an integer when using, dimRoundingMode ${f} but got pad ${c}.`);const ne=xm.BV.runKernel(yn.OU,{dy:E,input:T,output:L},{filterSize:s,strides:o,pad:c,dimRoundingMode:f});return z?(0,ji.X)(ne,[ne.shape[1],ne.shape[2],ne.shape[3],ne.shape[4]]):ne}}),Nre={kernelName:yn.OA,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,r,t)=>{const[s,o]=r,{filterSize:c,strides:f,pad:m,dimRoundingMode:_}=t;return{x:()=>Ire(n,s,o,c,f,m,_)}}},Ore=(0,Mw.op)({maxPoolGrad_:function(n,r,t,s,o,c,f){const m=(0,Ug._1)(n,"dy","maxPoolGrad"),_=(0,Ug._1)(r,"input","maxPoolGrad"),x=(0,Ug._1)(t,"output","maxPoolGrad");return hs.hu(_.rank===m.rank,()=>`Rank of input (${_.rank}) does not match rank of dy (${m.rank})`),hs.hu(4===m.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${m.rank}.`),hs.hu(4===_.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${_.rank}.`),null!=f&&hs.hu(hs.GN(c),()=>`Error in maxPoolGrad: pad must be an integer when using, dimRoundingMode ${f} but got pad ${c}.`),xm.BV.runKernel(yn.OV,{dy:m,input:_,output:x},{filterSize:s,strides:o,pad:c,dimRoundingMode:f})}}),Gg={kernelName:yn.mT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,r,t)=>{const[s,o]=r,{filterSize:c,strides:f,pad:m}=t;return{x:()=>Ore(n,s,o,c,f,m)}}};var Fr=v(6217);const _n={kernelName:yn.q2,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{axis:o}=t,c=hs.EC(o,s.shape),m=(0,i1.kz)(s.shape,c)[1],_=hs.NA(m);return{x:()=>{const E=s.shape.slice();c.forEach(z=>{E[z]=1});const T=(0,ji.X)(n,E);return(0,ul.h)((0,Dr.d)(T,(0,Fr.i)(s.shape,"float32")),_)}}}},gd={kernelName:yn.c1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,r,t)=>{const s=t,{axis:o}=s,[c,f]=r,_=sH(n,f,c,hs.EC(o,c.shape));return{x:()=>_.x()}}},Ba={kernelName:yn.q8,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r;return{a:()=>(0,Dr.d)(n,(0,fs.p)((0,Sw.z)(t,s),"float32")),b:()=>(0,Dr.d)(n,(0,fs.p)((0,b2.p)(t,s),"float32"))}}};var E_=v(8577);const x2={kernelName:yn.jQ,inputsToSave:["x"],gradFunc:(n,r,t)=>{const s=r[0],{paddings:o}=t,c=o.map(f=>f[0]);return{x:()=>(0,E_.t)(n,c,s.shape)}}};var Mb=v(3849);const s1={kernelName:yn.Vb,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=(0,xo.$N)(t.shape,s.shape);return{a:()=>{const m=(0,xo.RR)(t.shape,o);return m.length>0?(0,ji.X)((0,Jo.S)(n,m),t.shape):n},b:()=>{const m=(0,Dr.d)(n,(0,bm.W)((0,Mb.G)((0,ul.h)(t,s)))),_=(0,xo.RR)(s.shape,o);return _.length>0?(0,ji.X)((0,Jo.S)(m,_),s.shape):m}}}},aN={kernelName:yn.wY,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=(0,xo.$N)(t.shape,s.shape);return{a:()=>{const m=(0,Dr.d)(n,(0,fs.p)(s,"float32")),_=(0,xo.RR)(t.shape,o);return _.length>0?(0,ji.X)((0,Jo.S)(m,_),t.shape):m},b:()=>{const m=(0,Dr.d)(n,(0,fs.p)(t,"float32")),_=(0,xo.RR)(s.shape,o);return _.length>0?(0,ji.X)((0,Jo.S)(m,_),s.shape):m}}}},Sb={kernelName:yn.ku,gradFunc:n=>({x:()=>(0,bm.W)(n)})};var Of=v(7799);const D2={kernelName:yn.we,inputsToSave:["indices"],gradFunc:(n,r)=>{const t=r[0];return{indices:()=>(0,Of.l)(t.shape,"float32")}}},Lre={kernelName:yn.qW,gradFunc:n=>({x:()=>(0,_u.P)(n)})};var Fre=v(230);const Pre={kernelName:yn.Qi,saveAllInputs:!0,gradFunc:(n,r,t)=>{const{axis:s}=t;return(0,Fre.H)(n,s).map(c=>()=>c)}},aH={kernelName:yn.ly,inputsToSave:["x"],gradFunc:(n,r,t)=>{const s=r[0],{paddings:o}=t,c=o.map(f=>f[0]);return{x:()=>(0,E_.t)(n,c,s.shape)}}};var Rre=v(8873),e$=v(2293);const Bre={kernelName:yn.pe,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(n,r)=>{const[t,s,o]=r,c=t,f=s,m=xo.$N(c.shape,f.shape);return{a:()=>{const E=(0,fs.p)(f,"float32");let T=(0,Dr.d)(n,(0,Dr.d)(E,(0,e$.s)(c,(0,wp.l)(E,(0,Ml.i)(1)))));const L=xo.RR(c.shape,m);return L.length>0&&(T=(0,Jo.S)(T,L)),(0,ji.X)(T,c.shape)},b:()=>{const E=(0,b2.p)(c,0),T=(0,Cb.a)(E,(0,Rre.c)(c),(0,_u.P)(c));let L=(0,Dr.d)(n,(0,Dr.d)(o,T));const z=xo.RR(f.shape,m);return z.length>0&&(L=(0,Jo.S)(L,z)),(0,ji.X)(L,f.shape)}}}},$re={kernelName:yn.o0,inputsToSave:["x","alpha"],gradFunc:(n,r)=>{const[t,s]=r,o=(0,b2.p)(t,0);return{x:()=>(0,Cb.a)(o,n,(0,Dr.d)(n,s)),alpha:()=>{let c=(0,Cb.a)(o,(0,_u.P)(n),(0,Dr.d)(n,t));const f=(0,xo.RR)(s.shape,n.shape);return f.length>0&&(c=(0,Jo.S)(c,f)),(0,ji.X)(c,s.shape)}}}},Vre={kernelName:yn.oH,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=xo.$N(t.shape,s.shape);return{a:()=>{const m=(0,ul.h)(n,(0,fs.p)(s,"float32")),_=xo.RR(t.shape,o);return _.length>0?(0,ji.X)((0,Jo.S)(m,_),t.shape):m},b:()=>{let m=(0,Dr.d)(n,(0,fs.p)(t,"float32"));const _=xo.RR(s.shape,o);_.length>0&&(m=(0,ji.X)((0,Jo.S)(m,_),s.shape));const x=(0,md.h)(s);return(0,bm.W)((0,ul.h)(m,(0,fs.p)(x,"float32")))}}}},zre={kernelName:yn.$H,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,bm.W)((0,md.h)(t)))}}},jre={kernelName:yn.Sb,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r,s=(0,Dr.d)((0,Sw.z)(t,6),(0,Rh.N)(t));return{x:()=>(0,Dr.d)(n,(0,fs.p)(s,"float32"))}}},Wre={kernelName:yn.qk,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,(0,fs.p)((0,Rh.N)(t),"float32"))}}},Jl={kernelName:yn.HZ,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ji.X)(n,t.shape)}}},Hre={kernelName:yn._Y,inputsToSave:["images"],gradFunc:(n,r,t)=>{const[s]=r,o={dy:n,images:s};return{images:()=>xm.BV.runKernel(yn.zb,o,t)}}},Ure={kernelName:yn.dp,inputsToSave:["images"],gradFunc:(n,r,t)=>{const[s]=r,o={dy:n,images:s};return{images:()=>xm.BV.runKernel(yn.Hm,o,t)}}};var Yre=v(7661);const Gre={kernelName:yn.mK,gradFunc:(n,r,t)=>{const{dims:s}=t,o=(0,hs.EC)(s,n.shape);return{x:()=>(0,Yre.G)(n,o)}}},Kre={kernelName:yn.e0,gradFunc:n=>({x:()=>(0,_u.P)(n)})},t$={kernelName:yn.bV,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,bm.W)((0,ul.h)(n,(0,Dr.d)((0,e$.s)(t,1.5),2)))}}};var n$=v(5280);const oH={kernelName:yn.Ph,inputsToSave:["condition"],gradFunc:(n,r)=>{const[t]=r;return{condition:()=>(0,fs.p)((0,_u.P)(t),"float32"),t:()=>(0,Dr.d)(n,(0,fs.p)(t,n.dtype)),e:()=>(0,Dr.d)(n,(0,fs.p)((0,n$.h)(t),n.dtype))}}};var uH=v(287);const Oc={kernelName:yn.oF,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>{const s=(0,b2.p)(t,(0,Ml.i)(0)),o=(0,Ml.i)(uH.y),c=(0,Ml.i)(uH.$),f=(0,Dr.d)(n,c),m=(0,Dr.d)((0,Dr.d)(n,o),(0,iN.Q)((0,fs.p)(t,"float32")));return(0,Cb.a)(s,f,m)}}}},w2={kernelName:yn.a5,outputsToSave:[!0],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,(0,Dr.d)(t,(0,wp.l)((0,Ml.i)(1),t)))}}},Xre={kernelName:yn.i5,gradFunc:n=>({x:()=>(0,_u.P)(n)})};var lH=v(1588);const oN={kernelName:yn.RQ,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)((0,lH.m)((0,fs.p)(t,"float32")),n)}}};var M_=v(3538);const r$={kernelName:yn.w3,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)((0,M_.f)((0,fs.p)(t,"float32")),n)}}};var C2=v(1824),Zre=v(4361);const E2={kernelName:yn.p2,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{begin:o,size:c}=t,f=s.shape,[m,_]=(0,Zre.parseSliceParams)(s,o,c),x=[];for(let E=0;E<n.rank;E++)x.push([m[E],f[E]-m[E]-_[E]]);return{x:()=>(0,C2.v)(n,x)}}},M2={kernelName:yn.Gc,outputsToSave:[!0],gradFunc:(n,r,t)=>{const[s]=r,{dim:o}=t,f=(0,Dr.d)(n,s);return{logits:()=>(0,wp.l)(f,(0,Dr.d)((0,Jo.S)(f,[o],!0),s))}}};var uN=v(4655);const Jre={kernelName:yn.MR,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,(0,uN.X)(t))}}};var cH=v(1601);const lN={kernelName:yn.TQ,gradFunc:(n,r,t)=>{const{blockShape:s,paddings:o}=t;return{x:()=>(0,cH.E)(n,s,o)}}};var Qre=v(4664);const i$={kernelName:yn.L8,gradFunc:(n,r,t)=>{const{axis:s}=t;return{x:()=>(0,Qre.z)(n,s)}}},qre={kernelName:yn.FK,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,Dr.d)((0,Dp._)((0,fs.p)(t,"float32")),2))}}},eie={kernelName:yn.bK,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)(n,(0,Dr.d)((0,fs.p)(t,"float32"),2))}}},s$={kernelName:yn._t,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=(0,Ml.i)(2);return{a:()=>(0,Dr.d)(n,(0,Dr.d)(o,(0,wp.l)(t,s))),b:()=>(0,Dr.d)(n,(0,Dr.d)(o,(0,wp.l)(s,t)))}}},tie={kernelName:yn.h8,gradFunc:n=>({x:()=>(0,_u.P)(n)})},nie={kernelName:yn.Tr,inputsToSave:["a","b"],gradFunc:(n,r)=>{const[t,s]=r,o=xo.$N(t.shape,s.shape);return{a:()=>{let m=n;const _=xo.RR(t.shape,o);return _.length>0&&(m=(0,Jo.S)(m,_)),(0,ji.X)(m,t.shape)},b:()=>{let m=n;const _=xo.RR(s.shape,o);return _.length>0&&(m=(0,Jo.S)(m,_)),(0,ji.X)((0,bm.W)(m),s.shape)}}}},dH={kernelName:yn.GB,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,o=s.shape.slice(),{axis:c}=t;(0,hs.EC)(c,s.shape).forEach(x=>{o[x]=1});const m=(0,ji.X)(n,o),_=(0,Dr.d)(m,(0,Fr.i)(s.shape,"float32"));return{x:()=>_}}},rie={kernelName:yn.sE,inputsToSave:["x"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,ul.h)(n,(0,md.h)((0,lH.m)(t)))}}},iie={kernelName:yn.MI,outputsToSave:[!0],gradFunc:(n,r)=>{const[t]=r;return{x:()=>(0,Dr.d)((0,wp.l)((0,Ml.i)(1),(0,md.h)(t)),n)}}},sie={kernelName:yn.n9,inputsToSave:["x"],gradFunc:(n,r,t)=>{const[s]=r,{reps:o}=t;return{x:()=>{let f=(0,_u.P)(s);if(1===s.rank)for(let m=0;m<o[0];++m)f=(0,Cp.I)(f,(0,E_.t)(n,[m*s.shape[0]],[s.shape[0]]));else if(2===s.rank)for(let m=0;m<o[0];++m)for(let _=0;_<o[1];++_)f=(0,Cp.I)(f,(0,E_.t)(n,[m*s.shape[0],_*s.shape[1]],[s.shape[0],s.shape[1]]));else if(3===s.rank)for(let m=0;m<o[0];++m)for(let _=0;_<o[1];++_)for(let x=0;x<o[2];++x)f=(0,Cp.I)(f,(0,E_.t)(n,[m*s.shape[0],_*s.shape[1],x*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(4!==s.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${s.rank} tensors yet.`);for(let m=0;m<o[0];++m)for(let _=0;_<o[1];++_)for(let x=0;x<o[2];++x)for(let E=0;E<o[3];++E)f=(0,Cp.I)(f,(0,E_.t)(n,[m*s.shape[0],_*s.shape[1],x*s.shape[2],E*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return f}}}},aie={kernelName:yn.G3,gradFunc:(n,r,t)=>{const s=t,{perm:o}=s,c=i1.LJ(o);return{x:()=>(0,nN.p)(n,c)}}};var oie=v(1440);const uie={kernelName:yn.To,gradFunc:(n,r,t)=>{const s=t,{axis:o}=s;return{value:()=>(0,oie.k)(n,o)}}};var fH=v(8457),Lf=v(8181),hH=v(8060);const lie={kernelName:yn.Qv,inputsToSave:["segmentIds"],gradFunc:(n,r)=>{const[t]=r;return{x:()=>function(n,r){const t=(0,hH.g)(r,(0,_u.P)(r)),s=(0,Lf.I)(n,t);let o=(0,_2.b)(r,(0,Ml.i)(0,"int32"));const c=s.rank-o.rank;for(let m=0;m<c;++m)o=(0,fH.d)(o,m+1);o=(0,JW.H)(o,(0,Fr.i)(s.shape,"bool"));const f=(0,_u.P)(s);return(0,Cb.a)(o,s,f)}(n,t)}}},cie={kernelName:yn.Ru,gradFunc:n=>({x:()=>(0,_u.P)(n)})};var die=v(8415);const a$=[YW,Gne,Kne,GW,Xne,RB,BB,$B,VB,Zne,Jne,Qne,jB,HB,UB,eN,tN,qne,YB,ere,Aw,tre,rre,GB,are,KB,lre,XB,dre,fre,Vre,hre,pre,eH,mre,gre,_re,Eb,ZB,bre,xre,Dre,sN,rH,iH,wre,JB,QB,Cre,Mre,qB,qB,Tre,Nre,Gg,_n,gd,Ba,x2,s1,aN,Sb,D2,Lre,Pre,aH,aH,Bre,$re,zre,jre,Wre,Jl,Hre,Ure,Gre,Kre,t$,oH,Oc,w2,Xre,oN,r$,E2,M2,Jre,lN,lN,i$,i$,qre,s$,eie,tie,nie,dH,rie,iie,sie,aie,uie,lie,cie];for(const n of a$)(0,die.Li)(n);let S2;function ll(){return null==S2&&(S2=(0,w.backend)().epsilon()),S2}v(925);class ts extends Error{constructor(r){super(r),Object.setPrototypeOf(this,ts.prototype)}}class tf extends Error{constructor(r){super(r),Object.setPrototypeOf(this,tf.prototype)}}class Dt extends Error{constructor(r){super(r),Object.setPrototypeOf(this,Dt.prototype)}}class Sr extends Error{constructor(r){super(r),Object.setPrototypeOf(this,Sr.prototype)}}class A2 extends Error{constructor(r){super(r),Object.setPrototypeOf(this,A2.prototype)}}function a1(n,r){if(Array.isArray(n)){let t=[];for(let s=0;s<r;s++)t=t.concat(n);return t}{const t=new Array(r);return t.fill(n),t}}function Bh(n,r){if(!n)throw new A2(r)}function gH(n,r){let t=0;for(const s of n)s===r&&t++;return t}function nf(n){return 1===n.length?n[0]:n}function fo(n){return Array.isArray(n)?n:[n]}function S_(n){const t=n.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Ab(n){return n.length<=1||-1===n.indexOf("_")?n:n.replace(/[_]+(\w|$)/g,(r,t)=>t.toUpperCase())}Error;let Ep={};function o$(n){if(null==n)return null;const r={};return r.className=n.getClassName(),r.config=n.getConfig(),r}function u$(n){if(null!=n&&"object"==typeof n)if(Array.isArray(n))n.forEach(r=>u$(r));else{const r=Object.keys(n);for(const t of r){const s=n[t];null!=s&&"object"==typeof s&&(Array.isArray(s)||"ndarray"!==s.type||"number"!=typeof s.value?u$(s):n[t]=s.value)}}}function Nw(n,r={},t={},s="object",o=!1){if("string"==typeof n){const c=n;let f;if(c in t)f=t[c];else if(c in Ep)f=Ep[c];else if(f=r[c],null==f)throw new Dt(`Unknown ${s}: ${n}. This may be due to one of the following reasons:\n1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return f}{const c=n;if(null==c.className||null==c.config)throw new Dt(`${s}: Improper config format: ${JSON.stringify(c)}.\n'className' and 'config' must set.`);const f=c.className;let m,_;if(f in t?[m,_]=t[f]:f in Ep?[m,_]=Ep.className:f in r&&([m,_]=r[f]),null==m)throw new Dt(`Unknown ${s}: ${f}. This may be due to one of the following reasons:\n1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=_){const x={};for(const z of Object.keys(Ep))x[z]=Ep[z];for(const z of Object.keys(t))x[z]=t[z];c.config.customObjects=x;const T=Object.assign({},Ep);for(const z of Object.keys(t))Ep[z]=t[z];u$(c.config);const L=_(m,c.config,t,o);return Ep=Object.assign({},T),L}{const x=Object.assign({},Ep);for(const T of Object.keys(t))Ep[T]=t[T];const E=new m(c.config);return Ep=Object.assign({},x),E}}}function T2(n,r){return-1*function(n,r){return n<r?-1:n>r?1:0}(n,r)}function Kg(n){if(null==n)return n;const r=[];for(const t of n)-1===r.indexOf(t)&&r.push(t);return r}function hie(n){if(null==n)throw new Dt(`Invalid value in obj: ${JSON.stringify(n)}`);for(const r in n)if(n.hasOwnProperty(r))return!1;return!0}function o1(n,r,t){if(null!=t&&n.indexOf(t)<0)throw new Dt(`${t} is not a valid ${r}.  Valid values are ${n} or null/undefined.`)}function fN(n,r,t=0,s=1/0){return Bh(t>=0),Bh(s>=t),Array.isArray(n)&&n.length>=t&&n.length<=s&&n.every(o=>typeof o===r)}function Sl(n,r){Array.isArray(n)?(w.util.assert(n.length>0,()=>`${r} is unexpectedly an empty array.`),n.forEach((t,s)=>Sl(t,`element ${s+1} of ${r}`))):w.util.assert(Number.isInteger(n)&&n>0,()=>`Expected ${r} to be a positive integer, but got ${_H(n)}.`)}function _H(n){return null===n?"null":Array.isArray(n)?"["+n.map(r=>_H(r)).join(",")+"]":"string"==typeof n?`"${n}"`:`${n}`}function k2(n){return"relu"===n?"relu":"linear"===n?"linear":"elu"===n?"elu":null}function pN(n,r){return(0,w.tidy)(()=>w.sqrt(w.sum(w.mul(n,n),r,!0)))}class Tb extends w.serialization.Serializable{getConfig(){return{}}}let l$=(()=>{class n extends Tb{constructor(t){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=t.maxValue?t.maxValue:this.defaultMaxValue,this.axis=null!=t.axis?t.axis:this.defaultAxis}apply(t){return(0,w.tidy)(()=>{const s=pN(t,this.axis),o=w.clipByValue(s,0,this.maxValue);return w.mul(t,w.div(o,w.add(ll(),s)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}return n.className="MaxNorm",n})();w.serialization.registerClass(l$);let c$=(()=>{class n extends Tb{constructor(t){super(),this.defaultAxis=0,this.axis=null!=t.axis?t.axis:this.defaultAxis}apply(t){return(0,w.tidy)(()=>w.div(t,w.add(ll(),pN(t,this.axis))))}getConfig(){return{axis:this.axis}}}return n.className="UnitNorm",n})();w.serialization.registerClass(c$);let Xg=(()=>{class n extends Tb{apply(t){return w.relu(t)}}return n.className="NonNeg",n})();w.serialization.registerClass(Xg);let mie=(()=>{class n extends Tb{constructor(t){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=t.minValue?t.minValue:this.defaultMinValue,this.maxValue=null!=t.maxValue?t.maxValue:this.defaultMaxValue,this.rate=null!=t.rate?t.rate:this.defaultRate,this.axis=null!=t.axis?t.axis:this.defaultAxis}apply(t){return(0,w.tidy)(()=>{const s=pN(t,this.axis),o=w.add(w.mul(this.rate,w.clipByValue(s,this.minValue,this.maxValue)),w.mul(1-this.rate,s));return w.mul(t,w.div(o,w.add(ll(),s)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}return n.className="MinMaxNorm",n})();w.serialization.registerClass(mie);const yH={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function cl(n){return o$(n)}function d$(n,r={}){return Nw(n,w.serialization.SerializationMap.getMap().classNameMap,r,"constraint")}function dl(n){return null==n?null:"string"==typeof n?d$({className:n in yH?yH[n]:n,config:{}}):n instanceof Tb?n:d$(n)}const kb=["channelsFirst","channelsLast"],vH=["nearest","bilinear"],bH=["valid","same","causal"],Lw=["max","avg"],I2=["sum","mul","concat","ave"],Ff=new Map;function Ca(n){o1(kb,"DataFormat",n)}function Pf(n){o1(bH,"PaddingMode",n)}function h$(n){o1(Lw,"PoolMode",n)}const Fw=[];function Nb(n,r){Fw.push(n);try{const t=r();return Fw.pop(),t}catch(t){throw Fw.pop(),t}}function Rf(n){if(!wH(n))throw new Error("Not a valid tensor name: '"+n+"'");return(0===Fw.length?"":Fw.join("/")+"/")+n}function xH(n){if(!wH(n))throw new Error("Not a valid tensor name: '"+n+"'");Ff.has(n)||Ff.set(n,0);const r=Ff.get(n);if(Ff.set(n,Ff.get(n)+1),r>0){const t=`${n}_${r}`;return Ff.set(t,1),t}return n}const DH=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function wH(n){return!!n.match(DH)}function N2(n){return n===parseInt(n.toString(),10)}function Cm(n,r,t){null==r&&(r=0),null==t&&(t=n.length);let s=1;for(let o=r;o<t;++o)s*=n[o];return s}function A_(n){if(0===n.length)return Number.NaN;let r=Number.POSITIVE_INFINITY;for(let t=0;t<n.length;t++){const s=n[t];s<r&&(r=s)}return r}function Em(n){if(0===n.length)return Number.NaN;let r=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;t++){const s=n[t];s>r&&(r=s)}return r}function Vh(n,r){if(r<n)throw new Dt(`end (${r}) < begin (${n}) is forbidden.`);const t=[];for(let s=n;s<r;++s)t.push(s);return t}function Ql(n,r){return w.cast(n,r)}function Al(n,r=-1){const t=n.shape.slice();return r<0&&(r=t.length+r+1),t.splice(r,0,1),w.reshape(n,t)}function u1(n,r,t){return(0,w.tidy)(()=>{switch(n.rank){case 1:return w.slice1d(n,r,t);case 2:return w.slice2d(n,[r,0],[t,n.shape[1]]);case 3:return w.slice3d(n,[r,0,0],[t,n.shape[1],n.shape[2]]);case 4:return w.slice4d(n,[r,0,0,0],[t,n.shape[1],n.shape[2],n.shape[3]]);case 5:return w.slice(n,[r,0,0,0,0],[t,n.shape[1],n.shape[2],n.shape[3],n.shape[4]]);case 6:return w.slice(n,[r,0,0,0,0,0],[t,n.shape[1],n.shape[2],n.shape[3],n.shape[4],n.shape[5]]);default:throw new Dt(`sliceAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}})}function y$(n,r,t){return(0,w.tidy)(()=>{switch(n.rank){case 1:return w.slice1d(n,r,t);case 2:return w.slice2d(n,[0,r],[n.shape[0],t]);case 3:return w.slice3d(n,[0,0,r],[n.shape[0],n.shape[1],t]);case 4:return w.slice4d(n,[0,0,0,r],[n.shape[0],n.shape[1],n.shape[2],t]);default:throw new Dt(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function yN(n,r,t,s){return(0,w.tidy)(()=>{switch(n.rank){case 1:return w.slice1d(n,r,t);case 2:switch(s){case 1:return u1(n,r,t);case 2:return y$(n,r,t);default:throw new Dt(`The axis is not within the rank of the tensor ${s}`)}case 3:switch(s){case 1:return u1(n,r,t);case 2:return w.slice3d(n,[0,r,0],[n.shape[0],t,n.shape[2]]);case 3:return y$(n,r,t);default:throw new Dt(`The axis is not within the rank of the tensor ${s}`)}case 4:switch(s){case 1:return u1(n,r,t);case 2:return w.slice4d(n,[0,r,0,0],[n.shape[0],t,n.shape[2],n.shape[3]]);case 3:return w.slice4d(n,[0,0,r,0],[n.shape[0],n.shape[1],t,n.shape[3]]);case 4:return y$(n,r,t);default:throw new Dt(`The axis is not within the rank of the tensor ${s}`)}default:throw new Dt(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function vN(n,r=-1){let t;return r<0&&(t=n[0].rank,r=0!==t?t:0),r===n[0].rank&&(r=-1),w.concat(n,r)}function EH(n,r){switch(n.rank){case 1:return w.concat1d([n,r]);case 2:return w.concat2d([n,r],0);case 3:return w.concat3d([n,r],0);case 4:return w.concat4d([n,r],0);default:throw new Dt(`concatAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}}function v$(n,r){if(Array.isArray(r)||(r=[r]),n.rank!==r.length)throw new Dt(`The length of input n (${r.length}) does not match the number of dimensions in input x (${n.rank})`);return w.tile(n,r)}function bN(n,r=0,t=1,s,o){return w.randomNormal(n,r,t,s,o)}function Sm(n,r,t,s){if(n.rank<2||r.rank<2)throw new Sr(`dot requires both inputs to be rank >= 2 but got x shape = ${n.shape} and y shape = ${r.shape}`);if(r.rank>=3&&n.shape.slice(-1)[0]!==r.shape.slice(-2)[0])throw new Sr(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${n.shape} and  y shape = ${r.shape}`);if(2===n.rank&&2===r.rank)return w.fused.matMul({a:n,b:r,transposeA:!1,transposeB:!1,bias:s?x$(n.rank,s,"channelsLast"):null,activation:t});{const o=n.shape.slice(),c=o.pop();n=w.reshape(n,[-1,c]);const f=r.shape.slice(),m=f.pop(),_=f.pop(),x=[...f,m],E=Array.from({length:r.rank},(X,Q)=>0===Q?r.rank-2:Q<=r.rank-2?Q-1:Q);r=w.reshape(w.transpose(r,E),[_,-1]);const T=[...o,...x];return w.reshape(w.fused.matMul({a:n,b:r,transposeA:!1,transposeB:!1,bias:s?x$(n.rank,s,"channelsLast"):null,activation:t}),T)}}function b$(n,r,t){return(0,w.tidy)(()=>(r=Array.isArray(r)?(0,w.tensor1d)(r,"int32"):w.cast(r,"int32"),w.gather(n,r,t)))}function L2(n){return w.mul(n,n)}function x$(n,r,t){const s=r.shape;if(1!==r.rank&&r.rank!==n)throw new Dt(`Unexpected bias dimensions: ${r.rank}; expected it to be 1 or ${n}`);if(5===n){if("channelsFirst"===t)return w.reshape(r,1===s.length?[1,s[0],1,1,1]:[1,s[3],s[0],s[1],s[2]]);if("channelsLast"===t)return w.reshape(r,1===s.length?[1,1,1,1,s[0]]:[1].concat(s))}else if(4===n){if("channelsFirst"===t)return w.reshape(r,1===s.length?[1,s[0],1,1]:[1,s[2],s[0],s[1]]);if("channelsLast"===t)return w.reshape(r,1===s.length?[1,1,1,s[0]]:[1].concat(s))}else if(3===n){if("channelsFirst"===t)return w.reshape(r,1===s.length?[1,s[0],1]:[1,s[1],s[0]]);if("channelsLast"===t)return w.reshape(r,1===s.length?[1,1,s[0]]:[1].concat(s))}else if(n<3)return r;throw new Dt(`Unsupported input rank by biasAdd: ${r.rank}`)}function Am(n,r,t){return(0,w.tidy)(()=>(null==t&&(t="channelsLast"),Ca(t),w.add(n,x$(n.rank,r,t))))}function MH(n,r,t,s){return(0,w.tidy)(()=>w.dropout(n,r,t,s))}function F2(n,r,t=!1){return t?n():r()}const Die=["fanIn","fanOut","fanAvg"],Tm=["normal","uniform","truncatedNormal"];class rn extends w.serialization.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}w.serialization.registerClass((()=>{class n extends rn{apply(t,s){return(0,w.zeros)(t,s)}}return n.className="Zeros",n})());let Ea=(()=>{class n extends rn{apply(t,s){return(0,w.ones)(t,s)}}return n.className="Ones",n})();w.serialization.registerClass(Ea),w.serialization.registerClass((()=>{class n extends rn{constructor(t){if(super(),"object"!=typeof t)throw new Dt(`Expected argument of type ConstantConfig but got ${t}`);if(void 0===t.value)throw new Dt(`config must have value set but got ${t}`);this.value=t.value}apply(t,s){return(0,w.tidy)(()=>(0,w.mul)((0,w.scalar)(this.value),(0,w.ones)(t,s)))}getConfig(){return{value:this.value}}}return n.className="Constant",n})()),w.serialization.registerClass((()=>{class n extends rn{constructor(t){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=t.minval||this.DEFAULT_MINVAL,this.maxval=t.maxval||this.DEFAULT_MAXVAL,this.seed=t.seed}apply(t,s){return(0,w.randomUniform)(t,this.minval,this.maxval,s)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}return n.className="RandomUniform",n})()),w.serialization.registerClass((()=>{class n extends rn{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,s){if("float32"!==(s=s||"float32")&&"int32"!==s)throw new Sr(`randomNormal does not support dType ${s}.`);return bN(t,this.mean,this.stddev,s,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="RandomNormal",n})()),w.serialization.registerClass((()=>{class n extends rn{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,s){if("float32"!==(s=s||"float32")&&"int32"!==s)throw new Sr(`truncatedNormal does not support dType ${s}.`);return(0,w.truncatedNormal)(t,this.mean,this.stddev,s,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="TruncatedNormal",n})()),w.serialization.registerClass((()=>{class n extends rn{constructor(t){super(),this.gain=null!=t.gain?t.gain:1}apply(t,s){return(0,w.tidy)(()=>{if(2!==t.length||t[0]!==t[1])throw new Dt("Identity matrix initializer can only be used for 2D square matrices.");return(0,w.mul)(this.gain,(0,w.eye)(t[0]))})}getConfig(){return{gain:this.gain}}}return n.className="Identity",n})());let Do=(()=>{class n extends rn{constructor(t){if(super(),t.scale<0)throw new Dt(`scale must be a positive float. Got: ${t.scale}`);this.scale=null==t.scale?1:t.scale,this.mode=null==t.mode?"fanIn":t.mode,function(n){o1(Die,"FanMode",n)}(this.mode),this.distribution=null==t.distribution?"normal":t.distribution,function(n){o1(Tm,"Distribution",n)}(this.distribution),this.seed=t.seed}apply(t,s){const o=function(n,r="channelsLast"){let t,s;if(Ca(r),2===n.length)t=n[0],s=n[1];else if(-1!==[3,4,5].indexOf(n.length)){if("channelsFirst"===r){const o=Cm(n,2);t=n[1]*o,s=n[0]*o}else if("channelsLast"===r){const o=Cm(n,0,n.length-2);t=n[n.length-2]*o,s=n[n.length-1]*o}}else{const o=Cm(n);t=Math.sqrt(o),s=Math.sqrt(o)}return[t,s]}(t),c=o[0],f=o[1];let m=this.scale;if(m/="fanIn"===this.mode?Math.max(1,c):"fanOut"===this.mode?Math.max(1,f):Math.max(1,(c+f)/2),"normal"===this.distribution){const _=Math.sqrt(m);if("float32"!==(s=s||"float32")&&"int32"!==s)throw new Sr(`${this.getClassName()} does not support dType ${s}.`);return(0,w.truncatedNormal)(t,0,_,s,this.seed)}{const _=Math.sqrt(3*m);return(0,w.randomUniform)(t,-_,_,s)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}return n.className="VarianceScaling",n})();w.serialization.registerClass(Do);let Pw=(()=>{class n extends Do{constructor(t){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})}getClassName(){return Do.className}}return n.className="GlorotUniform",n})();w.serialization.registerClass(Pw);let SH=(()=>{class n extends Do{constructor(t){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})}getClassName(){return Do.className}}return n.className="GlorotNormal",n})();w.serialization.registerClass(SH);let AH=(()=>{class n extends Do{constructor(t){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})}getClassName(){return Do.className}}return n.className="HeNormal",n})();w.serialization.registerClass(AH);let TH=(()=>{class n extends Do{constructor(t){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})}getClassName(){return Do.className}}return n.className="HeUniform",n})();w.serialization.registerClass(TH);let kH=(()=>{class n extends Do{constructor(t){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})}getClassName(){return Do.className}}return n.className="LeCunNormal",n})();w.serialization.registerClass(kH);let IH=(()=>{class n extends Do{constructor(t){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})}getClassName(){return Do.className}}return n.className="LeCunNormal",n})();w.serialization.registerClass(IH);let NH=(()=>{class n extends rn{constructor(t){if(super(),this.DEFAULT_GAIN=1,this.gain=null==t.gain?this.DEFAULT_GAIN:t.gain,this.seed=t.seed,null!=this.seed)throw new Sr("Random seed is not implemented for Orthogonal Initializer yet.")}apply(t,s){return(0,w.tidy)(()=>{if(t.length<2)throw new Sr("Shape must be at least 2D.");t[0]*t[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${t[0]*t[1]}) elements: Slowness may result.`);const c=bN(t[0]>t[1]?[t[1],t[0]]:t,0,1,"float32");let f=w.linalg.gramSchmidt(c);return t[0]>t[1]&&(f=(0,w.transpose)(f)),(0,w.mul)(this.gain,f)})}getConfig(){return{gain:this.gain,seed:this.seed}}}return n.className="Orthogonal",n})();w.serialization.registerClass(NH);const OH={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function LH(n,r={}){return Nw(n,w.serialization.SerializationMap.getMap().classNameMap,r,"initializer")}function Qo(n){return o$(n)}function Io(n){if("string"==typeof n){const r=n in OH?OH[n]:n;if("GlorotNormal"===r)return new SH;if("GlorotUniform"===r)return new Pw;if("HeNormal"===r)return new AH;if("HeUniform"===r)return new TH;if("LeCunNormal"===r)return new kH;if("LeCunUniform"===r)return new IH;{const t={};return t.className=r,t.config={},LH(t)}}return n instanceof rn?n:LH(n)}let Cie=0;function R2(){return Cie++}const Sp={};function Rw(n=""){return n in Sp||(Sp[n]=0),Sp[n]+=1,n+Sp[n].toString()}function Fb(n){return Array.isArray(n)&&Array.isArray(n[0])}function CN(n){return 0===n.length?[]:Array.isArray(n[0])?n:[n]}function ki(n){let r;if(Array.isArray(n)){if(1!==n.length)throw new Dt(`Expected Tensor length to be 1; got ${n.length}`);r=n[0]}else r=n;return r}function $s(n){if(Array.isArray(n)&&Array.isArray(n[0])){if(1===n.length)return(n=n)[0];throw new Dt(`Expected exactly 1 Shape; got ${n.length}`)}return n}function Pb(n){let r=0;for(const t of n)r+=0===t.shape.length?1:t.shape.reduce((s,o)=>s*o);return r}const RH="Variable";class km{constructor(r,t="float32",s=RH,o=!0,c=null){this.dtype=null==t?"float32":t,this.shape=r.shape,this.id=R2(),this.originalName=Rf(s=null==s?RH:s),this.name=xH(this.originalName),this.trainable_=o,this.constraint=c,this.val=w.variable(r,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(r){return this.assertNotDisposed(),function(n,r){if(n.shape.toString()!==r.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(n.shape)+" vs. "+JSON.stringify(r.shape))}(this.val,r),this.val.id!==r.id&&(this.val.assign(r),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(r){this.trainable_=r,this.val.trainable=r}}function w$(n){return n.map(r=>r.read())}function C$(n){n.forEach(r=>{r[0].write(r[1])})}class ta{constructor(r){this.dtype=r.dtype,this.shape=r.shape,this.ndim=null!=r.shape?r.shape.length:r.ndim,this.maxNDim=r.maxNDim,this.minNDim=r.minNDim,this.axes=r.axes||{}}}class Im{constructor(r,t,s,o,c,f,m){this.dtype=r,this.shape=t,this.sourceLayer=s,this.inputs=o,this.callArgs=c,this.outputTensorIndex=m,this.id=R2(),null!=f&&(this.originalName=Rf(f),this.name=xH(this.originalName)),this.rank=t.length}}let Aie=0;class B2{constructor(r,t){this.callArgs=t,this.id=Aie++,this.outboundLayer=r.outboundLayer,this.inboundLayers=r.inboundLayers,this.nodeIndices=r.nodeIndices,this.tensorIndices=r.tensorIndices,this.inputTensors=r.inputTensors,this.outputTensors=r.outputTensors,this.inputMasks=r.inputMasks,this.outputMasks=r.outputMasks,this.inputShapes=r.inputShapes,this.outputShapes=r.outputShapes;for(const s of r.inboundLayers)null!=s&&s.outboundNodes.push(this);r.outboundLayer.inboundNodes.push(this)}getConfig(){const r=[];for(const t of this.inboundLayers)r.push(null!=t?t.name:null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:r,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Tie=0;class Is extends w.serialization.Serializable{constructor(r={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Tie++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=r.name;if(!t){const s=this.getClassName();t=S_(s)+"_"+Rw(s)}if(this.name=t,this.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){let s;if(null!=r.batchInputShape)s=r.batchInputShape;else if(null!=r.inputShape){let c=null;null!=r.batchSize&&(c=r.batchSize),s=[c].concat(r.inputShape)}this.batchInputShape=s;let o=r.dtype;null==o&&(o=r.inputDType),null==o&&(o="float32"),this.dtype=o}this.initialWeights=null!=r.weights?r.weights:null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(r,t){return r.name+"_ib-"+t.toString()}getNodeAtIndex(r,t){if(0===this.inboundNodes.length)throw new tf(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=r)throw new Dt(`Asked to get ${t} at node ${r}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[r]}getInputAt(r){return nf(this.getNodeAtIndex(r,"input").inputTensors)}getOutputAt(r){return nf(this.getNodeAtIndex(r,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ts(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new ts(`Layer ${this.name} is not connected, no input to return.`);return nf(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new ts(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ts(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return nf(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(r=>r())}get updates(){return this._updates}get built(){return this._built}set built(r){this._built=r}get trainable(){return this.trainable_}set trainable(r){this._trainableWeights.forEach(t=>t.trainable=r),this.trainable_=r}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(r=>r.trainable):[]}set trainableWeights(r){this._trainableWeights=r}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(r=>!r.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(r){this._nonTrainableWeights=r}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(r){if(r=fo(r),null==this.inputSpec||0===this.inputSpec.length)return;const t=fo(this.inputSpec);if(r.length!==t.length)throw new Dt(`Layer ${this.name} expects ${t.length} inputs, but it received ${r.length} input tensors. Input received: ${r}`);for(let s=0;s<r.length;s++){const o=r[s],c=t[s];if(null==c)continue;const f=o.rank;if(null!=c.ndim&&f!==c.ndim)throw new Dt(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${c.ndim}, found ndim=${f}`);if(null!=c.maxNDim&&f>c.maxNDim)throw new Dt(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${c.maxNDim}, found ndim=${f}`);if(null!=c.minNDim&&f<c.minNDim)throw new Dt(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${c.minNDim}, found ndim=${f}.`);if(null!=c.dtype&&o.dtype!==c.dtype)throw new Dt(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${c.dtype}, found dtype=${o.dtype}.`);if(c.axes){const m=o.shape;for(const _ in c.axes){const x=Number(_),E=c.axes[_],T=x>=0?m[x]:m[m.length+x];if(null!=E&&-1===[E,null].indexOf(T))throw new Dt(`Input ${s} is incompatible with layer ${this.name}: expected axis ${x} of input shape to have value ${E} but got shape ${m}.`)}}if(null!=c.shape)for(let m=0;m<c.shape.length;++m){const _=c.shape[m],x=o.shape[m];if(null!=_&&null!=x&&_!==x)throw new Dt(`Input ${s} is incompatible with layer ${this.name}: expected shape=${c.shape}, found shape=${o.shape}.`)}}}call(r,t){return r}invokeCallHook(r,t){null!=this._callHook&&this._callHook(r,t)}setCallHook(r){this._callHook=r}clearCallHook(){this._callHook=null}apply(r,t){t=t||{},this.assertNotDisposed();const s=fo(r);let o=!0;for(const f of s)if(!(f instanceof Im)){o=!1;break}let c=!0;for(const f of s)if(f instanceof Im){c=!1;break}if(o===c)throw new Dt("Arguments to apply() must be all SymbolicTensors or all Tensors");return Nb(this.name,()=>{if(!this.built){this.assertInputCompatibility(r);const f=[];for(const m of fo(r))f.push(m.shape);this.build(nf(f)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&c&&(this._refCount=1)}if(this.assertInputCompatibility(r),c){let f=this.call(r,t);const m=fo(f),_=[];for(let x of m)-1!==s.indexOf(x)&&(x=x.clone()),_.push(x);if(f=nf(_),null!=this.activityRegularizer)throw new Sr("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}{const f=function(n){n=fo(n);const r=[];for(const t of n)r.push(t.shape);return nf(r)}(r),m=this.computeOutputShape(f);let _;const x="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(r)?f[0]:f),_=null!=m&&m.length>0&&Array.isArray(m[0])?m.map((E,T)=>new Im(x,E,this,fo(r),t,this.name,T)):new Im(x,m,this,fo(r),t,this.name),this.addInboundNode(r,_,null,null,f,m,t),this._refCount++,null!=this.activityRegularizer)throw new Sr("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return _}})}warnOnIncompatibleInputShape(r){if(null!=this.batchInputShape)if(r.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(r)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach((s,o)=>{null!=s&&null!=r[o]&&r[o]!==s&&(t=!0)}),t&&console.warn(`The shape of the input tensor (${JSON.stringify(r)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new ts(`The layer ${this.name} has never been called and thus has no defined output shape.`);const r=[];for(const t of this.inboundNodes){const s=JSON.stringify(t.outputShapes);-1===r.indexOf(s)&&r.push(s)}if(1===r.length){const t=this.inboundNodes[0].outputShapes;return Array.isArray(t)&&Array.isArray(t[0])&&1===t.length?t[0]:t}throw new ts(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new tf(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Pb(this.weights)}build(r){this.built=!0}getWeights(r=!1){return w$(r?this.trainableWeights:this.weights)}setWeights(r){(0,w.tidy)(()=>{const t=this.weights;if(t.length!==r.length)throw new Dt(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${r.length}, but the layer was expecting ${t.length} weights. Provided weights: ${r}...`);if(0===t.length)return;const s=[],o=w$(t);for(let c=0;c<o.length;++c){const f=o[c],m=t[c],_=r[c];if(!w.util.arraysEqual(f.shape,_.shape))throw new Dt(`Layer weight shape ${f.shape} not compatible with provided weight shape ${_.shape}`);s.push([m,_])}C$(s)})}addWeight(r,t,s,o,c,f,m,_){if(-1!==this._addedWeightNames.indexOf(r))throw new Dt(`Duplicate weight name ${r} for layer ${this.name}`);this._addedWeightNames.push(r),null==s&&(s="float32"),this.fastWeightInitDuringBuild&&(o=null!=_?_():Io("zeros"));const x=o.apply(t,s),E=new km(x,s,r,f,m);return x.dispose(),null!=c&&this.addLoss(()=>c.apply(E.read())),null==f&&(f=!0),f?this._trainableWeights.push(E):this._nonTrainableWeights.push(E),E}setFastWeightInitDuringBuild(r){this.fastWeightInitDuringBuild=r}addLoss(r){null==r||Array.isArray(r)&&0===r.length||(r=fo(r),null!=this._losses&&this.losses.push(...r))}computeOutputShape(r){return r}computeMask(r,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach(s=>{if(null!=s)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)})}return null}return t}addInboundNode(r,t,s,o,c,f,m=null){const _=fo(r);t=fo(t),s=fo(s),o=fo(o),c=CN(c),f=CN(f);const x=[],E=[],T=[];for(const L of _)x.push(L.sourceLayer),E.push(L.nodeIndex),T.push(L.tensorIndex);new B2({outboundLayer:this,inboundLayers:x,nodeIndices:E,tensorIndices:T,inputTensors:_,outputTensors:t,inputMasks:s,outputMasks:o,inputShapes:c,outputShapes:f},m);for(let L=0;L<t.length;L++)t[L].sourceLayer=this,t[L].nodeIndex=this.inboundNodes.length-1,t[L].tensorIndex=L}getConfig(){const r={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(r.batchInputShape=this.batchInputShape),null!=this.dtype&&(r.dtype=this.dtype),r}disposeWeights(){return this.weights.forEach(r=>r.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let r=0;return 0==--this._refCount&&(r=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:r}}}function M$(n,r,t){if((null==r||null!=t&&t>0)&&(r=n.sourceLayer,t=n.nodeIndex),0===r.inboundNodes.length)return[n];{const s=r.inboundNodes[t];if(0===s.inboundLayers.length)return s.inputTensors;{const o=[];for(let c=0;c<s.inboundLayers.length;c++){const x=M$(s.inputTensors[c],s.inboundLayers[c],s.nodeIndices[c]);for(const E of x)-1===o.indexOf(E)&&o.push(E)}return o}}}let EN=(()=>{class n extends Is{constructor(t){if(super({dtype:t.dtype,name:null!=t.name?t.name:Rw("input").toString()}),null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new Dt("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let s=t.batchInputShape;if(null==s){if(null==t.inputShape)throw new Dt("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");s=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new Dt("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const o=t.dtype||"float32";this.batchInputShape=s,this.dtype=o,this.inputSpec=[{shape:s}];const c=new Im(this.dtype,this.batchInputShape,this,[],{},this.name);c.nodeIndex=0,c.tensorIndex=0,new B2({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[c],outputTensors:[c],inputMasks:[null],outputMasks:[null],inputShapes:[s],outputShapes:[s]})}apply(t,s){throw new Dt(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}return n.className="InputLayer",n})();function c1(n){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,en.Z)(function*(n){if(null==n)return;const r=[],t=[],s=[];for(const o in n){const c=n[o];if("number"!=typeof c){const f=c;r.push(f.data()),t.push(o),s.push(f)}}if(r.length>0){const o=yield Promise.all(r);for(let c=0;c<o.length;++c)n[t[c]]=o[c][0];(0,w.dispose)(s)}})).apply(this,arguments)}function V2(n){if(null!=n)for(const r in n){const t=n[r];"number"!=typeof t&&t.dispose()}}w.serialization.registerClass(EN);class d1{constructor(){this.validationData=null}setParams(r){this.params=r}onEpochBegin(r,t){return(0,en.Z)(function*(){})()}onEpochEnd(r,t){return(0,en.Z)(function*(){})()}onBatchBegin(r,t){return(0,en.Z)(function*(){})()}onBatchEnd(r,t){return(0,en.Z)(function*(){})()}onTrainBegin(r){return(0,en.Z)(function*(){})()}onTrainEnd(r){return(0,en.Z)(function*(){})()}setModel(r){}}class kie{constructor(r,t=10){null==r&&(r=[]),this.callbacks=r,this.queueLength=t}append(r){this.callbacks.push(r)}setParams(r){for(const t of this.callbacks)t.setParams(r)}setModel(r){for(const t of this.callbacks)t.setModel(r)}onEpochBegin(r,t){var s=this;return(0,en.Z)(function*(){null==t&&(t={});for(const o of s.callbacks)yield o.onEpochBegin(r,t)})()}onEpochEnd(r,t){var s=this;return(0,en.Z)(function*(){null==t&&(t={});for(const o of s.callbacks)yield o.onEpochEnd(r,t)})()}onBatchBegin(r,t){var s=this;return(0,en.Z)(function*(){null==t&&(t={});for(const o of s.callbacks)yield o.onBatchBegin(r,t)})()}onBatchEnd(r,t){var s=this;return(0,en.Z)(function*(){null==t&&(t={});for(const o of s.callbacks)yield o.onBatchEnd(r,t)})()}onTrainBegin(r){var t=this;return(0,en.Z)(function*(){null==r&&(r={});for(const s of t.callbacks)yield s.onTrainBegin(r)})()}onTrainEnd(r){var t=this;return(0,en.Z)(function*(){null==r&&(r={});for(const s of t.callbacks)yield s.onTrainEnd(r)})()}}class VH extends d1{constructor(){super()}onEpochBegin(r){var t=this;return(0,en.Z)(function*(){t.seen=0,t.totals={}})()}onBatchEnd(r,t){var s=this;return(0,en.Z)(function*(){null==t&&(t={});const o=null==t.size?0:t.size;s.seen+=o;for(const c in t){const f=t[c];if("number"==typeof f)s.totals.hasOwnProperty(c)||(s.totals[c]=0),s.totals[c]=s.totals[c]+f*o;else{let m;c in s.totals?m=s.totals[c]:s.totals[c]=0;const _=(0,w.tidy)(()=>(0,w.add)(s.totals[c],(0,w.mul)(f,o)));s.totals[c]=_,null!=m&&m.dispose()}}})()}onEpochEnd(r,t){var s=this;return(0,en.Z)(function*(){if(null!=t)for(const o of s.params.metrics)null!=s.totals[o]&&("number"==typeof s.totals[o]?t[o]=s.totals[o]/s.seen:(0,w.tidy)(()=>{const c=(0,w.mul)((0,w.div)(1,s.seen),s.totals[o]);t[o]=c,s.totals[o].dispose(),(0,w.keep)(t[o])}))})()}}class Iie extends d1{onTrainBegin(r){var t=this;return(0,en.Z)(function*(){t.epoch=[],t.history={}})()}onEpochEnd(r,t){var s=this;return(0,en.Z)(function*(){null==t&&(t={}),s.epoch.push(r);for(const o in t)null==s.history[o]&&(s.history[o]=[]),s.history[o].push(t[o])})()}syncData(){var r=this;return(0,en.Z)(function*(){const t=[],s=[],o=[];for(const f in r.history){const m=r.history[f];for(let _=0;_<m.length;++_)"number"!=typeof m[_]&&(t.push(m[_].data()),s.push(f),o.push(_))}const c=yield Promise.all(t);for(let f=0;f<c.length;++f)r.history[s[f]][o[f]].dispose(),r.history[s[f]][o[f]]=c[f][0]})()}}class Nie extends d1{constructor(r,t){if(super(),this.currentEpoch=0,this.nowFunc=r.nowFunc,this.nextFrameFunc=r.nextFrameFunc||w.nextFrame,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=r.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");w.util.isNumber(this.yieldEvery)&&(this.maybeWait=function(n,r,t){let o,s=null!=t?t():w.util.now();return(...f)=>{const m=null!=t?t():w.util.now();return m-s<r||(s=m,o=n(...f)),o}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=r.onTrainBegin,this.trainEnd=r.onTrainEnd,this.epochBegin=r.onEpochBegin,this.epochEnd=r.onEpochEnd,this.batchBegin=r.onBatchBegin,this.batchEnd=r.onBatchEnd,this.yield=r.onYield}maybeWait(r,t,s){var o=this;return(0,en.Z)(function*(){const c=[];null!=o.yield&&(yield c1(s),c.push(o.yield(r,t,s))),c.push(o.nextFrameFunc()),yield Promise.all(c)})()}onEpochBegin(r,t){var s=this;return(0,en.Z)(function*(){s.currentEpoch=r,null!=s.epochBegin&&(yield c1(t),yield s.epochBegin(r,t))})()}onEpochEnd(r,t){var s=this;return(0,en.Z)(function*(){const o=[];null!=s.epochEnd&&(yield c1(t),o.push(s.epochEnd(r,t))),"epoch"===s.yieldEvery&&o.push(s.nextFrameFunc()),yield Promise.all(o)})()}onBatchBegin(r,t){var s=this;return(0,en.Z)(function*(){null!=s.batchBegin&&(yield c1(t),yield s.batchBegin(r,t))})()}onBatchEnd(r,t){var s=this;return(0,en.Z)(function*(){const o=[];null!=s.batchEnd&&(yield c1(t),o.push(s.batchEnd(r,t))),"batch"===s.yieldEvery?o.push(s.nextFrameFunc()):w.util.isNumber(s.yieldEvery)&&o.push(s.maybeWait(s.currentEpoch,r,t)),yield Promise.all(o)})()}onTrainBegin(r){var t=this;return(0,en.Z)(function*(){null!=t.trainBegin&&(yield c1(r),yield t.trainBegin(r))})()}onTrainEnd(r){var t=this;return(0,en.Z)(function*(){null!=t.trainEnd&&(yield c1(r),yield t.trainEnd(r))})()}}function zH(n,r){return null==n&&(n={}),n instanceof d1?[n]:Array.isArray(n)&&n[0]instanceof d1?n:fo(n).map(s=>new Nie(s,r))}let Oie=(()=>{class n{constructor(){}static registerCallbackConstructor(t,s){w.util.assert(t>=0&&Number.isInteger(t),()=>`Verbosity level is expected to be an integer >= 0, but got ${t}`),n.checkForDuplicate(s),null==n.constructors[t]&&(n.constructors[t]=[]),n.constructors[t].push(s)}static checkForDuplicate(t){for(const s in n.constructors)n.constructors[+s].forEach(c=>{if(c===t)throw new Dt("Duplicate callback constructor.")})}static clear(){n.constructors={}}static createCallbacks(t){const s=[];for(const o in n.constructors){const c=+o;t>=c&&s.push(...n.constructors[c])}return s.map(o=>new o)}}return n.constructors={},n})();function jH(n,r,t,s,o,c,f,m,_){const x=new Iie,E=[new VH,...Oie.createCallbacks(r)];null!=n&&E.push(...n),E.push(x);const T=new kie(E);return T.setParams({epochs:t,initialEpoch:s,samples:o,steps:c,batchSize:f,verbose:r,doValidation:m,metrics:_}),{callbackList:T,history:x}}function Jg(n,r={},t=!1){return Nw(n,w.serialization.SerializationMap.getMap().classNameMap,r,"layer",t)}function MN(n,r){return(0,w.tidy)(()=>{"float32"!==n.dtype&&(n=w.cast(n,"float32"));const t=w.sum(L2(n),r,!0),s=w.fill(t.shape,ll()),o=w.sqrt(w.maximum(t,s));return w.div(n,o)})}function Rb(n,r){return(0,w.tidy)(()=>w.mean(L2(w.sub(r,n)),-1))}function SN(n,r){return(0,w.tidy)(()=>w.mean(w.abs(w.sub(r,n)),-1))}function Bw(n,r){return(0,w.tidy)(()=>{const t=w.sub(n,r),s=w.clipByValue(w.abs(n),ll(),Number.MAX_VALUE),o=w.abs(w.div(t,s));return w.mul(100,w.mean(o,-1))})}function $b(n,r,t=!1){return(0,w.tidy)(()=>{if(t)r=w.softmax(r);else{const s=w.sum(r,r.shape.length-1,!0);r=w.div(r,s)}return r=w.clipByValue(r,ll(),1-ll()),w.neg(w.sum(w.mul(w.cast(n,"float32"),w.log(r)),r.shape.length-1))})}function S$(n,r,t=!1){return(0,w.tidy)(()=>{const s=w.cast(w.floor(function(n){const r=[Cm(n.shape)];return w.reshape(n,r)}(n)),"int32"),o=(r=w.clipByValue(r,ll(),1-ll())).shape;return $b(w.reshape(w.oneHot(s,o[o.length-1]),o),r,t)})}function TN(n,r){return(0,w.tidy)(()=>{let t;return t=w.clipByValue(r,ll(),1-ll()),t=w.log(w.div(t,w.sub(1,t))),w.mean(function(n,r){if(!w.util.arraysEqual(n.shape,r.shape))throw new Dt(`logits and labels must have the same shape, but got shapes ${JSON.stringify(n.shape)} and ${JSON.stringify(r.shape)}`);return(0,w.tidy)(()=>{const t=w.relu(r),s=w.neg(w.abs(r));return w.add(w.sub(t,w.mul(r,n)),w.log1p(w.exp(s)))})}(n,t),-1)})}function A$(n,r){return(0,w.tidy)(()=>{const t=MN(n,-1),s=MN(r,-1),o=w.mul(t,s);return w.neg(w.sum(o,-1))})}const kN={meanSquaredError:Rb,meanAbsoluteError:SN,meanAbsolutePercentageError:Bw,meanSquaredLogarithmicError:function(n,r){return(0,w.tidy)(()=>{const t=w.clipByValue(r,ll(),Number.MAX_VALUE),s=w.log(w.add(1,t)),o=w.clipByValue(n,ll(),Number.MAX_VALUE),c=w.log(w.add(1,o));return w.mean(L2(w.sub(s,c)),-1)})},squaredHinge:function(n,r){return(0,w.tidy)(()=>{const t=w.maximum(0,w.sub(1,w.mul(n,r)));return w.mean(L2(t),-1)})},hinge:function(n,r){return(0,w.tidy)(()=>{const t=w.maximum(0,w.sub(1,w.mul(n,r)));return w.mean(t,-1)})},categoricalHinge:function(n,r){return(0,w.tidy)(()=>{const t=w.sum(w.mul(n,r),-1),s=w.max(w.mul(w.sub(1,n),r),-1);return w.maximum(0,w.add(1,w.sub(s,t)))})},logcosh:function(n,r){return(0,w.tidy)(()=>{const t=Math.log(2),s=w.sub(r,n),o=w.sub(w.add(s,w.softplus(w.mul(-2,s))),t);return w.mean(o,-1)})},categoricalCrossentropy:$b,sparseCategoricalCrossentropy:S$,binaryCrossentropy:TN,kullbackLeiblerDivergence:function(n,r){return(0,w.tidy)(()=>{const t=w.clipByValue(n,ll(),1),s=w.clipByValue(r,ll(),1);return w.sum(w.mul(n,w.log(w.div(t,s))),-1)})},poisson:function(n,r){return(0,w.tidy)(()=>{const t=w.log(w.add(ll(),r));return w.mean(w.sub(r,w.mul(n,t)),-1)})},cosineProximity:A$};function T$(n){if("string"==typeof n){if(n in kN)return kN[n];let r=`Unknown loss ${n}`;throw n.toLowerCase().includes("softmaxcrossentropy")&&(r=`Unknown loss ${n}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Dt(r)}return n}function k$(n,r){return(0,w.tidy)(()=>{const t=w.mul(.5,w.onesLike(r)),s=Ql(w.greater(r,t),n.dtype);return w.mean(w.equal(n,s),-1)})}function $w(n,r){return(0,w.tidy)(()=>Ql(w.equal(w.argMax(n,-1),w.argMax(r,-1)),"float32"))}function YH(n,r){return TN(n,r)}function GH(n,r){return n.rank===r.rank&&(n=w.squeeze(n,[n.rank-1])),(r=w.argMax(r,-1)).dtype!==n.dtype&&(r=w.cast(r,n.dtype)),w.cast(w.equal(n,r),"float32")}const F$=$b,Vw=S$,IN={binaryAccuracy:k$,categoricalAccuracy:$w,precision:function(n,r){return(0,w.tidy)(()=>{const t=function(n,r){return(0,w.tidy)(()=>w.cast(w.sum(w.logicalAnd(w.equal(n,1),w.equal(r,1))),"float32"))}(n,r),s=function(n,r){return(0,w.tidy)(()=>w.cast(w.sum(w.logicalAnd(w.equal(n,0),w.equal(r,1))),"float32"))}(n,r),o=w.add(t,s);return w.cast(w.where(w.greater(o,0),w.div(t,o),0),"float32")})},categoricalCrossentropy:F$,sparseCategoricalCrossentropy:Vw,mse:Rb,MSE:Rb,mae:SN,MAE:SN,mape:Bw,MAPE:Bw,cosine:A$};function ZH(n){if("string"==typeof n&&n in IN)return IN[n];if("string"!=typeof n&&null!=n)return n;throw new Dt(`Unknown metric ${n}`)}function NN(n){if(Bh(null!==n,`Unknown LossOrMetricFn ${n}`),"string"==typeof n)return n;{let r;for(const t of Object.keys(kN))if(kN[t]===n){r=t;break}if(void 0!==r)return r;for(const t of Object.keys(IN))if(IN[t]===n){r=t;break}return void 0!==r?r:n.name}}function z2(n,r,t=!1){if(null==n||"object"!=typeof n||Object.getPrototypeOf(n)!==Object.prototype||!zw(n))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(t){const s=JSON.stringify(n);s.length>1048576&&console.warn(`User-defined metadata of model "${r}" is too large in size (length=${s.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function zw(n){if(null===n)return!0;if("object"==typeof n){if(Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);for(const t of r)if("string"!=typeof t||!zw(n[t]))return!1;return!0}if(Array.isArray(n)){for(const r of n)if(!zw(r))return!1;return!0}return!1}{const r=typeof n;return"string"===r||"number"===r||"boolean"===r}}function ON(n,r,t=console.log){let s="";for(let o=0;o<n.length;++o)o>0&&(s=s.slice(0,s.length-1)+" "),s+=n[o],s=s.slice(0,r[o]),s+=" ".repeat(r[o]-s.length);t(s)}function Xie(n,r,t){let s;try{s=JSON.stringify(n.outputShape)}catch(m){s="multiple"}ON([`${n.name} (${n.getClassName()})`,s,n.countParams().toString()],r,t)}function Zie(n,r,t,s){let o;try{o=JSON.stringify(n.outputShape)}catch(E){o="multiple"}const c=[];for(const E of n.inboundNodes)if(!(null!=t&&t.length>0&&-1===t.indexOf(E)))for(let T=0;T<E.inboundLayers.length;++T)c.push(`${E.inboundLayers[T].name}[${E.nodeIndices[T]}][${E.tensorIndices[T]}]`);const f=n.name,m=n.getClassName(),_=0===c.length?"":c[0];ON([`${f} (${m})`,o,n.countParams().toString(),_],r,s);for(let E=1;E<c.length;++E)ON(["","","",c[E]],r,s)}function LN(n,r,t){return("inboundNodes"===n||"outputLayers"===n||"inputLayers"===n)&&0===r&&"string"==typeof t}function j2(n,r){if(null===n)return null;if("string"==typeof n)return Ab(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const t=[],s=n.length;for(let o=0;o<s;++o){const c=n[o];LN(r,o,c)?t.push(c):t.push(j2(c,r))}return t}{const t={};for(const s of Object.keys(n)){const o=n[s];if("name"===s&&"string"==typeof o)t[s]=o;else{const c=Ab(s);t[c]=j2(o,c)}}return t}}function W2(n,r){if(null==n)return null;if("string"==typeof n)return S_(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const t=[],s=n.length;for(let o=0;o<s;++o){const c=n[o];LN(r,o,c)?t.push(c):t.push(W2(c,r))}return t}{const t={};for(const s of Object.keys(n)){const o=n[s];t[S_(s)]="name"!==s&&"className"!==s||"string"!=typeof o?W2(o,s):o}return t}}class T_{constructor(r){if(this.id2Value={},this.id2Mask={},this.name2Id={},r instanceof T_)for(const t in r.id2Value)this.id2Value[t]=r.id2Value[t],t in r.id2Mask&&(this.id2Mask[t]=r.id2Mask[t]);else{if(null==r)return;for(const t of r)this.add(t.key,t.value)}}add(r,t,s){if(null!=this.id2Value[r.id])throw new Dt(`Duplicate key: name=${r.name}, id=${r.id}`);return this.id2Value[r.id]=function(n,r){if(null==n.dtype||n.dtype===r.dtype)return r;try{return(0,w.cast)(r,n.dtype)}catch(t){throw new Dt(`The dtype of the feed (${r.dtype}) can not be cast to the dtype of the key '${n.name}' (${n.dtype}).`)}}(r,t),this.name2Id[r.name]=r.id,null!=s&&(this.id2Mask[r.id]=s),this}addFeed(r){this.add(r.key,r.value)}hasKey(r){return null!=this.id2Value[r.id]}names(){return Object.keys(this.name2Id)}getValue(r){if(r instanceof Im){if(null==this.id2Value[r.id])throw new Dt(`Nonexistent key: ${r.name}`);return this.id2Value[r.id]}{const t=this.name2Id[r];if(null==t)throw new Dt(`Feed dict has no SymbolicTensor name: ${r}`);return this.id2Value[t]}}getMask(r){if(r instanceof Im){if(null==this.id2Value[r.id])throw new Dt(`Nonexistent key: ${r.name}`);return this.id2Mask[r.id]}{const t=this.name2Id[r];if(null==t)throw new Dt(`Feed dict has no SymbolicTensor name: ${r}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&(0,w.dispose)(this.id2Mask)}}const Nm={},QH={};function Vb(n,r,t,s){const o=null!=t&&t.training,c=Array.isArray(n),f=c?n:[n],m=f.map(X=>X.name),_=[],x=r.names();for(const X of m)-1!==x.indexOf(X)?_.push(r.getValue(X)):_.push(null);null!=s&&(s.maxNumTensors=-1/0,s.minNumTensors=1/0);const E=m.join(",")+"|"+r.names().join(",");let T,L;if(null==Nm[E]){const X=function(n,r){w.util.assert(null!=n&&n.length>0,()=>"Expected at least one fetch, got none");let t=[],s={};if(1===n.length){const o=qH(n[0],r);t=o.sorted,s=o.recipientMap}else{const o=new Set;for(const c of n){const{sorted:f,recipientMap:m}=qH(c,r);for(const _ of f)o.has(_.name)||(t.push(_),o.add(_.name));for(const _ in m)null==s[_]&&(s[_]=new Set),m[_].forEach(x=>s[_].add(x))}}return{sorted:t,recipientCounts:Qie(s)}}(f,r);T=X.sorted,L=X.recipientCounts,Nm[E]=T,QH[E]=L}T=Nm[E],L={},o||Object.assign(L,QH[E]);const z=new T_(r);for(let X=0;X<T.length;++X){if(null!=s){const It=(0,w.memory)().numTensors;It>s.maxNumTensors&&(s.maxNumTensors=It),It<s.minNumTensors&&(s.minNumTensors=It)}const Q=T[X],ne=Q.sourceLayer;if(ne instanceof EN)continue;const pe=[],fe=[],ke=[];let Ee=!1;for(const It of Q.inputs){const At=z.getValue(It),Ht=z.getMask(It);pe.push(At),fe.push(Ht),null!=Ht&&(Ee=!0),o||(L[It.name]--,0===L[It.name]&&!r.hasKey(It)&&-1===m.indexOf(It.name)&&!At.isDisposed&&!0!==It.sourceLayer.stateful&&ke.push(At))}Ee&&((t=t||{}).mask=fe[0]);const He=fo(ne.apply(pe,t));let at=null;ne.supportsMasking&&(at=ne.computeMask(pe,fe));const it=qie(Q),ct=Array.isArray(it)?it:[it];for(let It=0;It<ct.length;++It){z.hasKey(ct[It])||z.add(ct[It],He[It],Array.isArray(at)?at[0]:at);const At=m.indexOf(ct[It].name);-1!==At&&(_[At]=He[It])}o||(0,w.dispose)(ke)}return z.disposeMasks(),c?_:_[0]}function Qie(n){const r={};for(const t in n)r[t]=n[t].size;return r}function qH(n,r){const t=new Set,s=[],o={};for(const m of r.names())t.add(m);const c=[],f=[];for(c.push(n);c.length>0;){const m=c[c.length-1];if(t.has(m.name)){c.pop();continue}const _=f[f.length-1]===c.length-1;if(0===m.inputs.length||_)c.pop(),s.push(m),t.add(m.name),_&&f.pop();else{f.push(c.length-1);for(const x of m.inputs)null==o[x.name]&&(o[x.name]=new Set),o[x.name].add(m.name),!t.has(x.name)&&c.push(x)}}return{sorted:s,recipientMap:o}}function qie(n){let r;if(1===n.sourceLayer.inboundNodes.length)r=n.sourceLayer.output;else{let t=null;for(let s=0;s<n.sourceLayer.inboundNodes.length;++s)for(const o of n.sourceLayer.inboundNodes[s].outputTensors)if(o.id===n.id){t=s;break}r=n.sourceLayer.getOutputAt(t)}return r}class zh extends Is{constructor(r){if(super({}),this.containerNodes=new Set,this.name=r.name,null==this.name){const fe=this.getClassName().toLowerCase();this.name=Rw(fe)}if(this.supportsMasking=!1,this.trainable_=!0,this.inputs=Array.isArray(r.inputs)?r.inputs.slice():[r.inputs],this.outputs=Array.isArray(r.outputs)?r.outputs.slice():[r.outputs],Kg(this.inputs).length!==this.inputs.length)throw new Dt(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(fe=>fe.name)}`);Kg(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(fe=>fe.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const fe of this.outputs){const Ee=fe.nodeIndex,He=fe.tensorIndex;this.outputLayers.push(fe.sourceLayer),this.outputLayersNodeIndices.push(Ee),this.outputLayersTensorIndices.push(He)}for(const fe of this.inputs){const ke=fe.sourceLayer,Ee=fe.nodeIndex,He=fe.tensorIndex;Bh(0===Ee,"input layer has >1 nodes"),Bh(0===He,"input layer has >1 tensors"),this.inputLayers.push(ke),this.inputLayersNodeIndices.push(Ee),this.inputLayersTensorIndices.push(He)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let fe=0;fe<this.inputLayers.length;fe++){const ke=this.inputLayers[fe];if(!(ke instanceof EN))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${r.inputs}. Input ${fe} (0-based) originates from layer type ${ke.getClassName()}.`);this.inputNames.push(ke.name),this.feedInputShapes.push(ke.batchInputShape),this.feedInputNames.push(ke.name)}for(const fe of this.outputLayers)this.outputNames.push(fe.name);this.internalInputShapes=this.inputs.map(fe=>fe.shape),this.internalOutputShapes=this.outputs.map(fe=>fe.shape);const t={},s={},o={},c={},f={},m=[],_=(fe,ke,Ee,He,at,it)=>{(null==He||null==at||null==it)&&(He=fe.sourceLayer,at=fe.nodeIndex,it=fe.tensorIndex);const ct=He.inboundNodes[at];if(-1!==Ee.indexOf(ct))throw new tf(`The tensor ${fe.name} at layer "${He.name}" is part of a cycle.`);if(-1!==ke.indexOf(ct))return;this.containerNodes.add(zh.nodeKey(He,at)),He.id in f||(f[He.id]=Object.keys(f).length),-1===Ee.indexOf(ct)&&Ee.push(ct);const It=ct.inboundLayers.length;for(let At=0;At<It;At++)_(ct.inputTensors[At],ke,Ee,ct.inboundLayers[At],ct.nodeIndices[At],ct.tensorIndices[At]);for(ke.push(ct);Ee.indexOf(ct)>=0;)Ee.splice(Ee.indexOf(ct),1);m.push(ct)},x=[],E=[];for(const fe of this.outputs)_(fe,x,E);const T=m.slice().reverse();for(const fe of T){s[fe.id]=fe,fe.id in t||(t[fe.id]=0);let ke=t[fe.id];ke=Math.max(ke,null==o[fe.outboundLayer.id]?0:o[fe.outboundLayer.id]),o[fe.outboundLayer.id]=ke,c[fe.outboundLayer.id]=fe.outboundLayer,t[fe.id]=ke;for(let He=0;He<fe.inboundLayers.length;He++){const ct=fe.inboundLayers[He].inboundNodes[fe.nodeIndices[He]];t[ct.id]=Math.max(ke+1,null==t[ct.id]?0:t[ct.id]),s[ct.id]=ct}}const L={};for(const fe in t){const ke=t[fe];ke in L||(L[ke]=[]),L[ke].push(s[fe])}const z={};for(const fe in o){const ke=o[fe];ke in z||(z[ke]=[]),z[ke].push(c[fe])}let X=Object.keys(z).map(fe=>parseInt(fe,10)).sort(T2);this.layers=[];for(const fe of X){const ke=z[fe];ke.sort((Ee,He)=>{const at=f[Ee.id],it=f[He.id];return at<it?-1:at>it?1:0});for(const Ee of ke)Ee instanceof zh&&this.internalContainerRefs.push(Ee),this.layers.push(Ee)}this.layersByDepth=z,X=Object.keys(L).map(fe=>parseInt(fe,10)).sort(T2);const Q=this.inputs.slice(),ne=[];for(const fe of X)for(const ke of L[fe]){const Ee=ke.outboundLayer;if(null!=Ee){for(const He of ke.inputTensors)if(-1===Q.indexOf(He))throw new tf(`Graph disconnected: cannot obtain value for tensor ${He} at layer "${Ee.name}". The following previous layers were accessed without issue: ${ne}`);for(const He of ke.outputTensors)Q.push(He);ne.push(Ee.name)}}this.nodesByDepth=L;const pe=this.layers.map(fe=>fe.name);for(const fe of pe){const ke=pe.filter(Ee=>Ee===fe).length;if(1!==ke)throw new tf(`The name "${fe}" is used ${ke} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(pe))}this.outboundNodes=[],this.inboundNodes=[],new B2({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(fe=>null),outputMasks:this.outputs.map(fe=>null),inputShapes:this.inputs.map(fe=>fe.shape),outputShapes:this.outputs.map(fe=>fe.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const r={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)r.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)r.numDisposedVariables+=t.dispose().numDisposedVariables}return r.refCountAfterDispose=this._refCount,r}get trainable(){return this.trainable_}set trainable(r){this.layers.forEach(t=>{t._trainableWeights.forEach(s=>s.trainable=r)}),this.trainable_=r}get trainableWeights(){if(this._trainableWeights.length>0)throw new Dt("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let r=[];for(const t of this.layers)r=r.concat(t.trainableWeights);return r}get nonTrainableWeights(){const r=[];for(const t of this.layers)r.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const s of this.layers)t.push(...s.trainableWeights);return t.concat(r)}return r}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(r,t=!0){const s={};let o=0;for(const f of this.layers)for(const m of f.weights){if(null!=s[m.originalName])throw new Dt(`Duplicate weight name: ${m.originalName}`);s[m.originalName]=m,o++}const c=[];for(const f in r){let m=f;if(null==s[f]){const _=f.split("/");m=_.slice(0,-2).concat([_[_.length-1]]).join("/")}if(null!=s[m])c.push([s[m],r[f]]);else if(t)throw new Dt(`Provided weight data has no target variable: ${f}`);delete s[m]}if(t){const f=[];for(const m in s)f.push(m);if(f.length>0)throw new Dt(`${f.length} of ${o} weights are not set: ${f}`)}C$(c)}updatedConfig(){const r=this.getConfig(),t={};return t.className=this.getClassName(),t.config=r,t.kerasVersion="tfjs-layers 3.11.0",t.backend="TensorFlow.js",t}toJSON(r,t=!0){const s=W2(this.updatedConfig());return t?JSON.stringify(s):s}call(r,t){return(0,w.tidy)(()=>{r=fo(r);const s=new T_;for(let o=0;o<this.inputs.length;++o)s.add(this.inputs[o],r[o]);return Vb(this.outputs,s,t)})}computeMask(r,t){return(0,w.tidy)(()=>{let s;return r=fo(r),s=null==t?a1(null,r.length):fo(t),this.runInternalGraph(r,s)[1]})}computeOutputShape(r){const t=CN(r);if(t.length!==this.inputLayers.length)throw new Dt(`Invalid inputShape argument ${r}: model has ${this.inputLayers.length} tensor inputs.`);const s={};for(let m=0;m<t.length;m++)s[this.inputLayers[m].name+"_0_0"]=t[m];const o=Object.keys(this.nodesByDepth).map(m=>parseInt(m,10)).sort(T2);if(o.length>1)for(const m of o){const _=this.nodesByDepth[m];for(const x of _){const E=x.outboundLayer;if(-1!==this.inputLayers.map(Q=>Q.id).indexOf(E.id))continue;const T=[];for(let Q=0;Q<x.inboundLayers.length;Q++)T.push(s[`${x.inboundLayers[Q].name}_${x.nodeIndices[Q]}_${x.tensorIndices[Q]}`]);const z=CN(E.computeOutputShape(nf(T))),X=E.inboundNodes.indexOf(x);for(let Q=0;Q<z.length;Q++)s[`${E.name}_${X}_${Q}`]=z[Q]}}const c=[],f=[];for(let m=0;m<this.outputLayers.length;m++)f.push(`${this.outputLayers[m].name}_${this.outputLayersNodeIndices[m]}_${this.outputLayersTensorIndices[m]}`);for(let m=0;m<f.length;m++){const _=f[m];Bh(_ in s),c.push(s[_])}return nf(c)}runInternalGraph(r,t){null==t&&(t=a1(null,r.length));const s={};for(let _=0;_<this.inputs.length;++_)s[this.inputs[_].id]=[r[_],t[_]];const o=Object.keys(this.nodesByDepth).map(_=>parseInt(_,10)).sort(T2);for(const _ of o){const x=this.nodesByDepth[_];for(const E of x){const T=E.outboundLayer,L=E.inputTensors,z=E.outputTensors,X=new Array;for(const Q of L)Q.id in s&&X.push(s[Q.id]);if(X.length===L.length){let ne,pe,fe,ke,Q={};if(null!=E.callArgs&&(Q=E.callArgs),1===X.length){const[Ee,He]=X[0];null==Q.mask&&(Q.mask=He),fe=fo(T.call(Ee,Q)),ke=fo(T.computeMask(Ee,He)),ne=[Ee],pe=[He]}else ne=X.map(Ee=>Ee[0]),pe=X.map(Ee=>Ee[1]),null==Q.mask&&(Q.mask=pe),fe=fo(T.call(ne,Q)),ke=fo(T.computeMask(ne,pe));if(T.activityRegularizer)throw new Sr("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let Ee=0;Ee<z.length;++Ee)s[z[Ee].id]=[fe[Ee],ke[Ee]]}}}const c=[],f=[],m=[];for(const _ of this.outputs){Bh(_.id in s,`Could not compute output ${_.name} : ${_.id}`);const[x,E]=s[_.id];m.push(x.shape),c.push(x),f.push(E)}return[c,f,m]}buildNodeConversionMap(r){const t={};let s;for(const o of this.layers){s=o instanceof zh?1:0;for(let c=0;c<o.inboundNodes.length;c++){const f=zh.nodeKey(o,c);this.containerNodes.has(f)&&(t[f]=s,s+=1)}}return t}getLayer(r,t){if(null!=t){if(this.layers.length<=t)throw new Dt(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}if(null==r)throw new Dt("Provide either a layer name or layer index");for(const s of this.layers)if(s.name===r)return s;throw new Dt(`No such layer: ${r}`)}calculateLosses(){return(0,w.tidy)(()=>{const r=[];for(const t of this.layers)for(let s=0;s<t.inboundNodes.length;++s){const o=zh.nodeKey(t,s);this.containerNodes.has(o)&&r.push(...t.calculateLosses())}return r})}getConfig(){const r={name:this.name},t=this.buildNodeConversionMap(this.layers),s=[];for(const f of this.layers){const m=f.getClassName(),_=f.getConfig(),x=[];for(let T=0;T<f.inboundNodes.length;T++){const L=f.inboundNodes[T],z=zh.nodeKey(f,T);let X={};if(this.containerNodes.has(z)){if(L.callArgs)try{JSON.stringify(L.callArgs),X=L.callArgs}catch(Q){console.warn(`Layer ${f.name} was passed non-serializable keyword arguments: ${L.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),X={}}if(L.inboundLayers.length>0){const Q=[];for(let ne=0;ne<L.inboundLayers.length;ne++){const pe=L.inboundLayers[ne],ke=L.tensorIndices[ne];let He=t[zh.nodeKey(pe,L.nodeIndices[ne])];null==He&&(He=0),Q.push([pe.name,He,ke,X])}x.push(Q)}}}const E={};E.name=f.name,E.className=m,E.config=_,E.inboundNodes=x,s.push(E)}r.layers=s;const o=[];for(let f=0;f<this.inputLayers.length;f++){const m=this.inputLayers[f],x=zh.nodeKey(m,this.inputLayersNodeIndices[f]);if(!this.containerNodes.has(x))continue;let E=t[x];null==E&&(E=0),o.push([m.name,E,this.inputLayersTensorIndices[f]])}r.inputLayers=o;const c=[];for(let f=0;f<this.outputLayers.length;f++){const m=this.outputLayers[f],x=zh.nodeKey(m,this.outputLayersNodeIndices[f]);if(!this.containerNodes.has(x))continue;let E=t[x];null==E&&(E=0),c.push([m.name,E,this.outputLayersTensorIndices[f]])}return r.outputLayers=c,r}static fromConfig(r,t,s={},o=!1){const c={},f={};function m(ne,pe){ne.name in f?f[ne.name].push(pe):f[ne.name]=[pe]}function _(ne,pe){const fe=[];let ke;for(const Ee of pe){const He=Ee[0],at=Ee[1],it=Ee[2];if(ke=null==Ee[3]?{}:Ee[3],!(He in c))return void m(ne,pe);const ct=c[He];if(ct.inboundNodes.length<=at)return void m(ne,pe);fe.push(ct.inboundNodes[at].outputTensors[it])}fe.length>0&&ne.apply(nf(fe),ke)}function x(ne){const pe=ne.name,fe=Jg(ne,null!=t.customObjects?t.customObjects:{});fe.setFastWeightInitDuringBuild(o),c[pe]=fe,ne.inboundNodes.forEach(Ee=>{if(!(Ee instanceof Array))throw new Dt(`Corrupted configuration, expected array for nodeData: ${Ee}`);m(fe,Ee)})}const E=t.name,T=t.layers;for(const ne of T)x(ne);for(;!hie(f);)for(const ne of T){const pe=c[ne.name];if(pe.name in f){const fe=f[pe.name];delete f[pe.name];for(const ke of fe)_(pe,ke)}}const L=[],z=[],X=t.inputLayers;for(const ne of X){const pe=ne[0],fe=ne[1],ke=ne[2];Bh(pe in c),L.push(c[pe].inboundNodes[fe].outputTensors[ke])}const Q=t.outputLayers;for(const ne of Q){const pe=ne[0],fe=ne[1],ke=ne[2];Bh(pe in c),z.push(c[pe].inboundNodes[fe].outputTensors[ke])}return new r({inputs:L,outputs:z,name:E})}get stateful(){if(this._stateful)throw new Dt("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const r of this.layers)if(r.stateful)return!0;return!1}resetStates(){(0,w.tidy)(()=>{this.layers.forEach(r=>{r.stateful&&r.resetStates()})})}}function tU(n,r){return function(n,r,t){const s=r.length;if(null==n||Array.isArray(n)&&0===n.length)return r.map(o=>null);if(1===s)return Array.isArray(n)&&1===n.length?n:"object"==typeof n&&r[0]in n?[n[r[0]]]:[n];if(Array.isArray(n)){if(n.length!==s)throw new Error(`Provided ${t} is an array of ${n.length} element(s), but the model has ${s} outputs. Make sure a set of weights is provided for each model output.`);return n}if("object"==typeof n&&Object.keys(n).length>0&&"object"==typeof n[Object.keys(n)[0]]){const o=[];return r.forEach(c=>{o.push(c in n?n[c]:null)}),o}throw new Error(`The model has multiple (${s}) outputs, so ${t} must be either an array with ${s} elements or an object with ${r} keys. Provided ${t} not understood: ${JSON.stringify(n)}`)}(n,r,"classWeight")}function FN(n,r,t,s){return H2.apply(this,arguments)}function H2(){return(H2=(0,en.Z)(function*(n,r,t,s){if(null!=r||null!=s)throw new Error("Support sampleWeight is not implemented yet");if(null!=t){const o=(0,w.tidy)(()=>{if(1===n.shape.length)return(0,w.clone)(n);if(2===n.shape.length){if(n.shape[1]>1)return(0,w.argMax)(n,1);if(1===n.shape[1])return(0,w.reshape)(n,[n.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${n.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${n.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),c=Array.from(yield o.data());(0,w.dispose)(o);const f=[];return c.forEach(m=>{if(null==t[m])throw new Error(`classWeight must contain all classes in the training data. The class ${m} exists in the data but not in classWeight`);f.push(t[m])}),(0,w.tensor1d)(f,"float32")}return null})).apply(this,arguments)}function ese(n,r){return(0,w.mul)(n,r)}function R$(n,r){let t,s;t=r.xs,s=r.ys,w.util.assert(null!=t&&null!=s,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${r}`);const c=nU("input",n.inputNames,t),f=nU("output",n.outputNames,s),m=c[0].shape[0];w.util.assert(c.length===n.inputs.length,()=>`LayersModel has ${n.inputs.length} inputs, but the dataset provides ${c.length} inputs.  (Expected input keys: ${JSON.stringify(n.inputNames)})`),w.util.assert(f.length===n.outputs.length,()=>`LayersModel has ${n.outputs.length} outputs, but the dataset provides ${f.length} outputs.  (Expected output keys: ${JSON.stringify(n.outputNames)})`);for(let _=0;_<c.length;_++)w.util.assert(c[_].shape[0]===m,()=>`Batch size mismatch: input ${n.inputNames[_]} has ${c[_].shape[0]}; expected  ${m} based on input ${n.inputNames[0]}.`);for(let _=0;_<f.length;_++)w.util.assert(f[_].shape[0]===m,()=>`Batch size mismatch: output ${n.outputNames[_]} has ${f[_].shape[0]}; expected  ${m} based on input ${n.inputNames[0]}.`);return{xs:c,ys:f}}function nU(n,r,t){if(t instanceof w.Tensor)return[t];if(Array.isArray(t))return w.util.assert(t.length===r.length,()=>`Received an array of ${t.length} Tensors, but expected ${r.length} to match the ${n} keys ${r}.`),t;{const s=[];for(const o of r){if(null==t[o])throw new Dt(`The feature data generated by the dataset lacks the required ${n} key '${o}'.`);s.push(t[o])}return s}}function rU(n){if(3===n.length)throw new Sr("Validation with sample weights is not implemented yet.");return{xs:n[0],ys:n[1]}}function B$(){return(B$=(0,en.Z)(function*(n,r,t){const s=null!=t.batchesPerEpoch;if(w.util.assert(null!=n.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),w.util.assert(null!=t,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),w.util.assert(null!=t.epochs&&t.epochs>0&&Number.isInteger(t.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${t.epochs}`),w.util.assert(!s||t.batchesPerEpoch>0&&Number.isInteger(t.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${t.batchesPerEpoch}`),w.util.assert(null==t.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),n.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");n.isTraining=!0;try{const o=null!=t.validationData;let c,f;if(o)if(sU(t.validationData))w.util.assert(null==t.validationBatches||t.validationBatches>0&&Number.isInteger(t.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${t.validationBatches}`);else{const ne=rU(t.validationData);c=ne.xs,f=ne.ys}const m=n.makeTrainFunction(),_=n.getDedupedMetricsNames();let x;x=o?_.slice().concat(_.map(ne=>"val_"+ne)):_.slice();const E=zH(t.callbacks,t.yieldEvery),T=null==t.verbose?1:t.verbose,{callbackList:L,history:z}=jH(E,T,t.epochs,null,null,nse(r,t),null,o,x);L.setModel(n),n.history=z,yield L.onTrainBegin(),n.stopTraining_=!1;let X=null==t.initialEpoch?0:t.initialEpoch,Q=yield r.iterator();for(;X<t.epochs;){const ne={};yield L.onEpochBegin(X);let pe=0,fe=0;for(s||(Q=yield r.iterator());!s||pe<t.batchesPerEpoch;){const ke=yield Q.next();if(s&&ke.done){console.warn(`You provided \`batchesPerEpoch\` as ${t.batchesPerEpoch}, but your dataset iterator ran out of data after ${pe} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${t.batchesPerEpoch*t.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=ke.value){const{xs:Ee,ys:He}=R$(n,ke.value),at={};at.batch=fe,at.size=Ee[0].shape[0],yield L.onBatchBegin(fe,at);const it=[];if(null!=t.classWeight){const At=tU(t.classWeight,n.outputNames);for(let Ht=0;Ht<At.length;++Ht)it.push(yield FN(He[Ht],null,At[Ht]))}const ct=Ee.concat(He).concat(it),It=m(ct);w.dispose(ct);for(let At=0;At<_.length;++At){const tn=It[At];at[_[At]]=tn,w.keep(tn)}yield L.onBatchEnd(fe,at),V2(at),fe++,pe++}if(s?pe>=t.batchesPerEpoch:ke.done){if(o){let Ee;Ee=sU(t.validationData)?fo(yield n.evaluateDataset(t.validationData,{batches:t.validationBatches})):fo(n.evaluate(c,f,{batchSize:null==t.validationBatchSize?32:t.validationBatchSize,verbose:0}));for(let He=0;He<n.metricsNames.length;++He)ne[`val_${n.metricsNames[He]}`]=Ee[He]}break}if(n.stopTraining_)break}if(yield L.onEpochEnd(X,ne),X++,n.stopTraining_)break}return yield L.onTrainEnd(),yield n.history.syncData(),n.history}finally{n.isTraining=!1}})).apply(this,arguments)}function nse(n,r){let t=null;return null!=r.batchesPerEpoch?t=r.batchesPerEpoch:Number.isFinite(n.size)&&(t=n.size),t}function sU(n){return"function"==typeof n.iterator}function aU(n){return"function"==typeof n.next}function U2(){return(U2=(0,en.Z)(function*(n,r,t){const s=null!=(t=t||{}).batches,o=n.testFunction;let c=[];if(t.verbose>0)throw new Sr("Verbose mode is not implemented yet.");w.util.assert(!s||t.batches>0&&Number.isInteger(t.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(t.batches)}`);const f=aU(r)?r:yield r.iterator();let m=0,_=0;for(;!s||_<t.batches;){const x=yield f.next();if(c=w.tidy(()=>{if(x.value){const{xs:E,ys:T}=R$(n,x.value),L=E.concat(T),z=w.tidy(()=>o(L));if(w.dispose(L),0===_)for(let Q=0;Q<z.length;++Q)c.push((0,w.scalar)(0));const X=L[0].shape[0];for(let Q=0;Q<z.length;++Q){const ne=z[Q],pe=c[Q];c[Q]=w.tidy(()=>w.add(c[Q],w.mul(X,ne))),_>0&&w.dispose(pe)}w.dispose(z),m+=X,++_}return c}),x.done){s&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${t.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let x=0;x<c.length;++x){const E=c[x];c[x]=w.div(c[x],m),w.dispose(E)}return nf(c)})).apply(this,arguments)}function Y2(n){w.util.assert(n>0&&Number.isInteger(n),()=>`batchSize is required to be a positive integer, but got ${n}`)}function G2(n,r,t){return null==n?[null]:Array.isArray(n)?n.map(s=>u1(s,r,t-r)):u1(n,r,t-r)}function $$(n,r){return w.tidy(()=>null==n?null:Array.isArray(n)?n.map(t=>$$(t,r)):b$(n,"int32"===r.dtype?r:w.cast(r,"int32")))}function V$(n,r){const t=[];let s=0,o=null;for(;s<n;)o=s+r,o>=n&&(o=n),t.push([s,o]),s=o;return t}function ise(n,r,t,s,o,c,f,m,_,x,E,T,L,z,X){return z$.apply(this,arguments)}function z$(){return(z$=(0,en.Z)(function*(n,r,t,s,o,c,f,m,_,x,E,T,L,z,X){null==o&&(o=32),null==c&&(c=1),null==E&&(E=!0),null==L&&(L=0);let Q=!1;if(null!=_&&null!=x&&(Q=!0),null!=X&&(Q=!0,null==z))throw new Dt("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const ne=n.checkNumSamples(t,o,z,"steps_per_epoch");let pe;null!=ne&&(pe=Vh(0,ne)),null==f&&(f=1);const{callbackList:fe,history:ke}=jH(m,f,c,L,ne,z,o,Q,T);fe.setModel(n),n.history=ke,yield fe.onTrainBegin(),n.stopTraining_=!1;for(let Ee=L;Ee<c;++Ee){yield fe.onEpochBegin(Ee);const He={};if(null!=z)throw new Sr("stepsPerEpoch mode is not implemented yet.");{if("batch"===E)throw new Sr("batch shuffling is not implemneted yet");E&&w.util.shuffle(pe);const at=(0,w.tensor1d)(pe),it=V$(ne,o);for(let ct=0;ct<it.length;++ct){const It={};if(yield fe.onBatchBegin(ct,It),w.tidy(()=>{const At=it[ct][0],Ht=it[ct][1],tn=u1(at,At,Ht-At);It.batch=ct,It.size=Ht-At;const un=$$(t,tn),sn=r(un);for(let Zt=0;Zt<s.length;++Zt){const Jt=sn[Zt];It[s[Zt]]=Jt,w.keep(Jt)}if(ct===it.length-1&&Q){const Zt=n.testLoop(_,x,o);for(let Ut=0;Ut<s.length;++Ut){const Jt=s[Ut],Qt=Zt[Ut];w.keep(Qt),He["val_"+Jt]=Qt}}}),yield fe.onBatchEnd(ct,It),V2(It),n.stopTraining_)break}at.dispose()}if(yield fe.onEpochEnd(Ee,He),n.stopTraining_)break}return yield fe.onTrainEnd(),yield n.history.syncData(),n.history})).apply(this,arguments)}function j$(){return(j$=(0,en.Z)(function*(n,r,t,s={}){if(n.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let o,c,f,m,_,x,E;n.isTraining=!0;try{const T=null==s.batchSize?32:s.batchSize;Y2(T);const L=!1,z=yield n.standardizeUserData(r,t,s.sampleWeight,s.classWeight,L,T);o=z[0],c=z[1],E=z[2];let Q,X=!1;if(null!=s.validationData&&s.validationData.length>0){if(X=!0,2!==s.validationData.length)throw 3===s.validationData.length?new Sr("validationData including sample weights is not supported yet."):new Dt(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${s.validationData} is invalid.`);f=s.validationData[0],m=s.validationData[1];const it=!0,ct=yield n.standardizeUserData(f,m,null,null,it,T);_=ct[0],x=ct[1],Q=_.concat(x)}else if(null!=s.validationSplit&&s.validationSplit>0&&s.validationSplit<1){X=!0;const it=Math.floor(o[0].shape[0]*(1-s.validationSplit)),ct=o[0].shape[0];_=G2(o,it,ct),o=G2(o,0,it),x=G2(c,it,ct),c=G2(c,0,it),Q=_.concat(x)}else null!=s.validationSteps&&(X=!0);const ne=o.concat(c).concat(E);n.checkTrainableWeightsConsistency();const pe=n.makeTrainFunction(),fe=n.getDedupedMetricsNames();let ke,Ee;X?(n.makeTestFunction(),ke=n.testFunction,Ee=fe.slice().concat(fe.map(it=>"val_"+it))):(ke=null,Q=[],Ee=fe.slice());const He=zH(s.callbacks,s.yieldEvery);return yield ise(n,pe,ne,fe,T,s.epochs,s.verbose,He,ke,Q,s.shuffle,Ee,s.initialEpoch,null,null)}finally{n.isTraining=!1,zb(o,r),zb(c,t),zb(_,f),zb(x,m),null!=E&&w.dispose(E)}})).apply(this,arguments)}function oU(n){const r=[];n instanceof w.Tensor&&(n=[n]);for(let t=0;t<n.length;++t){const s=n[t];if(1===s.rank)r.push(Al(s,1));else{if(0===s.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");r.push(s)}}return r}function zb(n,r){if(null==n)return;const t=[];if(r instanceof w.Tensor)t.push(r.id);else if(Array.isArray(r))r.forEach(o=>t.push(o.id));else if(null!=r)for(const o in r)t.push(r[o].id);const s=[];if(n instanceof w.Tensor)-1===t.indexOf(n.id)&&s.push(n);else if(Array.isArray(n))n.forEach(o=>{-1===t.indexOf(o.id)&&s.push(o)});else if(null!=n)for(const o in n){const c=n[o];-1===t.indexOf(c.id)&&s.push(c)}s.forEach(o=>{o.isDisposed||o.dispose()})}function W$(n){return Array.isArray(n)}function uU(n){return!function(n){return n instanceof w.Tensor}(n)&&!W$(n)}function lU(n,r,t,s=!0,o=""){if(null==r||0===r.length){if(null!=n){let f=!1;if(W$(n)&&n.length>0)f=!0;else if(uU(n)){for(const m in n)if(n.hasOwnProperty(m)){f=!0;break}}else f=!0;if(f)throw new Dt(`Error when checking model ${o} expected no data, but got ${n}`)}return[]}if(null==n)return r.map(f=>null);let c;if(uU(n)){n=n,c=[];for(const f of r){if(null==n[f])throw new Dt(`No data provided for "${f}". Need data for each key in: ${r}`);c.push(n[f])}}else if(W$(n)){if((n=n).length!==r.length)throw new Dt(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${r.length} Tensor(s), but instead got the following list of Tensor(s): ${n}`);c=n}else{if(n=n,r.length>1)throw new Dt(`The model ${o} expects ${r.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${n.shape}`);c=[n]}if(c=oU(c),null!=t)for(let f=0;f<r.length;++f){if(null==t[f])continue;const m=c[f];if(m.shape.length!==t[f].length)throw new Dt(`Error when checking ${o}: expected ${r[f]} to have ${t[f].length} dimension(s). but got array with shape ${m.shape}`);for(let _=0;_<t[f].length;++_){if(0===_&&!s)continue;const x=m.shape[_],E=t[f][_];if(null!=E&&E>=0&&x!==E)throw new Dt(`${o} expected a batch of elements where each example has shape [${t[f].slice(1,t[f].length)}] (i.e.,tensor shape [*,${t[f].slice(1,t[f].length)}]) but the ${o} received an input with ${m.shape[0]} examples, each with shape [${m.shape.slice(1,m.shape.length)}] (tensor shape [${m.shape}])`)}}return c}function cU(n,r,t,s=!0,o=""){let c;if(Array.isArray(n)){if(n.length!==r.length)throw new Dt(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${r.length} Tensor(s), but instead got ${n.length} Tensors(s).`);c=n}else{if(r.length>1)throw new Dt(`The model expects ${r.length} ${o} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(n.shape)}.`);c=[n]}if(null!=t)for(let f=0;f<r.length;++f){if(null==t[f])continue;const m=c[f];if(m.shape.length!==t[f].length)throw new Dt(`Error when checking ${o}: expected ${r[f]} to have ${t[f].length} dimension(s), but got array with shape ${JSON.stringify(m.shape)}`);for(let _=0;_<t[f].length;++_){if(0===_&&!s)continue;const x=m.shape[_],E=t[f][_];if(null!=E&&E!==x)throw new Dt(`Error when checking ${o}: expected ${r[f]} to have shape ${JSON.stringify(t[f])} but got array with shape ${JSON.stringify(m.shape)}.`)}}}let jw=(()=>{class n extends zh{constructor(t){super(t),this.isTraining=!1}summary(t,s,o=console.log){if(!this.built)throw new Dt("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function(n,r,t,s=console.log){const o=function(n){let r=!0;const t=[],s=[];for(const o in n.nodesByDepth)t.push(n.nodesByDepth[o]);for(const o of t){if(o.length>1||1===o.length&&o[0].inboundLayers.length>1){r=!1;break}s.push(...o)}if(r)for(const o of n.layers){let c=!1;for(const f of o.inboundNodes)if(-1!==s.indexOf(f)){if(c){r=!1;break}c=!0}if(!r)break}return r}(n),c=["Layer (type)","Output shape","Param #"];let f;if(o?(r=r||65,t=t||[.45,.85,1]):(r=r||98,t=t||[.33,.55,.67,1]),t[t.length-1]<=1&&(t=t.map(E=>Math.floor(r*E))),!o){c.push("Receives inputs"),f=[];for(const E in n.nodesByDepth)f.push(...n.nodesByDepth[E])}s("_".repeat(r)),ON(c,t,s),s("=".repeat(r));const m=n.layers;for(let E=0;E<m.length;++E)o?Xie(m[E],t,s):Zie(m[E],t,f,s),s((E===m.length-1?"=":"_").repeat(r));n.checkTrainableWeightsConsistency();const _=function(n){let r;return r=Pb(null!=n.collectedTrainableWeights?n.collectedTrainableWeights:n.trainableWeights),r}(n),x=Pb(n.nonTrainableWeights);s(`Total params: ${_+x}`),s(`Trainable params: ${_}`),s(`Non-trainable params: ${x}`),s("_".repeat(r))}(this,t,s,o)}compile(t){if(null==t.loss&&(t.loss=[]),this.loss=t.loss,"string"==typeof t.optimizer)this.optimizer_=function(n){const r={Adagrad:()=>w.train.adagrad(.01),Adadelta:()=>w.train.adadelta(1,.95,ll()),Adam:()=>w.train.adam(.001,.9,.999,ll()),Adamax:()=>w.train.adamax(.002,.9,.999,ll(),0),RMSProp:()=>w.train.rmsprop(.001,.9,0,ll()),SGD:()=>w.train.sgd(.01)};if(r.adagrad=r.Adagrad,r.adadelta=r.Adadelta,r.adam=r.Adam,r.adamax=r.Adamax,r.rmsprop=r.RMSProp,r.sgd=r.SGD,n in r)return r[n]();throw new Dt(`Unknown Optimizer ${n}`)}(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof w.Optimizer))throw new Dt("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}let s=[];if(Array.isArray(t.loss)||"string"==typeof t.loss||"function"==typeof t.loss)if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new Dt(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${t.loss}.`);s=t.loss.map(_=>T$(_))}else{const m=T$(t.loss);this.outputs.forEach(_=>{s.push(m)})}else{t.loss=t.loss;for(const m in t.loss)if(-1===this.outputNames.indexOf(m))throw new Dt(`Unknown entry in loss dictionary: "${m}". Only expected the following keys: ${this.outputNames}`);for(const m of this.outputNames)null==t.loss[m]&&console.warn(`Output "${m}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${m} during training`),s.push(T$(t.loss[m]))}this.lossFunctions=s,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let m=0;m<this.outputs.length;++m){const _=this.internalOutputShapes[m];this.feedOutputNames.push(this.outputNames[m]),this.feedOutputShapes.push(_),this.feedLossFns.push(this.lossFunctions[m])}const o=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Nb("loss",()=>{for(let m=0;m<this.outputs.length;++m){if(-1!==o.indexOf(m))continue;const _=this.lossFunctions[m];this.outputs.length>1&&(this.metricsTensors.push([_,m]),this.metricsNames.push(this.outputNames[m]+"_loss"))}});const c=function(n,r){if(null==n||Array.isArray(n)&&0===n.length)return r.map(s=>[]);let t;if("string"==typeof n||"function"==typeof n)t=[n];else{if(!Array.isArray(n)&&"object"!=typeof n)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${n}`);t=n}if(Array.isArray(t))return r.map(s=>t);{const s=[];for(const o of r){let c=t.hasOwnProperty(o)?t[o]:[];Array.isArray(c)||(c=[c]),s.push(c)}return s}}(t.metrics,this.outputNames),f=(m,_,x)=>{this.outputNames.length>1&&(_=this.outputNames[m]+"_"+_),this.metricsNames.push(_),this.metricsTensors.push([x,m])};Nb("metric",()=>{for(let m=0;m<this.outputs.length;++m)-1===o.indexOf(m)&&(E=>{let L,z,X;for(const Q of E){if("string"==typeof Q&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(Q)){const pe=this.internalOutputShapes[m];let fe;1===pe[pe.length-1]||this.lossFunctions[m]===TN?-1!==["accuracy","acc"].indexOf(Q)?z=k$:-1!==["crossentropy","ce"].indexOf(Q)&&(z=YH):this.lossFunctions[m]===S$?-1!==["accuracy","acc"].indexOf(Q)?z=GH:-1!==["crossentropy","ce"].indexOf(Q)&&(z=Vw):-1!==["accuracy","acc"].indexOf(Q)?z=$w:-1!==["crossentropy","ce"].indexOf(Q)&&(z=F$),-1!==["accuracy","acc"].indexOf(Q)?fe="acc":-1!==["crossentropy","ce"].indexOf(Q)&&(fe="ce"),X=z,L=""+fe}else X=ZH(Q),L=""+NN(Q);let ne;Nb(L,()=>{ne=X}),f(m,L,ne)}})(c[m])}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(t,s,o={}){const c=null==o.batchSize?32:o.batchSize;Y2(c);const m=this.standardizeUserDataXY(t,s,!0,c);try{const _=m[0].concat(m[1]);return this.makeTestFunction(),nf(this.testLoop(this.testFunction,_,c,o.verbose,o.steps))}finally{zb(m[0],t),zb(m[1],s)}}evaluateDataset(t,s){var o=this;return(0,en.Z)(function*(){return o.makeTestFunction(),function(n,r,t){return U2.apply(this,arguments)}(o,t,s)})()}checkNumSamples(t,s,o,c="steps"){let f;if(null!=o){if(f=null,null!=s)throw new Dt(`If ${c} is set, batchSize must be null or undefined.Got batchSize = ${s}`)}else{if(null==t)throw new Dt(`Either the input data should have a defined shape, or ${c} shoud be specified.`);f=Array.isArray(t)?t[0].shape[0]:t.shape[0]}return f}execute(t,s){if(Array.isArray(s)&&0===s.length)throw new Dt("`outputs` is an empty Array, which is not allowed.");const o=Array.isArray(s),f=this.retrieveSymbolicTensors(o?s:[s]),m=new T_;if(t instanceof w.Tensor&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new Dt(`The number of inputs provided (${t.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let x=0;x<this.inputs.length;++x)m.add(this.inputs[x],t[x])}else for(const x of this.inputs){const E=t[x.name];if(null==E)throw new Dt(`No value is provided for the model's input ${x.name}`);m.add(x,E)}const _=Vb(f,m);return o?_:_[0]}retrieveSymbolicTensors(t){const s=a1(null,t.length);let o=t.length;for(const c of this.layers){const f=Array.isArray(c.output)?c.output:[c.output],m=f.map(_=>_.name);for(let _=0;_<t.length;++_){const x=m.indexOf(t[_]);if(-1!==x&&(s[_]=f[x],o--),0===o)break}if(0===o)break}if(o>0){const c=[];throw s.forEach((f,m)=>{null==f&&c.push(t[m])}),new Dt(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(c)}`)}return s}predictLoop(t,s=32,o=!1){return w.tidy(()=>{const c=this.checkNumSamples(t);if(o)throw new Sr("Verbose predictLoop() is not implemented yet.");const f=V$(c,s),m=this.outputs.map(_=>[]);for(let _=0;_<f.length;++_)w.tidy(()=>{const L=G2(t,f[_][0],f[_][1]),z=[];if(Array.isArray(L))for(let Q=0;Q<L.length;++Q)z.push({key:this.inputs[Q],value:L[Q]});else z.push({key:this.inputs[0],value:L});const X=new T_(z);return Vb(this.outputs,X)}).forEach((E,T)=>m[T].push(E));return nf(m.map(_=>w.concat(_,0)))})}predict(t,s={}){const o=oU(t);cU(o,this.inputNames,this.feedInputShapes,!1);try{const c=null==s.batchSize?32:s.batchSize;return Y2(c),this.predictLoop(o,c)}finally{zb(o,t)}}predictOnBatch(t){cU(t,this.inputNames,this.feedInputShapes,!0);const s=(Array.isArray(t)?t[0]:t).shape[0];return this.predictLoop(t,s)}standardizeUserDataXY(t,s,o=!0,c){if(null==this.optimizer_)throw new tf("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const f=[];for(let m=0;m<this.feedOutputShapes.length;++m){const _=this.feedOutputShapes[m];f.push(this.feedLossFns[m]===S$?_.slice(0,_.length-1).concat([1]):_)}if(function(n,r,t){const s=Kg(n.map(c=>c.shape[0]));s.sort();const o=Kg(r.map(c=>c.shape[0]));if(o.sort(),s.length>1)throw new Dt(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(n.map(c=>c.shape))}`);if(o.length>1)throw new Dt(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(r.map(c=>c.shape))}`);if(s.length>0&&o.length>0&&!w.util.arraysEqual(s,o))throw new Dt(`Input Tensors should have the same number of samples as target Tensors. Found ${s[0]} input sample(s) and ${o[0]} target sample(s).`)}(t=lU(t,this.feedInputNames,this.feedInputShapes,!1,"input"),s=lU(s,this.feedOutputNames,f,!1,"target")),function(n,r,t){const s=[Rb,TN,$b];for(let o=0;o<n.length;++o){const c=n[o],f=r[o],m=t[o];if(null!=f){if(f===$b&&1===c.shape[c.shape.length-1])throw new Dt(`You are passing a target array of shape ${c.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==s.indexOf(f)){const _=c.shape.slice(1),x=m.slice(1);for(let E=0;E<_.length;++E){const T=_[E],L=x[E];if(null!=L&&T!==L)throw new Dt(`A target Tensor with shape ${c.shape} was passed for an output of shape ${m}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(s,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=c&&c>0&&t[0].shape[0]%c!=0)throw new Dt(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${c}. Found: ${t[0].shape[0]} sample(s).`);return[t,s]}standardizeUserData(t,s,o,c,f=!0,m){var _=this;return(0,en.Z)(function*(){const[x,E]=_.standardizeUserDataXY(t,s,f,m);if(null!=o)throw new Error("sample weight is not supported yet.");let T=null;if(null!=c){const L=tU(c,_.outputNames);T=[];for(let z=0;z<L.length;++z)T.push(yield FN(E[z],null,L[z]))}return[x,E,T]})()}testLoop(t,s,o,c=0,f){return w.tidy(()=>{const m=this.checkNumSamples(s,o,f,"steps"),_=[];if(c>0)throw new Sr("Verbose mode is not implemented yet.");if(null!=f)throw new Sr("steps mode in testLoop() is not implemented yet");{const x=V$(m,o),E=(0,w.tensor1d)(Vh(0,m));for(let T=0;T<x.length;++T){const L=x[T][0],z=x[T][1],X=u1(E,L,z-L),Q=$$(s,X),ne=t(Q);if(0===T)for(let pe=0;pe<ne.length;++pe)_.push((0,w.scalar)(0));for(let pe=0;pe<ne.length;++pe)_[pe]=w.add(_[pe],w.mul(z-L,ne[pe]))}for(let T=0;T<_.length;++T)_[T]=w.div(_[T],m)}return _})}getDedupedMetricsNames(){const t=this.metricsNames,s=[];for(let o=0;o<t.length;++o){const c=t[o];let f=c;gH(t,c)>1&&(f+=`_${gH(t.slice(0,o),c)}`),s.push(f)}return s}makeTrainFunction(){return t=>{const s=[],o=t.slice(0,this.inputs.length),c=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),f=t.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),m=[],x=this.collectedTrainableWeights.map(L=>L.read());return[this.optimizer_.minimize(()=>{const L=[];for(let ne=0;ne<this.inputs.length;++ne)L.push({key:this.inputs[ne],value:o[ne]});const z=new T_(L),X=Vb(this.outputs,z,{training:!0});let Q;for(let ne=0;ne<this.lossFunctions.length;++ne){let fe=this.lossFunctions[ne](c[ne],X[ne]);null!=f[ne]&&(fe=ese(fe,f[ne]));const ke=w.mean(fe);s.push(ke),Q=0===ne?fe:w.add(Q,fe)}for(let ne=0;ne<this.metricsTensors.length;++ne){let pe;if(this.outputs.length>1&&ne<this.outputs.length)pe=s[ne];else{const ke=this.metricsTensors[ne][1];pe=w.mean((0,this.metricsTensors[ne][0])(c[ke],X[ke]))}w.keep(pe),m.push(pe)}return Q=w.mean(Q),this.calculateLosses().forEach(ne=>{Q=w.add(Q,ne)}),Q},!0,x)].concat(m)}}makeTestFunction(){this.testFunction=t=>w.tidy(()=>{const s=[];let o;const c=t.slice(0,this.inputs.length),f=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),m=[];for(let E=0;E<this.inputs.length;++E)m.push({key:this.inputs[E],value:c[E]});const _=new T_(m),x=Vb(this.outputs,_);for(let E=0;E<this.lossFunctions.length;++E){const L=w.mean((0,this.lossFunctions[E])(f[E],x[E]));o=0===E?L:w.add(o,L),s.push(o)}for(let E=0;E<this.metricsTensors.length;++E){const L=this.metricsTensors[E][1],z=w.mean((0,this.metricsTensors[E][0])(f[L],x[L]));s.push(z)}return s})}fit(t,s,o={}){var c=this;return(0,en.Z)(function*(){return function(n,r,t){return j$.apply(this,arguments)}(c,t,s,o)})()}fitDataset(t,s){var o=this;return(0,en.Z)(function*(){return function(n,r,t){return B$.apply(this,arguments)}(o,t,s)})()}trainOnBatch(t,s){var o=this;return(0,en.Z)(function*(){const c=yield o.standardizeUserData(t,s),f=c[0],m=c[1],x=o.makeTrainFunction()(f.concat(m)),E=[];for(const T of x){const L=yield T.data();E.push(L[0])}return w.dispose(x),nf(E)})()}getNamedWeights(t){const s=[],o=null!=t&&t.trainableOnly,c=o?this.trainableWeights:this.weights,f=this.getWeights(o);for(let m=0;m<c.length;++m)o&&!c[m].trainable||s.push({name:c[m].originalName,tensor:f[m]});return s}set stopTraining(t){this.stopTraining_=t}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)}dispose(){const t=super.dispose();if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const s=w.memory().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=s-w.memory().numTensors}return t}getLossIdentifiers(){let t;if("string"==typeof this.loss)t=S_(this.loss);else if(Array.isArray(this.loss)){for(const s of this.loss)if("string"!=typeof s)throw new Error("Serialization of non-string loss is not supported.");t=this.loss.map(s=>S_(s))}else{const s=Object.keys(this.loss);t={};const o=this.loss;for(const c of s){if("string"!=typeof o[c])throw new Error("Serialization of non-string loss is not supported.");t[c]=S_(o[c])}}return t}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[S_(NN(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(t=>S_(NN(t)));{const t={};for(const s in this.metrics)t[s]=S_(NN(this.metrics[s]));return t}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(t){if(null!=t.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=t.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=t.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const o=Jg(j2(t.optimizer_config));let c,f;if("string"==typeof t.loss)c=Ab(t.loss);else if(Array.isArray(t.loss))c=t.loss.map(m=>Ab(m));else if(null!=t.loss){c={};for(const m in t.loss)c[m]=Ab(t.loss[m])}if(Array.isArray(t.metrics))f=t.metrics.map(m=>Ab(m));else if(null!=t.metrics){f={};for(const m in t.metrics)f[m]=Ab(t.metrics[m])}this.compile({loss:c,metrics:f,optimizer:o})}save(t,s){var o=this;return(0,en.Z)(function*(){if("string"==typeof t){const T=w.io.getSaveHandlers(t);if(0===T.length)throw new Dt(`Cannot find any save handlers for URL '${t}'`);if(T.length>1)throw new Dt(`Found more than one (${T.length}) save handlers for URL '${t}'`);t=T[0]}if(null==t.save)throw new Dt("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const c=yield w.io.encodeWeights(o.getNamedWeights(s)),x={modelTopology:o.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v3.11.0",convertedBy:null};if(null!=s&&s.includeOptimizer&&null!=o.optimizer){x.trainingConfig=o.getTrainingConfig();const T="optimizer",{data:L,specs:z}=yield w.io.encodeWeights(yield o.optimizer.getWeights(),T);c.specs.push(...z),c.data=w.io.concatenateArrayBuffers([c.data,L])}return null!=o.userDefinedMetadata&&(z2(o.userDefinedMetadata,o.name,!0),x.userDefinedMetadata=o.userDefinedMetadata),x.weightData=c.data,x.weightSpecs=c.specs,t.save(x)})()}setUserDefinedMetadata(t){z2(t,this.name),this.userDefinedMetadata=t}getUserDefinedMetadata(){return this.userDefinedMetadata}}return n.className="Model",n})();function U$(){return(U$=(0,en.Z)(function*(n,r){if(null==r&&(r={}),"string"==typeof n){const t=w.io.getLoadHandlers(n,r);if(0===t.length)t.push(w.io.browserHTTPRequest(n,r));else if(t.length>1)throw new Dt(`Found more than one (${t.length}) load handlers for URL '${n}'`);n=t[0]}return fse(n,void 0,r)})).apply(this,arguments)}function fse(n,r,t){return Y$.apply(this,arguments)}function Y$(){return(Y$=(0,en.Z)(function*(n,r,t){if(null==t&&(t={}),null==n.load)throw new Dt("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const s=yield n.load();let o=s.modelTopology;null!=o.model_config&&(o=o.model_config);const c=null==t.strict||t.strict,f=null!=s.weightData&&null!=s.weightSpecs&&c,m=Jg(j2(o),r,f),_=s.trainingConfig;if(null!=_&&m.loadTrainingConfig(_),null!=s.userDefinedMetadata&&m.setUserDefinedMetadata(s.userDefinedMetadata),null!=s.weightData){if(null==s.weightSpecs)throw new Dt("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:x,optimizerWeights:E}=K2(s.weightData,s.weightSpecs);m.loadWeights(x,c),null!=m.optimizer&&E.length>0&&(yield m.optimizer.setWeights(E)),(0,w.dispose)(x),(0,w.dispose)(E.map(T=>T.tensor))}return m})).apply(this,arguments)}function K2(n,r){const t=w.io.decodeWeights(n,r),s={},o=[];return r.forEach(c=>{"optimizer"===c.group?o.push({name:c.name,tensor:t[c.name]}):s[c.name]=t[c.name]}),{modelWeights:s,optimizerWeights:o}}w.serialization.registerClass(jw),w.serialization.registerClass((()=>{class n extends jw{}return n.className="Functional",n})());let hU=(()=>{class n extends jw{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=null!=t.name?t.name:Rw("sequential_"),null!=t.layers)for(const s of t.layers)this.add(s)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some(o=>o<0))throw new Dt(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){const s=t instanceof n||t instanceof jw;let o;if(s){if(o=t,1!==o.outputs.length)throw new Dt("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==o.inputs.length)throw new Dt("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new Dt("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const c=function(n){if(null==n.batchShape&&null==n.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=n.batchShape&&null!=n.shape)throw new Dt("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let r=n.batchShape;null!=n.shape&&null==r&&(r=[null].concat(n.shape));let t=n.dtype;return null==t&&(t="float32"),new EN({batchInputShape:r,name:n.name,dtype:t,sparse:n.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(c)}if(s)this.outputs=o.outputs,this.inputs=o.inputs;else{if(1!==t.inboundNodes.length)throw new Dt(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(1!==t.inboundNodes[0].outputTensors.length)throw new Dt("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=M$(this.outputs[0])}this.inboundNodes=[],new B2({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:a1(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(c=>c.shape),outputShapes:this.outputs[0].shape})}else{const c=t.apply(this.outputs[0]);if(Array.isArray(c))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[c],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,s){return null==this.model&&this.build(),this.model.call(t,s)}build(t){if($s(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new jw({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,s,o=console.log){this.built||this.build(),super.summary(t,s,o)}setWeights(t){null==this.model&&this.build(),this.model.setWeights(t)}evaluate(t,s,o={}){if(!this.built)throw new tf("The model needs to be compiled before being used.");return this.model.evaluate(t,s,o)}evaluateDataset(t,s){var o=this;return(0,en.Z)(function*(){if(!o.built)throw new tf("The model needs to be compiled before being used.");return o.model.evaluateDataset(t,s)})()}predict(t,s={}){return null==this.model&&this.build(),this.model.predict(t,s)}predictOnBatch(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}fit(t,s,o={}){var c=this;return(0,en.Z)(function*(){if(!c.built)throw new tf("The model needs to be compiled before being used.");return c.model.fit(t,s,o)})()}fitDataset(t,s){var o=this;return(0,en.Z)(function*(){if(!o.built)throw new tf("The model needs to be compiled before being used.");return o.model.fitDataset(t,s)})()}trainOnBatch(t,s){var o=this;return(0,en.Z)(function*(){return o.model.trainOnBatch(t,s)})()}static fromConfig(t,s,o={},c=!1){let f,m={};if(s instanceof Array){if(null==s[0].className||"Merge"===s[0].className)throw new Dt("Legacy serialization format not supported yet.");f=s}else w.util.assert(null!=s.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),f=s.layers,delete s.layers,m=s;const _=new t(m);if(!(_ instanceof n))throw new Sr(`Sequential.fromConfig called on non-Sequential input: ${_}`);for(const x of f){const T=Jg(x,void 0,c);c&&T.setFastWeightInitDuringBuild(!0),_.add(T)}return _}set stopTraining(t){if(null==this.model)throw new Dt("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(null==this.model)throw new Dt("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const t=[];for(const s of this.layers){const o={};o.className=s.getClassName(),o.config=s.getConfig(),t.push(o)}return{name:this.name,layers:t}}}return n.className="Sequential",n})();function PN(n,r){return null==r&&(r={}),function(n,r){return U$.apply(this,arguments)}(n,r)}w.serialization.registerClass(hU);class sf extends w.serialization.Serializable{getConfig(){return{}}}let fl=(()=>{class n extends sf{apply(t,s=1){return function(n,r=1){if(1!==r)throw new Sr(`Support for alpha values other than 1 (${r}) is not implemented yet.`);return w.elu(n)}(t,s)}}return n.className="elu",n})();w.serialization.registerClass(fl);let Qg=(()=>{class n extends sf{apply(t){return w.selu(t)}}return n.className="selu",n})();w.serialization.registerClass(Qg);let pse=(()=>{class n extends sf{apply(t){return w.relu(t)}}return n.className="relu",n})();w.serialization.registerClass(pse);let mse=(()=>{class n extends sf{apply(t){return(0,w.tidy)(()=>w.minimum(6,w.relu(t)))}}return n.className="relu6",n})();w.serialization.registerClass(mse),w.serialization.registerClass((()=>{class n extends sf{apply(t){return t}}return n.className="linear",n})());let gse=(()=>{class n extends sf{apply(t){return w.sigmoid(t)}}return n.className="sigmoid",n})();w.serialization.registerClass(gse);let G$=(()=>{class n extends sf{apply(t){return function(n){return(0,w.tidy)(()=>{const r=w.add(.5,w.mul(.2,n));return w.clipByValue(r,0,1)})}(t)}}return n.className="hardSigmoid",n})();w.serialization.registerClass(G$);let _se=(()=>{class n extends sf{apply(t){return w.softplus(t)}}return n.className="softplus",n})();w.serialization.registerClass(_se);let yse=(()=>{class n extends sf{apply(t){return function(n){return(0,w.tidy)(()=>w.div(n,w.add(w.abs(n),1)))}(t)}}return n.className="softsign",n})();w.serialization.registerClass(yse);let X2=(()=>{class n extends sf{apply(t){return w.tanh(t)}}return n.className="tanh",n})();w.serialization.registerClass(X2);let _U=(()=>{class n extends sf{apply(t,s=-1){return w.softmax(t,s)}}return n.className="softmax",n})();w.serialization.registerClass(_U);let vse=(()=>{class n extends sf{apply(t,s=-1){return w.logSoftmax(t,s)}}return n.className="logSoftmax",n})();w.serialization.registerClass(vse);let bse=(()=>{class n extends sf{apply(t,s=1){return(0,w.tidy)(()=>w.mul(w.sigmoid(w.mul(t,s)),t))}}return n.className="swish",n})();w.serialization.registerClass(bse);let xse=(()=>{class n extends sf{apply(t){return(0,w.tidy)(()=>w.mul(t,w.tanh(w.softplus(t))))}}return n.className="mish",n})();function f1(n){return n.getClassName()}function RN(n,r={}){return Nw(n,w.serialization.SerializationMap.getMap().classNameMap,r,"activation")}function k_(n){if(null==n){return RN({className:"linear",config:{}})}if("string"==typeof n){const r={};return r.className=n,r.config={},RN(r)}return n instanceof sf?n:RN(n)}w.serialization.registerClass(xse);class yU extends w.serialization.Serializable{}let X$=(()=>{class n extends yU{constructor(t){super(),function(n){if(null!=n&&"object"!=typeof n)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${n}`)}(t),this.l1=null==t||null==t.l1?.01:t.l1,this.l2=null==t||null==t.l2?.01:t.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(t){return(0,w.tidy)(()=>{let s=(0,w.zeros)([1]);return this.hasL1&&(s=(0,w.add)(s,(0,w.sum)(w.mul(this.l1,(0,w.abs)(t))))),this.hasL2&&(s=(0,w.add)(s,(0,w.sum)(w.mul(this.l2,L2(t))))),w.reshape(s,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(t,s){return new t({l1:s.l1,l2:s.l2})}}return n.className="L1L2",n})();w.serialization.registerClass(X$);const vU={l1l2:"L1L2"};function Qa(n){return o$(n)}function bU(n,r={}){return Nw(n,w.serialization.SerializationMap.getMap().classNameMap,r,"regularizer")}function Oo(n){return null==n?null:"string"==typeof n?bU({className:n in vU?vU[n]:n,config:{}}):n instanceof yU?n:bU(n)}function jb(n,r,t){if("number"==typeof n)return a1(n,r);if(n.length!==r)throw new Dt(`The ${t} argument must be an integer or tuple of ${r} integers. Received: ${n.length} elements.`);for(let s=0;s<r;++s){const o=n[s];if(!N2(o))throw new Dt(`The ${t} argument must be an integer or tuple of ${r} integers. Received: ${JSON.stringify(n)} including a non-integer number ${o}`)}return n}function Ap(n,r,t,s,o=1){if(null==n)return n;let f;return f="same"===t?n:n-(r+(r-1)*(o-1))+1,Math.floor((f+s-1)/s)}function qg(n,r,t,s){if(null==n)return null;if("valid"===s)n=n*r+Em([t-r,0]);else{if("same"!==s)throw new Dt(`Unsupport padding mode: ${s}.`);n*=r}return n}function Z$(n,r){return(0,w.tidy)(()=>(Ca(r),"channelsFirst"===r?w.transpose(n,[0,2,3,1]):n))}function J$(n,r){return(0,w.tidy)(()=>(Ca(r),"channelsFirst"===r?w.transpose(n,[0,2,3,4,1]):n))}function Z2(n,r,t,s=[1,1],o="valid",c,f,m=null){return(0,w.tidy)(()=>{if(null==c&&(c="channelsLast"),Ca(c),3!==n.rank&&4!==n.rank)throw new Dt(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${n.rank}.`);if(3!==r.rank&&4!==r.rank)throw new Dt(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${n.rank}.`);let _=Z$(n,c);if("causal"===o)throw new Sr("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return _=w.fused.conv2d({x:_,filter:r,strides:s,pad:"same"===o?"same":"valid",dilations:f,dataFormat:"NHWC",bias:t,activation:m}),"channelsFirst"===c&&(_=w.transpose(_,[0,3,1,2])),_})}w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(null==t?{}:t),this.supportsMasking=!0,null!=t&&(this.maxValue=t.maxValue)}call(t,s){t=ki(t);let o=(0,w.relu)(t);return null!=this.maxValue&&(o=(0,w.clipByValue)(o,0,this.maxValue)),o}computeOutputShape(t){return t}getConfig(){const t={maxValue:this.maxValue},s=super.getConfig();return Object.assign(t,s),t}}return n.className="ReLU",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(null==t?{}:t),this.DEFAULT_ALPHA=.3,null==t&&(t={}),this.alpha=null==t.alpha?this.DEFAULT_ALPHA:t.alpha}call(t,s){const o=ki(t);return(0,w.leakyRelu)(o,this.alpha)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},s=super.getConfig();return Object.assign(t,s),t}}return n.className="LeakyReLU",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){if(super(null==t?{}:t),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),this.supportsMasking=!0,this.alphaInitializer=Io(t.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Oo(t.alphaRegularizer),this.alphaConstraint=dl(t.alphaConstraint),null==t.sharedAxes)this.sharedAxes=null;else if(Array.isArray(t.sharedAxes))this.sharedAxes=t.sharedAxes;else{if("number"!=typeof t.sharedAxes)throw new Dt(`Expected sharedAxes to be a number or an array of numbers, but got ${t.sharedAxes}`);this.sharedAxes=[t.sharedAxes]}}build(t){const s=(t=$s(t)).slice(1);if(null!=this.sharedAxes)for(const c of this.sharedAxes)s[c-1]=1;this.alpha=this.addWeight("alpha",s,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const o={};if(null!=this.sharedAxes)for(let c=1;c<t.length;++c)o[c]=t[c];this.inputSpec=[new ta({ndim:t.length,axes:o})],this.built=!0}call(t,s){return t=ki(t),(0,w.prelu)(t,this.alpha.read())}getConfig(){const t={alphaInitializer:Qo(this.alphaInitializer),alphaRegularizer:Qa(this.alphaRegularizer),alphaConstraint:cl(this.alphaConstraint),sharedAxes:this.sharedAxes},s=super.getConfig();return Object.assign(t,s),t}}return n.className="PReLU",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){if(super(null==t?{}:t),this.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==this.DEFAULT_ALPHA)throw new Sr(`Non-default alpha value (${t.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==t.alpha?this.DEFAULT_ALPHA:t.alpha}call(t,s){const o=ki(t);return(0,w.elu)(o)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},s=super.getConfig();return Object.assign(t,s),t}}return n.className="ELU",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(null==t?{}:t),this.DEFAULT_THETA=1,null==t&&(t={}),this.theta=null==t.theta?this.DEFAULT_THETA:t.theta}call(t,s){const o=ki(t);return(0,w.mul)(o,(0,w.cast)((0,w.greater)(o,this.theta),"float32"))}computeOutputShape(t){return t}getConfig(){const t={theta:this.theta},s=super.getConfig();return Object.assign(t,s),t}}return n.className="ThresholdedReLU",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(null==t?{}:t),this.DEFAULT_AXIS=1,null==t&&(t={}),this.softmax=(new _U).apply,this.axis=null==t.axis?this.DEFAULT_AXIS:t.axis}call(t,s){const o=ki(t);return this.softmax(o,this.axis)}computeOutputShape(t){return t}getConfig(){const t={axis:this.axis},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Softmax",n})());class Wb extends Is{constructor(r,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Wb.verifyArgs(t),this.rank=r,Sl(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new Sr(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=jb(t.kernelSize,r,"kernelSize"),this.strides=jb(null==t.strides?1:t.strides,r,"strides"),this.padding=null==t.padding?"valid":t.padding,Pf(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Ca(this.dataFormat),this.activation=k_(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=Io(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=dl(t.biasConstraint),this.biasRegularizer=Oo(t.biasRegularizer),this.activityRegularizer=Oo(t.activityRegularizer),this.dilationRate=jb(null==t.dilationRate?1:t.dilationRate,r,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new Dt(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new Dt(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new Dt(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(r){if(Bh("kernelSize"in r,"required key 'kernelSize' not in config"),"number"!=typeof r.kernelSize&&!fN(r.kernelSize,"number",1,3))throw new Dt(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(r.kernelSize)}.`)}getConfig(){const r={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:f1(this.activation),useBias:this.useBias,biasInitializer:Qo(this.biasInitializer),biasRegularizer:Qa(this.biasRegularizer),activityRegularizer:Qa(this.activityRegularizer),biasConstraint:cl(this.biasConstraint)},t=super.getConfig();return Object.assign(r,t),r}}class Ww extends Wb{constructor(r,t){super(r,t),this.kernel=null,Ww.verifyArgs(t),this.filters=t.filters,Sl(this.filters,"filters"),this.kernelInitializer=Io(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=dl(t.kernelConstraint),this.kernelRegularizer=Oo(t.kernelRegularizer)}build(r){r=$s(r);const t="channelsFirst"===this.dataFormat?1:r.length-1;if(null==r[t])throw new Dt(`The channel dimension of the input should be defined. Found ${r[t]}`);const s=r[t],o=this.kernelSize.concat([s,this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:s}}],this.built=!0}call(r,t){return(0,w.tidy)(()=>{let s;r=ki(r);const o=null==this.bias?null:this.bias.read(),c=k2(this.activation.getClassName());if(null!=c&&2===this.rank)s=Z2(r,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate,c);else{if(1===this.rank)s=function(n,r,t,s=1,o="valid",c,f=1){return(0,w.tidy)(()=>{if(null==c&&(c="channelsLast"),Ca(c),3!==n.shape.length)throw new Dt(`The input of a conv1dWithBias operation should be 3, but is ${n.shape.length} instead.`);if(3!==r.shape.length)throw new Dt(`The kernel for a conv1dWithBias operation should be 3, but is ${r.shape.length} instead`);if(null!=t&&1!==t.shape.length)throw new Dt(`The bias for a conv1dWithBias operation should be 1, but is ${r.shape.length} instead`);if("channelsFirst"===c&&(n=w.transpose(n,[0,2,1])),"causal"===o)throw new Sr("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let m=w.conv1d(n,r,s,"same"===o?"same":"valid","NWC",f);return null!=t&&(m=Am(m,t)),m})}(r,this.kernel.read(),o,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)s=Z2(r,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new Sr("convolutions greater than 3D are not implemented yet.");s=function(n,r,t,s=[1,1,1],o="valid",c,f){return(0,w.tidy)(()=>{if(null==c&&(c="channelsLast"),Ca(c),4!==n.rank&&5!==n.rank)throw new Dt(`conv3dWithBias expects input to be of rank 4 or 5, but received ${n.rank}.`);if(4!==r.rank&&5!==r.rank)throw new Dt(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${n.rank}.`);let m=J$(n,c);if("causal"===o)throw new Sr("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return m=w.conv3d(m,r,s,"same"===o?"same":"valid","NDHWC",f),null!=t&&(m=Am(m,t)),"channelsFirst"===c&&(m=w.transpose(m,[0,4,1,2,3])),m})}(r,this.kernel.read(),o,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(s=this.activation.apply(s))}return s})}computeOutputShape(r){r=$s(r);const t=[],s="channelsLast"===this.dataFormat?r.slice(1,r.length-1):r.slice(2);for(let c=0;c<s.length;++c){const f=Ap(s[c],this.kernelSize[c],this.padding,this.strides[c],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[c]);t.push(f)}let o=[r[0]];return"channelsLast"===this.dataFormat?(o=o.concat(t),o.push(this.filters)):(o.push(this.filters),o=o.concat(t)),o}getConfig(){const r={filters:this.filters,kernelInitializer:Qo(this.kernelInitializer),kernelRegularizer:Qa(this.kernelRegularizer),kernelConstraint:cl(this.kernelConstraint)},t=super.getConfig();return Object.assign(r,t),r}static verifyArgs(r){if(!("filters"in r)||"number"!=typeof r.filters||r.filters<1)throw new Dt(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(r.filters)}`)}}let EU=(()=>{class n extends Ww{constructor(t){super(2,t),n.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if("number"!=typeof t.kernelSize&&!fN(t.kernelSize,"number",1,2))throw new Dt(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(t.kernelSize)}.`)}}return n.className="Conv2D",n})();w.serialization.registerClass(EU);let q$=(()=>{class n extends Ww{constructor(t){super(3,t),n.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if("number"!=typeof t.kernelSize&&(!Array.isArray(t.kernelSize)||1!==t.kernelSize.length&&3!==t.kernelSize.length))throw new Dt(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(t.kernelSize)}.`)}}return n.className="Conv3D",n})();w.serialization.registerClass(q$);let MU=(()=>{class n extends EU{constructor(t){if(super(t),this.inputSpec=[new ta({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new Dt(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(4!==(t=$s(t)).length)throw new Dt("Input should have rank 4; Received input shape: "+JSON.stringify(t));const s="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[s])throw new Dt("The channel dimension of the inputs should be defined. Found `None`.");const o=t[s],c=this.kernelSize.concat([this.filters,o]);this.kernel=this.addWeight("kernel",c,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ta({ndim:4,axes:{[s]:o}})],this.built=!0}call(t,s){return w.tidy(()=>{let o=ki(t);if(4!==o.shape.length)throw new Dt(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${o.shape.length}`);const c=o.shape;let m,_;"channelsFirst"===this.dataFormat?(m=2,_=3):(m=1,_=2);const E=c[_],L=this.kernelSize[1],X=this.strides[1],pe=[c[0],qg(c[m],this.strides[0],this.kernelSize[0],this.padding),qg(E,X,L,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(o=w.transpose(o,[0,2,3,1]));let fe=w.conv2dTranspose(o,this.kernel.read(),pe,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(fe=w.transpose(fe,[0,3,1,2])),null!=this.bias&&(fe=Am(fe,this.bias.read(),this.dataFormat)),null!=this.activation&&(fe=this.activation.apply(fe)),fe})}computeOutputShape(t){const s=(t=$s(t)).slice();let o,c,f;"channelsFirst"===this.dataFormat?(o=1,c=2,f=3):(o=3,c=1,f=2);const m=this.kernelSize[0],_=this.kernelSize[1],x=this.strides[0],E=this.strides[1];return s[o]=this.filters,s[c]=qg(s[c],x,m,this.padding),s[f]=qg(s[f],E,_,this.padding),s}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}return n.className="Conv2DTranspose",n})();w.serialization.registerClass(MU);let BN=(()=>{class n extends q${constructor(t){if(super(t),this.inputSpec=[new ta({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new Dt(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(5!==(t=$s(t)).length)throw new Dt("Input should have rank 5; Received input shape: "+JSON.stringify(t));const s="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[s])throw new Dt("The channel dimension of the inputs should be defined. Found `None`.");const o=t[s],c=this.kernelSize.concat([this.filters,o]);this.kernel=this.addWeight("kernel",c,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ta({ndim:5,axes:{[s]:o}})],this.built=!0}call(t,s){return w.tidy(()=>{let o=ki(t);if(5!==o.shape.length)throw new Dt(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${o.shape.length}`);const c=o.shape;let m,_,x;"channelsFirst"===this.dataFormat?(x=2,m=3,_=4):(x=1,m=2,_=3);const T=c[m],L=c[_],X=this.kernelSize[1],Q=this.kernelSize[2],pe=this.strides[1],fe=this.strides[2],at=[c[0],qg(c[x],this.strides[0],this.kernelSize[0],this.padding),qg(T,pe,X,this.padding),qg(L,fe,Q,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(o=w.transpose(o,[0,2,3,4,1]));let it=w.conv3dTranspose(o,this.kernel.read(),at,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(it=w.transpose(it,[0,4,1,2,3])),null!==this.bias&&(it=Am(it,this.bias.read(),this.dataFormat)),null!==this.activation&&(it=this.activation.apply(it)),it})}computeOutputShape(t){const s=(t=$s(t)).slice();let o,c,f,m;"channelsFirst"===this.dataFormat?(o=1,c=2,f=3,m=4):(o=4,c=1,f=2,m=3);const _=this.kernelSize[0],x=this.kernelSize[1],E=this.kernelSize[2],T=this.strides[0],L=this.strides[1],z=this.strides[2];return s[o]=this.filters,s[c]=qg(s[c],T,_,this.padding),s[f]=qg(s[f],L,x,this.padding),s[m]=qg(s[m],z,E,this.padding),s}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}return n.className="Conv3DTranspose",n})();w.serialization.registerClass(BN);let Sse=(()=>{class n extends Ww{constructor(t,s){if(super(t,s),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==s.filters)throw new Dt("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=s.kernelInitializer||null!=s.kernelRegularizer||null!=s.kernelConstraint)throw new Dt("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=s.padding&&"same"!==s.padding&&"valid"!==s.padding)throw new Dt(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(s.padding)}`);this.depthMultiplier=null==s.depthMultiplier?1:s.depthMultiplier,this.depthwiseInitializer=Io(s.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Oo(s.depthwiseRegularizer),this.depthwiseConstraint=dl(s.depthwiseConstraint),this.pointwiseInitializer=Io(s.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Oo(s.pointwiseRegularizer),this.pointwiseConstraint=dl(s.pointwiseConstraint)}build(t){if((t=$s(t)).length<this.rank+2)throw new Dt(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(t)}`);const s="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[s]||t[s]<0)throw new Dt(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(t[s])}`);const o=t[s],c=this.kernelSize.concat([o,this.depthMultiplier]),f=[];for(let _=0;_<this.rank;++_)f.push(1);f.push(o*this.depthMultiplier,this.filters);const m=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",c,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,m,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",f,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,m,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,m,this.biasConstraint):null,this.inputSpec=[new ta({ndim:this.rank+2,axes:{[s]:o}})],this.built=!0}call(t,s){return(0,w.tidy)(()=>{let o;if(t=ki(t),1===this.rank)throw new Sr("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(t=w.transpose(t,[0,2,3,1])),o=w.separableConv2d(t,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(o=Am(o,this.bias.read(),this.dataFormat)),null!=this.activation&&(o=this.activation.apply(o)),"channelsFirst"===this.dataFormat&&(o=w.transpose(o,[0,3,1,2])),o})}getConfig(){const t=super.getConfig();return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=Qo(this.depthwiseInitializer),t.pointwiseInitializer=Qo(this.pointwiseInitializer),t.depthwiseRegularizer=Qa(this.depthwiseRegularizer),t.pointwiseRegularizer=Qa(this.pointwiseRegularizer),t.depthwiseConstraint=cl(this.depthwiseConstraint),t.pointwiseConstraint=cl(this.pointwiseConstraint),t}}return n.className="SeparableConv",n})();w.serialization.registerClass((()=>{class n extends Sse{constructor(t){super(2,t)}}return n.className="SeparableConv2D",n})()),w.serialization.registerClass((()=>{class n extends Ww{constructor(t){super(1,t),n.verifyArgs(t),this.inputSpec=[{ndim:3}]}getConfig(){const t=super.getConfig();return delete t.rank,delete t.dataFormat,t}static verifyArgs(t){if("number"!=typeof t.kernelSize&&!fN(t.kernelSize,"number",1,1))throw new Dt(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(t.kernelSize)}.`)}}return n.className="Conv1D",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.cropping="number"==typeof t.cropping?[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:t.cropping,this.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]}call(t,s){return(0,w.tidy)(()=>{if(t=ki(t),"channelsLast"===this.dataFormat){const o=yN(t,this.cropping[0][0],t.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return yN(o,this.cropping[1][0],t.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const o=yN(t,this.cropping[0][0],t.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return yN(o,this.cropping[1][0],t.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const t={cropping:this.cropping,dataFormat:this.dataFormat},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Cropping2D",n})());let kse=(()=>{class n extends Is{constructor(t){super(t),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==t.size?this.DEFAULT_SIZE:t.size,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Ca(this.dataFormat),this.interpolation=null==t.interpolation?"nearest":t.interpolation,function(n){o1(vH,"InterpolationFormat",n)}(this.interpolation)}computeOutputShape(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],null==t[2]?null:this.size[0]*t[2],null==t[3]?null:this.size[1]*t[3]]:[t[0],null==t[1]?null:this.size[0]*t[1],null==t[2]?null:this.size[1]*t[2],t[3]]}call(t,s){return w.tidy(()=>{let o=ki(t);const c=o.shape;if("channelsFirst"===this.dataFormat){o=w.transpose(o,[0,2,3,1]);const f=this.size[0]*c[2],m=this.size[1]*c[3],_="nearest"===this.interpolation?w.image.resizeNearestNeighbor(o,[f,m]):w.image.resizeBilinear(o,[f,m]);return w.transpose(_,[0,3,1,2])}{const f=this.size[0]*c[1],m=this.size[1]*c[2];return"nearest"===this.interpolation?w.image.resizeNearestNeighbor(o,[f,m]):w.image.resizeBilinear(o,[f,m])}})}getConfig(){const t={size:this.size,dataFormat:this.dataFormat},s=super.getConfig();return Object.assign(t,s),t}}return n.className="UpSampling2D",n})();w.serialization.registerClass(kse);let Nse=(()=>{class n extends Wb{constructor(t){super(2,t),this.depthwiseKernel=null,this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=Io(t.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=dl(t.depthwiseConstraint),this.depthwiseRegularizer=Oo(t.depthwiseRegularizer)}build(t){if((t=$s(t)).length<4)throw new Dt(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(t)}.`);const s="channelsFirst"===this.dataFormat?1:3;if(null==t[s]||t[s]<0)throw new Dt(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${t[s]}).`);const o=t[s];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],o,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[o*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(t,s){return(0,w.tidy)(()=>{let o=function(n,r,t=[1,1],s="valid",o,c){return(0,w.tidy)(()=>{null==o&&(o="channelsLast"),Ca(o);let f=Z$(n,o);if(4!==n.rank)throw new Dt(`Input for depthwiseConv2d is required to be 4-D, but is instead ${n.rank}-D`);if(4!==r.rank)throw new Dt(`depthwiseKernel is required to be 4-D, but is instead ${r.rank}-D`);return f=w.depthwiseConv2d(f,r,t,"same"===s?"same":"valid","NHWC",c),"channelsFirst"===o&&(f=w.transpose(f,[0,3,1,2])),f})}(t=ki(t),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(o=Am(o,this.bias.read(),this.dataFormat)),null!=this.activation&&(o=this.activation.apply(o)),o})}computeOutputShape(t){t=$s(t);const o="channelsFirst"===this.dataFormat?t[3]:t[2],c="channelsFirst"===this.dataFormat?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,f=Ap("channelsFirst"===this.dataFormat?t[2]:t[1],this.kernelSize[0],this.padding,this.strides[0]),m=Ap(o,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[t[0],c,f,m]:[t[0],f,m,c]}getConfig(){const t=super.getConfig();return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=Qo(this.depthwiseInitializer),t.depthwiseRegularizer=Qa(this.depthwiseRegularizer),t.depthwiseConstraint=cl(this.depthwiseRegularizer),t}}return n.className="DepthwiseConv2D",n})();function AU(n,r,t,s){if(Array.isArray(n)){if(null!=r||null!=t)throw new Dt("When inputs is an array, neither initialState or constants should be provided");null!=s&&(t=n.slice(n.length-s,n.length),n=n.slice(0,n.length-s)),n.length>1&&(r=n.slice(1,n.length)),n=n[0]}function o(c){return null==c||Array.isArray(c)?c:[c]}return{inputs:n,initialState:r=o(r),constants:t=o(t)}}function e4(n,r,t,s=!1,o,c,f=!1,m=!1){return w.tidy(()=>{const _=r.shape.length;if(_<3)throw new Dt(`Input should be at least 3D, but is ${_}D.`);const x=[1,0].concat(Vh(2,_));if(r=w.transpose(r,x),null!=c)throw new Sr("The rnn() functoin of the deeplearn.js backend does not support constants yet.");f&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=o&&((o=w.cast(w.cast(o,"bool"),"float32")).rank===_-1&&(o=w.expandDims(o,-1)),o=w.transpose(o,x)),s&&(r=w.reverse(r,0),null!=o&&(o=w.reverse(o,0)));const E=[];let T,L=t;const z=r.shape[0],X=w.unstack(r);let Q,ne;null!=o&&(Q=w.unstack(o));for(let pe=0;pe<z;++pe){const fe=X[pe],ke=w.tidy(()=>n(fe,L));if(null==o)T=ke[0],L=ke[1];else{const Ee=w.tidy(()=>{const He=Q[pe],at=w.sub(w.onesLike(He),He);return{output:w.add(w.mul(ke[0],He),w.mul(L[0],at)),newStates:L.map((It,At)=>w.add(w.mul(ke[1][At],He),w.mul(It,at)))}});T=Ee.output,L=Ee.newStates}m&&E.push(T)}return m&&(ne=w.stack(E,1)),[T,ne,L]})}w.serialization.registerClass(Nse);let J2=(()=>{class n extends Is{constructor(t){let s;if(super(t),null==t.cell)throw new Dt("cell property is missing for the constructor of RNN.");if(s=Array.isArray(t.cell)?new Vf({cells:t.cell}):t.cell,null==s.stateSize)throw new Dt("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=s,this.returnSequences=null!=t.returnSequences&&t.returnSequences,this.returnState=null!=t.returnState&&t.returnState,this.goBackwards=null!=t.goBackwards&&t.goBackwards,this._stateful=null!=t.stateful&&t.stateful,this.unroll=null!=t.unroll&&t.unroll,this.supportsMasking=!0,this.inputSpec=[new ta({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?Vh(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(s=>null):this.states_}setStates(t){this.states_=t}computeOutputShape(t){Fb(t)&&(t=t[0]),t=t;let s=this.cell.stateSize;Array.isArray(s)||(s=[s]);const o=s[0];let c;if(c=this.returnSequences?[t[0],t[1],o]:[t[0],o],this.returnState){const f=[];for(const m of s)f.push([t[0],m]);return[c].concat(f)}return c}computeMask(t,s){return w.tidy(()=>{Array.isArray(s)&&(s=s[0]);const o=this.returnSequences?s:null;if(this.returnState){const c=this.states.map(f=>null);return[o].concat(c)}return o})}get states(){if(null==this.states_){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,s=[];for(let o=0;o<t;++o)s.push(null);return s}return this.states_}set states(t){this.states_=t}build(t){if(null!=this.numConstants)throw new Sr("Constants support is not implemented in RNN yet.");Fb(t)&&(t=t[0]),t=t;const o=this.stateful?t[0]:null,c=t.slice(2);this.inputSpec[0]=new ta({shape:[o,null,...c]});const f=[t[0]].concat(t.slice(2));let m;if(this.cell.build(f),m=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!w.util.arraysEqual(this.stateSpec.map(_=>_.shape[_.shape.length-1]),m))throw new Dt(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=m.map(_=>new ta({shape:[null,_]}));this.stateful&&this.resetStates()}resetStates(t,s=!1){(0,w.tidy)(()=>{if(!this.stateful)throw new ts("Cannot call resetStates() on an RNN Layer that is not stateful.");const o=this.inputSpec[0].shape[0];if(null==o)throw new Dt("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(c=>w.zeros([o,c])):[w.zeros([o,this.cell.stateSize])];else if(null==t)w.dispose(this.states_),null!=this.keptStates&&(w.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(c=>w.zeros([o,c])):this.states_[0]=w.zeros([o,this.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new Dt(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);!0===s?this.keptStates.push(this.states_.slice()):w.dispose(this.states_);for(let c=0;c<this.states_.length;++c){const f=t[c],m=Array.isArray(this.cell.stateSize)?this.cell.stateSize[c]:this.cell.stateSize,_=[o,m];if(!w.util.arraysEqual(f.shape,_))throw new Dt(`State ${c} is incompatible with layer ${this.name}: expected shape=${_}, received shape=${f.shape}`);this.states_[c]=f}}this.states_=this.states_.map(c=>w.keep(c.clone()))})}apply(t,s){let o=null==s?null:s.initialState,c=null==s?null:s.constants;null==s&&(s={});const f=AU(t,o,c,this.numConstants);t=f.inputs,o=f.initialState,c=f.constants;let m=[],_=[];if(null!=o){s.initialState=o,m=m.concat(o),this.stateSpec=[];for(const E of o)this.stateSpec.push(new ta({shape:E.shape}));_=_.concat(this.stateSpec)}if(null!=c&&(s.constants=c,m=m.concat(c),this.numConstants=c.length),m[0]instanceof Im){const E=[t].concat(m),T=this.inputSpec.concat(_),L=this.inputSpec;this.inputSpec=T;const z=super.apply(E,s);return this.inputSpec=L,z}return super.apply(t,s)}call(t,s){return(0,w.tidy)(()=>{const o=null==s?null:s.mask,c=null==s?null:s.training;let f=null==s?null:s.initialState;t=ki(t),null==f&&(f=this.stateful?this.states_:this.getInitialState(t));const m=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(f.length!==m)throw new Dt(`RNN Layer has ${m} state(s) but was passed ${f.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const _={training:c},E=e4((Q,ne)=>{const pe=this.cell.call([Q].concat(ne),_);return[pe[0],pe.slice(1)]},t,f,this.goBackwards,o,null,this.unroll,this.returnSequences),T=E[0],L=E[1],z=E[2];this.stateful&&this.resetStates(z,c);const X=this.returnSequences?L:T;return this.returnState?[X].concat(z):X})}getInitialState(t){return(0,w.tidy)(()=>{let s=w.zeros(t.shape);return s=w.sum(s,[1,2]),s=Al(s),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(o=>o>1?v$(s,[1,o]):s):this.cell.stateSize>1?[v$(s,[1,this.cell.stateSize])]:[s]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)}getConfig(){const t=super.getConfig(),s={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(s.numConstants=this.numConstants);const o=this.cell.getConfig();return this.getClassName()===n.className&&(s.cell={className:this.cell.getClassName(),config:o}),Object.assign({},o,t,s)}static fromConfig(t,s,o={}){const f=Jg(s.cell,o);return new t(Object.assign(s,{cell:f}))}}return n.className="RNN",n})();w.serialization.registerClass(J2);class Hb extends Is{}let TU=(()=>{class n extends Hb{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,Sl(this.units,"units"),this.activation=k_(null==t.activation?this.DEFAULT_ACTIVATION:t.activation),this.useBias=null==t.useBias||t.useBias,this.kernelInitializer=Io(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Io(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Io(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Oo(t.kernelRegularizer),this.recurrentRegularizer=Oo(t.recurrentRegularizer),this.biasRegularizer=Oo(t.biasRegularizer),this.kernelConstraint=dl(t.kernelConstraint),this.recurrentConstraint=dl(t.recurrentConstraint),this.biasConstraint=dl(t.biasConstraint),this.dropout=A_([1,Em([0,null==t.dropout?0:t.dropout])]),this.recurrentDropout=A_([1,Em([0,null==t.recurrentDropout?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=$s(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(t,s){return(0,w.tidy)(()=>{if(2!==(t=t).length)throw new Dt(`SimpleRNNCell expects 2 input Tensors, got ${t.length}.`);let o=t[1];t=t[0];const c=null!=s.training&&s.training;let f;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=h1({ones:()=>w.onesLike(t),rate:this.dropout,training:c,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=h1({ones:()=>w.onesLike(o),rate:this.recurrentDropout,training:c,dropoutFunc:this.dropoutFunc}));const m=this.dropoutMask,_=this.recurrentDropoutMask;f=Sm(null!=m?w.mul(t,m):t,this.kernel.read()),null!=this.bias&&(f=Am(f,this.bias.read())),null!=_&&(o=w.mul(o,_));let x=w.add(f,Sm(o,this.recurrentKernel.read()));return null!=this.activation&&(x=this.activation.apply(x)),[x,x]})}getConfig(){const t=super.getConfig(),s={units:this.units,activation:f1(this.activation),useBias:this.useBias,kernelInitializer:Qo(this.kernelInitializer),recurrentInitializer:Qo(this.recurrentInitializer),biasInitializer:Qo(this.biasInitializer),kernelRegularizer:Qa(this.kernelRegularizer),recurrentRegularizer:Qa(this.recurrentRegularizer),biasRegularizer:Qa(this.biasRegularizer),activityRegularizer:Qa(this.activityRegularizer),kernelConstraint:cl(this.kernelConstraint),recurrentConstraint:cl(this.recurrentConstraint),biasConstraint:cl(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},t,s)}}return n.className="SimpleRNNCell",n})();w.serialization.registerClass(TU);let kU=(()=>{class n extends J2{constructor(t){t.cell=new TU(t),super(t)}call(t,s){return(0,w.tidy)(()=>(null!=this.cell.dropoutMask&&(w.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(w.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(t,{mask:null==s?null:s.mask,training:null==s?null:s.training,initialState:null==s?null:s.initialState})))}static fromConfig(t,s){return new t(s)}}return n.className="SimpleRNN",n})();w.serialization.registerClass(kU);let t4=(()=>{class n extends Hb{constructor(t){if(super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.resetAfter)throw new Dt("GRUCell does not support reset_after parameter set to true.");this.units=t.units,Sl(this.units,"units"),this.activation=k_(void 0===t.activation?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=k_(void 0===t.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=null==t.useBias||t.useBias,this.kernelInitializer=Io(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Io(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Io(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Oo(t.kernelRegularizer),this.recurrentRegularizer=Oo(t.recurrentRegularizer),this.biasRegularizer=Oo(t.biasRegularizer),this.kernelConstraint=dl(t.kernelConstraint),this.recurrentConstraint=dl(t.recurrentConstraint),this.biasConstraint=dl(t.biasConstraint),this.dropout=A_([1,Em([0,null==t.dropout?0:t.dropout])]),this.recurrentDropout=A_([1,Em([0,null==t.recurrentDropout?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=$s(t),this.kernel=this.addWeight("kernel",[t[t.length-1],3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(t,s){return(0,w.tidy)(()=>{if(2!==(t=t).length)throw new Dt(`GRUCell expects 2 input Tensors (inputs, h, c), got ${t.length}.`);const o=null!=s.training&&s.training;let c=t[1];t=t[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=h1({ones:()=>w.onesLike(t),rate:this.dropout,training:o,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=h1({ones:()=>w.onesLike(c),rate:this.recurrentDropout,training:o,count:3,dropoutFunc:this.dropoutFunc}));const m=this.recurrentDropoutMask;let _,x,E;0<this.dropout&&this.dropout<1&&(t=w.mul(t,this.dropoutMask[0]));let T=Sm(t,this.kernel.read());this.useBias&&(T=Am(T,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(c=w.mul(c,m[0]));const L=this.recurrentKernel.read(),[z,X]=w.split(L,[2*this.units,this.units],L.rank-1),Q=Sm(c,z),[ne,pe,fe]=w.split(T,3,T.rank-1),[ke,Ee]=w.split(Q,2,Q.rank-1);_=this.recurrentActivation.apply(w.add(ne,ke)),x=this.recurrentActivation.apply(w.add(pe,Ee));const He=Sm(w.mul(x,c),X);E=this.activation.apply(w.add(fe,He));const at=w.add(w.mul(_,c),w.mul(w.add(1,w.neg(_)),E));return[at,at]})}getConfig(){const t=super.getConfig(),s={units:this.units,activation:f1(this.activation),recurrentActivation:f1(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qo(this.kernelInitializer),recurrentInitializer:Qo(this.recurrentInitializer),biasInitializer:Qo(this.biasInitializer),kernelRegularizer:Qa(this.kernelRegularizer),recurrentRegularizer:Qa(this.recurrentRegularizer),biasRegularizer:Qa(this.biasRegularizer),activityRegularizer:Qa(this.activityRegularizer),kernelConstraint:cl(this.kernelConstraint),recurrentConstraint:cl(this.recurrentConstraint),biasConstraint:cl(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},t,s)}}return n.className="GRUCell",n})();w.serialization.registerClass(t4);let IU=(()=>{class n extends J2{constructor(t){0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new t4(t),super(t)}call(t,s){return(0,w.tidy)(()=>(null!=this.cell.dropoutMask&&(w.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(w.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(t,{mask:null==s?null:s.mask,training:null==s?null:s.training,initialState:null==s?null:s.initialState})))}static fromConfig(t,s){return 0===s.implmentation&&(s.implementation=1),new t(s)}}return n.className="GRU",n})();w.serialization.registerClass(IU);let n4=(()=>{class n extends Hb{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,Sl(this.units,"units"),this.activation=k_(void 0===t.activation?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=k_(void 0===t.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=null==t.useBias||t.useBias,this.kernelInitializer=Io(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Io(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Io(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=t.unitForgetBias,this.kernelRegularizer=Oo(t.kernelRegularizer),this.recurrentRegularizer=Oo(t.recurrentRegularizer),this.biasRegularizer=Oo(t.biasRegularizer),this.kernelConstraint=dl(t.kernelConstraint),this.recurrentConstraint=dl(t.recurrentConstraint),this.biasConstraint=dl(t.biasConstraint),this.dropout=A_([1,Em([0,null==t.dropout?0:t.dropout])]),this.recurrentDropout=A_([1,Em([0,null==t.recurrentDropout?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){var s;let c;if(t=$s(t),this.kernel=this.addWeight("kernel",[t[t.length-1],4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const f=this.biasInitializer,m=this.units;c=new((s=class extends rn{apply(x,E){const T=f.apply([m]),L=(new Ea).apply([m]),z=f.apply([2*m]);return EH(EH(T,L),z)}}).className="CustomInit",s)}else c=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,c,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(t,s){return(0,w.tidy)(()=>{const o=null!=s.training&&s.training;if(3!==(t=t).length)throw new Dt(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);let c=t[1];const f=t[2];t=t[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=h1({ones:()=>w.onesLike(t),rate:this.dropout,training:o,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=h1({ones:()=>w.onesLike(c),rate:this.recurrentDropout,training:o,count:4,dropoutFunc:this.dropoutFunc}));const _=this.recurrentDropoutMask;let x,E,T,L;0<this.dropout&&this.dropout<1&&(t=w.mul(t,this.dropoutMask[0]));let z=Sm(t,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(c=w.mul(c,_[0])),z=w.add(z,Sm(c,this.recurrentKernel.read())),this.useBias&&(z=Am(z,this.bias.read()));const[X,Q,ne,pe]=w.split(z,4,z.rank-1);x=this.recurrentActivation.apply(X),E=this.recurrentActivation.apply(Q),T=w.add(w.mul(E,f),w.mul(x,this.activation.apply(ne))),L=this.recurrentActivation.apply(pe);const fe=w.mul(L,this.activation.apply(T));return[fe,fe,T]})}getConfig(){const t=super.getConfig(),s={units:this.units,activation:f1(this.activation),recurrentActivation:f1(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qo(this.kernelInitializer),recurrentInitializer:Qo(this.recurrentInitializer),biasInitializer:Qo(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Qa(this.kernelRegularizer),recurrentRegularizer:Qa(this.recurrentRegularizer),biasRegularizer:Qa(this.biasRegularizer),activityRegularizer:Qa(this.activityRegularizer),kernelConstraint:cl(this.kernelConstraint),recurrentConstraint:cl(this.recurrentConstraint),biasConstraint:cl(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},t,s)}}return n.className="LSTMCell",n})();w.serialization.registerClass(n4);let Ose=(()=>{class n extends J2{constructor(t){0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new n4(t),super(t)}call(t,s){return(0,w.tidy)(()=>(null!=this.cell.dropoutMask&&(w.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(w.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(t,{mask:null==s?null:s.mask,training:null==s?null:s.training,initialState:null==s?null:s.initialState})))}static fromConfig(t,s){return 0===s.implmentation&&(s.implementation=1),new t(s)}}return n.className="LSTM",n})();w.serialization.registerClass(Ose);let Vf=(()=>{class n extends Hb{constructor(t){super(t),this.cells=t.cells}get stateSize(){const t=[];for(const s of this.cells.slice().reverse())Array.isArray(s.stateSize)?t.push(...s.stateSize):t.push(s.stateSize);return t}call(t,s){return(0,w.tidy)(()=>{let o=(t=t).slice(1);const c=[];for(const _ of this.cells.slice().reverse())Array.isArray(_.stateSize)?c.push(o.splice(0,_.stateSize.length)):c.push(o.splice(0,1));c.reverse();const f=[];let m;for(let _=0;_<this.cells.length;++_){const x=this.cells[_];o=c[_],m=0===_?[t[0]].concat(o):[m[0]].concat(o),m=x.call(m,s),f.push(m.slice(1))}o=[];for(const _ of f.slice().reverse())o.push(..._);return[m[0]].concat(o)})}build(t){let s;Fb(t)&&(t=t[0]),t=t,this.cells.forEach((o,c)=>{Nb(`RNNCell_${c}`,()=>{o.build(t),s=Array.isArray(o.stateSize)?o.stateSize[0]:o.stateSize,t=[t[0],s]})}),this.built=!0}getConfig(){const t=super.getConfig(),c={cells:this.cells.map(f=>({className:f.getClassName(),config:f.getConfig()}))};return Object.assign({},t,c)}static fromConfig(t,s,o={}){const c=[];for(const f of s.cells)c.push(Jg(f,o));return new t({cells:c})}get trainableWeights(){if(!this.trainable)return[];const t=[];for(const s of this.cells)t.push(...s.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const s of this.cells)t.push(...s.nonTrainableWeights);if(!this.trainable){const s=[];for(const o of this.cells)s.push(...o.trainableWeights);return s.concat(t)}return t}getWeights(){const t=[];for(const s of this.cells)t.push(...s.weights);return w$(t)}setWeights(t){const s=[];for(const o of this.cells){const f=t.splice(o.weights.length);for(let m=0;m<o.weights.length;++m)s.push([o.weights[m],f[m]])}C$(s)}}return n.className="StackedRNNCells",n})();function h1(n){const{ones:r,rate:t,training:s=!1,count:o=1,dropoutFunc:c}=n,f=()=>null!=c?c(r(),t):MH(r(),t),m=()=>F2(f,r,s);return!o||o<=1?w.keep(m().clone()):Array(o).fill(void 0).map(m).map(x=>w.keep(x.clone()))}w.serialization.registerClass(Vf);let Fse=(()=>{class n extends J2{constructor(t){if(t.unroll)throw new Sr("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(t.cell))throw new Sr("It is not possible at the moment to stack convolutional cells.");super(t),this.inputSpec=[new ta({ndim:5})]}call(t,s){return w.tidy(()=>{if(null!=this.cell.dropoutMask&&(w.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(w.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),s&&s.constants)throw new Dt("ConvRNN2D cell does not support constants");return super.call(t,{mask:null==s?null:s.mask,training:null==s?null:s.training,initialState:null==s?null:s.initialState})})}computeOutputShape(t){let s=this.computeSingleOutputShape(t);return this.returnSequences||(s=[s[0],...s.slice(2)]),this.returnState&&(s=[s,...Array(2).fill([t[0],...s.slice(-3)])]),s}getInitialState(t){return w.tidy(()=>{const{stateSize:s}=this.cell,c=this.computeSingleOutputShape(t.shape),f=[c[0],...c.slice(2)],m=w.zeros(f);return Array.isArray(s)?Array(s.length).fill(m):[m]})}resetStates(t,s=!1){w.tidy(()=>{if(!this.stateful)throw new ts("Cannot call resetStates() on an RNN Layer that is not stateful.");const o=this.inputSpec[0].shape,c=this.computeSingleOutputShape(o),f=[c[0],...c.slice(2)];if(null==o[0])throw new Dt("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(()=>w.zeros(f)):[w.zeros(f)];else if(null==t)w.dispose(this.states_),null!=this.keptStates&&(w.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>w.zeros(f)):this.states_[0]=w.zeros(f);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new Dt(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);s?this.keptStates.push(this.states_.slice()):w.dispose(this.states_);for(let _=0;_<this.states_.length;++_){const x=t[_],E=f;if(!w.util.arraysEqual(x.shape,E))throw new Dt(`State ${_} is incompatible with layer ${this.name}: expected shape=${E}, received shape=${x.shape}`);this.states_[_]=x}}this.states_=this.states_.map(_=>w.keep(_.clone()))})}computeSingleOutputShape(t){const{dataFormat:s,filters:o,kernelSize:c,padding:f,strides:m,dilationRate:_}=this.cell,x="channelsFirst"===s,T=t[x?4:3],L=Ap(t[x?3:2],c[0],f,m[0],_[0]),z=Ap(T,c[1],f,m[1],_[1]);return[...t.slice(0,2),...x?[o,L,z]:[L,z,o]]}}return n.className="ConvRNN2D",n})(),NU=(()=>{class n extends n4{constructor(t){const{filters:s,kernelSize:o,strides:c,padding:f,dataFormat:m,dilationRate:_}=t;super(Object.assign({},t,{units:s})),this.filters=s,Sl(this.filters,"filters"),this.kernelSize=jb(o,2,"kernelSize"),this.kernelSize.forEach(x=>Sl(x,"kernelSize")),this.strides=jb(c||1,2,"strides"),this.strides.forEach(x=>Sl(x,"strides")),this.padding=f||"valid",Pf(this.padding),this.dataFormat=m||"channelsLast",Ca(this.dataFormat),this.dilationRate=jb(_||1,2,"dilationRate"),this.dilationRate.forEach(x=>Sl(x,"dilationRate"))}build(t){var s;t=$s(t);const o="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[o])throw new Dt(`The channel dimension of the input should be defined. Found ${t[o]}`);const m=this.kernelSize.concat([t[o],4*this.filters]);this.kernel=this.addWeight("kernel",m,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const _=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",_,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let x;if(this.unitForgetBias){const E=this.biasInitializer,T=this.filters;x=new((s=class extends rn{apply(z,X){return vN([E.apply([T]),w.ones([T]),E.apply([2*T])])}}).className="CustomInit",s)}else x=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,x,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(t,s){return w.tidy(()=>{if(3!==t.length)throw new Dt(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);const o=s.training||!1,c=t[0],f=t[1],m=t[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=h1({ones:()=>w.onesLike(c),rate:this.dropout,training:o,count:4,dropoutFunc:this.dropoutFunc}));const x=this.dropoutMask,E=(Pn,Kn,jn)=>Kn&&Kn[jn]?w.mul(Kn[jn],Pn):Pn;let T=E(c,x,0),L=E(c,x,1),z=E(c,x,2),X=E(c,x,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=h1({ones:()=>w.onesLike(f),rate:this.recurrentDropout,training:o,count:4,dropoutFunc:this.dropoutFunc}));const Q=this.recurrentDropoutMask;let ne=E(f,Q,0),pe=E(f,Q,1),fe=E(f,Q,2),ke=E(f,Q,3);const[He,at,it,ct]=w.split(this.kernel.read(),4,3),[It,At,Ht,tn]=this.useBias?w.split(this.bias.read(),4):[null,null,null,null];T=this.inputConv(T,He,It,this.padding),L=this.inputConv(L,at,At,this.padding),z=this.inputConv(z,it,Ht,this.padding),X=this.inputConv(X,ct,tn,this.padding);const[un,sn,Zt,Ut]=w.split(this.recurrentKernel.read(),4,3);ne=this.recurrentConv(ne,un),pe=this.recurrentConv(pe,sn),fe=this.recurrentConv(fe,Zt),ke=this.recurrentConv(ke,Ut);const Jt=this.recurrentActivation.apply(w.add(T,ne)),Qt=this.recurrentActivation.apply(w.add(L,pe)),ln=w.add(w.mul(Qt,m),w.mul(Jt,this.activation.apply(w.add(z,fe)))),Mn=w.mul(this.recurrentActivation.apply(w.add(X,ke)),this.activation.apply(ln));return[Mn,Mn,ln]})}getConfig(){const o=function(n,r){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(t[s]=n[s]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(n);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]])}return t}(super.getConfig(),["units"]);return Object.assign({},o,{filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides})}inputConv(t,s,o,c){const f=w.conv2d(t,s,this.strides,c||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return o?Am(f,o,this.dataFormat):f}recurrentConv(t,s){return w.conv2d(t,s,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}return n.className="ConvLSTM2DCell",n})();w.serialization.registerClass(NU),w.serialization.registerClass((()=>{class n extends Fse{constructor(t){const s=new NU(t);super(Object.assign({},t,{cell:s}))}static fromConfig(t,s){return new t(s)}}return n.className="ConvLSTM2D",n})());let OU=(()=>{class n extends Is{constructor(t){super(t),this.rate=Math.max(Math.min(t.rate,1),0),this.noiseShape=t.noiseShape,this.seed=t.seed,this.supportsMasking=!0}getNoiseShape(t){if(null==this.noiseShape)return this.noiseShape;const s=t.shape,o=[];for(let c=0;c<this.noiseShape.length;++c)o.push(null==this.noiseShape[c]?s[c]:this.noiseShape[c]);return o}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t);if(0<this.rate&&this.rate<1){const c=null!=s.training&&s.training,f=this.getNoiseShape(o);return F2(()=>MH(o,this.rate,f,this.seed),()=>o,c)}return t})}getConfig(){const t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},s=super.getConfig();return Object.assign(t,s),t}dispose(){return super.dispose()}}return n.className="Dropout",n})();w.serialization.registerClass(OU),w.serialization.registerClass((()=>{class n extends OU{constructor(t){super(t),this.inputSpec=[{ndim:3}]}getNoiseShape(t){const s=t.shape;return[s[0],1,s[2]]}}return n.className="SpatialDropout1D",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){if(super(t),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){let s=null;null!=t.batchSize&&(s=t.batchSize),this.batchInputShape=[s,t.inputDim]}this.units=t.units,Sl(this.units,"units"),this.activation=k_(t.activation),null!=t.useBias&&(this.useBias=t.useBias),this.kernelInitializer=Io(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Io(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=dl(t.kernelConstraint),this.biasConstraint=dl(t.biasConstraint),this.kernelRegularizer=Oo(t.kernelRegularizer),this.biasRegularizer=Oo(t.biasRegularizer),this.activityRegularizer=Oo(t.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(t){const s=(t=$s(t))[t.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[s,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:s}}],this.built=!0}computeOutputShape(t){const s=(t=$s(t)).slice();return s[s.length-1]=this.units,s}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t),c=k2(this.activation.getClassName());let f;return null!=c?f=Sm(o,this.kernel.read(),c,this.bias?this.bias.read():null):(f=Sm(o,this.kernel.read()),null!=this.bias&&(f=Am(f,this.bias.read())),null!=this.activation&&(f=this.activation.apply(f))),f})}getConfig(){const t={units:this.units,activation:f1(this.activation),useBias:this.useBias,kernelInitializer:Qo(this.kernelInitializer),biasInitializer:Qo(this.biasInitializer),kernelRegularizer:Qa(this.kernelRegularizer),biasRegularizer:Qa(this.biasRegularizer),activityRegularizer:Qa(this.activityRegularizer),kernelConstraint:cl(this.kernelConstraint),biasConstraint:cl(this.biasConstraint)},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Dense",n})());let $se=(()=>{class n extends Is{constructor(t){super(t=t||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=t.dataFormat}computeOutputShape(t){t=$s(t);for(const s of t.slice(1))if(null==s)throw new Dt(`The shape of the input to "Flatten" is not fully defined (got ${t.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[t[0],Cm(t,1)]}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);let o=ki(t);if("channelsFirst"===this.dataFormat&&o.rank>1){const c=[0];for(let f=2;f<o.rank;++f)c.push(f);c.push(1),o=(0,w.transpose)(o,c)}return function(n){if(n.rank<=1)throw new Dt(`batchFlatten requires a minimum rank of 2. Got rank: ${n.rank}.`);const r=[n.shape[0],Cm(n.shape,1)];return w.reshape(n,r)}(o)})}getConfig(){const t={};null!=this.dataFormat&&(t.dataFormat=this.dataFormat);const s=super.getConfig();return Object.assign(t,s),t}}return n.className="Flatten",n})();w.serialization.registerClass($se),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.supportsMasking=!0,this.activation=k_(t.activation)}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t);return this.activation.apply(o)})}getConfig(){const t={activation:f1(this.activation)},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Activation",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.n=t.n,this.inputSpec=[{ndim:2}]}computeOutputShape(t){return[t[0],this.n,t[1]]}call(t,s){return(0,w.tidy)(()=>function(n,r){return(0,w.tidy)(()=>{if(2!==n.shape.length)throw new Dt(`repeat() expects a rank-2 tensor, but received a rank-${n.shape.length} tensor.`);return v$(Al(n,1),[1,r,1])})}(t=ki(t),this.n))}getConfig(){const t={n:this.n},s=super.getConfig();return Object.assign(t,s),t}}return n.className="RepeatVector",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.targetShape=t.targetShape;for(let s=0;s<this.targetShape.length;++s)this.isUnknown(this.targetShape[s])&&(this.targetShape[s]=null)}isUnknown(t){return t<0||null==t}fixUnknownDimension(t,s){const o="Total size of new array must be unchanged.",c=s.slice();let f=1,m=null;for(let x=0;x<c.length;++x){const E=c[x];if(this.isUnknown(E)){if(null!==m)throw new Dt("Can only specifiy one unknown dimension.");m=x}else f*=E}const _=Cm(t);if(null!==m){if(0===f||_%f!=0)throw new Dt(o);c[m]=_/f}else if(_!==f)throw new Dt(o);return c}computeOutputShape(t){let s=!1;for(let o=0;o<t.length;++o)if(this.isUnknown(t[o])){s=!0;break}return s?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t),c=o.shape,f=c.slice(0,1).concat(this.fixUnknownDimension(c.slice(1),this.targetShape));return(0,w.reshape)(o,f)})}getConfig(){const t={targetShape:this.targetShape},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Reshape",n})());let LU=(()=>{class n extends Is{constructor(t){if(super(t),null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${t.dims} instead.`);const s=Vh(1,t.dims.length+1);if(!w.util.arraysEqual(t.dims.slice().sort(),s))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=t.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new ta({ndim:this.dims.length+1})]}computeOutputShape(t){const s=(t=$s(t)).slice();return this.dims.forEach((o,c)=>{s[c+1]=t[o]}),s}call(t,s){return(0,w.transpose)(ki(t),this.dimsIncludingBatch)}getConfig(){const t={dims:this.dims},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Permute",n})();w.serialization.registerClass(LU),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(null==t?{}:t),this.supportsMasking=!0,this.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),s={maskValue:this.maskValue};return Object.assign(s,t),s}computeMask(t,s){const o=ki(t);return(0,w.any)((0,w.notEqual)(o,this.maskValue),-1)}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t),m=(0,w.any)((0,w.notEqual)(o,this.maskValue),-1,!0);return(0,w.mul)(o,(0,w.cast)(m,o.dtype))})}}return n.className="Masking",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){if(super(t),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){let s=null;null!=t.batchSize&&(s=t.batchSize),this.batchInputShape=null==t.inputLength?[s,null]:[s].concat(fo(t.inputLength))}this.inputDim=t.inputDim,Sl(this.inputDim,"inputDim"),this.outputDim=t.outputDim,Sl(this.outputDim,"outputDim"),this.embeddingsInitializer=Io(t.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Oo(t.embeddingsRegularizer),this.activityRegularizer=Oo(t.activityRegularizer),this.embeddingsConstraint=dl(t.embeddingsConstraint),this.maskZero=t.maskZero,this.supportsMasking=t.maskZero,this.inputLength=t.inputLength}build(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(t){}computeMask(t,s){return(0,w.tidy)(()=>this.maskZero?(t=ki(t),(0,w.notEqual)(t,(0,w.zerosLike)(t))):null)}computeOutputShape(t){if(t=$s(t),null==this.inputLength)return[...t,this.outputDim];const s=fo(this.inputLength);if(s.length!==t.length-1)throw new Dt(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);{let o=0;for(let c=0;c<s.length;++c){const f=s[c],m=t[c+1];if(null!=f&&null!=m&&f!==m)throw new Dt(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);null==f&&(s[o]=m),o++}}return[t[0],...s,this.outputDim]}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);let o=ki(t);"int32"!==o.dtype&&(o=Ql(o,"int32"));const c=b$(this.embeddings.read(),(0,w.reshape)(o,[o.size]));return(0,w.reshape)(c,$s(this.computeOutputShape(o.shape)))})}getConfig(){const t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Qo(this.embeddingsInitializer),embeddingsRegularizer:Qa(this.embeddingsRegularizer),activityRegularizer:Qa(this.activityRegularizer),embeddingsConstraint:cl(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Embedding",n})());class Ub extends Is{constructor(r){super(r||{}),this.supportsMasking=!0}mergeFunction(r){throw new Sr}computeElementwiseOpOutputShape(r,t){if(null==r||null==t)return null;if(r.length<t.length)return this.computeElementwiseOpOutputShape(t,r);if(0===t.length)return r;const s=r.slice(0,r.length-t.length);for(let o=0;o<t.length;++o){const c=r[r.length-t.length+o],f=t[o];if(null==c||null==f||c<0||f<0)s.push(null);else if(1===c)s.push(f);else if(1===f)s.push(c);else{if(c!==f)throw new Dt("Operands could not be broadcast together with shapes "+JSON.stringify(r)+" "+JSON.stringify(t));s.push(c)}}return s}build(r){if(Array.isArray(r)&&!Array.isArray(r[0])&&(r=[$s(r)]),(r=r).length<2)throw new Dt(`A merge layer should be called on an Array of at least 2 inputs. Got ${r.length} input(s).`);let t=[];for(const c of r)null!=c&&null!==c[0]&&t.push(c[0]);if(t=Kg(t),t.length>1)throw new Dt(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(r)}.`);let s=null==r[0]?null:r[0].slice(1);for(let c=1;c<r.length;++c){const f=null==r[c]?null:r[c].slice(1);s=this.computeElementwiseOpOutputShape(s,f)}const o=r.map(c=>c.length);this.reshapeRequired=-1!==r.indexOf(null)||1!==Kg(o).length}call(r,t){return(0,w.tidy)(()=>{if(r=r,this.reshapeRequired){const s=[],o=r.map(c=>c.rank);if(-1===o.indexOf(null)){const c=Em(o);for(let f of r){const m=f.rank;for(let _=0;_<c-m;++_)f=Al(f,1);s.push(f)}return this.mergeFunction(s)}{let c=!1;for(const _ of r){const x=_.rank;if(null==x){const E=_.shape,T=E[0],L=E.slice(1).concat([T]);let z=w.reshape(_,[T].concat(Cm(E.slice(1))));z=w.transpose(z,[1,0]),z=w.reshape(z,L),s.push(z),c=!0}else if(x>1){const E=Vh(1,x).concat([0]);s.push(w.transpose(_,E)),c=!0}else s.push(_)}let f=this.mergeFunction(s);const m=f.rank;if(c)if(null==m){const _=f.shape,E=_[_.length-1],T=[E].concat(_.slice(0,_.length-1));f=w.reshape(w.transpose(w.reshape(f,[-1,E]),[1,0]),T)}else if(m>1){const _=[m-1].concat(Vh(0,m-1));f=w.transpose(f,_)}return f}}return this.mergeFunction(r)})}computeOutputShape(r){let t;t=null==(r=r)[0]?null:r[0].slice(1);for(let o=1;o<r.length;++o){const c=null==r[o]?null:r[o].slice(1);t=this.computeElementwiseOpOutputShape(t,c)}let s=[];for(const o of r)null!=o&&null!==o[0]&&s.push(o[0]);return s=Kg(s),t=1===s.length?s.concat(t):[null].concat(t),t}computeMask(r,t){return w.tidy(()=>{if(null==t)return null;if(!Array.isArray(t))throw new Dt("`mask` should be an Array");if(!Array.isArray(r))throw new Dt("`inputs` should be an Array");if(t.length!==r.length)throw new Dt(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${r.length} vs ${t.length})`);if(t.every(o=>null==o))return null;let s=(t=t.map(o=>null==o?o:w.expandDims(o,0)))[0];for(let o=1;o<t.length-1;++o)s=w.logicalAnd(s,t[o]);return s})}}let Q2=(()=>{class n extends Ub{constructor(t){super(t)}mergeFunction(t){return(0,w.tidy)(()=>{let s=t[0].clone();for(let o=1;o<t.length;++o)s=w.add(s,t[o]);return s})}}return n.className="Add",n})();w.serialization.registerClass(Q2);let i4=(()=>{class n extends Ub{constructor(t){super(t)}mergeFunction(t){return(0,w.tidy)(()=>{let s=t[0].clone();for(let o=1;o<t.length;++o)s=w.mul(s,t[o]);return s})}}return n.className="Multiply",n})();w.serialization.registerClass(i4);let q2=(()=>{class n extends Ub{constructor(t){super(t)}mergeFunction(t){return(0,w.tidy)(()=>{let s=t[0].clone();for(let o=1;o<t.length;++o)s=w.add(s,t[o]);return w.mul(1/t.length,s)})}}return n.className="Average",n})();w.serialization.registerClass(q2);let s4=(()=>{class n extends Ub{constructor(t){super(t)}mergeFunction(t){return(0,w.tidy)(()=>{let s=t[0];for(let o=1;o<t.length;++o)s=w.maximum(s,t[o]);return s})}}return n.className="Maximum",n})();w.serialization.registerClass(s4);let a4=(()=>{class n extends Ub{constructor(t){super(t)}mergeFunction(t){return(0,w.tidy)(()=>{let s=t[0];for(let o=1;o<t.length;++o)s=w.minimum(s,t[o]);return s})}}return n.className="Minimum",n})();w.serialization.registerClass(a4);let eS=(()=>{class n extends Ub{constructor(t){super(t),this.DEFAULT_AXIS=-1,null==t&&(t={}),this.axis=null==t.axis?this.DEFAULT_AXIS:t.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){if(!Array.isArray(t)||!Array.isArray(t[0])||1===t.length)throw new Dt("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;let s=!0;for(const c of t)if(null!=c){s=!1;break}if(s)return;const o=[];for(let c=0;c<t.length;++c){const f=t[c].slice();f.splice(this.axis,1);let m=!1;for(const _ of o)if(w.util.arraysEqual(_,f)){m=!0;break}m||o.push(f)}if(o.length>1)throw new Dt("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}mergeFunction(t){return(0,w.tidy)(()=>vN(t,this.axis))}computeOutputShape(t){if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Dt("A `Concatenate` layer should be called on a list of inputs.");const s=t,o=s[0].slice(),c=this.axis<0?o.length+this.axis:this.axis;for(const f of s.slice(1)){if(null==o[c]||null==f[c]){o[c]=null;break}o[c]+=f[c]}return o}computeMask(t,s){if(null==s)return null;if(!Array.isArray(s))throw new Dt("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new Dt("`inputs` should be an array for Concatenate");if(s.length!==t.length)throw new Dt(`Mismatch in the length of mask (${s.length}) and the legnth of inputs (${t.length})`);return w.tidy(()=>{let o=!0;if(s.forEach(m=>{null==m||(o=!1)}),o)return null;const c=[];for(let m=0;m<t.length;++m)c.push(null==s[m]?w.cast(w.onesLike(t[m]),"bool"):s[m].rank<t[m].rank?w.expandDims(s[m],-1):s[m]);const f=w.concat(c,this.axis);return w.all(f,-1,!1)})}getConfig(){const t={axis:this.axis},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Concatenate",n})();function Yb(n,r){for(;n<0;)n+=r;return n}w.serialization.registerClass(eS);let Use=(()=>{class n extends Ub{constructor(t){super(t),this.axes=t.axes,this.normalize=null!=t.normalize&&t.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){w.util.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const s=t[0],o=t[1];if(s.length>3||o.length>3)throw new Sr("Dot layer does not support tensors of 4D or higher rank yet.");const c=this.interpretAxes(s,o);if(s[c[0]]!==o[c[1]])throw new Dt(`Dimension incompatibility: ${s[c[0]]} !== ${o[c[1]]}`)}mergeFunction(t){if(2!==t.length)throw new Dt(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${t.length} input(s).`);let c,s=t[0],o=t[1];return c=Array.isArray(this.axes)?this.axes.map((f,m)=>Yb(f,t[m].shape.length)):[Yb(this.axes,s.shape.length),Yb(this.axes,o.shape.length)],this.normalize&&(s=MN(s,c[0]),o=MN(o,c[1])),function(n,r,t){if(n.shape.length>3||r.shape.length>3)throw new Sr("batchDot is not implemented for tensors of 4D or higher rank yet");if(w.util.assert(n.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${n.shape.length}`),w.util.assert(n.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${r.shape.length}`),"number"==typeof t&&(t=[t,t]),"complex64"===n.dtype||"complex64"===r.dtype)throw new Sr("batchDot is not implemented for complex64-type Tensors yet.");const s=n.shape.length,o=r.shape.length;null==t&&(t=[s-1,o-2]);const c=t;return w.tidy(()=>{let f,m;if(s>o){f=s-o;const _=[];for(let x=0;x<f;++x)_.push(1);r=w.reshape(r,r.shape.concat(_))}else if(o>s){f=o-s;const _=[];for(let x=0;x<f;++x)_.push(1);n=w.reshape(n,n.shape.concat(_))}else f=0;if(m=2===n.shape.length&&2===r.shape.length?c[0]===c[1]?w.sum(w.mul(n,r),c[0]):w.sum(w.mul(w.transpose(n,[1,0]),r),c[1]):w.matMul(n,r,c[0]!==n.shape.length-1,c[1]===r.shape.length-1),f>0){let _;_=s>o?s+o-3:s-1;const x=[];for(let E=_;E<_+f;++E)x.push(E);m=w.squeeze(m,x)}return 1===m.shape.length&&(m=w.expandDims(m,1)),m})}(s,o,c)}interpretAxes(t,s){let o;return o=Array.isArray(this.axes)?this.axes:[Yb(this.axes,t.length),Yb(this.axes,s.length)],o}computeOutputShape(t){w.util.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const s=t[0].slice(),o=t[1].slice();if(s.length>3||o.length>3)throw new Sr("Dot layer does not support tensors of 4D or higher rank yet.");const c=this.interpretAxes(s,o);s.splice(c[0],1),o.splice(c[1],1),o.splice(0,1);const f=s.concat(o);return 1===f.length&&f.push(1),f}computeMask(t,s){return null}getConfig(){const t={axes:this.axes,normalize:this.normalize},s=super.getConfig();return Object.assign(t,s),t}}return n.className="Dot",n})();function Hw(n,r,t,s,o,c=.001){let f;if(2===n.rank)f=w.batchNorm2d(n,r,t,s,o,c);else if(3===n.rank)f=w.batchNorm3d(n,r,t,s,o,c);else{if(4!==n.rank)throw new Sr(`batchNormalization is not implemented for array of rank ${n.rank} yet`);f=w.batchNorm4d(n,r,t,s,o,c)}return f}w.serialization.registerClass(Use),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.supportsMasking=!0,this.stddev=t.stddev}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),s={stddev:this.stddev};return Object.assign(s,t),s}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t);return F2(()=>(0,w.add)(bN(o.shape,0,this.stddev),o),()=>o,s.training||!1)})}}return n.className="GaussianNoise",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),s={rate:this.rate};return Object.assign(s,t),s}call(t,s){return(0,w.tidy)(()=>{this.invokeCallHook(t,s);const o=ki(t);return this.rate>0&&this.rate<1?F2(()=>{const f=Math.sqrt(this.rate/(1-this.rate));return(0,w.mul)(o,bN(o.shape,1,f))},()=>o,s.training||!1):o})}}return n.className="GaussianDropout",n})()),w.serialization.registerClass((()=>{class n extends Is{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate,this.noiseShape=t.noiseShape}_getNoiseShape(t){return this.noiseShape||ki(t).shape}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),s={rate:this.rate};return Object.assign(s,t),s}call(t,s){return(0,w.tidy)(()=>{if(this.rate<1&&this.rate>0){const o=this._getNoiseShape(t);return F2(()=>{const f=ki(t),x=-1.7580993408473766;let E=(0,w.greaterEqual)((0,w.randomUniform)(o),this.rate);E=Ql(E,"float32");const T=((1-this.rate)*(1+this.rate*x**2))**-.5,L=-T*x*this.rate,z=(0,w.add)((0,w.mul)(f,E),(0,w.mul)((0,w.add)(E,-1),x));return(0,w.add)((0,w.mul)(z,T),L)},()=>ki(t),s.training||!1)}return t})}}return n.className="AlphaDropout",n})());let Gse=(()=>{class n extends Is{constructor(t){null==t&&(t={}),super(t),this.supportsMasking=!0,this.axis=null==t.axis?-1:t.axis,this.momentum=null==t.momentum?.99:t.momentum,this.epsilon=null==t.epsilon?.001:t.epsilon,this.center=null==t.center||t.center,this.scale=null==t.scale||t.scale,this.betaInitializer=Io(t.betaInitializer||"zeros"),this.gammaInitializer=Io(t.gammaInitializer||"ones"),this.movingMeanInitializer=Io(t.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Io(t.movingVarianceInitializer||"ones"),this.betaConstraint=dl(t.betaConstraint),this.gammaConstraint=dl(t.gammaConstraint),this.betaRegularizer=Oo(t.betaRegularizer),this.gammaRegularizer=Oo(t.gammaRegularizer)}build(t){t=$s(t);const s=this.axis>=0?this.axis:this.axis+t.length,o=t[s];if(null==o)throw new Dt(`Axis ${s} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(t)}.`);this.inputSpec=[new ta({ndim:t.length,axes:{[s]:o}})];const c=[o];this.scale&&(this.gamma=this.addWeight("gamma",c,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",c,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",c,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",c,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(t,s){return(0,w.tidy)(()=>{const o=null!=s.training&&s.training,c=ki(t),f=c.shape,m=f.length,_=Vh(0,m),x=this.axis>=0?this.axis:this.axis+m;_.splice(x,1);const E=a1(1,m);E[x]=f[x];const T=_.slice();T.sort();const L=!w.util.arraysEqual(T,Vh(0,m).slice(0,m-1));if(!o)return(()=>{if(L){const ke=(0,w.reshape)(this.movingMean.read(),E),Ee=(0,w.reshape)(this.movingVariance.read(),E),He=this.center?(0,w.reshape)(this.beta.read(),E):null,at=this.scale?(0,w.reshape)(this.gamma.read(),E):null;return Hw(c,ke,Ee,He,at,this.epsilon)}return Hw(c,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[X,Q,ne]=function(n,r,t,s,o=.001){return w.util.arraysEqual(s.slice().sort(),Vh(0,n.rank-1))?function(n,r,t,s,o=.001){return(0,w.tidy)(()=>{const c=w.moments(n,s),f=c.mean,m=c.variance;return[Hw(n,f,m,t,r,o),f,m]})}(n,r,t,s,o):function(n,r,t,s,o=.001){return(0,w.tidy)(()=>{const c=w.moments(n,s),f=c.mean,m=c.variance,_=[];for(const X of Vh(0,n.rank))-1!==s.indexOf(X)?_.push(1):_.push(n.shape[X]);const x=(0,w.reshape)(f,_),E=(0,w.reshape)(m,_),T=null==r?null:(0,w.reshape)(r,_),L=null==t?null:(0,w.reshape)(t,_);return[Hw(n,x,E,L,T,o),f,m]})}(n,r,t,s,o)}(c,this.gamma.read(),this.beta.read(),_,this.epsilon),pe=(ke,Ee,He)=>{w.tidy(()=>{const at=1-He,it=ke.read(),ct=w.mul(w.sub(it,Ee),at);ke.write(w.sub(it,ct))})};return(()=>{pe(this.movingMean,Q,this.momentum),pe(this.movingVariance,ne,this.momentum)})(),X})}getConfig(){const t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Qo(this.betaInitializer),gammaInitializer:Qo(this.gammaInitializer),movingMeanInitializer:Qo(this.movingMeanInitializer),movingVarianceInitializer:Qo(this.movingVarianceInitializer),betaRegularizer:Qa(this.betaRegularizer),gammaRegularizer:Qa(this.gammaRegularizer),betaConstraint:cl(this.betaConstraint),gammaConstraint:cl(this.gammaConstraint)},s=super.getConfig();return Object.assign(t,s),t}}return n.className="BatchNormalization",n})();w.serialization.registerClass(Gse);let Kse=(()=>{class n extends Is{constructor(t){if(null==t&&(t={}),super(t),this.axis=null==t.axis?-1:t.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const s of this.axis)if(!Number.isInteger(s))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==t.epsilon?.001:t.epsilon,this.center=null==t.center||t.center,this.scale=null==t.scale||t.scale,this.betaInitializer=Io(t.betaInitializer||"zeros"),this.gammaInitializer=Io(t.gammaInitializer||"ones"),this.betaRegularizer=Oo(t.betaRegularizer),this.gammaRegularizer=Oo(t.gammaRegularizer),this.supportsMasking=!0}build(t){const s=(t=$s(t)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let f=0;f<this.axis.length;++f)this.axis[f]<0&&(this.axis[f]+=s);for(const f of this.axis)if(f<0||f>=s)throw new Error(`Invalid axis: ${f}`);if(this.axis.length!==Kg(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const o=this.axis.map(f=>t[f]);this.gamma=this.scale?this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,!0):null,this.beta=this.center?this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,!0):null,this.built=!0}call(t,s){const o=ki(t),c=o.shape,f=c.length;return(0,w.tidy)(()=>{let{mean:_,variance:x}=(0,w.moments)(o,this.axis,!0);const E=a1(1,f);for(const ne of this.axis)E[ne]=c[ne];const T=ne=>null!=ne&&ne.shape.length!==f?w.reshape(ne,E):ne;let L=T(this.gamma.read()),z=T(this.beta.read());const X=[],Q=[];for(let ne=0;ne<f;++ne)-1!==this.axis.indexOf(ne)?(X.push(c[ne]),Q.push(1)):(X.push(1),Q.push(c[ne]));return _=w.tile(_,X),x=w.tile(x,X),L=w.tile(L,Q),z=w.tile(z,Q),Hw(o,_,x,z,L,this.epsilon)})}getConfig(){const t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Qo(this.betaInitializer),gammaInitializer:Qo(this.gammaInitializer),betaRegularizer:Qa(this.betaRegularizer),gammaRegularizer:Qa(this.gammaRegularizer)},s=super.getConfig();return Object.assign(t,s),t}}return n.className="LayerNormalization",n})();w.serialization.registerClass(Kse);let Zse=(()=>{class n extends Is{constructor(t){if(null==t&&(t={}),super(t),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)this.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new Dt(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${t.padding.length} array.`);let s,o;if("number"==typeof t.padding[0])s=[t.padding[0],t.padding[0]],o=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new Dt(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${t.padding[0].length} array.`);if(s=t.padding[0],2!==t.padding[1].length)throw new Dt(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${t.padding[1].length} array.`);o=t.padding[1]}this.padding=[s,o]}this.inputSpec=[new ta({ndim:4})]}computeOutputShape(t){let s,o;return t=$s(t),"channelsFirst"===this.dataFormat?(s=null!=t[2]&&t[2]>=0?t[2]+this.padding[0][0]+this.padding[0][1]:null,o=null!=t[3]&&t[3]>=0?t[3]+this.padding[1][0]+this.padding[1][1]:null,[t[0],t[1],s,o]):(s=null!=t[1]&&t[1]>=0?t[1]+this.padding[0][0]+this.padding[0][1]:null,o=null!=t[2]&&t[2]>=0?t[2]+this.padding[1][0]+this.padding[1][1]:null,[t[0],s,o,t[3]])}call(t,s){return(0,w.tidy)(()=>function(n,r,t){return(0,w.tidy)(()=>{if(4!==n.rank)throw new Dt(`temporalPadding expects input tensor to be 4-D, but received a ${n.rank}-D tensor.`);if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new Dt("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==t&&(t="channelsLast"),"channelsLast"!==t&&"channelsFirst"!==t)throw new Dt(`Unknown data format: ${t}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let s;return s="channelsFirst"===t?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],w.pad(n,s)})}(ki(t),this.padding,this.dataFormat))}getConfig(){const t={padding:this.padding,dataFormat:this.dataFormat},s=super.getConfig();return Object.assign(t,s),t}}return n.className="ZeroPadding2D",n})();function zN(n,r,t,s,o,c){return(0,w.tidy)(()=>{let f;Ca(o),h$(c),Pf(s),null==t&&(t=[1,1]),null==s&&(s="valid"),null==o&&(o="channelsLast"),null==c&&(c="max"),n=Z$(n,o);const m="same"===s?"same":"valid";return f="max"===c?w.maxPool(n,r,t,m):w.avgPool(n,r,t,m),"channelsFirst"===o&&(f=w.transpose(f,[0,3,1,2])),f})}function zU(n,r,t,s,o,c){return(0,w.tidy)(()=>{let f;Ca(o),h$(c),Pf(s),null==t&&(t=[1,1,1]),null==s&&(s="valid"),null==o&&(o="channelsLast"),null==c&&(c="max"),n=J$(n,o);const m="same"===s?"same":"valid";return f="max"===c?w.maxPool3d(n,r,t,m):w.avgPool3d(n,r,t,m),"channelsFirst"===o&&(f=w.transpose(f,[0,4,1,2,3])),f})}w.serialization.registerClass(Zse);class jU extends Is{constructor(r){if(null==r.poolSize&&(r.poolSize=2),super(r),"number"==typeof r.poolSize)this.poolSize=[r.poolSize];else{if(!Array.isArray(r.poolSize)||1!==r.poolSize.length||"number"!=typeof r.poolSize[0])throw new Dt(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(r.poolSize)}`);this.poolSize=r.poolSize}if(Sl(this.poolSize,"poolSize"),null==r.strides)this.strides=this.poolSize;else if("number"==typeof r.strides)this.strides=[r.strides];else{if(!Array.isArray(r.strides)||1!==r.strides.length||"number"!=typeof r.strides[0])throw new Dt(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(r.strides)}`);this.strides=r.strides}Sl(this.strides,"strides"),this.padding=null==r.padding?"valid":r.padding,Pf(this.padding),this.inputSpec=[new ta({ndim:3})]}computeOutputShape(r){const t=Ap((r=$s(r))[1],this.poolSize[0],this.padding,this.strides[0]);return[r[0],t,r[2]]}call(r,t){return(0,w.tidy)(()=>{this.invokeCallHook(r,t),r=Al(ki(r),2);const s=this.poolingFunction(ki(r),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return w.squeeze(s,[2])})}getConfig(){const r={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(r,t),r}}w.serialization.registerClass((()=>{class n extends jU{constructor(t){super(t)}poolingFunction(t,s,o,c,f){return Ca(f),Pf(c),zN(t,s,o,c,f,"max")}}return n.className="MaxPooling1D",n})()),w.serialization.registerClass((()=>{class n extends jU{constructor(t){super(t)}poolingFunction(t,s,o,c,f){return Ca(f),Pf(c),zN(t,s,o,c,f,"avg")}}return n.className="AveragePooling1D",n})());class u4 extends Is{constructor(r){if(null==r.poolSize&&(r.poolSize=[2,2]),super(r),this.poolSize=Array.isArray(r.poolSize)?r.poolSize:[r.poolSize,r.poolSize],null==r.strides)this.strides=this.poolSize;else if(Array.isArray(r.strides)){if(2!==r.strides.length)throw new Dt(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${r.strides.length}.`);this.strides=r.strides}else this.strides=[r.strides,r.strides];Sl(this.poolSize,"poolSize"),Sl(this.strides,"strides"),this.padding=null==r.padding?"valid":r.padding,this.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Ca(this.dataFormat),Pf(this.padding),this.inputSpec=[new ta({ndim:4})]}computeOutputShape(r){r=$s(r);let t="channelsFirst"===this.dataFormat?r[2]:r[1],s="channelsFirst"===this.dataFormat?r[3]:r[2];return t=Ap(t,this.poolSize[0],this.padding,this.strides[0]),s=Ap(s,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[r[0],r[1],t,s]:[r[0],t,s,r[3]]}call(r,t){return(0,w.tidy)(()=>(this.invokeCallHook(r,t),this.poolingFunction(ki(r),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const r={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(r,t),r}}w.serialization.registerClass((()=>{class n extends u4{constructor(t){super(t)}poolingFunction(t,s,o,c,f){return Ca(f),Pf(c),zN(t,s,o,c,f,"max")}}return n.className="MaxPooling2D",n})()),w.serialization.registerClass((()=>{class n extends u4{constructor(t){super(t)}poolingFunction(t,s,o,c,f){return Ca(f),Pf(c),zN(t,s,o,c,f,"avg")}}return n.className="AveragePooling2D",n})());class l4 extends Is{constructor(r){if(null==r.poolSize&&(r.poolSize=[2,2,2]),super(r),this.poolSize=Array.isArray(r.poolSize)?r.poolSize:[r.poolSize,r.poolSize,r.poolSize],null==r.strides)this.strides=this.poolSize;else if(Array.isArray(r.strides)){if(3!==r.strides.length)throw new Dt(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${r.strides.length}.`);this.strides=r.strides}else this.strides=[r.strides,r.strides,r.strides];Sl(this.poolSize,"poolSize"),Sl(this.strides,"strides"),this.padding=null==r.padding?"valid":r.padding,this.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Ca(this.dataFormat),Pf(this.padding),this.inputSpec=[new ta({ndim:5})]}computeOutputShape(r){r=$s(r);let t="channelsFirst"===this.dataFormat?r[2]:r[1],s="channelsFirst"===this.dataFormat?r[3]:r[2],o="channelsFirst"===this.dataFormat?r[4]:r[3];return t=Ap(t,this.poolSize[0],this.padding,this.strides[0]),s=Ap(s,this.poolSize[1],this.padding,this.strides[1]),o=Ap(o,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[r[0],r[1],t,s,o]:[r[0],t,s,o,r[4]]}call(r,t){return(0,w.tidy)(()=>(this.invokeCallHook(r,t),this.poolingFunction(ki(r),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const r={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(r,t),r}}w.serialization.registerClass((()=>{class n extends l4{constructor(t){super(t)}poolingFunction(t,s,o,c,f){return Ca(f),Pf(c),zU(t,s,o,c,f,"max")}}return n.className="MaxPooling3D",n})()),w.serialization.registerClass((()=>{class n extends l4{constructor(t){super(t)}poolingFunction(t,s,o,c,f){return Ca(f),Pf(c),zU(t,s,o,c,f,"avg")}}return n.className="AveragePooling3D",n})());class GU extends Is{constructor(r){super(r),this.inputSpec=[new ta({ndim:3})]}computeOutputShape(r){return[r[0],r[2]]}call(r,t){throw new Sr}}let WN=(()=>{class n extends GU{constructor(t){super(t||{})}call(t,s){return(0,w.tidy)(()=>{const o=ki(t);return w.mean(o,1)})}}return n.className="GlobalAveragePooling1D",n})();w.serialization.registerClass(WN);let HN=(()=>{class n extends GU{constructor(t){super(t||{})}call(t,s){return(0,w.tidy)(()=>{const o=ki(t);return w.max(o,1)})}}return n.className="GlobalMaxPooling1D",n})();w.serialization.registerClass(HN);class c4 extends Is{constructor(r){super(r),this.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Ca(this.dataFormat),this.inputSpec=[new ta({ndim:4})]}computeOutputShape(r){return r=r,"channelsLast"===this.dataFormat?[r[0],r[3]]:[r[0],r[1]]}call(r,t){throw new Sr}getConfig(){const r={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(r,t),r}}let KU=(()=>{class n extends c4{call(t,s){return(0,w.tidy)(()=>{const o=ki(t);return w.mean(o,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalAveragePooling2D",n})();w.serialization.registerClass(KU);let Qse=(()=>{class n extends c4{call(t,s){return(0,w.tidy)(()=>{const o=ki(t);return w.max(o,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalMaxPooling2D",n})();w.serialization.registerClass(Qse);class d4 extends Is{constructor(r){super(r),this.layer=r.layer}build(r){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(r){null!=this.layer&&(this.layer.trainable=r)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(r){this.layer.setWeights(r)}getConfig(){const r={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(r,t),r}setFastWeightInitDuringBuild(r){super.setFastWeightInitDuringBuild(r),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(r)}static fromConfig(r,t,s={}){const c=Jg(t.layer,s);delete t.layer;const f={layer:c};return Object.assign(f,t),new r(f)}}w.serialization.registerClass((()=>{class n extends d4{constructor(t){super(t),this.supportsMasking=!0}build(t){if((t=$s(t)).length<3)throw new Dt(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(t)}`);this.inputSpec=[{shape:t}];const s=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(s),this.layer.built=!0),super.build(t)}computeOutputShape(t){const s=[(t=$s(t))[0]].concat(t.slice(2)),o=this.layer.computeOutputShape(s);return[o[0],t[1]].concat(o.slice(1))}call(t,s){return(0,w.tidy)(()=>e4((m,_)=>[ki(this.layer.call(m,s)),[]],t=ki(t),[],!1,null,null,!1,!0)[1])}}return n.className="TimeDistributed",n})());let nae=(()=>{class n extends d4{constructor(t){super(t);const s=t.layer.getConfig(),o={};o.className=t.layer.getClassName(),o.config=s,this.forwardLayer=Jg(o),s.goBackwards=!0!==s.goBackwards;const c={};if(c.className=t.layer.getClassName(),c.config=s,this.backwardLayer=Jg(c),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===t.mergeMode?"concat":t.mergeMode,function(n){o1(I2,"BidirectionalMergeMode",n)}(this.mergeMode),t.weights)throw new Sr("weights support is not implemented for Bidirectional layer yet.");this._stateful=t.layer.stateful,this.returnSequences=t.layer.returnSequences,this.returnState=t.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=t.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(t){this._trainable=t,null!=this.forwardLayer&&(this.forwardLayer.trainable=t),null!=this.backwardLayer&&(this.backwardLayer.trainable=t)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(t){const o=Math.floor(t.length/2);this.forwardLayer.setWeights(t.slice(0,o)),this.backwardLayer.setWeights(t.slice(o))}computeOutputShape(t){let o,c,f,s=this.forwardLayer.computeOutputShape(t);return Array.isArray(s)&&Array.isArray(s[0])||(s=[s]),s=s,this.returnState&&(f=s.slice(1)),o=s[0],o=o,"concat"===this.mergeMode?(o[o.length-1]*=2,c=[o]):c=null==this.mergeMode?[o,o.slice()]:[o],this.returnState?null==this.mergeMode?c.concat(f).concat(f.slice()):[o].concat(f).concat(f.slice()):nf(c)}apply(t,s){let o=null==s?null:s.initialState,c=null==s?null:s.constants;null==s&&(s={});const f=AU(t,o,c,this.numConstants);if(t=f.inputs,o=f.initialState,c=f.constants,Array.isArray(t)&&(o=t.slice(1),t=t[0]),(null==o||0===o.length)&&null==c)return super.apply(t,s);const m=[],_=[];if(null!=o){const E=o.length;if(E%2>0)throw new Dt("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");s.initialState=o,m.push(...o);const T=o.map(L=>new ta({shape:L.shape}));this.forwardLayer.stateSpec=T.slice(0,E/2),this.backwardLayer.stateSpec=T.slice(E/2),_.push(...T)}if(null!=c)throw new Sr("Support for constants in Bidirectional layers is not implemented yet.");const x=m[0]instanceof Im;for(const E of m)if(E instanceof Im!==x)throw new Dt("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(x){const E=[t].concat(m),T=this.inputSpec.concat(_),L=this.inputSpec;this.inputSpec=T;const z=super.apply(E,s);return this.inputSpec=L,z}return super.apply(t,s)}call(t,s){return(0,w.tidy)(()=>{const o=s.initialState;let c,f,m,_;if(null==o)c=this.forwardLayer.call(t,s),f=this.backwardLayer.call(t,s);else{const x=o.slice(0,o.length/2),E=o.slice(o.length/2);c=this.forwardLayer.call(t,Object.assign(s,{initialState:x})),f=this.backwardLayer.call(t,Object.assign(s,{initialState:E}))}return this.returnState&&(Array.isArray(c)&&(m=c.slice(1).concat(f.slice(1))),c=c[0],f=f[0]),this.returnSequences&&(f=w.reverse(f,1)),"concat"===this.mergeMode?_=vN([c,f]):"sum"===this.mergeMode?_=w.add(c,f):"ave"===this.mergeMode?_=w.mul(.5,w.add(c,f)):"mul"===this.mergeMode?_=w.mul(c,f):null==this.mergeMode&&(_=[c,f]),this.returnState?null==this.mergeMode?_.concat(m):[_].concat(m):_})}resetStates(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(t){Nb(this.forwardLayer.name,()=>{this.forwardLayer.build(t)}),Nb(this.backwardLayer.name,()=>{this.backwardLayer.build(t)}),this.built=!0}computeMask(t,s){let o;if(Array.isArray(s)&&(s=s[0]),o=this.returnSequences?null==this.mergeMode?[s,s]:s:null==this.mergeMode?[null,null]:null,this.returnState){const f=this.forwardLayer.states.map(m=>null);return Array.isArray(o)?o.concat(f).concat(f):[o].concat(f).concat(f)}return o}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)}getConfig(){const t={mergeMode:this.mergeMode},s=super.getConfig();return Object.assign(t,s),t}static fromConfig(t,s){const o=Jg(s.layer);if(delete s.layer,null!=s.numConstants)throw new Sr("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const c=s;return c.layer=o,new t(c)}}return n.className="Bidirectional",n})();function Pc(n,r){return F$(n,r)}var u9;w.serialization.registerClass(nae),function(n){let r;var t;(t=r=n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"}(u9||(u9={}));var T9=v(4901);function rO(n,r,t=new Map,s=new Set){if(null==n)return null;if("function"==typeof Blob&&n instanceof Blob)return n.slice();if(s.has(n))throw new Error("Circular references are not supported.");if(t.has(n))return t.get(n);const o=r(n);if(o.recurse&&null!==o.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(o.recurse){if(Zb(n)){const c=Array.isArray(n)?[]:{};s.add(n);for(const f in n){const _=rO(n[f],r,t,s);c[f]=_}return s.delete(n),n.__proto__&&(c.__proto__=n.__proto__),c}throw new Error(`Can't recurse into non-iterable type: ${n}`)}return t.set(n,o.value),o.value}function Bae(n,r=I9){return T4(n,r)}function T4(n,r,t=new Set){const s=n[0];if(t.has(s))throw new Error("Circular references are not supported.");const o=r(n);if(o.recurse&&null!==o.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(o.recurse){if(Zb(s)){const c=Array.isArray(s)?[]:{};t.add(s);for(const f in s){const _=T4(n.map(x=>x[f]),r,t);c[f]=_}return t.delete(s),c}throw new Error(`Can't recurse into non-iterable type: ${s}`)}return o.value}function I9(n){return null===n?null:Zb(n[0])?{value:null,recurse:!0}:{value:n,recurse:!1}}function N9(n,r){return k4.apply(this,arguments)}function k4(){return(k4=(0,en.Z)(function*(n,r){const t=new Map;rO(n,r,t);for(const o of Array.from(t.keys())){const c=t.get(o);if(w.util.isPromise(c)){const f=yield c;t.set(o,f)}}return rO(n,r,t)})).apply(this,arguments)}function Zb(n){let r=!1;if(w.env().get("IS_BROWSER"))r=n instanceof TextDecoder;else{const{StringDecoder:t}=v(4977);r=n instanceof t}return null!=n&&!ArrayBuffer.isView(n)&&(Array.isArray(n)||"object"==typeof n&&!(n instanceof w.Tensor)&&!(n instanceof Promise)&&!r)}function $ae(n){return function(n,r){return rO(n,r)}(n,iO)}function iO(n){return n instanceof w.Tensor?{value:n.clone(),recurse:!1}:Zb(n)?{value:null,recurse:!0}:{value:n,recurse:!1}}class p1{constructor(r){if(this.capacity=r,this.begin=0,this.end=0,null==r)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(r<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(r),this.doubledCapacity=2*r}wrap(r){for(;r<0;)r+=this.doubledCapacity;return r%this.doubledCapacity}get(r){if(r<0)throw new RangeError("Can't get item at a negative index.");return this.data[r%this.capacity]}set(r,t){if(r<0)throw new RangeError("Can't set item at a negative index.");this.data[r%this.capacity]=t}length(){let r=this.end-this.begin;return r<0&&(r=this.doubledCapacity+r),r}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(r){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,r),this.end=this.wrap(this.end+1)}pushAll(r){for(const t of r)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const r=this.get(this.end);return this.set(this.end,void 0),r}unshift(r){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,r)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const r=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),r}shuffleExcise(r){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+r),s=this.get(t);return this.set(t,this.pop()),s}}let L9=(()=>{class n extends p1{constructor(){super(n.INITIAL_CAPACITY)}isFull(){return!1}push(t){super.isFull()&&this.expand(),super.push(t)}unshift(t){super.isFull()&&this.expand(),super.unshift(t)}expand(){const t=2*this.capacity,s=new Array(t),o=this.length();for(let c=0;c<o;c++)s[c]=this.get(this.wrap(this.begin+c));this.data=s,this.capacity=t,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=o}}return n.INITIAL_CAPACITY=32,n})();function N4(n){return new zae(n)}class Tl{toArray(){var r=this;return(0,en.Z)(function*(){const t=[];let s=yield r.next();for(;!s.done;)t.push(s.value),s=yield r.next();return t})()}toArrayForTest(){var r=this;return(0,en.Z)(function*(){const t=r.prefetch(100),s=[];let o=yield t.next();for(;!o.done;)s.push(o.value),o=yield t.next();return s})()}resolveFully(){var r=this;return(0,en.Z)(function*(){let t=yield r.next();for(;!t.done;)t=yield r.next()})()}resolveWhile(r){var t=this;return(0,en.Z)(function*(){let s=yield t.next(),o=r(s.value);for(;!s.done&&o;)s=yield t.next(),o=r(s.value)})()}handleErrors(r){return new Kae(this,r)}filter(r){return new Yae(this,r)}map(r){return new Gae(this,r)}mapAsync(r){return new R9(this,r)}serialMapAsync(r){return new R9(this,r).serial()}flatmap(r){return new Xae(this,r)}forEachAsync(r){var t=this;return(0,en.Z)(function*(){return t.map(r).resolveFully()})()}serialForEach(r){var t=this;return(0,en.Z)(function*(){return t.serialMapAsync(r).resolveWhile(s=>!0===s)})()}rowMajorBatch(r,t=!0){return new P9(this,r,t)}columnMajorBatch(r,t=!0,s=I9){return this.rowMajorBatch(r,t).map(c=>Bae(c,s))}concatenate(r,t){return new B9(N4([this,r]),t)}take(r){return r<0||null==r?this:new Uae(this,r)}skip(r){return r<0||null==r?this:new Hae(this,r)}prefetch(r){return new m1(this,r)}shuffle(r,t){return new $9(this,r,t)}serial(){return new Wae(this)}}class zae extends Tl{constructor(r){super(),this.items=r,this.trav=0}summary(){return`Array of ${this.items.length} items`}next(){var r=this;return(0,en.Z)(function*(){if(r.trav>=r.items.length)return{value:null,done:!0};const t=r.items[r.trav];return r.trav++,{value:$ae(t),done:!1}})()}}class jae extends Tl{constructor(r){super(),this.nextFn=r}summary(){return"Function call"}next(){var r=this;return(0,en.Z)(function*(){try{return r.nextFn()}catch(t){throw t.message=`Error thrown while iterating through a dataset: ${t.message}`,t}})()}}class Wae extends Tl{constructor(r){super(),this.upstream=r,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}serialNext(){var r=this;return(0,en.Z)(function*(){return r.upstream.next()})()}}class Hae extends Tl{constructor(r,t){super(),this.upstream=r,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}serialNext(){var r=this;return(0,en.Z)(function*(){for(;r.count++<r.maxCount;){const t=yield r.upstream.next();if(t.done)return t;w.dispose(t.value)}return r.upstream.next()})()}}class Uae extends Tl{constructor(r,t){super(),this.upstream=r,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}next(){var r=this;return(0,en.Z)(function*(){return r.count++>=r.maxCount?{value:null,done:!0}:r.upstream.next()})()}}class P9 extends Tl{constructor(r,t,s=!0){super(),this.upstream=r,this.batchSize=t,this.enableSmallLastBatch=s,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}serialNext(){var r=this;return(0,en.Z)(function*(){const t=[];for(;t.length<r.batchSize;){const s=yield r.upstream.next();if(s.done)return r.enableSmallLastBatch&&t.length>0?{value:t,done:!1}:{value:null,done:!0};t.push(s.value)}return{value:t,done:!1}})()}}class Yae extends Tl{constructor(r,t){super(),this.upstream=r,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}serialNext(){var r=this;return(0,en.Z)(function*(){for(;;){const t=yield r.upstream.next();if(t.done||r.predicate(t.value))return t;w.dispose(t.value)}})()}}class Gae extends Tl{constructor(r,t){super(),this.upstream=r,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}next(){var r=this;return(0,en.Z)(function*(){const t=yield r.upstream.next();if(t.done)return{value:null,done:!0};const s=w.tensor_util.getTensorsInContainer(t.value),o=r.transform(t.value),c=w.tensor_util.getTensorsInContainer(o);for(const f of s)w.tensor_util.isTensorInList(f,c)||f.dispose();return{value:o,done:!1}})()}}class Kae extends Tl{constructor(r,t){super(),this.upstream=r,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}serialNext(){var r=this;return(0,en.Z)(function*(){for(;;)try{return yield r.upstream.next()}catch(t){if(!r.handler(t))return{value:null,done:!0}}})()}}class R9 extends Tl{constructor(r,t){super(),this.upstream=r,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}next(){var r=this;return(0,en.Z)(function*(){const t=yield r.upstream.next();if(t.done)return{value:null,done:!0};const s=w.tensor_util.getTensorsInContainer(t.value),o=yield r.transform(t.value),c=w.tensor_util.getTensorsInContainer(o);for(const f of s)w.tensor_util.isTensorInList(f,c)||f.dispose();return{value:o,done:!1}})()}}class O4 extends Tl{constructor(){super(),this.outputQueue=new L9,this.lastRead=Promise.resolve({value:null,done:!1})}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}serialNext(){var r=this;return(0,en.Z)(function*(){for(;0===r.outputQueue.length();)if(!(yield r.pump()))return{value:null,done:!0};return{value:r.outputQueue.shift(),done:!1}})()}}class Xae extends O4{constructor(r,t){super(),this.upstream=r,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}pump(){var r=this;return(0,en.Z)(function*(){const t=yield r.upstream.next();if(t.done)return!1;const s=w.tensor_util.getTensorsInContainer(t.value),o=r.transform(t.value),c=w.tensor_util.getTensorsInContainer(o);r.outputQueue.pushAll(o);for(const f of s)w.tensor_util.isTensorInList(f,c)||f.dispose();return!0})()}}class B9 extends Tl{constructor(r,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=r}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.readFromChain(r.lastRead),r.lastRead})()}readFromChain(r){var t=this;return(0,en.Z)(function*(){if(yield r,null==t.iterator){const o=yield t.moreIterators.next();if(o.done)return{value:null,done:!0};t.iterator=o.value,null!=t.baseErrorHandler&&(t.iterator=t.iterator.handleErrors(t.baseErrorHandler))}const s=yield t.iterator.next();return s.done?(t.iterator=null,t.readFromChain(r)):s})()}}var N_=(()=>(function(n){n[n.FAIL=0]="FAIL",n[n.SHORTEST=1]="SHORTEST",n[n.LONGEST=2]="LONGEST"}(N_||(N_={})),N_))();class Zae extends Tl{constructor(r,t=N_.FAIL){super(),this.iterators=r,this.mismatchMode=t,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}nextState(r){var t=this;return(0,en.Z)(function*(){yield r;let s=0,o=0;const f=yield N9(t.iterators,function(m){return m instanceof Tl?{value:m.next().then(x=>(s++,x.done&&o++,x.value)),recurse:!1}:{value:null,recurse:!0}});if(s===o)return{value:null,done:!0};if(o>0)switch(t.mismatchMode){case N_.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${t.count}.`);case N_.SHORTEST:return{value:null,done:!0}}return t.count++,{value:f,done:!1}})()}next(){var r=this;return(0,en.Z)(function*(){return r.currentPromise=r.nextState(r.currentPromise),r.currentPromise})()}}class m1 extends Tl{constructor(r,t){super(),this.upstream=r,this.bufferSize=t,this.buffer=new p1(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const r=this.upstream.next();this.buffer.push(r)}}next(){return this.refill(),this.buffer.shift()}}class $9 extends m1{constructor(r,t,s){super(r,t),this.upstream=r,this.windowSize=t,this.upstreamExhausted=!1,this.random=T9.alea(s||w.util.now().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}next(){var r=this;return(0,en.Z)(function*(){return r.lastRead=r.lastRead.then(()=>r.serialNext()),r.lastRead})()}randomInt(r){return Math.floor(this.random()*r)}chooseIndex(){return this.randomInt(this.buffer.length())}serialNext(){var r=this;return(0,en.Z)(function*(){for(r.upstreamExhausted||r.refill();!r.buffer.isEmpty();){const t=r.chooseIndex(),s=yield r.buffer.shuffleExcise(t);if(!s.done)return r.refill(),s;r.upstreamExhausted=!0}return{value:null,done:!0}})()}}let aS=(()=>{class n{constructor(){this.size=null}batch(t,s=!0){const o=this;let c;return w.util.assert(t>0,()=>`batchSize needs to be positive, but it is\n      ${t}`),c=this.size===1/0||null==this.size?this.size:s?Math.ceil(this.size/t):Math.floor(this.size/t),Bc((0,en.Z)(function*(){return(yield o.iterator()).columnMajorBatch(t,s,V9)}),c)}concatenate(t){const s=this;let o;return o=this.size===1/0||t.size===1/0?1/0:null!=this.size&&null!=t.size?this.size+t.size:null,Bc((0,en.Z)(function*(){return(yield s.iterator()).concatenate(yield t.iterator())}),o)}filter(t){const s=this;let o;return o=this.size===1/0?1/0:null,Bc((0,en.Z)(function*(){return(yield s.iterator()).filter(c=>w.tidy(()=>t(c)))}),o)}forEachAsync(t){var s=this;return(0,en.Z)(function*(){return(yield s.iterator()).forEachAsync(t)})()}map(t){const s=this;return Bc((0,en.Z)(function*(){return(yield s.iterator()).map(o=>w.tidy(()=>t(o)))}),this.size)}mapAsync(t){const s=this;return Bc((0,en.Z)(function*(){return(yield s.iterator()).mapAsync(t)}),this.size)}prefetch(t){if(null==t)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const s=this;return Bc((0,en.Z)(function*(){return(yield s.iterator()).prefetch(t)}),this.size)}repeat(t){const s=this;let o;return o=null!=this.size&&t>0?this.size*t:0===t?0:null!=this.size&&(void 0===t||t<0)?1/0:null,Bc((0,en.Z)(function*(){return function(n,r){return new B9(n,r)}(function(n){return new jae(n)}((0,en.Z)(function*(){return{value:yield s.iterator(),done:!1}})).take(t))}),o)}skip(t){const s=this;let o;return o=null!=this.size&&t>=0&&this.size>=t?this.size-t:null!=this.size&&(this.size<t||void 0===t||t<0)?0:null,Bc((0,en.Z)(function*(){return(yield s.iterator()).skip(t)}),o)}shuffle(t,s,o=!0){if(null==t||t<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const c=this,f=T9.alea(s||w.util.now().toString());return Bc((0,en.Z)(function*(){let m=f.int32();return o&&(m+=f.int32()),(yield c.iterator()).shuffle(t,m.toString())}),this.size)}take(t){const s=this;let o;return o=null!=this.size&&this.size>t?t:null!=this.size&&this.size<=t?this.size:null,Bc((0,en.Z)(function*(){return(yield s.iterator()).take(t)}),o)}toArray(){var t=this;return(0,en.Z)(function*(){if(t.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(yield t.iterator()).toArray()})()}toArrayForTest(){var t=this;return(0,en.Z)(function*(){if(t.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(yield t.iterator()).toArrayForTest()})()}}return n.MAX_BUFFER_SIZE=1e4,n})();function Bc(n,r=null){return new class extends aS{constructor(){super(...arguments),this.size=r}iterator(){return(0,en.Z)(function*(){return n()})()}}}function kl(n){return Bc((0,en.Z)(function*(){return N4(n)}),n.length)}function V9(n){return null===n?null:function(n){return null==n||function(n){return null===n||"object"!=typeof n&&"function"!=typeof n}(n)||Array.isArray(n)||"object"==typeof n&&n instanceof w.Tensor||w.util.isTypedArray(n)}(n[0])?{value:Jae(n),recurse:!1}:{value:null,recurse:!0}}function Jae(n){if(0===n.length)throw new Error("Can't make a batch of zero elements.");return n[0]instanceof w.Tensor?w.stack(n):w.tensor(n)}function Nr(n,r){Array.isArray(n)||(n=[n]),n.forEach(t=>{null!=t&&w.util.assert("complex64"!==t.dtype,()=>`${r} does not support complex64 tensors in the CPU backend.`)})}Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");const z4=w.kernel_impls.whereImpl;let soe=(()=>{class n extends w.KernelBackend{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new w.DataStorage(this,(0,w.engine)())}nextDataId(){return n.nextDataId++}write(t,s,o){this.firstUse&&(this.firstUse=!1,(0,w.env)().get("IS_NODE")&&w.backend_util.warn("\n============================\nHi there \u{1f44b}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));const c={id:this.nextDataId()};return this.data.set(c,{values:t,dtype:o,refCount:1}),c}makeTensorInfo(t,s,o){let c;if("string"===s&&null!=o&&o.length>0&&w.util.isString(o[0])){const f=o.map(m=>w.util.encodeString(m));c=this.write(f,t,s)}else c=this.write(o,t,s);return{dataId:c,shape:t,dtype:s}}refCount(t){return this.data.has(t)?this.data.get(t).refCount:0}incRef(t){this.data.get(t).refCount++}decRef(t){this.data.has(t)&&this.data.get(t).refCount--}move(t,s,o,c,f){this.data.set(t,{values:s,dtype:c,refCount:f})}numDataIds(){return this.data.numDataIds()}read(t){var s=this;return(0,en.Z)(function*(){return s.readSync(t)})()}readSync(t){const{dtype:s,complexTensorInfos:o}=this.data.get(t);if("complex64"===s){const c=this.readSync(o.real.dataId),f=this.readSync(o.imag.dataId);return w.backend_util.mergeRealAndImagArrays(c,f)}return this.data.get(t).values}bufferSync(t){const s=this.readSync(t.dataId);let o=s;if("string"===t.dtype)try{o=s.map(c=>w.util.decodeString(c))}catch(c){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,w.buffer)(t.shape,t.dtype,o)}makeOutput(t,s,o){const c=this.write(t,s,o);return(0,w.engine)().makeTensorFromDataId(c,s,o,this)}disposeData(t,s=!1){if(this.data.has(t)){if(this.data.get(t).refCount--,!s&&this.data.get(t).refCount>0)return!1;const{complexTensorInfos:o}=this.data.get(t);null!=o&&(this.disposeData(o.real.dataId,!0),this.disposeData(o.imag.dataId,!0)),this.data.delete(t)}return!0}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}time(t){return(0,en.Z)(function*(){const s=w.util.now();return t(),{kernelMs:w.util.now()-s}})()}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(t){Nr([t],"where");const s=this.readSync(t.dataId);return z4(t.shape,s)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}return n.nextDataId=0,n})();function Ma(n,r,t){return({inputs:s,attrs:o,backend:c})=>{const{x:f}=s;if(Nr(f,n),"string"===f.dtype||"string"===t)throw new Error("unaryKernelFunc does not support string input/output");const m=c,_=m.data.get(f.dataId).values,x=w.util.sizeFromShape(f.shape),E=t||f.dtype,T=w.util.getArrayFromDType(E,x);for(let L=0;L<x;++L)T[L]=r(_[L],o);return m.makeTensorInfo(f.shape,E,T)}}function Xw(n,r,t){return({inputs:s,attrs:o,backend:c})=>{const{x:f}=s;if(Nr(f,n),"string"===f.dtype||"string"===t)throw new Error("unaryKernelFunc does not support string input/output");const m=c,_=m.data.get(f.dataId).values,x=t||f.dtype,E=r(_,x,o);return m.makeTensorInfo(f.shape,x,E)}}(0,w.registerBackend)("cpu",()=>new soe,1);const K9=Ma(w.Elu,n=>n>=0?n:Math.exp(n)-1),ooe={kernelName:w.Elu,backendName:"cpu",kernelFunc:K9};function t0(n){const{inputs:r,backend:t}=n,{x:s}=r;return t.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const uoe={kernelName:w.Identity,backendName:"cpu",kernelFunc:t0};function X9(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{alpha:c}=s;Nr([o],"leakyRelu");const f=w.util.sizeFromShape(o.shape),m=t.data.get(o.dataId).values,_=w.util.getTypedArrayFromDType("float32",f);for(let x=0;x<m.length;x++)_[x]=m[x]<0?c*m[x]:m[x];return t.makeTensorInfo(o.shape,"float32",_)}const loe={kernelName:w.LeakyRelu,backendName:"cpu",kernelFunc:X9};function Gu(n){return(r,t,s,o,c)=>{const f=w.backend_util.assertAndGetBroadcastShape(r,t),m=f.length,_=w.util.computeStrides(f),x=w.util.sizeFromShape(f),E=w.util.getTypedArrayFromDType(c,x),T=r.length,L=t.length,z=w.util.computeStrides(r),X=w.util.computeStrides(t),Q=w.backend_util.getBroadcastDims(r,f),ne=w.backend_util.getBroadcastDims(t,f);if(Q.length+ne.length===0)for(let pe=0;pe<E.length;++pe)E[pe]=n(s[pe%s.length],o[pe%o.length]);else for(let pe=0;pe<E.length;++pe){const fe=w.util.indexToLoc(pe,m,_),ke=fe.slice(-T);Q.forEach(it=>ke[it]=0);const Ee=w.util.locToIndex(ke,T,z),He=fe.slice(-L);ne.forEach(it=>He[it]=0);const at=w.util.locToIndex(He,L,X);E[pe]=n(s[Ee],o[at])}return[E,f]}}const coe=Gu((n,r)=>n<0?r*n:n);function Z9(n){const{inputs:r,backend:t}=n,{x:s,alpha:o}=r;Nr([s,o],"prelu");const c=t.data.get(s.dataId).values,f=t.data.get(o.dataId).values,[m,_]=coe(s.shape,o.shape,c,f,"float32");return t.makeTensorInfo(_,"float32",m)}const doe={kernelName:w.Prelu,backendName:"cpu",kernelFunc:Z9},J9=Ma(w.Relu,n=>Math.max(0,n)),foe={kernelName:w.Relu,backendName:"cpu",kernelFunc:J9},Ip=Ma(w.Relu6,n=>Math.min(Math.max(0,n),6)),hoe={kernelName:w.Relu6,backendName:"cpu",kernelFunc:Ip};function $c(n){return(r,t,s)=>{const o=w.util.getTypedArrayFromDType(t,r.length);for(let c=0;c<r.length;++c)o[c]=n(r[c],s);return o}}const $r=$c(n=>1/(1+Math.exp(-n))),pn=Ma(w.Sigmoid,n=>1/(1+Math.exp(-n))),bd={kernelName:w.Sigmoid,backendName:"cpu",kernelFunc:pn};function ba(n,r,t,s,o){if("linear"===t)return t0({inputs:{x:r},backend:n});if("relu"===t)return J9({inputs:{x:r},backend:n});if("elu"===t)return K9({inputs:{x:r},backend:n});if("relu6"===t)return Ip({inputs:{x:r},backend:n});if("prelu"===t)return Z9({inputs:{x:r,alpha:s},backend:n});if("leakyrelu"===t)return X9({inputs:{x:r},backend:n,attrs:{alpha:o}});if("sigmoid"===t)return pn({inputs:{x:r},backend:n});throw new Error(`Activation ${t} has not been implemented for the CPU backend.`)}function Vc(n){const{inputs:r,backend:t}=n,{real:s,imag:o}=r,c=t.data.get(s.dataId).values,f=t.data.get(o.dataId).values,m=t.makeTensorInfo(s.shape,"complex64");return t.data.get(m.dataId).complexTensorInfos={real:t.makeTensorInfo(s.shape,"float32",c),imag:t.makeTensorInfo(o.shape,"float32",f)},m}const uS={kernelName:w.Complex,backendName:"cpu",kernelFunc:Vc};function n0(n,r,t="float32"){if("complex64"===t)return Vc({inputs:{real:n0(n,r,"float32"),imag:n0(n,r,"float32")},backend:n});const s=w.util.makeZerosTypedArray(w.util.sizeFromShape(r),t);return n.makeTensorInfo(r,t,s)}function zf(n){const{inputs:r,backend:t}=n,{input:s}=r,o=t.data.get(s.dataId).complexTensorInfos.real,c=t.data.get(o.dataId).values;return t.makeTensorInfo(o.shape,o.dtype,c)}const dO={kernelName:w.Real,backendName:"cpu",kernelFunc:zf};function jf(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{dtype:c}=s;if("complex64"===c){if("complex64"===o.dtype)return t0({inputs:{x:o},backend:t});const f=n0(t,o.shape,o.dtype),m=jf({inputs:{x:o},backend:t,attrs:{dtype:"float32"}}),_=Vc({inputs:{real:m,imag:f},backend:t});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(m),_}if("complex64"===o.dtype){const f=zf({inputs:{input:o},backend:t}),m=jf({inputs:{x:f},backend:t,attrs:{dtype:c}});return t.disposeIntermediateTensorInfo(f),m}if(!w.util.hasEncodingLoss(o.dtype,c)){const f=t0({inputs:{x:o},backend:t});return{dataId:f.dataId,shape:f.shape,dtype:c}}if("int32"===c){const f=t.data.get(o.dataId).values,m=Int32Array.from(f);return t.makeTensorInfo(o.shape,"int32",m)}if("bool"===c){const f=t.data.get(o.dataId).values,m=w.util.toTypedArray([0],o.dtype),[_,x]=Gu((E,T)=>E!==T?1:0)(o.shape,[],f,m,"bool");return t.makeTensorInfo(x,"bool",_)}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${c}`)}const Wf={kernelName:w.Cast,backendName:"cpu",kernelFunc:jf};function yu(n,r,t,s){return null==t?({inputs:o,backend:c})=>{const{a:f,b:m}=o,_=c;Nr([f,m],n);const x=_.data.get(f.dataId).values,E=_.data.get(m.dataId).values,T="string"===f.dtype?w.backend_util.fromUint8ToStringArray(x):x,L="string"===f.dtype?w.backend_util.fromUint8ToStringArray(E):E,z=s||f.dtype,[X,Q]=r(f.shape,m.shape,T,L,z);return _.makeTensorInfo(Q,z,X)}:({inputs:o,backend:c})=>{const{a:f,b:m}=o,_=c;if("complex64"===f.dtype||"complex64"===m.dtype){const x=jf({inputs:{x:f},backend:_,attrs:{dtype:"complex64"}}),E=_.data.get(x.dataId),L=E.complexTensorInfos.imag,z=_.data.get(E.complexTensorInfos.real.dataId).values,X=_.data.get(L.dataId).values,Q=jf({inputs:{x:m},backend:_,attrs:{dtype:"complex64"}}),ne=_.data.get(Q.dataId),fe=ne.complexTensorInfos.imag,ke=_.data.get(ne.complexTensorInfos.real.dataId).values,Ee=_.data.get(fe.dataId).values,[He,at,it]=t(f.shape,m.shape,z,X,ke,Ee),ct=_.makeTensorInfo(it,"float32",He),It=_.makeTensorInfo(it,"float32",at),At=Vc({inputs:{real:ct,imag:It},backend:_});return _.disposeIntermediateTensorInfo(x),_.disposeIntermediateTensorInfo(Q),_.disposeIntermediateTensorInfo(ct),_.disposeIntermediateTensorInfo(It),At}{const x=_.data.get(f.dataId).values,E=_.data.get(m.dataId).values,T=s||f.dtype,[L,z]=r(f.shape,m.shape,x,E,T);return _.makeTensorInfo(z,T,L)}}}function j4(n){return(r,t,s,o,c,f)=>{const m=w.backend_util.assertAndGetBroadcastShape(r,t),_=w.util.sizeFromShape(m),x=m.length,E=w.util.computeStrides(m),T=w.util.getTypedArrayFromDType("float32",_),L=w.util.getTypedArrayFromDType("float32",_),z=w.backend_util.getBroadcastDims(r,m),X=w.backend_util.getBroadcastDims(t,m),Q=w.backend_util.mergeRealAndImagArrays(s,o),ne=w.backend_util.mergeRealAndImagArrays(c,f),pe=r.length,fe=w.util.computeStrides(r),ke=t.length,Ee=w.util.computeStrides(t);if(z.length+X.length===0)for(let He=0;He<T.length;He++){const at=He%Q.length,it=He%ne.length,ct=n(Q[2*at],Q[2*at+1],ne[2*it],ne[2*it+1]);T[He]=ct.real,L[He]=ct.imag}else for(let He=0;He<T.length;He++){const at=w.util.indexToLoc(He,x,E),it=at.slice(-pe);z.forEach(tn=>it[tn]=0);const ct=w.util.locToIndex(it,pe,fe),It=at.slice(-ke);X.forEach(tn=>It[tn]=0);const At=w.util.locToIndex(It,ke,Ee),Ht=n(Q[2*ct],Q[2*ct+1],ne[2*At],ne[2*At+1]);T[He]=Ht.real,L[He]=Ht.imag}return[T,L,m]}}const Q9=Gu((n,r)=>n+r),poe=j4((n,r,t,s)=>({real:n+t,imag:r+s})),lS=yu(w.Add,Q9,poe),moe={kernelName:w.Add,backendName:"cpu",kernelFunc:lS};function wo(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{shape:c}=s,f=w.util.sizeFromShape(o.shape),m=w.util.inferFromImplicitShape(c,f),_=w.util.sizeFromShape(m);w.util.assert(f===_,()=>`The new shape (${m}) has ${_} elements and the old shape (${o.shape}) has ${f} elements. The new shape and old shape must have the same number of elements.`),t.incRef(o.dataId);const x=t.data.get(o.dataId);if(null!=x.complexTensorInfos){const T=x.complexTensorInfos.imag;x.complexTensorInfos.real.shape=m,T.shape=m}return{dataId:o.dataId,shape:m,dtype:o.dtype}}const goe={kernelName:w.Reshape,backendName:"cpu",kernelFunc:wo};function q9(n){const{inputs:r,backend:t,attrs:s}=n,{a:o,b:c}=r,{transposeA:f,transposeB:m}=s;Nr([o,c],"matMul");const _=o.shape.length,x=c.shape.length,E=f?o.shape[_-2]:o.shape[_-1],T=m?c.shape[x-1]:c.shape[x-2],L=f?o.shape[_-1]:o.shape[_-2],z=m?c.shape[x-2]:c.shape[x-1],X=o.shape.slice(0,-2),Q=c.shape.slice(0,-2),ne=w.util.sizeFromShape(X),pe=w.util.sizeFromShape(Q);w.util.assert(_>=2&&x>=2&&(ne===pe||1===ne||1===pe),()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${X}) and (${Q}).`);const Ee=(ne>pe?o.shape.slice(0,-2):c.shape.slice(0,-2)).concat([L,z]);w.util.assert(E===T,()=>`Error in matMul: inner shapes (${E}) and (${T}) of Tensors with shapes ${o.shape} and ${c.shape} and transposeA=${f} and transposeB=${m} must match.`);const at=m?[pe,z,T]:[pe,T,z],it=wo({inputs:{x:o},backend:t,attrs:{shape:f?[ne,E,L]:[ne,L,E]}}),ct=wo({inputs:{x:c},backend:t,attrs:{shape:at}}),It=f?it.shape[1]:it.shape[2],At=f?it.shape[2]:it.shape[1],Ht=m?ct.shape[1]:ct.shape[2],tn=Math.max(ne,pe),un=t.data.get(it.dataId).values,sn=t.data.get(ct.dataId).values,Zt=w.util.computeStrides(it.shape),Ut=w.util.computeStrides(ct.shape),[Jt,Qt,ln]=f?[Zt[0],1,Zt[1]]:[Zt[0],Zt[1],1],[Mn,Pn,Kn]=m?[1,Ut[1],Ut[0]]:[Ut[1],1,Ut[0]],jn=At*Ht,nr=(0,w.buffer)([tn,At,Ht],it.dtype),rr=nr.values,pr=t.blockSize;for(let Or=0;Or<tn;Or++)for(let _i=0;_i<At;_i+=pr)for(let xi=0;xi<Ht;xi+=pr)for(let Zi=0;Zi<It;Zi+=pr){const Ms=Math.min(_i+pr,At),ro=Math.min(xi+pr,Ht),Bu=Math.min(Zi+pr,It);for(let nu=_i;nu<Ms;nu++)for(let Vo=xi;Vo<ro;Vo++){let zo=0;for(let ru=Zi;ru<Bu;ru++){const vl=Math.min(Or,ne-1)*Jt,Ux=Math.min(Or,pe-1)*Kn;zo+=un[vl+nu*Qt+ru*ln]*sn[ru*Mn+Vo*Pn+Ux]}rr[Or*jn+(nu*Ht+Vo)]+=zo}}return t.disposeIntermediateTensorInfo(it),t.disposeIntermediateTensorInfo(ct),t.makeTensorInfo(Ee,nr.dtype,nr.values)}const _oe={kernelName:w.BatchMatMul,backendName:"cpu",kernelFunc:q9},voe={kernelName:w._FusedMatMul,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{a:o,b:c,bias:f,preluActivationWeights:m}=r,{transposeA:_,transposeB:x,activation:E,leakyreluAlpha:T}=s;let L,z,X;const Q=[];L=q9({inputs:{a:o,b:c},attrs:{transposeA:_,transposeB:x},backend:t}),f&&(z=lS({inputs:{a:L,b:f},backend:t}),Q.push(L),L=z),E&&(X=ba(t,L,E,m,T),Q.push(L),L=X);for(const pe of Q)t.disposeIntermediateTensorInfo(pe);return L}};function eY(n){const r=new Float32Array(n.length);for(let t=0;t<n.length;++t)r[t]=Math.abs(n[t]);return r}const boe={kernelName:w.Abs,backendName:"cpu",kernelFunc:n=>{const{x:r}=n.inputs,t=n.backend;Nr(r,"abs");let s=new Float32Array(w.util.sizeFromShape(r.shape));return s=eY(t.data.get(r.dataId).values),t.makeOutput(s,r.shape,r.dtype)}},xoe=Ma(w.Acos,n=>Math.acos(n)),Doe={kernelName:w.Acos,backendName:"cpu",kernelFunc:xoe},woe=Ma(w.Acosh,n=>Math.acosh(n)),Coe={kernelName:w.Acosh,backendName:"cpu",kernelFunc:woe},H4={kernelName:w.AddN,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,s=r;Nr(r,"addN");const o=s.map(m=>t.data.get(m.dataId).values),c=(0,w.buffer)(s[0].shape,s[0].dtype),f=c.values;for(let m=0;m<s.length;m++){const _=o[m];for(let x=0;x<f.length;x++)f[x]+=_[x]}return t.makeTensorInfo(c.shape,c.dtype,c.values)}};function fO(n,r,t,s,o){const c=r.length,f=w.util.sizeFromShape(r),m=w.util.computeStrides(r),_=w.util.computeStrides(o),x=w.util.getTypedArrayFromDType(t,w.util.sizeFromShape(o));for(let E=0;E<f;++E){const T=w.util.indexToLoc(E,c,m),L=new Array(T.length);for(let X=0;X<L.length;X++)L[X]=T[s[X]];x[w.util.locToIndex(L,c,_)]=n[E]}return x}function Wh(n){const{inputs:r,attrs:t,backend:s}=n,{x:o}=r,{perm:c}=t;Nr(o,"transpose");const m=new Array(o.shape.length);for(let T=0;T<m.length;T++)m[T]=o.shape[c[T]];const x=fO(s.data.get(o.dataId).values,o.shape,o.dtype,c,m);return{dataId:s.write(x,m,o.dtype),shape:m,dtype:o.dtype}}const zc={kernelName:w.Transpose,backendName:"cpu",kernelFunc:Wh},Eoe={kernelName:w.All,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s;Nr(o,"all");const m=w.util.parseAxisParam(c,o.shape);let _=m;const x=w.backend_util.getAxesPermutation(_,o.shape.length);let E=o;null!=x&&(E=Wh({inputs:{x:o},backend:t,attrs:{perm:x}}),_=w.backend_util.getInnerMostAxes(_.length,o.shape.length)),w.backend_util.assertAxesAreInnerMostDims("all",_,E.shape.length);const[T,L]=w.backend_util.computeOutAndReduceShapes(E.shape,_),z=w.util.sizeFromShape(L),X=w.util.makeZerosTypedArray(w.util.sizeFromShape(T),E.dtype),Q=t.data.get(E.dataId).values;for(let pe=0;pe<X.length;++pe){const fe=pe*z;let ke=Q[fe];for(let Ee=0;Ee<z;++Ee){const He=Q[fe+Ee];ke=ke&&He}X[pe]=ke}null!=x&&t.disposeIntermediateTensorInfo(E);const ne=t.makeTensorInfo(T,E.dtype,X);if(f){const fe=wo({inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(T,m)}});return t.disposeIntermediateTensorInfo(ne),fe}return ne}},hO={kernelName:w.Any,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s;Nr(o,"any");const m=w.util.parseAxisParam(c,o.shape);let _=m;const x=w.backend_util.getAxesPermutation(_,o.shape.length);let E=o;null!=x&&(E=Wh({inputs:{x:o},backend:t,attrs:{perm:x}}),_=w.backend_util.getInnerMostAxes(_.length,o.shape.length)),w.backend_util.assertAxesAreInnerMostDims("any",_,E.shape.length);const[T,L]=w.backend_util.computeOutAndReduceShapes(E.shape,_),z=w.util.sizeFromShape(L),X=w.util.makeZerosTypedArray(w.util.sizeFromShape(T),E.dtype),Q=t.data.get(E.dataId).values;for(let pe=0;pe<X.length;++pe){const fe=pe*z;let ke=Q[fe];for(let Ee=0;Ee<z;++Ee){const He=Q[fe+Ee];ke=ke||He}X[pe]=ke}null!=x&&t.disposeIntermediateTensorInfo(E);const ne=t.makeTensorInfo(T,E.dtype,X);if(f){const fe=wo({inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(T,m)}});return t.disposeIntermediateTensorInfo(ne),fe}return ne}},U4={kernelName:w.ArgMax,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c}=s;Nr(o,"argMax");let f=w.util.parseAxisParam(c,o.shape);const m=w.backend_util.getAxesPermutation(f,o.shape.length);let _=o;const x=[];null!=m&&(_=Wh({inputs:{x:o},backend:t,attrs:{perm:m}}),x.push(_),f=w.backend_util.getInnerMostAxes(f.length,_.shape.length)),f=[f[0]],w.backend_util.assertAxesAreInnerMostDims("argMax",f,_.shape.length);const[E,T]=w.backend_util.computeOutAndReduceShapes(_.shape,f),L=w.util.sizeFromShape(E),z=w.util.makeZerosTypedArray(L,"int32"),X=w.util.sizeFromShape(T),Q=t.data.get(_.dataId).values;for(let ne=0;ne<z.length;++ne){const pe=ne*X;let fe=Q[pe],ke=0;for(let Ee=0;Ee<X;++Ee){const He=Q[pe+Ee];He>fe&&(fe=He,ke=Ee)}z[ne]=ke}return x.forEach(ne=>t.disposeIntermediateTensorInfo(ne)),t.makeTensorInfo(E,"int32",z)}},Soe={kernelName:w.ArgMin,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c}=s;Nr(o,"argMin");let f=w.util.parseAxisParam(c,o.shape);const m=w.backend_util.getAxesPermutation(f,o.shape.length);let _=o;const x=[];null!=m&&(_=Wh({inputs:{x:o},backend:t,attrs:{perm:m}}),x.push(_),f=w.backend_util.getInnerMostAxes(f.length,_.shape.length)),f=[f[0]],w.backend_util.assertAxesAreInnerMostDims("argMin",f,_.shape.length);const[E,T]=w.backend_util.computeOutAndReduceShapes(_.shape,f),L=w.util.sizeFromShape(E),z=w.util.makeZerosTypedArray(L,"int32"),X=w.util.sizeFromShape(T),Q=t.data.get(_.dataId).values;for(let ne=0;ne<z.length;++ne){const pe=ne*X;let fe=Q[pe],ke=0;for(let Ee=0;Ee<X;++Ee){const He=Q[pe+Ee];He<fe&&(fe=He,ke=Ee)}z[ne]=ke}return x.forEach(ne=>t.disposeIntermediateTensorInfo(ne)),t.makeTensorInfo(E,"int32",z)}},fS=Ma(w.Asin,n=>Math.asin(n)),hS={kernelName:w.Asin,backendName:"cpu",kernelFunc:fS},pO=Ma(w.Asinh,n=>Math.asinh(n)),Aoe={kernelName:w.Asinh,backendName:"cpu",kernelFunc:pO},tY=Ma(w.Atan,n=>Math.atan(n)),Y4={kernelName:w.Atan,backendName:"cpu",kernelFunc:tY},Toe=Gu((n,r)=>Math.atan2(n,r)),nY=yu(w.Atan2,Toe),koe={kernelName:w.Atan2,backendName:"cpu",kernelFunc:nY},Ioe=Ma(w.Atanh,n=>Math.atanh(n)),G4={kernelName:w.Atanh,backendName:"cpu",kernelFunc:Ioe};function K4(n,r,t,s,o,c){const f=o.strideHeight,m=o.strideWidth,_=o.dilationHeight,x=o.dilationWidth,E=o.effectiveFilterHeight,T=o.effectiveFilterWidth,L=o.padInfo.top,z=o.padInfo.left,X="max"===c?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,Q=(0,w.buffer)(o.outShape,t),ne=Q.values,pe=o.outShape[1]*o.outShape[2]*o.outShape[3],fe=o.outShape[2]*o.outShape[3],ke=o.outShape[3];for(let Ee=0;Ee<o.batchSize;++Ee){const He=Ee*pe,at=Ee*s[0];for(let it=0;it<o.inChannels;++it)for(let ct=0;ct<o.outHeight;++ct){const It=ct*f-L,At=Math.max(0,It),Ht=Math.min(o.inHeight,E+It),tn=He+ct*fe;for(let un=0;un<o.outWidth;++un){const sn=un*m-z,Zt=Math.max(0,sn),Ut=Math.min(o.inWidth,T+sn);let Jt=X,Qt=0,ln=0;for(let Pn=At;Pn<Ht;Pn+=_){const Kn=at+Pn*s[1];for(let jn=Zt;jn<Ut;jn+=x){const rr=n[Kn+jn*s[2]+it];"max"===c&&rr>Jt?Jt=rr:"avg"===c&&(Qt+=rr,ln++)}if(isNaN(Jt))break}ne[tn+un*ke+it]="avg"===c?Qt/ln:Jt}}}return Q}function rY(n,r,t,s,o=!1,c=!1){const f=(0,w.buffer)(s.outShape,"int32"),m=s.strideHeight,_=s.strideWidth,x=s.dilationHeight,E=s.dilationWidth,T=s.effectiveFilterHeight,L=s.effectiveFilterWidth,z=s.padInfo.top,X=s.padInfo.left,Q=(0,w.buffer)(r,t,n);for(let ne=0;ne<s.batchSize;++ne)for(let pe=0;pe<s.inChannels;++pe)for(let fe=0;fe<s.outHeight;++fe){const ke=fe*m-z;let Ee=ke;for(;Ee<0;)Ee+=x;const He=Math.min(s.inHeight,T+ke);for(let at=0;at<s.outWidth;++at){const it=at*_-X;let ct=it;for(;ct<0;)ct+=E;const It=Math.min(s.inWidth,L+it);let At=Number.NEGATIVE_INFINITY,Ht=-1;for(let tn=Ee;tn<He;tn+=x){const un=tn-ke;for(let sn=ct;sn<It;sn+=E){const Zt=sn-it,Ut=Q.get(ne,tn,sn,pe);Ut>At&&(At=Ut,Ht=o?c?((ne*s.inHeight+tn)*s.inWidth+sn)*s.inChannels+pe:(tn*s.inWidth+sn)*s.inChannels+pe:un*L+Zt)}}f.set(Ht,ne,fe,at,pe)}}return f}function X4(n,r,t,s,o,c){const f=o.strideDepth,m=o.strideHeight,_=o.strideWidth,x=o.dilationDepth,E=o.dilationHeight,T=o.dilationWidth,L=o.effectiveFilterDepth,z=o.effectiveFilterHeight,X=o.effectiveFilterWidth,Q=o.padInfo.front,ne=o.padInfo.top,pe=o.padInfo.left,fe="max"===c?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,ke=(0,w.buffer)(o.outShape,t),Ee=ke.values,He=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],at=o.outShape[2]*o.outShape[3]*o.outShape[4],it=o.outShape[3]*o.outShape[4],ct=o.outShape[4];for(let It=0;It<o.batchSize;++It){const At=It*He,Ht=It*s[0];for(let tn=0;tn<o.inChannels;++tn)for(let un=0;un<o.outDepth;++un){const sn=un*f-Q;let Zt=sn;for(;Zt<0;)Zt+=x;const Ut=Math.min(o.inDepth,L+sn),Jt=At+un*at;for(let Qt=0;Qt<o.outHeight;++Qt){const ln=Qt*m-ne;let Mn=ln;for(;Mn<0;)Mn+=E;const Pn=Math.min(o.inHeight,z+ln),Kn=Jt+Qt*it;for(let jn=0;jn<o.outWidth;++jn){const nr=jn*_-pe;let rr=nr;for(;rr<0;)rr+=T;const pr=Math.min(o.inWidth,X+nr),Or=Kn+jn*ct;let _i=fe,xi=0,Zi=0;for(let ro=Zt;ro<Ut;ro+=x){const Bu=Ht+ro*s[1];for(let nu=Mn;nu<Pn;nu+=E){const Vo=Bu+nu*s[2];for(let zo=rr;zo<pr;zo+=T){const vl=n[Vo+zo*s[3]+tn];if("max"===c&&vl>_i?_i=vl:"avg"===c&&(xi+=vl,Zi++),isNaN(_i))break}if(isNaN(_i))break}if(isNaN(_i))break}Ee[Or+tn]="avg"===c?xi/Zi:_i}}}}return ke}const Loe={kernelName:w.AvgPool,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r;Nr(o,"avgPool");const{filterSize:c,strides:f,pad:m,dimRoundingMode:_}=s;w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(f,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${f} and dilations '1'`);const E=w.backend_util.computePool2DInfo(o.shape,c,f,1,m,_);let T;if(1===E.filterWidth&&1===E.filterHeight&&w.util.arraysEqual(E.inShape,E.outShape))T=t0({inputs:{x:o},backend:t});else{const L=t.data.get(o.dataId).values,z=w.util.computeStrides(o.shape),X=K4(L,0,o.dtype,z,E,"avg");T=t.makeTensorInfo(E.outShape,o.dtype,X.values)}return T}},Poe={kernelName:w.AvgPool3D,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{filterSize:c,strides:f,pad:m,dimRoundingMode:_,dataFormat:x}=s;Nr(o,"avgPool3d");const E=w.backend_util.computePool3DInfo(o.shape,c,f,1,m,_,x),L=X4(t.data.get(o.dataId).values,0,o.dtype,w.util.computeStrides(o.shape),E,"avg");return t.makeTensorInfo(L.shape,"float32",L.values)}},iY={kernelName:w.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c}=r,{filterSize:f,strides:m,pad:_,dimRoundingMode:x}=s;Nr([o,c],"avgPool3DGrad");const E=w.backend_util.computePool3DInfo(c.shape,f,m,1,_,x),T=E.strideDepth,L=E.strideHeight,z=E.strideWidth,X=E.filterDepth,Q=E.filterHeight,ne=E.filterWidth,pe=E.dilationDepth,fe=E.dilationHeight,ke=E.dilationWidth,Ee=E.effectiveFilterDepth,He=E.effectiveFilterHeight,at=E.effectiveFilterWidth,it=Ee-1-E.padInfo.front,ct=at-1-E.padInfo.left,It=He-1-E.padInfo.top,At=(0,w.buffer)(c.shape,"float32"),Ht=1/(X*Q*ne),tn=t.bufferSync(o);for(let un=0;un<E.batchSize;++un)for(let sn=0;sn<E.inChannels;++sn)for(let Zt=0;Zt<E.inDepth;++Zt)for(let Ut=0;Ut<E.inHeight;++Ut)for(let Jt=0;Jt<E.inWidth;++Jt){const Qt=Zt-it,ln=Ut-It,Mn=Jt-ct;let Pn=0;for(let Kn=0;Kn<Ee;Kn+=pe){const jn=(Qt+Kn)/T;if(!(jn<0||jn>=E.outDepth||Math.floor(jn)!==jn))for(let nr=0;nr<He;nr+=fe){const rr=(ln+nr)/L;if(!(rr<0||rr>=E.outHeight||Math.floor(rr)!==rr))for(let pr=0;pr<at;pr+=ke){const Or=(Mn+pr)/z;Or<0||Or>=E.outWidth||Math.floor(Or)!==Or||(Pn+=tn.get(un,jn,rr,Or,sn))}}}At.set(Pn*Ht,un,Zt,Ut,Jt,sn)}return t.makeTensorInfo(At.shape,At.dtype,At.values)}},sY={kernelName:w.AvgPoolGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c}=r,f=c;Nr([o,c],"avgPoolGrad");const{filterSize:m,strides:_,pad:x}=s,E=w.backend_util.computePool2DInfo(f.shape,m,_,1,x),T=E.strideHeight,L=E.strideWidth,z=E.filterHeight,X=E.filterWidth,Q=E.dilationHeight,ne=E.dilationWidth,pe=E.effectiveFilterHeight,fe=E.effectiveFilterWidth,ke=fe-1-E.padInfo.left,Ee=pe-1-E.padInfo.top,He=(0,w.buffer)(f.shape,"float32"),at=1/(z*X),it=t.data.get(o.dataId).values,ct=(0,w.buffer)(o.shape,"float32",it);for(let It=0;It<E.batchSize;++It)for(let At=0;At<E.inChannels;++At)for(let Ht=0;Ht<E.inHeight;++Ht)for(let tn=0;tn<E.inWidth;++tn){const un=Ht-Ee,sn=tn-ke;let Zt=0;for(let Ut=0;Ut<pe;Ut+=Q){const Jt=(un+Ut)/T;if(!(Jt<0||Jt>=E.outHeight||Math.floor(Jt)!==Jt))for(let Qt=0;Qt<fe;Qt+=ne){const ln=(sn+Qt)/L;ln<0||ln>=E.outWidth||Math.floor(ln)!==ln||(Zt+=ct.get(It,Jt,ln,At))}}He.set(Zt*at,It,Ht,tn,At)}return t.makeTensorInfo(He.shape,He.dtype,He.values)}},aY={kernelName:w.FusedBatchNorm,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,scale:c,offset:f,mean:m,variance:_}=r;w.util.assert(m.shape.length===_.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),w.util.assert(null==f||m.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),w.util.assert(null==c||m.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Nr([o,m,_,c,f],"batchNorm");let{varianceEpsilon:x}=s;null==x&&(x=.001);const E=t.data.get(o.dataId).values,T=t.data.get(m.dataId).values,L=t.data.get(_.dataId).values,z=c?t.data.get(c.dataId).values:new Float32Array([1]),X=f?t.data.get(f.dataId).values:new Float32Array([0]),Q=new Float32Array(E.length),ne=X.length,pe=z.length,fe=L.length,ke=T.length;let Ee=0,He=0,at=0,it=0;for(let ct=0;ct<E.length;++ct)Q[ct]=X[Ee++]+(E[ct]-T[He++])*z[at++]/Math.sqrt(L[it++]+x),Ee>=ne&&(Ee=0),He>=ke&&(He=0),at>=pe&&(at=0),it>=fe&&(it=0);return t.makeTensorInfo(o.shape,o.dtype,Q)}};function oY(n,r,t,s,o){const c=w.slice_util.isSliceContinous(s,r,t),f=w.util.sizeFromShape(t),m=w.util.computeStrides(s);if(c){const T=w.slice_util.computeFlatOffset(r,m);return"string"===o?n.slice(T,T+f):n.subarray(T,T+f)}const _="string"===o?w.backend_util.fromUint8ToStringArray(n):n,x=(0,w.buffer)(s,o,_),E=(0,w.buffer)(t,o);for(let T=0;T<E.size;++T){const L=E.indexToLoc(T),z=L.map((X,Q)=>X+r[Q]);E.set(x.get(...z),...L)}return"string"===o?w.backend_util.fromStringArrayToUint8(E.values):E.values}function Qb(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{begin:c,size:f}=s;Nr(o,"slice");const[m,_]=w.slice_util.parseSliceParams(o,c,f);w.slice_util.assertParamsValid(o,m,_);const E=oY(t.data.get(o.dataId).values,m,_,o.shape,o.dtype);return t.makeTensorInfo(_,o.dtype,E)}const Z4={kernelName:w.Slice,backendName:"cpu",kernelFunc:Qb},uY={kernelName:w.BatchToSpaceND,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{blockShape:c,crops:f}=s;Nr([o],"batchToSpaceND");const m=c.reduce((pe,fe)=>pe*fe),_=w.backend_util.getReshaped(o.shape,c,m),x=w.backend_util.getPermuted(_.length,c.length),E=w.backend_util.getReshapedPermuted(o.shape,c,m),T=w.backend_util.getSliceBeginCoords(f,c.length),L=w.backend_util.getSliceSize(E,f,c.length),z=wo({inputs:{x:o},backend:t,attrs:{shape:_}}),X=Wh({inputs:{x:z},backend:t,attrs:{perm:x}}),Q=wo({inputs:{x:X},backend:t,attrs:{shape:E}}),ne=Qb({inputs:{x:Q},backend:t,attrs:{begin:T,size:L}});return t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(X),t.disposeIntermediateTensorInfo(Q),ne}};function J4(n,r,t,s,o){const c=w.util.sizeFromShape(s),f=w.util.makeZerosTypedArray(o,t);for(let m=0;m<n.length;m++){const _=n[m];if(_<0)throw new Error("Input x must be non-negative!");_>=o||(f[_]+=c>0?r[m]:1)}return f}function Q4(n,r,t,s=!1){const o=n.shape[0],c=n.shape[1],f=(0,w.buffer)([o,t],r.dtype);for(let m=0;m<o;m++)for(let _=0;_<c;_++){const x=n.get(m,_);if(x<0)throw new Error("Input x must be non-negative!");x>=t||f.set(s?1:r.size>0?f.get(m,x)+r.get(m,_):f.get(m,x)+1,m,x)}return f}const pa={kernelName:w.Bincount,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,weights:c}=r,{size:f}=s,x=J4(t.data.get(o.dataId).values,t.data.get(c.dataId).values,c.dtype,c.shape,f);return t.makeTensorInfo([f],c.dtype,x)}},xd={kernelName:w.BroadcastArgs,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{s0:s,s1:o}=r,c=t.data.get(s.dataId).values,f=t.data.get(o.dataId).values,m=w.backend_util.assertAndGetBroadcastShape(Array.from(c),Array.from(f));return t.makeTensorInfo([m.length],"int32",Int32Array.from(m))}},Co=$c(n=>Math.ceil(n)),q4=Xw(w.Ceil,Co),Voe={kernelName:w.Ceil,backendName:"cpu",kernelFunc:q4},lY=Ma(w.ClipByValue,(n,r)=>n>r.clipValueMax?r.clipValueMax:n<r.clipValueMin?r.clipValueMin:n),zoe={kernelName:w.ClipByValue,backendName:"cpu",kernelFunc:lY},Woe={kernelName:w.ComplexAbs,backendName:"cpu",kernelFunc:n=>{const{x:r}=n.inputs,t=n.backend,s=new Float32Array(w.util.sizeFromShape(r.shape)),o=t.data.get(r.dataId),f=o.complexTensorInfos.imag,m=t.data.get(o.complexTensorInfos.real.dataId).values,_=t.data.get(f.dataId).values;for(let x=0;x<m.length;x++)s[x]=Math.hypot(m[x],_[x]);return t.makeOutput(s,r.shape,"float32")}};function cY(n,r,t,s){const o=w.util.getArrayFromDType(t,w.util.sizeFromShape(r));if(s&&"string"!==t){let c=0;n.forEach(f=>{const m=w.util.sizeFromShape(f.shape);o.set(f.vals,c),c+=m})}else{let c=0;n.forEach(f=>{const m="string"===t?w.backend_util.fromUint8ToStringArray(f.vals):f.vals;let _=0;for(let x=0;x<f.shape[0];++x){const E=x*r[1]+c;for(let T=0;T<f.shape[1];++T)o[E+T]=m[_++]}c+=f.shape[1]})}return o}function Zw(n){const{inputs:r,backend:t}=n,{input:s}=r,o=t.data.get(s.dataId).complexTensorInfos.imag,c=t.data.get(o.dataId).values;return t.makeTensorInfo(o.shape,o.dtype,c)}const Hoe={kernelName:w.Imag,backendName:"cpu",kernelFunc:Zw};function Jw(n){const{inputs:r,backend:t,attrs:s}=n,{axis:o}=s,c=w.util.parseAxisParam(o,r[0].shape)[0];let f=w.backend_util.computeOutShape(r.map(Q=>Q.shape),c);if(0===w.util.sizeFromShape(f))return t.makeTensorInfo(f,r[0].dtype,[]);const m=r.filter(Q=>w.util.sizeFromShape(Q.shape)>0);if(1===m.length)return t0({inputs:{x:m[0]},backend:t});const _=m.map(Q=>Q.shape);if(w.backend_util.assertParamsConsistent(_,c),"complex64"===m[0].dtype){const Q=m.map(Ee=>zf({inputs:{input:Ee},backend:t})),ne=m.map(Ee=>Zw({inputs:{input:Ee},backend:t})),pe=Jw({inputs:Q,backend:t,attrs:{axis:c}}),fe=Jw({inputs:ne,backend:t,attrs:{axis:c}}),ke=Vc({inputs:{real:pe,imag:fe},backend:t});return Q.forEach(Ee=>t.disposeIntermediateTensorInfo(Ee)),ne.forEach(Ee=>t.disposeIntermediateTensorInfo(Ee)),t.disposeIntermediateTensorInfo(pe),t.disposeIntermediateTensorInfo(fe),ke}const x=m.map(Q=>{const ne=w.util.sizeFromShape(Q.shape.slice(c));return wo({inputs:{x:Q},backend:t,attrs:{shape:[-1,ne]}})}),E=x.map(Q=>({vals:t.data.get(Q.dataId).values,shape:Q.shape}));f=w.backend_util.computeOutShape(x.map(Q=>Q.shape),1);const L=cY(E,f,r[0].dtype,1===x[0].shape[0]),z=w.backend_util.computeOutShape(m.map(Q=>Q.shape),c),X=t.makeTensorInfo(z,r[0].dtype,L);return x.forEach(Q=>t.disposeIntermediateTensorInfo(Q)),X}const Uoe={kernelName:w.Concat,backendName:"cpu",kernelFunc:Jw};function dY(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dataFormat:_,dilations:x,dimRoundingMode:E}=s;Nr([o,c],"conv2d");const T=w.backend_util.convertConv2DDataFormat(_),L=w.backend_util.computeConv2DInfo(o.shape,c.shape,f,x,m,E,!1,T),z=L.filterHeight,X=L.filterWidth,Q=L.dilationHeight,ne=L.dilationWidth,pe=L.padInfo.left,fe=L.padInfo.top,ke="channelsLast"===L.dataFormat,Ee=new w.TensorBuffer(L.outShape,o.dtype),He=w.util.computeStrides(o.shape),at=w.util.computeStrides(c.shape),it=He[0],ct=ke?He[1]:He[2],It=ke?He[2]:1,At=ke?1:He[1],Ht=Ee.strides[0],tn=ke?Ee.strides[1]:Ee.strides[2],un=ke?Ee.strides[2]:1,sn=ke?1:Ee.strides[1],Zt=t.data.get(o.dataId).values,Ut=t.data.get(c.dataId).values,Jt=Ee.values;for(let Qt=0;Qt<L.batchSize;++Qt){const ln=Qt*it,Mn=Qt*Ht;for(let Pn=0;Pn<L.outHeight;++Pn){const Kn=Mn+Pn*tn,jn=Pn*L.strideHeight-fe;for(let nr=0;nr<z;++nr){const rr=jn+nr*Q;if(rr<0||rr>=L.inHeight)continue;const pr=nr*at[0],Or=ln+rr*ct;for(let _i=0;_i<L.outWidth;++_i){const xi=Kn+_i*un,Zi=_i*L.strideWidth-pe;for(let Ms=0;Ms<X;++Ms){const ro=Zi+Ms*ne;if(ro<0||ro>=L.inWidth)continue;const nu=Or+ro*It;let Vo=pr+Ms*at[1];for(let zo=0;zo<L.inChannels;++zo){const ru=Zt[nu+zo*At];for(let vl=0;vl<L.outChannels;++vl)Jt[xi+vl*sn]+=ru*Ut[Vo+vl];Vo+=L.outChannels}}}}}}return t.makeTensorInfo(Ee.shape,Ee.dtype,Jt)}const Yoe={kernelName:w.Conv2D,backendName:"cpu",kernelFunc:dY},gO={kernelName:w.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,dy:c}=r,{strides:f,pad:m,dataFormat:_,dimRoundingMode:x,filterShape:E}=s;Nr([o,c],"conv2dBackpropFilter");const T=w.backend_util.convertConv2DDataFormat(_),L=w.backend_util.computeConv2DInfo(o.shape,E,f,1,m,x,!1,T),{strideHeight:z,strideWidth:X,filterHeight:Q,filterWidth:ne}=L,pe="channelsLast"===L.dataFormat,fe=new w.TensorBuffer(L.filterShape,"float32"),ke=L.padInfo.left,Ee=L.padInfo.top,He=t.data.get(o.dataId).values,at=t.data.get(c.dataId).values,it=new w.TensorBuffer(o.shape,o.dtype,He),ct=new w.TensorBuffer(c.shape,c.dtype,at);for(let It=0;It<Q;++It){const At=Math.max(0,Math.ceil((Ee-It)/z)),Ht=Math.min(L.outHeight,(L.inHeight+Ee-It)/z);for(let tn=0;tn<ne;++tn){const un=Math.max(0,Math.ceil((ke-tn)/X)),sn=Math.min(L.outWidth,(L.inWidth+ke-tn)/X);for(let Zt=0;Zt<L.inChannels;++Zt)for(let Ut=0;Ut<L.outChannels;++Ut){let Jt=0;for(let Qt=0;Qt<L.batchSize;++Qt)for(let ln=At;ln<Ht;++ln){const Mn=It+ln*z-Ee;for(let Pn=un;Pn<sn;++Pn){const Kn=tn+Pn*X-ke;Jt+=pe?it.get(Qt,Mn,Kn,Zt)*ct.get(Qt,ln,Pn,Ut):it.get(Qt,Zt,Mn,Kn)*ct.get(Qt,Ut,ln,Pn)}}fe.set(Jt,It,tn,Zt,Ut)}}}return t.makeTensorInfo(fe.shape,fe.dtype,fe.values)}},Goe={kernelName:w.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,filter:c}=r,{inputShape:f,strides:m,pad:_,dataFormat:x,dimRoundingMode:E}=s;Nr([o,c],"conv2dBackpropInput");const T=w.util.computeStrides(c.shape),L=w.util.computeStrides(o.shape);let z=w.backend_util.convertConv2DDataFormat(x);const X=w.backend_util.computeConv2DInfo(f,c.shape,m,1,_,E,!1,z),Q=new w.TensorBuffer(X.inShape,"float32"),ne=Q.values,pe=t.data.get(o.dataId).values,fe=t.data.get(c.dataId).values,[ke,Ee,He]=T,{batchSize:at,filterHeight:it,filterWidth:ct,inChannels:It,inHeight:At,inWidth:Ht,outChannels:tn,outHeight:un,outWidth:sn,strideHeight:Zt,strideWidth:Ut}=X;z=X.dataFormat;const Jt=it-1-X.padInfo.top,Qt=ct-1-X.padInfo.left,ln="channelsLast"===z,Mn=Q.strides[0],Pn=ln?Q.strides[1]:Q.strides[2],Kn=ln?Q.strides[2]:1,jn=ln?1:Q.strides[1],nr=L[0],rr=ln?L[1]:L[2],pr=ln?L[2]:1,Or=ln?1:L[1];for(let _i=0;_i<at;++_i)for(let xi=0;xi<It;++xi)for(let Zi=0;Zi<At;++Zi){const Ms=Zi-Jt,ro=Math.max(0,Math.ceil(Ms/Zt)),Bu=Math.min(un,(it+Ms)/Zt);for(let nu=0;nu<Ht;++nu){const Vo=nu-Qt,zo=Math.max(0,Math.ceil(Vo/Ut)),ru=Math.min(sn,(ct+Vo)/Ut);let vl=0;for(let Sd=ro;Sd<Bu;++Sd){const Q1=Sd*Zt-Ms;for(let eg=zo;eg<ru;++eg){const iy=nr*_i+rr*Sd+pr*eg,Yx=ke*(it-1-Q1)+Ee*(ct-1-(eg*Ut-Vo))+He*xi;for(let RC=0;RC<tn;++RC)vl+=pe[iy+Or*RC]*fe[Yx+RC]}}ne[Mn*_i+Pn*Zi+Kn*nu+jn*xi]=vl}}return t.makeTensorInfo(Q.shape,Q.dtype,Q.values)}},e5={kernelName:w.Conv3D,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dilations:_}=s;Nr([o,c],"conv3d");const x=w.backend_util.computeConv3DInfo(o.shape,c.shape,f,_,m),{filterDepth:E,filterHeight:T,filterWidth:L,dilationDepth:z,dilationHeight:X,dilationWidth:Q,padInfo:ne}=x,pe=ne.front,fe=ne.left,ke=ne.top,Ee=new w.TensorBuffer(x.outShape,o.dtype),He=t.data.get(o.dataId).values,at=t.data.get(c.dataId).values,it=Ee.values,ct=w.util.computeStrides(o.shape),It=w.util.computeStrides(c.shape);for(let At=0;At<x.batchSize;++At){const Ht=At*ct[0],tn=At*Ee.strides[0];for(let un=0;un<x.outDepth;++un){const sn=tn+un*Ee.strides[1],Zt=un*x.strideDepth-pe;for(let Ut=0;Ut<E;++Ut){const Jt=Zt+Ut*z;if(Jt<0||Jt>=x.inDepth)continue;const Qt=Ut*It[0],ln=Ht+Jt*ct[1];for(let Mn=0;Mn<x.outHeight;++Mn){const Pn=sn+Mn*Ee.strides[2],Kn=Mn*x.strideHeight-ke;for(let jn=0;jn<T;++jn){const nr=Kn+jn*X;if(nr<0||nr>=x.inHeight)continue;const rr=Qt+jn*It[1],pr=ln+nr*ct[2];for(let Or=0;Or<x.outWidth;++Or){const _i=Pn+Or*x.outChannels,xi=Or*x.strideWidth-fe;for(let Zi=0;Zi<L;++Zi){const Ms=xi+Zi*Q;if(Ms<0||Ms>=x.inWidth)continue;const Bu=pr+Ms*x.inChannels;let nu=rr+Zi*It[2];for(let Vo=0;Vo<x.inChannels;++Vo){const zo=He[Bu+Vo];for(let ru=0;ru<x.outChannels;++ru)it[_i+ru]+=zo*at[nu+ru];nu+=x.outChannels}}}}}}}}return t.makeTensorInfo(Ee.shape,Ee.dtype,Ee.values)}},Xoe={kernelName:w.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,dy:c}=r,{strides:f,pad:m,filterShape:_}=s;Nr([o,c],"conv3dBackpropFilterV2");const x=w.util.computeStrides(o.shape),E=w.util.computeStrides(c.shape),T=w.backend_util.computeConv3DInfo(o.shape,_,f,1,m),L=T.strideDepth,z=T.strideHeight,X=T.strideWidth,Q=T.filterDepth,ne=T.filterHeight,pe=T.filterWidth,fe=new w.TensorBuffer(T.filterShape,"float32"),ke=fe.values,[Ee,He,at,it]=fe.strides,ct=t.data.get(c.dataId).values,[It,At,Ht,tn]=E,un=t.data.get(o.dataId).values,[sn,Zt,Ut,Jt]=x,Qt=T.padInfo.front,ln=T.padInfo.left,Mn=T.padInfo.top;for(let Pn=0;Pn<Q;++Pn){const Kn=Math.max(0,Math.ceil((Qt-Pn)/L)),jn=Math.min(T.outDepth,(T.inDepth+Qt-Pn)/L),nr=Pn*Ee;for(let rr=0;rr<ne;++rr){const pr=Math.max(0,Math.ceil((Mn-rr)/z)),Or=Math.min(T.outHeight,(T.inHeight+Mn-rr)/z),_i=rr*He+nr;for(let xi=0;xi<pe;++xi){const Zi=Math.max(0,Math.ceil((ln-xi)/X)),Ms=Math.min(T.outWidth,(T.inWidth+ln-xi)/X),ro=xi*at+_i;for(let Bu=0;Bu<T.inChannels;++Bu){const nu=Bu*it+ro;for(let Vo=0;Vo<T.outChannels;++Vo){let zo=0;for(let ru=0;ru<T.batchSize;++ru){const vl=ru*sn,Ux=ru*It;for(let Sd=Kn;Sd<jn;++Sd){const eg=(Pn+Sd*L-Qt)*Zt+vl,KA=Sd*At+Ux;for(let iy=pr;iy<Or;++iy){const RC=(rr+iy*z-Mn)*Ut+eg,BC=iy*Ht+KA;for(let $C=Zi;$C<Ms;++$C)zo+=un[(xi+$C*X-ln)*Jt+RC+Bu]*ct[$C*tn+BC+Vo]}}}ke[nu+Vo]=zo}}}}}return t.makeTensorInfo(fe.shape,fe.dtype,fe.values)}},Joe={kernelName:w.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,filter:c}=r,{pad:f,strides:m,inputShape:_}=s;Nr([o],"conv3dBackpropInputV2");const x=w.util.computeStrides(o.shape),E=w.util.computeStrides(c.shape),T=w.backend_util.computeConv3DInfo(_,c.shape,m,1,f),L=new w.TensorBuffer(T.inShape,"float32"),z=L.values,[X,Q,ne,pe]=L.strides,fe=t.data.get(o.dataId).values,[ke,Ee,He,at]=x,it=t.data.get(c.dataId).values,[ct,It,At,Ht]=E,{batchSize:tn,filterDepth:un,filterHeight:sn,filterWidth:Zt,inChannels:Ut,inDepth:Jt,inHeight:Qt,inWidth:ln,outChannels:Mn,outDepth:Pn,outHeight:Kn,outWidth:jn,strideDepth:nr,strideHeight:rr,strideWidth:pr}=T,Or=un-1-T.padInfo.front,_i=sn-1-T.padInfo.top,xi=Zt-1-T.padInfo.left;for(let Zi=0;Zi<tn;++Zi)for(let Ms=0;Ms<Ut;++Ms)for(let ro=0;ro<Jt;++ro){const Bu=ro-Or,nu=Math.max(0,Math.ceil(Bu/nr)),Vo=Math.min(Pn,(un+Bu)/nr);for(let zo=0;zo<Qt;++zo){const ru=zo-_i,vl=Math.max(0,Math.ceil(ru/rr)),Ux=Math.min(Kn,(sn+ru)/rr);for(let Sd=0;Sd<ln;++Sd){const Q1=Sd-xi,eg=Math.max(0,Math.ceil(Q1/pr)),KA=Math.min(jn,(Zt+Q1)/pr);let iy=0;for(let Yx=nu;Yx<Vo;++Yx){const RC=Yx*nr-Bu;for(let BC=vl;BC<Ux;++BC){const $C=BC*rr-ru;for(let eV=eg;eV<KA;++eV){const r_e=ke*Zi+Ee*Yx+He*BC+at*eV,oIe=ct*(un-1-RC)+It*(sn-1-$C)+At*(Zt-1-(eV*pr-Q1))+Ht*Ms;for(let HJ=0;HJ<Mn;++HJ)iy+=fe[r_e+HJ]*it[oIe+HJ]}}}z[X*Zi+Q*ro+ne*zo+pe*Sd+Ms]=iy}}}return t.makeTensorInfo(L.shape,L.dtype,L.values)}},Qoe=Ma(w.Cos,n=>Math.cos(n)),qoe={kernelName:w.Cos,backendName:"cpu",kernelFunc:Qoe},_O=Ma(w.Cosh,n=>Math.cosh(n)),yO={kernelName:w.Cosh,backendName:"cpu",kernelFunc:_O},mY={kernelName:w.CropAndResize,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{image:o,boxes:c,boxInd:f}=r,{cropSize:m,method:_,extrapolationValue:x}=s,[E,T,L,z]=o.shape,X=c.shape[0],[Q,ne]=m,pe=(0,w.buffer)([X,Q,ne,z],"float32"),fe=t.data.get(c.dataId).values,ke=t.data.get(f.dataId).values,Ee=t.data.get(o.dataId).values,He=w.util.computeStrides(o.shape),at=w.util.computeStrides(pe.shape);for(let it=0;it<X;it++){const ct=4*it,It=fe[ct],At=fe[ct+1],Ht=fe[ct+2],tn=fe[ct+3],un=ke[it];if(un>=E)continue;const sn=Q>1?(Ht-It)*(T-1)/(Q-1):0,Zt=ne>1?(tn-At)*(L-1)/(ne-1):0;for(let Ut=0;Ut<Q;Ut++){const Jt=Q>1?It*(T-1)+Ut*sn:.5*(It+Ht)*(T-1);if(Jt<0||Jt>T-1)for(let Qt=0;Qt<ne;Qt++)for(let ln=0;ln<z;ln++)pe.values[ln+Qt*at[2]+Ut*at[1]+it*at[0]]=x;else if("bilinear"===_){const Qt=Math.floor(Jt),ln=Math.ceil(Jt),Mn=Jt-Qt;for(let Pn=0;Pn<ne;Pn++){const Kn=ne>1?At*(L-1)+Pn*Zt:.5*(At+tn)*(L-1);if(Kn<0||Kn>L-1){for(let pr=0;pr<z;pr++)pe.values[pr+Pn*at[2]+Ut*at[1]+it*at[0]]=x;continue}const jn=Math.floor(Kn),nr=Math.ceil(Kn),rr=Kn-jn;for(let pr=0;pr<z;pr++){let Or=pr+jn*He[2]+Qt*He[1]+un*He[0];const _i=Ee[Or];Or=pr+nr*He[2]+Qt*He[1]+un*He[0];const xi=Ee[Or];Or=pr+jn*He[2]+ln*He[1]+un*He[0];const Zi=Ee[Or];Or=pr+nr*He[2]+ln*He[1]+un*He[0];const Ms=Ee[Or],ro=_i+(xi-_i)*rr;Or=pr+Pn*at[2]+Ut*at[1]+it*at[0],pe.values[Or]=ro+(Zi+(Ms-Zi)*rr-ro)*Mn}}}else for(let Qt=0;Qt<ne;++Qt){const ln=ne>1?At*(L-1)+Qt*Zt:.5*(At+tn)*(L-1);if(ln<0||ln>L-1){for(let Kn=0;Kn<z;Kn++)pe.values[Kn+Qt*at[2]+Ut*at[1]+it*at[0]]=x;continue}const Mn=Math.round(ln),Pn=Math.round(Jt);for(let Kn=0;Kn<z;Kn++)pe.values[Kn+Qt*at[2]+Ut*at[1]+it*at[0]]=Ee[Kn+Mn*He[2]+Pn*He[1]+un*He[0]]}}}return t.makeTensorInfo(pe.shape,pe.dtype,pe.values)}},gY={kernelName:w.Cumsum,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,exclusive:f,reverse:m}=s;Nr(o,"cumsum");const _=w.backend_util.getAxesPermutation([c],o.shape.length);let x=o;null!=_&&(x=Wh({inputs:{x:o},backend:t,attrs:{perm:_}}));const E=w.backend_util.getInnerMostAxes(1,o.shape.length)[0];if(E!==x.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${x.shape.length-1} but got axis=${E}`);const T=(0,w.upcastType)(x.dtype,"int32"),L=w.util.makeZerosTypedArray(w.util.sizeFromShape(x.shape),T),z=t.data.get(x.dataId).values,X=x.shape[x.shape.length-1],Q=m?(pe,fe)=>pe+X-fe-1:(pe,fe)=>pe+fe;for(let pe=0;pe<z.length;pe+=X)for(let fe=0;fe<X;fe++){const ke=Q(pe,fe);if(0===fe)L[ke]=f?0:z[ke];else{const Ee=Q(pe,fe-1);L[ke]=f?z[Ee]+L[Ee]:z[ke]+L[Ee]}}const ne=t.makeTensorInfo(x.shape,T,L);if(null!=_){const fe=Wh({inputs:{x:ne},backend:t,attrs:{perm:w.backend_util.getUndoAxesPermutation(_)}});return t.disposeIntermediateTensorInfo(ne),t.disposeIntermediateTensorInfo(x),fe}return ne}},nue={kernelName:w.DenseBincount,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,weights:c}=r,{size:f,binaryOutput:m}=s;if(1===o.shape.length){const E=J4(t.data.get(o.dataId).values,t.data.get(c.dataId).values,c.dtype,c.shape,f);return t.makeTensorInfo([f],c.dtype,E)}if(2===o.shape.length){const E=Q4(t.bufferSync(o),t.bufferSync(c),f,m);return t.makeTensorInfo(E.shape,c.dtype,E.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}},iue={kernelName:w.DepthToSpace,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{blockSize:c,dataFormat:f}=s;w.util.assert("NHWC"===f,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${f}`);const m=o.shape[0],_=o.shape[1],x=o.shape[2],E=o.shape[3],T=_*c,L=x*c,z=E/(c*c),X=t.data.get(o.dataId).values,Q=new Float32Array(m*T*L*z);let ne=0;for(let pe=0;pe<m;++pe)for(let fe=0;fe<T;++fe){const ke=Math.floor(fe/c),Ee=fe%c;for(let He=0;He<L;++He){const at=Math.floor(He/c),ct=(Ee*c+He%c)*z;for(let It=0;It<z;++It)Q[ne++]=X[It+ct+E*(at+x*(ke+_*pe))]}}return t.makeTensorInfo([m,T,L,z],o.dtype,Q)}};function t5(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dilations:_,dimRoundingMode:x}=s;Nr([o,c],"depthwiseConv2DNative");const E=w.util.computeStrides(o.shape),T=w.util.computeStrides(c.shape);let L=_;null==L&&(L=[1,1]),w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(f,L),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${L}'`);const z=w.backend_util.computeConv2DInfo(o.shape,c.shape,f,L,m,x,!0),{filterHeight:X,filterWidth:Q,dilationHeight:ne,dilationWidth:pe,padInfo:fe}=z,ke=fe.left,Ee=fe.top,He=z.outChannels/z.inChannels,at=new w.TensorBuffer(z.outShape,o.dtype),it=t.data.get(o.dataId).values,ct=t.data.get(c.dataId).values,It=at.values;for(let At=0;At<z.batchSize;++At){const Ht=At*E[0],tn=At*at.strides[0];for(let un=0;un<z.outHeight;++un){const sn=tn+un*at.strides[1],Zt=un*z.strideHeight-Ee;for(let Ut=0;Ut<X;++Ut){const Jt=Zt+Ut*ne;if(Jt<0||Jt>=z.inHeight)continue;const Qt=Ut*T[0],ln=Ht+Jt*E[1];for(let Mn=0;Mn<z.outWidth;++Mn){const Pn=sn+Mn*at.strides[2],Kn=Mn*z.strideWidth-ke;for(let jn=0;jn<Q;++jn){const nr=Kn+jn*pe;if(nr<0||nr>=z.inWidth)continue;const pr=ln+nr*z.inChannels;let Or=Pn,_i=Qt+jn*T[1];for(let xi=0;xi<z.inChannels;++xi){const Zi=it[pr+xi];for(let Ms=0;Ms<He;++Ms)It[Or+Ms]+=Zi*ct[_i+Ms];Or+=He,_i+=He}}}}}}return t.makeTensorInfo(at.shape,at.dtype,at.values)}const _Y={kernelName:w.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:t5},sue={kernelName:w.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,dy:c}=r,{strides:f,dilations:m,pad:_,dimRoundingMode:x,filterShape:E}=s;Nr([o,c],"depthwiseConv2dNativeBackpropFilter");const T=w.backend_util.computeConv2DInfo(o.shape,E,f,m,_,x,!0),{strideHeight:L,strideWidth:z,filterHeight:X,filterWidth:Q}=T,ne=new w.TensorBuffer(T.filterShape,"float32"),pe=T.padInfo.left,fe=T.padInfo.top,ke=T.outChannels/T.inChannels,Ee=t.data.get(o.dataId).values,He=new w.TensorBuffer(o.shape,o.dtype,Ee),at=t.data.get(c.dataId).values,it=new w.TensorBuffer(c.shape,c.dtype,at);for(let ct=0;ct<X;++ct){const It=Math.max(0,Math.ceil((fe-ct)/L)),At=Math.min(T.outHeight,(T.inHeight+fe-ct)/L);for(let Ht=0;Ht<Q;++Ht){const tn=Math.max(0,Math.ceil((pe-Ht)/z)),un=Math.min(T.outWidth,(T.inWidth+pe-Ht)/z);for(let sn=0;sn<T.outChannels;++sn){const Zt=Math.trunc(sn/ke),Ut=sn%ke;let Jt=0;for(let Qt=0;Qt<T.batchSize;++Qt)for(let ln=It;ln<At;++ln){const Mn=ct+ln*L-fe;for(let Pn=tn;Pn<un;++Pn)Jt+=He.get(Qt,Mn,Ht+Pn*z-pe,Zt)*it.get(Qt,ln,Pn,sn)}ne.set(Jt,ct,Ht,Zt,Ut)}}}return t.makeTensorInfo(ne.shape,ne.dtype,ne.values)}},yY={kernelName:w.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,filter:c}=r,{strides:f,dilations:m,pad:_,dimRoundingMode:x,inputShape:E}=s;Nr([o,c],"depthwiseConv2DNativeBackpropInput");const T=w.util.computeStrides(o.shape),L=w.util.computeStrides(c.shape),z=w.backend_util.computeConv2DInfo(E,c.shape,f,m,_,x,!0),X=new w.TensorBuffer(z.inShape,"float32"),Q=X.values,[ne,pe,fe]=X.strides,ke=t.data.get(o.dataId).values,[Ee,He,at]=T,it=t.data.get(c.dataId).values,[ct,It,At]=L,{batchSize:Ht,filterHeight:tn,filterWidth:un,inChannels:sn,inHeight:Zt,inWidth:Ut,outChannels:Jt,outHeight:Qt,outWidth:ln,strideHeight:Mn,strideWidth:Pn}=z,Kn=tn-1-z.padInfo.top,jn=un-1-z.padInfo.left,nr=Jt/sn;for(let rr=0;rr<Ht;++rr)for(let pr=0;pr<sn;++pr)for(let Or=0;Or<Zt;++Or){const _i=Or-Kn,xi=Math.max(0,Math.ceil(_i/Mn)),Zi=Math.min(Qt,(tn+_i)/Mn);for(let Ms=0;Ms<Ut;++Ms){const ro=Ms-jn,Bu=Math.max(0,Math.ceil(ro/Pn)),nu=Math.min(ln,(un+ro)/Pn);let Vo=0;for(let zo=xi;zo<Zi;++zo){const ru=zo*Mn-_i;for(let vl=Bu;vl<nu;++vl){const Sd=Ee*rr+He*zo+at*vl,Q1=ct*(tn-1-ru)+It*(un-1-(vl*Pn-ro))+At*pr;for(let eg=0;eg<nr;++eg)Vo+=ke[Sd+(pr*nr+eg)]*it[Q1+eg]}}Q[ne*rr+pe*Or+fe*Ms+pr]=Vo}}return t.makeTensorInfo(X.shape,X.dtype,X.values)}},aue={kernelName:w.Diag,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s}=r,o=w.util.sizeFromShape(s.shape),c=t.data.get(s.dataId).values,f=(0,w.buffer)([o,o],s.dtype),m=f.values;for(let x=0;x<c.length;x++)m[x*o+x]=c[x];const _=[...s.shape,...s.shape];return t.makeTensorInfo(_,f.dtype,f.values)}},oue={kernelName:w.Dilation2D,backendName:"cpu",kernelFunc:({inputs:n,backend:r,attrs:t})=>{const{x:s,filter:o}=n,{strides:c,pad:f,dilations:m}=t,_=r,x=_.data.get(s.dataId).values,E=s.shape.length,T=_.data.get(o.dataId).values,L=o.shape.length,{batchSize:z,inHeight:X,inWidth:Q,inChannels:ne,outHeight:pe,outWidth:fe,padInfo:ke,strideHeight:Ee,strideWidth:He,filterHeight:at,filterWidth:it,dilationHeight:ct,dilationWidth:It,outShape:At}=w.backend_util.computeDilation2DInfo(s.shape,o.shape,c,f,"NHWC",m),Ht=w.util.sizeFromShape(At),tn=At.length,un=w.util.getArrayFromDType(s.dtype,Ht);for(let Zt=0;Zt<z;++Zt)for(let Ut=0;Ut<pe;++Ut){const Jt=Ut*Ee-ke.top;for(let Qt=0;Qt<fe;++Qt){const ln=Qt*He-ke.left;for(let Mn=0;Mn<ne;++Mn){let Pn=Number.MIN_SAFE_INTEGER;for(let jn=0;jn<at;++jn){const nr=Jt+jn*ct;if(nr>=0&&nr<X)for(let rr=0;rr<it;++rr){const pr=ln+rr*It;if(pr>=0&&pr<Q){const Or=w.util.locToIndex([Zt,nr,pr,Mn],E,w.util.computeStrides(s.shape)),_i=w.util.locToIndex([jn,rr,Mn],L,w.util.computeStrides(o.shape)),xi=x[Or]+T[_i];xi>Pn&&(Pn=xi)}}}un[w.util.locToIndex([Zt,Ut,Qt,Mn],tn,w.util.computeStrides(At))]=Pn}}}return{dataId:_.write(w.util.toTypedArray(un,s.dtype),At,s.dtype),shape:At,dtype:s.dtype}}},uue={kernelName:w.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:({inputs:n,backend:r,attrs:t})=>{const{x:s,filter:o,dy:c}=n,{strides:f,pad:m,dilations:_}=t,x=r,E=w.util.toNestedArray(s.shape,x.data.get(s.dataId).values),T=w.util.toNestedArray(o.shape,x.data.get(o.dataId).values),{batchSize:L,inHeight:z,inWidth:X,inChannels:Q,outHeight:ne,outWidth:pe,padInfo:fe,strideHeight:ke,strideWidth:Ee,filterHeight:He,filterWidth:at,dilationHeight:it,dilationWidth:ct,outShape:It}=w.backend_util.computeDilation2DInfo(s.shape,o.shape,f,m,"NHWC",_);w.util.assert(c.rank===It.length,()=>`Error in ${w.Dilation2DBackpropFilter}, dy must have the same rank as output ${It.length}, but got ${c.rank}`);const At=w.util.toNestedArray(It,x.data.get(c.dataId).values),Ht=w.util.makeZerosNestedTypedArray(o.shape,o.dtype);for(let un=0;un<L;++un)for(let sn=0;sn<ne;++sn){const Zt=sn*ke-fe.top;for(let Ut=0;Ut<pe;++Ut){const Jt=Ut*Ee-fe.left;for(let Qt=0;Qt<Q;++Qt){let ln=Number.MIN_SAFE_INTEGER,Mn=0,Pn=0;for(let Kn=0;Kn<He;++Kn){const jn=Zt+Kn*it;if(jn>=0&&jn<z)for(let nr=0;nr<at;++nr){const rr=Jt+nr*ct;if(rr>=0&&rr<X){const pr=E[un][jn][rr][Qt]+T[Kn][nr][Qt];pr>ln&&(ln=pr,Mn=Kn,Pn=nr)}}}Ht[Mn][Pn][Qt]+=At[un][sn][Ut][Qt]}}}return{dataId:x.write(w.util.toTypedArray(Ht,s.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},lue={kernelName:w.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:({inputs:n,backend:r,attrs:t})=>{const{x:s,filter:o,dy:c}=n,{strides:f,pad:m,dilations:_}=t,x=r,E=w.util.toNestedArray(s.shape,x.data.get(s.dataId).values),T=w.util.toNestedArray(o.shape,x.data.get(o.dataId).values),{batchSize:L,inHeight:z,inWidth:X,inChannels:Q,outHeight:ne,outWidth:pe,padInfo:fe,strideHeight:ke,strideWidth:Ee,filterHeight:He,filterWidth:at,dilationHeight:it,dilationWidth:ct,outShape:It}=w.backend_util.computeDilation2DInfo(s.shape,o.shape,f,m,"NHWC",_);w.util.assert(c.rank===It.length,()=>`Error in ${w.Dilation2DBackpropInput}, dy must have the same rank as output ${It.length}, but got ${c.rank}`);const At=w.util.toNestedArray(It,x.data.get(c.dataId).values),Ht=w.util.makeZerosNestedTypedArray(s.shape,s.dtype);for(let un=0;un<L;++un)for(let sn=0;sn<ne;++sn){const Zt=sn*ke-fe.top;for(let Ut=0;Ut<pe;++Ut){const Jt=Ut*Ee-fe.left;for(let Qt=0;Qt<Q;++Qt){let ln=Number.MIN_SAFE_INTEGER,Mn=Zt<0?0:Zt,Pn=Jt<0?0:Jt;for(let Kn=0;Kn<He;++Kn){const jn=Zt+Kn*it;if(jn>=0&&jn<z)for(let nr=0;nr<at;++nr){const rr=Jt+nr*ct;if(rr>=0&&rr<X){const pr=E[un][jn][rr][Qt]+T[Kn][nr][Qt];pr>ln&&(ln=pr,Mn=jn,Pn=rr)}}}Ht[un][Mn][Pn][Qt]+=At[un][sn][Ut][Qt]}}}return{dataId:x.write(w.util.toTypedArray(Ht,s.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},r5=Gu((n,r)=>n*r),cue=j4((n,r,t,s)=>({real:n*t-r*s,imag:n*s+r*t})),vO=yu(w.Multiply,r5,cue),due={kernelName:w.Multiply,backendName:"cpu",kernelFunc:vO};function gS(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s;let m;Nr(o,"sum"),m="bool"===o.dtype?jf({inputs:{x:o},backend:t,attrs:{dtype:"int32"}}):t0({inputs:{x:o},backend:t});const _=m.shape.length,x=w.util.parseAxisParam(c,m.shape),E=w.backend_util.getAxesPermutation(x,_);let T=x,L=m;null!=E&&(L=Wh({inputs:{x:m},backend:t,attrs:{perm:E}}),T=w.backend_util.getInnerMostAxes(T.length,_)),w.backend_util.assertAxesAreInnerMostDims("sum",T,L.shape.length);const[z,X]=w.backend_util.computeOutAndReduceShapes(L.shape,T);let ne=n0(t,z,w.backend_util.upcastType(L.dtype,"int32"));const pe=w.util.sizeFromShape(X),fe=t.data.get(ne.dataId).values,ke=t.data.get(L.dataId).values;for(let Ee=0;Ee<fe.length;++Ee){const He=Ee*pe;let at=0;for(let it=0;it<pe;++it)at+=ke[He+it];fe[Ee]=at}if(f){const He=ne;ne=wo({inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(ne.shape,x)}}),t.disposeIntermediateTensorInfo(He)}return t.disposeIntermediateTensorInfo(m),null!=E&&t.disposeIntermediateTensorInfo(L),ne}const fue={kernelName:w.Sum,backendName:"cpu",kernelFunc:gS},pue={kernelName:w.Einsum,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{equation:o}=s,c=r,{allDims:f,summedDims:m,idDims:_}=w.backend_util.decodeEinsumEquation(o,c.length);w.backend_util.checkEinsumDimSizes(f.length,_,c);const{path:x,steps:E}=w.backend_util.getEinsumComputePath(m,_),T=E.length;let L=null,z=f.length;const X=[];for(let Q=0;Q<T;++Q){for(const ne of E[Q]){const{permutationIndices:pe,expandDims:fe}=w.backend_util.getEinsumPermutation(z,_[ne]);let ke;w.backend_util.isIdentityPermutation(pe)?ke=c[ne]:(ke=Wh({inputs:{x:c[ne]},backend:t,attrs:{perm:pe}}),X.push(ke));const Ee=ke.shape.slice();for(let He=0;He<fe.length;++He)Ee.splice(fe[He],0,1);w.util.arraysEqual(ke.shape,Ee)||(ke=wo({inputs:{x:ke},backend:t,attrs:{shape:Ee}}),X.push(ke)),null===L?L=ke:(L=vO({inputs:{a:ke,b:L},backend:t}),X.push(L))}Q<T-1&&(x[Q]>=0&&(L=gS({inputs:{x:L},backend:t,attrs:{axis:x[Q]-(f.length-z),keepDims:!1}}),X.push(L)),z--)}for(const Q of X)Q!==L&&t.disposeIntermediateTensorInfo(Q);return L}},gue={kernelName:w.EluGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{dy:s,y:o}=r;Nr([s,o],"eluGrad");const c=new Float32Array(w.util.sizeFromShape(o.shape)),f=t.data.get(o.dataId).values,m=t.data.get(s.dataId).values;for(let _=0;_<f.length;++_){const x=f[_];c[_]=x>=1?m[_]:m[_]*(x+1)}return t.makeTensorInfo(o.shape,"float32",c)}},vY=Gu((n,r)=>n===r?1:0),bY=yu(w.Equal,vY,null,"bool"),_ue={kernelName:w.Equal,backendName:"cpu",kernelFunc:bY},yue=w.backend_util.ERF_P,vue=w.backend_util.ERF_A1,bue=w.backend_util.ERF_A2,xue=w.backend_util.ERF_A3,Due=w.backend_util.ERF_A4,Qw=w.backend_util.ERF_A5,bbe=Ma(w.Erf,n=>{const r=Math.sign(n),t=Math.abs(n),s=1/(1+yue*t);return r*(1-((((Qw*s+Due)*s+xue)*s+bue)*s+vue)*s*Math.exp(-t*t))}),xbe={kernelName:w.Erf,backendName:"cpu",kernelFunc:bbe},xY=$c(n=>Math.exp(n)),DY=Xw(w.Exp,xY,"float32"),wue={kernelName:w.Exp,backendName:"cpu",kernelFunc:DY};function qw(n){const{inputs:r,backend:t,attrs:s}=n,{input:o}=r,{dim:c}=s,f=o.shape.length,m=o.shape.slice();let _=c;return c<0&&(w.util.assert(-(f+1)<=c,()=>`Axis must be in the interval [${-(f+1)}, ${f}]`),_=f+c+1),m.splice(_,0,1),wo({inputs:{x:o},backend:t,attrs:{shape:m}})}const tx={kernelName:w.ExpandDims,backendName:"cpu",kernelFunc:qw},wY=$c(n=>Math.expm1(n)),_S=Xw(w.Expm1,wY),Dbe={kernelName:w.Expm1,backendName:"cpu",kernelFunc:_S},Cue=Gu((n,r)=>n/r),CY=yu(w.RealDiv,Cue),EY={kernelName:w.RealDiv,backendName:"cpu",kernelFunc:CY},Eue=Gu((n,r)=>n-r),wbe=j4((n,r,t,s)=>({real:n-t,imag:r-s})),eC=yu(w.Sub,Eue,wbe),Mue={kernelName:w.Sub,backendName:"cpu",kernelFunc:eC};function MY(n,r,t){const s=n.shape,o=s[0],c=s[1],f=t.data.get(n.dataId),m=f.complexTensorInfos.real,_=f.complexTensorInfos.imag,x=[o,c],E=w.util.sizeFromShape(x),T=w.util.getTypedArrayFromDType("float32",E),L=w.util.getTypedArrayFromDType("float32",E);for(let ne=0;ne<o;ne++){const pe=Qb({inputs:{x:m},backend:t,attrs:{begin:[ne,0],size:[1,c]}}),fe=Qb({inputs:{x:_},backend:t,attrs:{begin:[ne,0],size:[1,c]}}),ke=Vc({inputs:{real:pe,imag:fe},backend:t}),{real:Ee,imag:He}=SY(ke,r,t),at=w.backend_util.mergeRealAndImagArrays(Ee,He);for(let it=0;it<c;it++){const ct=w.backend_util.getComplexWithIndex(at,it);T[ne*c+it]=ct.real,L[ne*c+it]=ct.imag}t.disposeIntermediateTensorInfo(pe),t.disposeIntermediateTensorInfo(fe),t.disposeIntermediateTensorInfo(ke)}const z=t.makeTensorInfo(x,"float32",T),X=t.makeTensorInfo(x,"float32",L),Q=Vc({inputs:{real:z,imag:X},backend:t});return t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(X),Q}function SY(n,r,t){const s=w.util.sizeFromShape(n.shape),o=t.data.get(n.dataId),c=t.data.get(o.complexTensorInfos.real.dataId).values,f=t.data.get(o.complexTensorInfos.imag.dataId).values;if(function(n){return 0==(n&n-1)}(s)){const m=i5(c,f,s,r,t),_=[n.shape[0],n.shape[1]];if(r){const x=t.makeTensorInfo(_,"float32",m.real),E=t.makeTensorInfo(_,"float32",m.imag),T=t.makeTensorInfo([],"float32",w.util.createScalarValue(s,"float32")),L=t0({inputs:{x:T},backend:t}),z=EY.kernelFunc({inputs:{a:x,b:T},backend:t}),X=EY.kernelFunc({inputs:{a:E,b:L},backend:t}),Q=t.data.get(z.dataId).values,ne=t.data.get(X.dataId).values;return t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(E),t.disposeIntermediateTensorInfo(T),t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(X),{real:Q,imag:ne}}return m}{const _=function(n,r,t){const s=new Float32Array(2*r);for(let o=0;o<r;o++){let c=0,f=0;for(let m=0;m<r;m++){const _=w.backend_util.exponent(o*m,r,t),x=w.backend_util.getComplexWithIndex(n,m);c+=x.real*_.real-x.imag*_.imag,f+=x.real*_.imag+x.imag*_.real}t&&(c/=r,f/=r),w.backend_util.assignToTypedArray(s,c,f,o)}return s}(w.backend_util.mergeRealAndImagArrays(c,f),s,r);return w.backend_util.splitRealAndImagArrays(_)}}function i5(n,r,t,s,o){if(1===t)return{real:n,imag:r};const c=w.backend_util.mergeRealAndImagArrays(n,r),f=t/2,m=w.backend_util.complexWithEvenIndex(c),_=m.real,x=m.imag,E=[_.length],T=o.makeTensorInfo(E,"float32",_),L=o.makeTensorInfo(E,"float32",x),z=Vc({inputs:{real:T,imag:L},backend:o}),X=w.backend_util.complexWithOddIndex(c),Q=X.real,ne=X.imag,pe=[Q.length],fe=o.makeTensorInfo(pe,"float32",Q),ke=o.makeTensorInfo(pe,"float32",ne),Ee=Vc({inputs:{real:fe,imag:ke},backend:o}),He=i5(_,x,f,s,o),at=He.real,it=He.imag,ct=[at.length],It=o.makeTensorInfo(ct,"float32",at),At=o.makeTensorInfo(ct,"float32",it),Ht=Vc({inputs:{real:It,imag:At},backend:o}),tn=i5(Q,ne,f,s,o),un=tn.real,sn=tn.imag,Zt=[un.length],Ut=o.makeTensorInfo(Zt,"float32",un),Jt=o.makeTensorInfo(Zt,"float32",sn),Qt=Vc({inputs:{real:Ut,imag:Jt},backend:o}),ln=w.backend_util.exponents(t,s),Mn=[ln.real.length],Pn=o.makeTensorInfo(Mn,"float32",ln.real),Kn=o.makeTensorInfo(Mn,"float32",ln.imag),jn=Vc({inputs:{real:Pn,imag:Kn},backend:o}),nr=vO({inputs:{a:jn,b:Qt},backend:o}),rr=lS({inputs:{a:Ht,b:nr},backend:o}),pr=eC({inputs:{a:Ht,b:nr},backend:o}),Or=zf({inputs:{input:rr},backend:o}),_i=zf({inputs:{input:pr},backend:o}),xi=Zw({inputs:{input:rr},backend:o}),Zi=Zw({inputs:{input:pr},backend:o}),Ms=Jw({inputs:[Or,_i],backend:o,attrs:{axis:0}}),ro=Jw({inputs:[xi,Zi],backend:o,attrs:{axis:0}}),Bu=o.data.get(Ms.dataId).values,nu=o.data.get(ro.dataId).values;return o.disposeIntermediateTensorInfo(T),o.disposeIntermediateTensorInfo(L),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(fe),o.disposeIntermediateTensorInfo(ke),o.disposeIntermediateTensorInfo(Ee),o.disposeIntermediateTensorInfo(It),o.disposeIntermediateTensorInfo(At),o.disposeIntermediateTensorInfo(Ht),o.disposeIntermediateTensorInfo(Ut),o.disposeIntermediateTensorInfo(Jt),o.disposeIntermediateTensorInfo(Qt),o.disposeIntermediateTensorInfo(Pn),o.disposeIntermediateTensorInfo(Kn),o.disposeIntermediateTensorInfo(jn),o.disposeIntermediateTensorInfo(nr),o.disposeIntermediateTensorInfo(rr),o.disposeIntermediateTensorInfo(pr),o.disposeIntermediateTensorInfo(Or),o.disposeIntermediateTensorInfo(xi),o.disposeIntermediateTensorInfo(_i),o.disposeIntermediateTensorInfo(Zi),o.disposeIntermediateTensorInfo(Ms),o.disposeIntermediateTensorInfo(ro),{real:Bu,imag:nu}}const tc={kernelName:w.FFT,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{input:s}=r,o=w.util.sizeFromShape(s.shape),c=s.shape[s.shape.length-1],m=wo({inputs:{x:s},backend:t,attrs:{shape:[o/c,c]}}),_=MY(m,!1,t),x=wo({inputs:{x:_},backend:t,attrs:{shape:s.shape}});return t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(_),x}};function bO(n){const{backend:r,attrs:t}=n,{shape:s,value:o,dtype:c}=t,f=c||w.util.inferDtype(o),m=w.util.getArrayFromDType(f,w.util.sizeFromShape(s));return function(n,r,t){n.fill(r)}(m,o),r.makeTensorInfo(s,f,m)}const AY={kernelName:w.Fill,backendName:"cpu",kernelFunc:bO},Tue={kernelName:w.FlipLeftRight,backendName:"cpu",kernelFunc:({inputs:n,backend:t})=>{const{image:s}=n,o=t,c=w.util.getTypedArrayFromDType(s.dtype,w.util.sizeFromShape(s.shape)),[f,m,_,x]=s.shape,E=o.data.get(s.dataId).values;for(let L=0;L<f;L++){const z=L*_*m*x;for(let X=0;X<m;X++){const Q=X*(_*x);for(let ne=0;ne<_;ne++){const pe=ne*x;for(let fe=0;fe<x;fe++){const ke=Math.round(_-ne-1),Ee=z+Q+pe+fe;let He=E[Ee];ke>=0&&ke<_&&(He=E[z+Q+ke*x+fe]),c[Ee]=He}}}}return{dataId:o.write(c,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},a5=$c(n=>Math.floor(n)),TY=Xw(w.Floor,a5),kY={kernelName:w.Floor,backendName:"cpu",kernelFunc:TY},IY=Gu((n,r)=>Math.floor(n/r)),xO=yu(w.FloorDiv,IY,null,"int32"),DO={kernelName:w.FloorDiv,backendName:"cpu",kernelFunc:xO},Ebe={kernelName:w.FusedConv2D,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c,bias:f,preluActivationWeights:m}=r,{strides:_,pad:x,dataFormat:E,dilations:T,dimRoundingMode:L,activation:z,leakyreluAlpha:X}=s;let Q=dY({inputs:{x:o,filter:c},backend:t,attrs:{strides:_,pad:x,dataFormat:E,dilations:T,dimRoundingMode:L}});if(f){const ne=Q;Q=lS({inputs:{a:Q,b:f},backend:t}),t.disposeIntermediateTensorInfo(ne)}if(z){const ne=Q;Q=ba(t,Q,z,m,X),t.disposeIntermediateTensorInfo(ne)}return Q}},Sbe={kernelName:w.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c,bias:f,preluActivationWeights:m}=r,{strides:_,pad:x,dataFormat:E,dilations:T,dimRoundingMode:L,activation:z,leakyreluAlpha:X}=s;let Q=t5({inputs:{x:o,filter:c},backend:t,attrs:{strides:_,pad:x,dataFormat:E,dilations:T,dimRoundingMode:L}});if(f){const ne=Q;Q=lS({inputs:{a:Q,b:f},backend:t}),t.disposeIntermediateTensorInfo(ne)}if(z){const ne=Q;Q=ba(t,Q,z,m,X),t.disposeIntermediateTensorInfo(ne)}return Q}};function yS(n,r,t,s,o,c,f,m,_){const x=(0,w.buffer)([s,c],t);for(let E=0;E<s;E++){const T=[];let L=0;for(let z=0;z<o;z++){const X=n[E*o+z];L+=X*f[z],T.push(X)}if(L<0||L>=_/c)throw new Error(`Invalid indices: ${T} does not index into ${m}`);for(let z=0;z<c;z++)x.values[E*c+z]=r.get(...r.indexToLoc(L*c+z))}return x}const Tbe={kernelName:w.GatherNd,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{params:s,indices:o}=r,c=w.util.sizeFromShape(s.shape),f=o.shape,m=f[f.length-1],[_,x,E,T]=w.backend_util.prepareAndValidate(s,o);if(0===x)return t.makeTensorInfo(_,s.dtype,[]);const X=yS(t.data.get(o.dataId).values,t.bufferSync(s),s.dtype,x,m,E,T,s.shape,c);return t.makeTensorInfo(_,s.dtype,X.values)}};function kue(n,r,t){const s=(0,w.buffer)(t,n.dtype);for(let o=0;o<s.size;++o){const f=s.indexToLoc(o).slice(),x=r.locToIndex([f[0],f[2]]);f[2]=r.values[x];const E=n.locToIndex(f);s.values[o]=n.values[E]}return s}const Ku={kernelName:w.GatherV2,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,indices:c}=r,{axis:f,batchDims:m}=s;Nr([o,c],"gatherV2");const _=w.util.parseAxisParam(f,o.shape)[0],x=t.data.get(c.dataId).values,E=o.shape[_];for(let Ee=0;Ee<x.length;++Ee){const He=x[Ee];w.util.assert(He<=E-1&&He>=0,()=>`GatherV2: the index value ${He} is not in [0, ${E-1}]`)}let T=m;null==m&&(T=0);const L=w.util.sizeFromShape(c.shape),z=w.backend_util.segment_util.collectGatherOpShapeInfo(o,c,_,T),X=wo({inputs:{x:o},backend:t,attrs:{shape:[z.batchSize,z.outerSize,z.dimSize,z.sliceSize]}}),Q=wo({inputs:{x:c},backend:t,attrs:{shape:[z.batchSize,L/z.batchSize]}}),ne=[z.batchSize,z.outerSize,L/z.batchSize,z.sliceSize],pe=t.bufferSync(Q),ke=kue(t.bufferSync(X),pe,ne);return t.disposeIntermediateTensorInfo(X),t.disposeIntermediateTensorInfo(Q),t.makeTensorInfo(z.outputShape,ke.dtype,ke.values)}},NY=Gu((n,r)=>n>r?1:0),Ibe=yu(w.Greater,NY,null,"bool"),OY={kernelName:w.Greater,backendName:"cpu",kernelFunc:Ibe},LY=Gu((n,r)=>n>=r?1:0),Iue=yu(w.GreaterEqual,LY,null,"bool"),Nue={kernelName:w.GreaterEqual,backendName:"cpu",kernelFunc:Iue},nx={kernelName:w.IFFT,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{input:s}=r,o=w.util.sizeFromShape(s.shape),c=s.shape[s.shape.length-1],m=wo({inputs:{x:s},backend:t,attrs:{shape:[o/c,c]}}),_=MY(m,!0,t),x=wo({inputs:{x:_},backend:t,attrs:{shape:s.shape}});return t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(_),x}},wO=Ma(w.IsFinite,n=>Number.isFinite(n)?1:0,"bool"),Nbe={kernelName:w.IsFinite,backendName:"cpu",kernelFunc:wO},vS=Ma(w.IsInf,n=>Math.abs(n)===1/0?1:0,"bool"),Lue={kernelName:w.IsInf,backendName:"cpu",kernelFunc:vS},hl=Ma(w.IsNan,n=>Number.isNaN(n)?1:0,"bool"),ps={kernelName:w.IsNan,backendName:"cpu",kernelFunc:hl},Fue=Gu((n,r)=>n<r?1:0),Pue=yu(w.Less,Fue,null,"bool"),Obe={kernelName:w.Less,backendName:"cpu",kernelFunc:Pue},Ns=Gu((n,r)=>n<=r?1:0),rx=yu(w.LessEqual,Ns,null,"bool"),o5={kernelName:w.LessEqual,backendName:"cpu",kernelFunc:rx};function Rue(n,r,t){const s=(r-n)/(t-1),o=w.util.makeZerosTypedArray(t,"float32");o[0]=n;for(let c=1;c<o.length;c++)o[c]=o[c-1]+s;return o}const ti={kernelName:w.LinSpace,backendName:"cpu",kernelFunc:function(n){const{backend:r,attrs:t}=n,{start:s,stop:o,num:c}=t,f=Rue(s,o,c);return r.makeTensorInfo([f.length],"float32",f)}},Bue=$c(n=>Math.log(n)),Lbe=Xw(w.Log,Bue),Fbe={kernelName:w.Log,backendName:"cpu",kernelFunc:Lbe},Pbe=Ma(w.Log1p,n=>Math.log1p(n)),Rbe={kernelName:w.Log1p,backendName:"cpu",kernelFunc:Pbe},PY=Gu((n,r)=>n&&r),Bbe=yu(w.LogicalAnd,PY,null,"bool"),RY={kernelName:w.LogicalAnd,backendName:"cpu",kernelFunc:Bbe},$ue=Ma(w.LogicalNot,n=>n?0:1,"bool"),$be={kernelName:w.LogicalNot,backendName:"cpu",kernelFunc:$ue},Vbe=Gu((n,r)=>n||r),CO=yu(w.LogicalOr,Vbe,null,"bool"),zbe={kernelName:w.LogicalOr,backendName:"cpu",kernelFunc:CO},Wbe={kernelName:w.LRN,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{depthRadius:c,bias:f,alpha:m,beta:_}=s;Nr(o,"LRN");const x=o.shape[3],E=x-1,T=t.data.get(o.dataId).values,L=w.util.sizeFromShape(o.shape),z=new Float32Array(L);function X(Q){const ne=Q%x;let pe=Q-ne+Math.max(0,ne-c);const fe=Q-ne+Math.min(ne+c,E);let ke=0;for(;pe<=fe;pe++){const Ee=T[pe];ke+=Ee*Ee}return ke}for(let Q=0;Q<L;Q++){const ne=X(Q),pe=T[Q]*Math.pow(f+m*ne,-_);z[Q]=pe}return t.makeTensorInfo(o.shape,o.dtype,z)}},Vue={kernelName:w.LRNGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,y:c,dy:f}=r,{depthRadius:m,bias:_,alpha:x,beta:E}=s;Nr(f,"LRNGrad");const T=w.util.sizeFromShape(f.shape),L=f.shape[3],z=t.data.get(f.dataId).values,X=t.data.get(o.dataId).values,Q=t.data.get(c.dataId).values,ne=new Float32Array(T),pe=T;for(let fe=0;fe<pe;fe++){const ke=fe%L,Ee=fe-ke+Math.max(0,ke-m),He=fe-ke+Math.min(L,ke+m+1);let at=0;for(let it=Ee;it<He;it++)at+=Math.pow(X[it],2);at=x*at+_;for(let it=Ee;it<He;it++){let ct=-2*x*E*X[it]*Q[fe]/at;fe===it&&(ct+=Math.pow(at,-E)),ct*=z[fe],ne[it]+=ct}}return t.makeTensorInfo(f.shape,o.dtype,ne)}};function zue(n,r,t,s){const o=w.util.getTypedArrayFromDType(s,w.util.sizeFromShape(t));for(let c=0;c<o.length;++c){const f=c*r;let m=n[f];for(let _=0;_<r;++_){const x=n[f+_];(Number.isNaN(x)||x>m)&&(m=x)}o[c]=m}return o}function jue(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{reductionIndices:c,keepDims:f}=s,m=t;let _=o.shape;const x=_.length,E=w.util.parseAxisParam(c,_);let T=E;const L=w.backend_util.getAxesPermutation(T,x);let z=m.data.get(o.dataId).values;if(null!=L){const Ee=new Array(x);for(let He=0;He<Ee.length;He++)Ee[He]=_[L[He]];z=fO(z,_,o.dtype,L,Ee),T=w.backend_util.getInnerMostAxes(T.length,x),_=Ee}Nr(o,"max"),w.backend_util.assertAxesAreInnerMostDims("max",T,x);const[X,Q]=w.backend_util.computeOutAndReduceShapes(_,T),pe=zue(z,w.util.sizeFromShape(Q),X,o.dtype),fe=m.write(pe,X,o.dtype);let ke=X;return f&&(ke=w.backend_util.expandShapeToKeepDim(X,E)),{dataId:fe,shape:ke,dtype:o.dtype}}const Ube={kernelName:w.Max,backendName:"cpu",kernelFunc:jue},Wue=Gu((n,r)=>Math.max(n,r)),Hue=yu(w.Maximum,Wue),Uue={kernelName:w.Maximum,backendName:"cpu",kernelFunc:Hue},Gue={kernelName:w.MaxPool,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r;Nr(o,"maxPool");const{filterSize:c,strides:f,pad:m,dimRoundingMode:_}=s;w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(f,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${f} and dilations '1'`);const E=w.backend_util.computePool2DInfo(o.shape,c,f,1,m,_);let T;if(1===E.filterWidth&&1===E.filterHeight&&w.util.arraysEqual(E.inShape,E.outShape))T=t0({inputs:{x:o},backend:t});else{const L=t.data.get(o.dataId).values,z=w.util.computeStrides(o.shape),X=K4(L,0,o.dtype,z,E,"max");T=t.makeTensorInfo(E.outShape,o.dtype,X.values)}return T}},bS={kernelName:w.MaxPool3D,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{filterSize:c,strides:f,pad:m,dimRoundingMode:_,dataFormat:x}=s;Nr(o,"maxPool3d");const E=w.backend_util.computePool3DInfo(o.shape,c,f,1,m,_,x),L=X4(t.data.get(o.dataId).values,0,o.dtype,w.util.computeStrides(o.shape),E,"max");return t.makeTensorInfo(L.shape,"float32",L.values)}},l5={kernelName:w.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c}=r,{filterSize:f,strides:m,pad:_,dimRoundingMode:x}=s;Nr([o,c],"maxPool3DGrad");const E=w.backend_util.computePool3DInfo(c.shape,f,m,1,_,x),L=function(n,r){const t=(0,w.buffer)(r.outShape,"int32"),s=r.strideDepth,o=r.strideHeight,c=r.strideWidth,f=r.dilationDepth,m=r.dilationHeight,_=r.dilationWidth,x=r.effectiveFilterDepth,E=r.effectiveFilterHeight,T=r.effectiveFilterWidth,L=r.padInfo.front,z=r.padInfo.top,X=r.padInfo.left;for(let Q=0;Q<r.batchSize;++Q)for(let ne=0;ne<r.inChannels;++ne)for(let pe=0;pe<r.outDepth;++pe){const fe=pe*s-L;let ke=fe;for(;ke<0;)ke+=f;const Ee=Math.min(r.inDepth,x+fe);for(let He=0;He<r.outHeight;++He){const at=He*o-z;let it=at;for(;it<0;)it+=m;const ct=Math.min(r.inHeight,E+at);for(let It=0;It<r.outWidth;++It){const At=It*c-X;let Ht=At;for(;Ht<0;)Ht+=_;const tn=Math.min(r.inWidth,T+At);let un=Number.NEGATIVE_INFINITY,sn=-1;for(let Zt=ke;Zt<Ee;Zt+=f){const Ut=Zt-fe;for(let Jt=it;Jt<ct;Jt+=m){const Qt=Jt-at;for(let ln=Ht;ln<tn;ln+=_){const Mn=ln-At,Pn=n.get(Q,Zt,Jt,ln,ne);Pn>=un&&(un=Pn,sn=Ut*E*T+Qt*E+Mn)}}}t.set(sn,Q,pe,He,It,ne)}}}return t}(t.bufferSync(c),E),z=E.strideDepth,X=E.strideHeight,Q=E.strideWidth,ne=E.dilationDepth,pe=E.dilationHeight,fe=E.dilationWidth,ke=E.effectiveFilterDepth,Ee=E.effectiveFilterHeight,He=E.effectiveFilterWidth,at=ke-1-E.padInfo.front,it=He-1-E.padInfo.left,ct=Ee-1-E.padInfo.top,It=(0,w.buffer)(c.shape,"float32"),At=t.bufferSync(o);for(let Ht=0;Ht<E.batchSize;++Ht)for(let tn=0;tn<E.inChannels;++tn)for(let un=0;un<E.inDepth;++un)for(let sn=0;sn<E.inHeight;++sn)for(let Zt=0;Zt<E.inWidth;++Zt){const Ut=un-at,Jt=sn-ct,Qt=Zt-it;let ln=0;for(let Mn=0;Mn<ke;Mn+=ne){const Pn=(Ut+Mn)/z;if(!(Pn<0||Pn>=E.outDepth||Math.floor(Pn)!==Pn))for(let Kn=0;Kn<Ee;Kn+=pe){const jn=(Jt+Kn)/X;if(!(jn<0||jn>=E.outHeight||Math.floor(jn)!==jn))for(let nr=0;nr<He;nr+=fe){const rr=(Qt+nr)/Q;if(rr<0||rr>=E.outWidth||Math.floor(rr)!==rr)continue;const _i=ke*Ee*He-1-L.get(Ht,Pn,jn,rr,tn)===Mn*Ee*He+Kn*He+nr?1:0;0!==_i&&(ln+=At.get(Ht,Pn,jn,rr,tn)*_i)}}}It.set(ln,Ht,un,sn,Zt,tn)}return t.makeTensorInfo(It.shape,It.dtype,It.values)}},EO={kernelName:w.MaxPoolGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c,output:f}=r,m=c;Nr([c,f],"maxPoolGrad");const{filterSize:_,strides:x,pad:E,dimRoundingMode:T}=s,L=w.backend_util.computePool2DInfo(m.shape,_,x,1,E,T),z=t.data.get(m.dataId).values,X=(0,w.buffer)(L.outShape,m.dtype,rY(z,m.shape,m.dtype,L).values),Q=L.strideHeight,ne=L.strideWidth,pe=L.dilationHeight,fe=L.dilationWidth,ke=L.effectiveFilterHeight,Ee=L.effectiveFilterWidth,He=Ee-1-L.padInfo.left,at=ke-1-L.padInfo.top,it=(0,w.buffer)(m.shape,"float32"),ct=t.data.get(o.dataId).values,It=(0,w.buffer)(o.shape,"float32",ct);for(let At=0;At<L.batchSize;++At)for(let Ht=0;Ht<L.inChannels;++Ht)for(let tn=0;tn<L.inHeight;++tn)for(let un=0;un<L.inWidth;++un){const sn=tn-at,Zt=un-He;let Ut=0;for(let Jt=0;Jt<ke;Jt+=pe){const Qt=(sn+Jt)/Q;if(!(Qt<0||Qt>=L.outHeight||Math.floor(Qt)!==Qt))for(let ln=0;ln<Ee;ln+=fe){const Mn=(Zt+ln)/ne;if(Mn<0||Mn>=L.outWidth||Math.floor(Mn)!==Mn)continue;const jn=ke*Ee-1-X.get(At,Qt,Mn,Ht)===Jt*Ee+ln?1:0;0!==jn&&(Ut+=It.get(At,Qt,Mn,Ht)*jn)}}it.set(Ut,At,tn,un,Ht)}return t.makeTensorInfo(it.shape,it.dtype,it.values)}},xS={kernelName:w.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:({inputs:n,attrs:r,backend:t})=>{const{x:s}=n,{filterSize:o,strides:c,pad:f,includeBatchInIndex:m}=r,_=t;Nr(s,"MaxPoolWithArgmax");const x=_.data.get(s.dataId).values,E=w.backend_util.computePool2DInfo(s.shape,o,c,[1,1],f),[T,L]=function(n,r,t,s,o){const f=K4(n,0,t,w.util.computeStrides(r),o,"max"),m=rY(n,r,t,o,!0,s);return[f.values,m.values]}(x,s.shape,s.dtype,m,E),z=_.write(T,E.outShape,s.dtype),X=_.write(L,E.outShape,s.dtype);return[{dataId:z,shape:E.outShape,dtype:s.dtype},{dataId:X,shape:E.outShape,dtype:"int32"}]}},DS={kernelName:w.Mean,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s,m=w.util.parseAxisParam(c,o.shape),x=w.backend_util.computeOutAndReduceShapes(o.shape,m)[1],E=w.util.sizeFromShape(x),T=[],L=t.makeTensorInfo([],"float32",new Float32Array([E]));T.push(L);const z=jf({inputs:{x:o},backend:t,attrs:{dtype:"float32"}});T.push(z);const X=CY({inputs:{a:z,b:L},backend:t});T.push(X);const Q=gS({inputs:{x:X},backend:t,attrs:{axis:c,keepDims:f}});return T.forEach(ne=>t.disposeIntermediateTensorInfo(ne)),Q}},qo={kernelName:w.Min,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s;Nr(o,"min");const m=w.util.parseAxisParam(c,o.shape);let _=m;const x=w.backend_util.getAxesPermutation(_,o.shape.length);let E=o;null!=x&&(E=Wh({inputs:{x:o},backend:t,attrs:{perm:x}}),_=w.backend_util.getInnerMostAxes(_.length,o.shape.length)),w.backend_util.assertAxesAreInnerMostDims("min",_,E.shape.length);const[T,L]=w.backend_util.computeOutAndReduceShapes(E.shape,_),z=w.util.sizeFromShape(L),X=w.util.makeZerosTypedArray(w.util.sizeFromShape(T),E.dtype),Q=t.data.get(E.dataId).values;for(let pe=0;pe<X.length;++pe){const fe=pe*z;let ke=Q[fe];for(let Ee=0;Ee<z;++Ee){const He=Q[fe+Ee];(Number.isNaN(He)||He<ke)&&(ke=He)}X[pe]=ke}null!=x&&t.disposeIntermediateTensorInfo(E);const ne=t.makeTensorInfo(T,E.dtype,X);if(f){const fe=wo({inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(T,m)}});return t.disposeIntermediateTensorInfo(ne),fe}return ne}},zs=Gu((n,r)=>Math.min(n,r)),BY=yu(w.Minimum,zs),fi={kernelName:w.Minimum,backendName:"cpu",kernelFunc:BY},$Y={kernelName:w.MirrorPad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{paddings:c,mode:f}=s;Nr(o,"mirrorPad");const m=c.map((ke,Ee)=>ke[0]+o.shape[Ee]+ke[1]),_=c.map(ke=>ke[0]),x=c.map((ke,Ee)=>ke[0]+o.shape[Ee]),E="reflect"===f?0:1,T=t.data.get(o.dataId).values,L=o.shape.length,z=w.util.computeStrides(o.shape),X=w.util.sizeFromShape(m),Q=m.length,ne=w.util.computeStrides(m),pe=w.util.getTypedArrayFromDType(o.dtype,X);for(let ke=0;ke<X;ke++){let Ee=w.util.indexToLoc(ke,Q,ne);for(let at=0;at<Q;at++)Ee[at]<_[at]?Ee[at]=2*_[at]-Ee[at]-E:Ee[at]>=x[at]&&(Ee[at]=2*(x[at]-1)-Ee[at]+E);Ee=Ee.map((at,it)=>at-_[it]);const He=w.util.locToIndex(Ee,L,z);pe[ke]=T[He]}return{dataId:t.write(pe,m,o.dtype),shape:m,dtype:o.dtype}}},Xue=Gu((n,r)=>{const t=n%r;return n<0&&r<0||n>=0&&r>=0?t:(t+r)%r}),Zue=yu(w.Mod,Xue),_1={kernelName:w.Mod,backendName:"cpu",kernelFunc:Zue};var Ybe=v(9692);function VY(n){const{inputs:r,backend:t,attrs:s}=n,{logits:o}=r,{dim:c}=s,f=o.shape.length;let m=c;if(-1===m&&(m=f-1),m!==f-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${f} and dim was ${m}`);const _=w.util.parseAxisParam([m],o.shape),x=jue({inputs:{x:o},backend:t,attrs:{reductionIndices:_,keepDims:!1}}),E=w.backend_util.expandShapeToKeepDim(x.shape,_),T=wo({inputs:{x},backend:t,attrs:{shape:E}}),L=eC({inputs:{a:o,b:T},backend:t}),z=DY({inputs:{x:L},backend:t}),X=gS({inputs:{x:z},backend:t,attrs:{axis:_,keepDims:!1}}),Q=wo({inputs:{x:X},backend:t,attrs:{shape:E}}),ne=CY({inputs:{a:z,b:Q},backend:t});return t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(T),t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(X),t.disposeIntermediateTensorInfo(Q),ne}const zY={kernelName:w.Softmax,backendName:"cpu",kernelFunc:VY},WY={kernelName:w.Multinomial,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{logits:o}=r,{numSamples:c,seed:f,normalized:m}=s;Nr(o,"multinomial");const _=m?o:VY({inputs:{logits:o},backend:t,attrs:{dim:-1}}),x=_.shape[0],E=_.shape[1],T=t.data.get(_.dataId).values,L=[x,c],z=w.util.makeZerosTypedArray(w.util.sizeFromShape(L),"int32");for(let X=0;X<x;++X){const Q=X*E,ne=new Float32Array(E-1);ne[0]=T[Q];for(let ke=1;ke<ne.length;++ke)ne[ke]=ne[ke-1]+T[Q+ke];const pe=Ybe.alea(f.toString()),fe=X*c;for(let ke=0;ke<c;++ke){const Ee=pe();z[fe+ke]=ne.length;for(let He=0;He<ne.length;He++)if(Ee<ne[He]){z[fe+ke]=He;break}}}return m||t.disposeIntermediateTensorInfo(_),t.makeTensorInfo(L,"int32",z)}};function qa(n,r,t){const s=w.util.createScalarValue(-1,t);return r5([],r,s,n,t)}const y1={kernelName:w.Neg,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s}=r;Nr(s,"neg");const o=t.data.get(s.dataId).values,[c,f]=qa(o,s.shape,s.dtype);return t.makeTensorInfo(f,s.dtype,c)}},HY=w.kernel_impls.nonMaxSuppressionV3Impl,eu={kernelName:w.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{boxes:o,scores:c}=r,{maxOutputSize:f,iouThreshold:m,scoreThreshold:_}=s;Nr(o,"NonMaxSuppression");const x=t.data.get(o.dataId).values,E=t.data.get(c.dataId).values,{selectedIndices:T}=HY(x,E,f,m,_);return t.makeTensorInfo([T.length],"int32",new Int32Array(T))}},CS=w.kernel_impls.nonMaxSuppressionV4Impl,AO={kernelName:w.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{boxes:o,scores:c}=r,{maxOutputSize:f,iouThreshold:m,scoreThreshold:_,padToMaxOutputSize:x}=s;Nr(o,"NonMaxSuppressionPadded");const E=t.data.get(o.dataId).values,T=t.data.get(c.dataId).values,{selectedIndices:L,validOutputs:z}=CS(E,T,f,m,_,x);return[t.makeTensorInfo([L.length],"int32",new Int32Array(L)),t.makeTensorInfo([],"int32",new Int32Array([z]))]}},UY=w.kernel_impls.nonMaxSuppressionV5Impl,Que={kernelName:w.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{boxes:o,scores:c}=r,{maxOutputSize:f,iouThreshold:m,scoreThreshold:_,softNmsSigma:x}=s;Nr(o,"NonMaxSuppressionWithScore");const E=t.data.get(o.dataId).values,T=t.data.get(c.dataId).values,L=f,z=m,X=_,Q=x,{selectedIndices:ne,selectedScores:pe}=UY(E,T,L,z,X,Q);return[t.makeTensorInfo([ne.length],"int32",new Int32Array(ne)),t.makeTensorInfo([pe.length],"float32",new Float32Array(pe))]}},F_=Gu((n,r)=>n!==r?1:0),tC=yu(w.NotEqual,F_,null,"bool"),YY={kernelName:w.NotEqual,backendName:"cpu",kernelFunc:tC},pl={kernelName:w.OneHot,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{indices:o}=r,{depth:c,onValue:f,offValue:m}=s;Nr(o,"oneHot");const _=w.util.sizeFromShape(o.shape),x=new Float32Array(_*c);x.fill(m);const E=t.data.get(o.dataId).values;for(let T=0;T<_;++T)E[T]>=0&&E[T]<c&&(x[T*c+E[T]]=f);return t.makeTensorInfo([...o.shape,c],"int32",x)}};function MS(n){const{inputs:r,backend:t}=n,{x:s}=r;if("string"===s.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===s.dtype){const o=zf({inputs:{input:s},backend:t}),c=MS({inputs:{x:o},backend:t}),f=Zw({inputs:{input:s},backend:t}),m=MS({inputs:{x:f},backend:t}),_=Vc({inputs:{real:c,imag:m},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(m),_}return bO({backend:t,attrs:{shape:s.shape,value:0,dtype:s.dtype}})}const que={kernelName:w.ZerosLike,backendName:"cpu",kernelFunc:MS},tle={kernelName:w.OnesLike,backendName:"cpu",kernelFunc:function ele(n){const{inputs:r,backend:t}=n,{x:s}=r;if("string"===s.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===s.dtype){const o=zf({inputs:{input:s},backend:t}),c=ele({inputs:{x:o},backend:t}),f=Zw({inputs:{input:s},backend:t}),m=MS({inputs:{x:f},backend:t}),_=Vc({inputs:{real:c,imag:m},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(m),_}return bO({backend:t,attrs:{shape:s.shape,value:1,dtype:s.dtype}})}};function GY(n){const{inputs:r,backend:t,attrs:s}=n,{axis:o}=s;if(1===r.length)return qw({inputs:{input:r[0]},backend:t,attrs:{dim:o}});const c=r[0].shape,f=r[0].dtype;r.forEach(E=>{w.util.assertShapesMatch(c,E.shape,"All tensors passed to stack must have matching shapes"),w.util.assert(f===E.dtype,()=>"All tensors passed to stack must have matching dtypes")});const m=[],x=Jw({inputs:r.map(E=>{const T=qw({inputs:{input:E},backend:t,attrs:{dim:o}});return m.push(T),T}),backend:t,attrs:{axis:o}});return m.forEach(E=>t.disposeIntermediateTensorInfo(E)),x}const TO={kernelName:w.Pack,backendName:"cpu",kernelFunc:GY},h5={kernelName:w.PadV2,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{paddings:c,constantValue:f}=s;Nr(o,"pad");const m=c.map((fe,ke)=>fe[0]+o.shape[ke]+fe[1]),_=c.map(fe=>fe[0]),x=t.data.get(o.dataId).values,E=w.util.sizeFromShape(o.shape),T=o.shape.length,L=w.util.computeStrides(o.shape),z=w.util.sizeFromShape(m),X=m.length,Q=w.util.computeStrides(m),ne=w.util.getTypedArrayFromDType(o.dtype,z);0!==f&&ne.fill(f);for(let fe=0;fe<E;fe++){const Ee=w.util.indexToLoc(fe,T,L).map((at,it)=>at+_[it]);ne[w.util.locToIndex(Ee,X,Q)]=x[fe]}return{dataId:t.write(ne,m,o.dtype),shape:m,dtype:o.dtype}}},p5=Gu((n,r)=>Math.pow(n,r)),KY=yu(w.Pow,p5),nle={kernelName:w.Pow,backendName:"cpu",kernelFunc:KY};function m5(n,r,t,s){const[o,c]=w.backend_util.computeOutAndReduceShapes(n,s),f=(0,w.upcastType)(r,"int32"),m=w.util.makeZerosTypedArray(w.util.sizeFromShape(o),f),_=w.util.sizeFromShape(c);for(let x=0;x<m.length;++x){const E=x*_;let T=1;for(let L=0;L<_;++L)T*=t[E+L];m[x]=T}return{outVals:m,outShape:o,outDtype:f}}const ZY={kernelName:w.Prod,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s;Nr(o,"prod");const m=o.shape.length,_=w.util.parseAxisParam(c,o.shape),x=w.backend_util.getAxesPermutation(_,m);let E=_,T=o;const L=[];null!=x&&(T=Wh({inputs:{x:o},backend:t,attrs:{perm:x}}),L.push(T),E=w.backend_util.getInnerMostAxes(E.length,m));const z=t.data.get(T.dataId).values,{outVals:X,outShape:Q,outDtype:ne}=m5(T.shape,T.dtype,z,E);let pe=Q;return f&&(pe=w.backend_util.expandShapeToKeepDim(Q,_)),L.forEach(fe=>t.disposeIntermediateTensorInfo(fe)),t.makeTensorInfo(pe,ne,X)}};function rle(n,r,t,s){if(n===r||n<r&&t<0||r<n&&t>1)return w.util.makeZerosTypedArray(0,s);const m=Math.abs(Math.ceil((r-n)/t)),_=w.util.makeZerosTypedArray(m,s);r<n&&1===t&&(t=-1),_[0]=n;for(let x=1;x<_.length;x++)_[x]=_[x-1]+t;return _}const JY={kernelName:w.Range,backendName:"cpu",kernelFunc:function(n){const{backend:r,attrs:t}=n,{start:s,stop:o,dtype:c,step:f}=t,m=rle(s,o,f,c);return r.makeTensorInfo([m.length],c,m)}},kO=Ma(w.Reciprocal,n=>1/n),IO={kernelName:w.Reciprocal,backendName:"cpu",kernelFunc:kO},NO={kernelName:w.ResizeBilinear,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o}=r,{alignCorners:c,halfPixelCenters:f,size:m}=s;Nr(o,"resizeBilinear");const _=w.util.computeStrides(o.shape),[x,E]=m,[T,L,z,X]=o.shape,Q=t.data.get(o.dataId).values,ne=new Float32Array(w.util.sizeFromShape([T,x,E,X])),pe=[c&&x>1?L-1:L,c&&E>1?z-1:z],fe=[c&&x>1?x-1:x,c&&E>1?E-1:E];let ke=0;const Ee=pe[0]/fe[0],He=pe[1]/fe[1];for(let at=0;at<T;at++)for(let it=0;it<x;it++){let ct;ct=f?Ee*(it+.5)-.5:Ee*it;const It=Math.max(0,Math.floor(ct)),At=ct-It,Ht=Math.min(L-1,Math.ceil(ct)),tn=at*_[0]+It*_[1],un=at*_[0]+Ht*_[1];for(let sn=0;sn<E;sn++){let Zt;Zt=f?He*(sn+.5)-.5:He*sn;const Ut=Math.max(0,Math.floor(Zt)),Jt=Zt-Ut,Qt=Math.min(z-1,Math.ceil(Zt)),ln=tn+Ut*_[2],Mn=un+Ut*_[2],Pn=tn+Qt*_[2],Kn=un+Qt*_[2];for(let jn=0;jn<X;jn++){const nr=Q[ln+jn],rr=Q[Mn+jn],_i=nr+(Q[Pn+jn]-nr)*Jt;ne[ke++]=_i+(rr+(Q[Kn+jn]-rr)*Jt-_i)*At}}}return t.makeTensorInfo([T,x,E,X],"float32",ne)}},sle={kernelName:w.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o,dy:c}=r,{alignCorners:f}=s;Nr([c,o],"resizeBilinearGrad");const m=w.util.computeStrides(o.shape),[_,x,E,T]=o.shape,[,L,z]=c.shape,X=new Float32Array(_*x*E*T),Q=[f&&L>1?x-1:x,f&&z>1?E-1:E],ne=[f&&L>1?L-1:L,f&&z>1?z-1:z],pe=Q[0]/ne[0],fe=Q[1]/ne[1],ke=t.data.get(c.dataId).values;let Ee=0;for(let He=0;He<_;He++){const at=He*m[0];for(let it=0;it<L;it++){const ct=it*pe,It=Math.floor(ct),At=Math.min(Math.ceil(ct),x-1),Ht=at+It*m[1],tn=at+At*m[1],un=ct-It,sn=1-un;for(let Zt=0;Zt<z;Zt++){const Ut=Zt*fe,Jt=Math.floor(Ut),Qt=Math.min(Math.ceil(Ut),E-1),ln=Ut-Jt,Mn=1-ln,Pn=Ht+Jt*m[2],Kn=Ht+Qt*m[2],jn=tn+Jt*m[2],nr=tn+Qt*m[2],rr=sn*Mn,pr=sn*ln,Or=un*Mn,_i=un*ln;for(let xi=0;xi<T;xi++){const Zi=ke[Ee++];X[Pn+xi]+=Zi*rr,X[Kn+xi]+=Zi*pr,X[jn+xi]+=Zi*Or,X[nr+xi]+=Zi*_i}}}}return t.makeTensorInfo([_,E,x,T],"float32",X)}},QY={kernelName:w.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o}=r,{alignCorners:c,halfPixelCenters:f,size:m}=s;Nr(o,"resizeNearestNeighbor");const _=w.util.computeStrides(o.shape),[x,E]=m,[T,L,z,X]=o.shape,Q=t.data.get(o.dataId).values,ne=new Float32Array(T*x*E*X),pe=[c&&x>1?L-1:L,c&&E>1?z-1:z],fe=[c&&x>1?x-1:x,c&&E>1?E-1:E],ke=pe[0]/fe[0],Ee=pe[1]/fe[1];let He=0;for(let at=0;at<T;at++){const it=at*_[0];for(let ct=0;ct<x;ct++){const It=f?ke*(ct+.5):ke*ct;let At=Math.min(L-1,c?Math.round(It):Math.floor(It));f&&(At=Math.max(0,At));const Ht=it+At*_[1];for(let tn=0;tn<E;tn++){const un=f?Ee*(tn+.5):Ee*tn;let sn=Math.min(z-1,c?Math.round(un):Math.floor(un));f&&(sn=Math.max(0,sn));const Zt=Ht+sn*_[2];for(let Ut=0;Ut<X;Ut++)ne[He++]=Q[Zt+Ut]}}}return t.makeTensorInfo([T,x,E,X],o.dtype,ne)}},ale={kernelName:w.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o,dy:c}=r,{alignCorners:f}=s;Nr([c,o],"resizeNearestNeighborGrad");const m=w.util.computeStrides(o.shape),_=w.util.computeStrides(c.shape),[x,E,T,L]=o.shape,[,z,X]=c.shape,Q=new Float32Array(x*E*T*L),ne=t.data.get(c.dataId).values,pe=[f&&z>1?E-1:E,f&&X>1?T-1:T],fe=[f&&z>1?z-1:z,f&&X>1?X-1:X],ke=pe[0]/fe[0],Ee=pe[1]/fe[1],He=1/ke,at=1/Ee,it=2*Math.ceil(He)+2,ct=2*Math.ceil(at)+2;for(let It=0;It<x;It++){const At=It*m[0];for(let Ht=0;Ht<E;Ht++){const tn=At+Ht*m[1],un=Math.floor(Ht*He),sn=Math.floor(un-it/2);for(let Zt=0;Zt<T;Zt++){const Ut=tn+Zt*m[2],Jt=Math.floor(Zt*at),Qt=Math.floor(Jt-ct/2);for(let ln=0;ln<L;ln++){let Mn=0;for(let Pn=0;Pn<it;Pn++){const Kn=Pn+sn;if(Kn<0||Kn>=z)continue;const jn=At+Kn*_[1],nr=Kn*ke;if(Ht===Math.min(E-1,f?Math.round(nr):Math.floor(nr)))for(let pr=0;pr<ct;pr++){const Or=pr+Qt;if(Or<0||Or>=X)continue;const _i=jn+Or*_[2],xi=Or*Ee;Zt===Math.min(T-1,f?Math.round(xi):Math.floor(xi))&&(Mn+=ne[_i+ln])}}Q[Ut+ln]=Mn}}}}return t.makeTensorInfo(o.shape,o.dtype,Q)}},y5={kernelName:w.Reverse,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{dims:c}=s;Nr(o,"reverse");const f=o.shape.length,m=w.util.parseAxisParam(c,o.shape);if(0===f)return t0({inputs:{x:o},backend:t});const _=new w.TensorBuffer(o.shape,o.dtype),x=t.bufferSync(o);for(let E=0;E<_.size;E++){const T=_.indexToLoc(E),L=T.slice();m.forEach(z=>L[z]=o.shape[z]-1-L[z]),_.set(x.get(...L),...T)}return t.makeTensorInfo(_.shape,_.dtype,_.values)}},qY={kernelName:w.RotateWithOffset,backendName:"cpu",kernelFunc:({inputs:n,attrs:r,backend:t})=>{const{image:s}=n,{radians:o,fillValue:c,center:f}=r,m=t,_=w.util.getTypedArrayFromDType(s.dtype,w.util.sizeFromShape(s.shape)),[x,E,T,L]=s.shape,[z,X]=w.backend_util.getImageCenter(f,E,T),ne=Math.sin(o),pe=Math.cos(o),fe=m.data.get(s.dataId).values;for(let Ee=0;Ee<x;Ee++){const He=Ee*T*E*L;for(let at=0;at<E;at++){const it=at*(T*L);for(let ct=0;ct<T;ct++){const It=ct*L;for(let At=0;At<L;At++){const Ht=[x,at,ct,At],tn=Ht[2],un=Ht[1];let sn=(tn-z)*pe-(un-X)*ne,Zt=(tn-z)*ne+(un-X)*pe;sn=Math.round(sn+z),Zt=Math.round(Zt+X);let Ut=c;"number"!=typeof c&&(Ut=3===At?255:c[At]),sn>=0&&sn<T&&Zt>=0&&Zt<E&&(Ut=fe[He+Zt*(T*L)+sn*L+At]),_[He+it+It+At]=Ut}}}}return{dataId:m.write(_,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},Gbe=Ma(w.Round,n=>{const r=Math.floor(n);return n-r<.5?Math.floor(n):n-r>.5?Math.ceil(n):r%2==0?r:r+1}),ix={kernelName:w.Round,backendName:"cpu",kernelFunc:Gbe},v5=$c(n=>1/Math.sqrt(n)),eG=Xw(w.Rsqrt,v5),Pm={kernelName:w.Rsqrt,backendName:"cpu",kernelFunc:eG};function tG(n,r,t,s,o,c,f,m,_,x){const E=[s/o,o],T=n.values,L=r.values;if(0===s)return(0,w.buffer)(t,r.dtype);const z=(0,w.buffer)(E,r.dtype);z.values.fill(_);for(let X=0;X<c;X++){const Q=[];let ne=0;for(let pe=0;pe<f;pe++){const fe=T[X*f+pe];Q.push(fe),ne+=fe*m[pe]}if(ne<0||ne>=s/o)throw new Error(`Invalid indices: ${Q} does not index into ${t}`);for(let pe=0;pe<o;pe++)x?z.values[ne*o+pe]+=L[X*o+pe]:z.values[ne*o+pe]=0===r.rank?L[0]:L[X*o+pe]}return z}const ole={kernelName:w.ScatterNd,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{indices:o,updates:c}=r,{shape:f}=s,{sliceRank:m,numUpdates:_,sliceSize:x,strides:E,outputSize:T}=w.backend_util.calculateShapes(c,o,f),Q=tG(t.bufferSync(o),t.bufferSync(c),f,T,x,_,m,E,0,!0);return t.makeTensorInfo(f,Q.dtype,Q.values)}},lle={kernelName:w.Select,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{condition:s,t:o,e:c}=r;Nr([s,o,c],"select");const f=s.shape.length,m=t.data.get(s.dataId).values,_=t.data.get(o.dataId).values,x=t.data.get(c.dataId).values,E=(0,w.upcastType)(o.dtype,c.dtype),T=w.util.makeZerosTypedArray(w.util.sizeFromShape(o.shape),E);let L=0;const z=0===f||f>1||1===o.shape.length?1:w.util.sizeFromShape(o.shape.slice(1));for(let X=0;X<m.length;X++)for(let Q=0;Q<z;Q++)T[L++]=1===m[X]?_[X]:x[X];return t.makeTensorInfo(o.shape,E,T)}},Xbe=w.backend_util.SELU_SCALEALPHA,nG=w.backend_util.SELU_SCALE,cle=Ma(w.Selu,n=>n>=0?nG*n:Xbe*(Math.exp(n)-1)),dle={kernelName:w.Selu,backendName:"cpu",kernelFunc:cle},fle=Ma(w.Sign,n=>n<0?-1:n>0?1:0),rG={kernelName:w.Sign,backendName:"cpu",kernelFunc:fle},hle=Ma(w.Sin,n=>Math.sin(n)),ple={kernelName:w.Sin,backendName:"cpu",kernelFunc:hle},mle=Ma(w.Sinh,n=>Math.sinh(n)),gle={kernelName:w.Sinh,backendName:"cpu",kernelFunc:mle},SS=Math.log(1.1920928955078125e-7)+2,iG=Ma(w.Softplus,n=>{const r=n>-SS,t=n<SS,s=Math.exp(n);let o;return o=t?s:r?n:Math.log(1+s),o}),_le={kernelName:w.Softplus,backendName:"cpu",kernelFunc:iG},sx={kernelName:w.SpaceToBatchND,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{blockShape:c,paddings:f}=s;Nr([o],"spaceToBatchND");const m=w.util.sizeFromShape(c),_=[[0,0]];_.push(...f);for(let at=1+c.length;at<o.shape.length;++at)_.push([0,0]);const x=h5.kernelFunc({inputs:{x:o},backend:t,attrs:{paddings:_,constantValue:0}}),E=w.backend_util.getReshaped(x.shape,c,m,!1),T=w.backend_util.getPermuted(E.length,c.length,!1),L=w.backend_util.getReshapedPermuted(x.shape,c,m,!1),Q=wo({inputs:{x},backend:t,attrs:{shape:E}}),fe=Wh({inputs:{x:Q},backend:t,attrs:{perm:T}}),He=wo({inputs:{x:fe},backend:t,attrs:{shape:L}});return t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(Q),t.disposeIntermediateTensorInfo(fe),He}};function yle(n,r,t,s,o,c,f){const m=r[0],_=c[0],x=new Array(_),E=new Array(m),T=r[1];if(0===_){if(0!==m)throw new Error(`Received SparseTensor with denseShape[0] = 0 but\n         indices.shape[0] = ${m}`);return[w.util.getArrayFromDType(t,0),[0,T],w.util.getArrayFromDType(o,0),x,E]}let L=!0,z=0;const X=new Array(_).fill(0);for(let ne=0;ne<m;++ne){const pe=n[ne*T];if(pe<0)throw new Error(`indices(${ne}, 0) is invalid: ${pe} < 0`);if(pe>=_)throw new Error(`indices(${ne}, 0) is invalid: ${pe} >= ${_}`);++X[pe],L=L&&pe>=z,z=pe}let Q=!0;for(let ne=0;ne<_;++ne){const pe=0===X[ne];x[ne]=pe,Q=Q&&!pe,X[ne]=Math.max(X[ne],1),ne>0&&(X[ne]+=X[ne-1])}if(Q&&L){const ne=n,pe=s;for(let fe=0;fe<m;++fe)E[fe]=fe;return[ne,[m,T],pe,x,E]}{const ne=X[_-1],pe=w.util.getArrayFromDType(t,ne*T),fe=w.util.getArrayFromDType(o,ne),ke=new Array(_).fill(0);for(let Ee=0;Ee<m;++Ee){const He=n[Ee*T],it=(0===He?0:X[He-1])+ke[He];ke[He]++;for(let ct=0;ct<T;++ct)pe[it*T+ct]=n[Ee*T+ct];fe[it]=s[Ee],E[Ee]=it}for(let Ee=0;Ee<_;++Ee)if(0===ke[Ee]){const at=0===Ee?0:X[Ee-1];pe[at*T+0]=Ee;for(let it=1;it<T;++it)pe[at*T+it]=0;fe[at]=f}return[pe,[ne,T],fe,x,E]}}const vle={kernelName:w.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{indices:s,values:o,denseShape:c,defaultValue:f}=r;if(1!==c.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${c.shape}`);if(2!==s.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${s.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n        ${o.shape}`);if(0!==f.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${f.shape}`);const m=t.data.get(s.dataId).values,_=t.data.get(o.dataId).values,x=t.data.get(c.dataId).values,E=t.data.get(f.dataId).values[0],[T,L,z,X,Q]=yle(m,s.shape,s.dtype,_,o.dtype,x,E);return[t.makeTensorInfo(L,s.dtype,T),t.makeTensorInfo([L[0]],o.dtype,z),t.makeTensorInfo([X.length],"bool",new Uint8Array(X.map(ne=>Number(ne)))),t.makeTensorInfo([Q.length],s.dtype,new Int32Array(Q))]}};function x5(n,r,t,s,o){const c=w.util.sizeFromShape(s),f=r[0],m=o.length,_=[];let x=1,E=-1;for(let ne=0;ne<m;++ne){const pe=o[ne];if(-1===pe){if(-1!==E)throw new Error(`only one output dimension may be -1, not both ${E} and ${ne}`);E=ne,_.push(1)}else{if(pe<0)throw new Error(`size ${ne} must be non-negative, not ${pe}`);x*=pe,_.push(pe)}}if(-1!==E){if(x<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const ne=Math.trunc(c/x);if(x*ne!==c)throw new Error(`Input to reshape is a SparseTensor with ${c}\n          dense values, but the requested shape requires a multiple of ${x}. inputShape=${s} outputShape= ${_}`);_[E]=ne}const T=w.util.sizeFromShape(_);if(T!==c)throw new Error(`Input to reshape is a tensor with ${c} dense values, but the requested shape has ${T}. inputShape=${s} outputShape=${_}`);const L=s.length,z=[];if(L>0){z[L-1]=1;for(let ne=L-2;ne>=0;--ne)z[ne]=z[ne+1]*s[ne+1]}const X=[];if(m>0){X[m-1]=1;for(let ne=m-2;ne>=0;--ne)X[ne]=X[ne+1]*_[ne+1]}const Q=w.util.getArrayFromDType(t,f*m);for(let ne=0;ne<f;++ne){let pe=0;for(let fe=0;fe<L;++fe)pe+=n[ne*L+fe]*z[fe];for(let fe=0;fe<m;++fe)Q[ne*m+fe]=Math.trunc(pe/X[fe]),pe%=X[fe]}return[Q,[f,m],_]}const xle={kernelName:w.SparseReshape,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{inputIndices:s,inputShape:o,newShape:c}=r;if(2!==s.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${s.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${o.shape}`);if(1!==c.shape.length)throw new Error(`Target shape should be a vector but received shape ${c.shape}`);const f=Array.from(t.data.get(o.dataId).values),m=t.data.get(s.dataId).values,_=Array.from(t.data.get(c.dataId).values),[x,E,T]=x5(m,s.shape,s.dtype,f,_);return[t.makeTensorInfo(E,s.dtype,x),t.makeTensorInfo([T.length],c.dtype,new Int32Array(T))]}};function sG(n,r,t,s,o,c=!1,f=0){const m=s.length;if(m!==o.length)throw new Error("segmentIds and indices should have same size.");const _=[r[0],n.length/r[0]],x=_[1],T=m>0?o[m-1]+1:0;if(T<0)throw new Error("segment ids must be >= 0");const L=r.slice();L[0]=T;const z=L.reduce((ke,Ee)=>ke*Ee,1),X=w.util.getArrayFromDType(t,z);if(0===m)return T>0&&X.fill(f),[X,L];if(T<=0)throw new Error("segment ids must be >= 0");let Q=0,ne=1,pe=0,fe=o[Q];for(;;){let ke=0;if(ne<m){if(ke=o[ne],fe===ke){++ne;continue}if(fe>=ke)throw new Error("segment ids are not increasing")}if(fe<0||fe>=T)throw new Error(`Segment id ${fe} out of range [0, ${T}), possibly because segmentIds input is not sorted.`);fe>pe&&X.fill(f,pe*x,fe*x);for(let Ee=Q;Ee<ne;++Ee){const He=s[Ee];if(He<0||He>=_[0])throw new Error(`Bad: indices[${Ee}] == ${s[Ee]} out of range [0, ${_[0]})`);for(let at=0;at<x;at++)X[fe*x+at]+=n[He*x+at]}if(c)for(let Ee=0;Ee<x;Ee++)X[fe*x+Ee]/=ne-Q;if(Q=ne,++ne,pe=fe+1,fe=ke,ne>m)break}return pe<T&&X.fill(f,pe*x,T*x),[X,L]}const P_={kernelName:w.SparseSegmentMean,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{data:s,indices:o,segmentIds:c}=r;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${o.shape}`);if(1!==c.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${c.shape}`);const f=t.data.get(s.dataId).values,m=t.data.get(o.dataId).values,_=t.data.get(c.dataId).values,[x,E]=sG(f,s.shape,s.dtype,m,_,!0);return t.makeTensorInfo(E,s.dtype,x)}},FO={kernelName:w.SparseSegmentSum,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t}=n,{data:s,indices:o,segmentIds:c}=r;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${o.shape}`);if(1!==c.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${c.shape}`);const f=t.data.get(s.dataId).values,m=t.data.get(o.dataId).values,_=t.data.get(c.dataId).values,[x,E]=sG(f,s.shape,s.dtype,m,_);return t.makeTensorInfo(E,s.dtype,x)}},Il={kernelName:w.SparseToDense,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{sparseIndices:o,sparseValues:c,defaultValue:f}=r,{outputShape:m}=s,{sliceRank:_,numUpdates:x,sliceSize:E,strides:T,outputSize:L}=w.backend_util.calculateShapes(c,o,m),pe=tG(t.bufferSync(o),t.bufferSync(c),m,L,E,x,_,T,t.data.get(f.dataId).values[0],!1);return t.makeTensorInfo(m,pe.dtype,pe.values)}},r0={kernelName:w.SplitV,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{numOrSizeSplits:c,axis:f}=s,m=w.util.parseAxisParam(f,o.shape)[0],_=w.backend_util.prepareSplitSize(o,c,m),x=new Array(o.shape.length).fill(0),E=o.shape.slice();return _.map(T=>{const L=[...E];L[m]=T;const z=Qb({inputs:{x:o},backend:t,attrs:{begin:x,size:L}});return x[m]+=T,z})}},i0=$c(n=>Math.sqrt(n)),B_=Ma(w.Sqrt,n=>Math.sqrt(n)),Bm={kernelName:w.Sqrt,backendName:"cpu",kernelFunc:B_},$_={kernelName:w.Square,backendName:"cpu",kernelFunc:({inputs:n,backend:r})=>{const{x:t}=n,s=r;Nr(t,"square");const o=s.data.get(t.dataId).values,c=new Float32Array(o.length);for(let m=0;m<o.length;++m){const _=o[m];c[m]=_*_}return{dataId:s.write(c,t.shape,t.dtype),shape:t.shape,dtype:t.dtype}}},$m=Gu((n,r)=>{const t=n-r;return t*t}),s0=yu(w.SquaredDifference,$m),Vm={kernelName:w.SquaredDifference,backendName:"cpu",kernelFunc:s0},Np=Ma(w.Step,(n,r)=>{const t=r;return isNaN(n)?NaN:n>0?1:t.alpha}),Uf={kernelName:w.Step,backendName:"cpu",kernelFunc:Np};function zm(n,r,t,s){const o=(0,w.buffer)(n,r.dtype);for(let c=0;c<o.size;c++){const f=o.indexToLoc(c),m=new Array(f.length);for(let _=0;_<m.length;_++)m[_]=f[_]*t[_]+s[_];o.set(r.get(...m),...f)}return o}const Yf={kernelName:w.StridedSlice,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{begin:c,end:f,strides:m,beginMask:_,endMask:x,ellipsisMask:E,newAxisMask:T,shrinkAxisMask:L}=s;Nr(o,"stridedSlice");const{finalShapeSparse:z,finalShape:X,isIdentity:Q,sliceDim0:ne,isSimpleSlice:pe,begin:fe,end:ke,strides:Ee}=w.slice_util.sliceInfo(o.shape,c,f,m,_,x,E,T,L);let He;if(Q)He=wo({inputs:{x:o},backend:t,attrs:{shape:X}});else if(ne||pe){w.util.assert(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);const at=w.slice_util.computeOutShape(fe,ke,Ee),it=Qb({inputs:{x:o},backend:t,attrs:{begin:fe,size:at}});He=wo({inputs:{x:it},backend:t,attrs:{shape:X}}),t.disposeIntermediateTensorInfo(it)}else{const it=zm(z,t.bufferSync(o),Ee,fe);He=t.makeTensorInfo(X,it.dtype,it.values)}return He}};class V_{constructor(r,t,s,o,c,f){this.separator=w.util.encodeString(r),this.nGramWidths=t,this.leftPad=w.util.encodeString(s),this.rightPad=w.util.encodeString(o),this.padWidth=c,this.preserveShort=f}getPadWidth(r){return Math.min(this.padWidth<0?r-1:this.padWidth,r-1)}getNumNGrams(r,t){const s=this.getPadWidth(t);return Math.max(0,r+2*s-t+1)}createNGrams(r,t,s,o,c,f){for(let m=0;m<c;++m){const _=this.getPadWidth(f),x=Math.max(0,_-m),E=Math.max(0,_-(c-(m+1))),T=f-(x+E),L=t+(x>0?0:m-_);let z=0;z+=x*this.leftPad.length;for(let fe=0;fe<T;++fe)z+=r[L+fe].length;z+=E*this.rightPad.length,z+=(x+E+T-1)*this.separator.length,s[o+m]=new Uint8Array(z);const Q=s[o+m];let ne=0;const pe=fe=>fe.forEach(ke=>Q[ne++]=ke);for(let fe=0;fe<x;++fe)pe(this.leftPad),pe(this.separator);for(let fe=0;fe<T-1;++fe)pe(r[L+fe]),pe(this.separator);if(T>0){pe(r[L+T-1]);for(let fe=0;fe<E;++fe)pe(this.separator),pe(this.rightPad)}else{for(let fe=0;fe<E-1;++fe)pe(this.rightPad),pe(this.separator);pe(this.rightPad)}}}compute(r,t){const s=r.length,o=t.length;if(o>0){let _=t[0];if(0!==_)throw new Error(`First split value must be 0, got ${_}`);for(let x=1;x<o;++x){let E=t[x]>=_;if(E=E&&t[x]<=s,!E)throw new Error(`Invalid split value ${t[x]}, must be in [${_}, ${s}]`);_=t[x]}if(_!==s)throw new Error(`Last split value must be data size. Expected ${s}, got ${_}`)}const c=o-1,f=w.util.getArrayFromDType("int32",o);if(0===s||0===o){const _=new Array(s);for(let x=0;x<=c;++x)f[x]=0;return[_,f]}f[0]=0;for(let _=1;_<=c;++_){const x=t[_]-t[_-1];let E=0;this.nGramWidths.forEach(T=>{E+=this.getNumNGrams(x,T)}),this.preserveShort&&x>0&&0===E&&(E=1),f[_]=f[_-1]+E}const m=new Array(f[c]);for(let _=0;_<c;++_){const x=t[_];let E=f[_];if(this.nGramWidths.forEach(T=>{const z=this.getNumNGrams(t[_+1]-t[_],T);this.createNGrams(r,x,m,E,z,T),E+=z}),this.preserveShort&&E===f[_]){const T=t[_+1]-t[_];if(0===T)continue;this.createNGrams(r,x,m,E,1,T+2*this.padWidth)}}return[m,f]}}function x1(n,r,t,s,o,c,f,m){return new V_(t,s,o,c,f,m).compute(n,r)}const D1={kernelName:w.StringNGrams,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{separator:o,nGramWidths:c,leftPad:f,rightPad:m,padWidth:_,preserveShortSequences:x}=s,{data:E,dataSplits:T}=r,L=t.data.get(E.dataId).values,z=t.data.get(T.dataId).values,[X,Q]=x1(L,z,o,c,f,m,_,x);return[t.makeTensorInfo([X.length],"string",X),t.makeTensorInfo(T.shape,"int32",Q)]}};function w1(n,r,t,s){if(!n.length)return;if(0===r.length){for(let c=0;c<n.length;++c)s.push(n.subarray(c,c+1));return}if(1===r.length){const c=r[0];let f=n.indexOf(c);for(;-1!==f;){const m=n.subarray(0,f);(!t||0!==m.length)&&s.push(m),f=(n=n.subarray(f+1)).indexOf(c)}return void((!t||0!==n.length)&&s.push(n))}let o=0;for(let c=0;c<n.length+1;c++)if(c===n.length||-1!==r.indexOf(n[c])){const f=n.subarray(o,c);(!t||0!==f.length)&&s.push(f),o=c+1}}function j_(n,r,t){const s=n.length,o=[];let c=0,f=0;const m=new Array(s);for(let L=0;L<s;++L){const z=o.length;w1(n[L],r,t,o);const X=o.length-z;m[L]=X,c+=X,f=Math.max(f,X)}const _=w.util.getArrayFromDType("int32",2*c),x=new Array(c),E=[s,f];let T=0;for(let L=0;L<s;++L)for(let z=0;z<m[L];++z)_[2*T]=L,_[2*T+1]=z,x[T]=o[T],++T;return[_,x,E]}const AS={kernelName:w.StringSplit,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{skipEmpty:o}=s,{input:c,delimiter:f}=r;if("string"!==c.dtype)throw new Error("Input must be of datatype string");if(1!==c.shape.length)throw new Error(`Input must be a vector, got shape: ${c.shape}`);if(0!==f.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${f.shape}`);const m=t.data.get(c.dataId).values,_=t.data.get(f.dataId).values[0],[x,E,T]=j_(m,_,o),L=E.length;return[t.makeTensorInfo([L,2],"int32",x),t.makeTensorInfo([L],"string",E),t.makeTensorInfo([2],"int32",new Int32Array(T))]}};function nC(n,r){const t=w.util.getArrayFromDType("int32",n.length);for(let s=0;s<n.length;++s)t[s]=w.util.fingerPrint64(n[s]).modulo(r).getLowBitsUnsigned();return t}const PO={kernelName:w.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{numBuckets:o}=s,{input:c}=r;if("string"!==c.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const m=nC(t.data.get(c.dataId).values,o);return t.makeTensorInfo(c.shape,"int32",m)}},ax=Ma(w.Tan,n=>Math.tan(n)),RO={kernelName:w.Tan,backendName:"cpu",kernelFunc:ax},BO=Ma(w.Tanh,n=>Math.tanh(n));function aG(n,r){const t=new Array(n.rank);for(let o=0;o<t.length;o++)t[o]=n.shape[o]*r[o];const s=(0,w.buffer)(t,n.dtype);for(let o=0;o<s.values.length;++o){const c=s.indexToLoc(o),f=new Array(n.rank);for(let _=0;_<f.length;_++)f[_]=c[_]%n.shape[_];const m=n.locToIndex(f);s.values[o]=n.values[m]}return s}const ox=(n,r)=>{const t=r.value-n.value;return 0===t?n.index-r.index:t};function lG(n,r,t=0,s=n.length-1){for(;s>t;){if(s-t>600){const m=s-t+1,_=r-t+1,x=Math.log(m),E=.5*Math.exp(2*x/3),T=.5*Math.sqrt(x*E*(m-E)/m)*Math.sign(_-m/2);lG(n,r,Math.max(t,Math.floor(r-_*E/m+T)),Math.min(s,Math.floor(r+(m-_)*E/m+T)))}const o=n[r];let c=t,f=s;for(w.util.swap(n,t,r),ox(n[s],o)>0&&w.util.swap(n,t,s);c<f;){for(w.util.swap(n,c,f),c++,f--;ox(n[c],o)<0;)c+=1;for(;ox(n[f],o)>0;)f-=1}0===ox(n[t],o)?w.util.swap(n,t,f):(f+=1,w.util.swap(n,f,s)),f<=r&&(t=f+1),r<=f&&(s=f-1)}}function cG(n,r,t,s,o){const c=r[r.length-1],[f,m]=[n.length/c,c],_=w.util.getTypedArrayFromDType(t,f*s),x=w.util.getTypedArrayFromDType("int32",f*s);for(let T=0;T<f;T++){const L=T*m,z=n.subarray(L,L+m);let X=new Array(z.length);z.forEach((fe,ke)=>X[ke]={value:fe,index:ke}),s<X.length&&(lG(X,s),X=X.slice(0,s)),o&&X.sort(ox);const Q=T*s,ne=_.subarray(Q,Q+s),pe=x.subarray(Q,Q+s);for(let fe=0;fe<s;fe++)ne[fe]=X[fe].value,pe[fe]=X[fe].index}const E=r.slice();return E[E.length-1]=s,[(0,w.buffer)(E,t,_),(0,w.buffer)(E,"int32",x)]}function Hh(n,r,t){switch(t){case"reflect":return function(n,r){let t=n;if(t<0)if(r<=1)t=0;else{const s=2*r;t<s&&(t=s*Math.trunc(-t/s)+t),t=t<-r?t+s:-t-1}else if(t>r-1)if(r<=1)t=0;else{const s=2*r;t-=s*Math.trunc(t/s),t>=r&&(t=s-t-1)}return w.util.clamp(0,t,r-1)}(n,r);case"wrap":return function(n,r){let t=n;return t<0?r<=1?t=0:t+=r*(Math.trunc(-t/(r-1))+1):t>r-1&&(r<=1?t=0:t-=r*Math.trunc(t/(r-1))),w.util.clamp(0,t,r-1)}(n,r);case"nearest":return function(n,r){return w.util.clamp(0,n,r-1)}(n,r);case"constant":default:return function(n,r){return n}(n)}}function jO(n,r,t,s,o,c,f,m,_,x,E){return 0<=m&&m<r&&0<=_&&_<t?n[f*s+m*o+_*c+x]:E}function D5(n,r,t,s,o,c,f,m,_,x,E){return jO(n,r,t,s,o,c,f,Math.round(m),Math.round(_),x,E)}function Qbe(n,r,t,s,o,c,f,m,_,x,E){const T=Math.floor(m),L=Math.floor(_),z=T+1,X=L+1;return(z-m)*((X-_)*jO(n,r,t,s,o,c,f,T,L,x,E)+(_-L)*jO(n,r,t,s,o,c,f,T,X,x,E))+(m-T)*((X-_)*jO(n,r,t,s,o,c,f,z,L,x,E)+(_-L)*jO(n,r,t,s,o,c,f,z,X,x,E))}function Cle(n,r,t,s){const o=w.util.parseAxisParam(r,t)[0],c=[1,t[0],1];for(let X=0;X<o;X++)c[0]*=t[X];c[1]=t[o];for(let X=o+1;X<t.length;X++)c[2]*=t[X];const f={},m=new Int32Array(t[o]),_=new w.TensorBuffer(c,s,n),x=[],E=1===c[0]&&1===c[2];for(let X=0;X<t[o];X++){let Q;if(E)Q=n[X].toString();else{const ne=[];for(let pe=0;pe<c[0];pe++)for(let fe=0;fe<c[2];fe++)ne.push(_.get(pe,X,fe));Q=ne.join(",")}if(void 0!==f[Q])m[X]=f[Q];else{const ne=Object.keys(f).length;f[Q]=ne,m[X]=ne,x.push(X)}}const T=c.slice();T[1]=Object.keys(f).length;const L=new w.TensorBuffer(T,s);x.forEach((X,Q)=>{for(let ne=0;ne<c[0];ne++)for(let pe=0;pe<c[2];pe++)L.set(_.get(ne,X,pe),ne,Q,pe)});const z=t.slice();return z[o]=T[1],{outputValues:L.values,outputShape:z,indices:m}}const Mle=[voe,boe,Doe,Coe,moe,H4,Eoe,hO,U4,Soe,hS,Aoe,Y4,koe,G4,Loe,Poe,iY,sY,_oe,aY,uY,pa,xd,Wf,Voe,zoe,uS,Woe,Uoe,gO,Goe,Yoe,Xoe,Joe,e5,qoe,yO,mY,gY,nue,iue,_Y,sue,yY,aue,oue,lue,uue,EY,pue,ooe,gue,_ue,xbe,wue,tx,Dbe,tc,AY,Tue,kY,DO,Ebe,Sbe,Tbe,Ku,OY,Nue,uoe,nx,Hoe,Nbe,Lue,ps,loe,Obe,o5,ti,Fbe,Rbe,RY,$be,zbe,Wbe,Vue,Uue,Gue,bS,l5,EO,xS,Ube,DS,qo,fi,$Y,_1,WY,due,y1,eu,AO,Que,YY,pl,tle,TO,h5,nle,doe,ZY,JY,dO,IO,foe,hoe,goe,NO,sle,QY,ale,y5,qY,ix,Pm,ole,lle,dle,bd,rG,ple,gle,Z4,zY,_le,sx,vle,xle,P_,FO,Il,r0,Bm,$_,Vm,Uf,Yf,D1,AS,PO,Mue,fue,RO,{kernelName:w.Tanh,backendName:"cpu",kernelFunc:BO},{kernelName:w.Tile,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{reps:c}=s;Nr(o,"tile");const f=aG(t.bufferSync(o),c);return t.makeTensorInfo(f.shape,f.dtype,f.values)}},{kernelName:w.TopK,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{k:c,sorted:f}=s;Nr(o,"topk");const m=t.data.get(o.dataId).values,[_,x]=cG(m,o.shape,o.dtype,c,f);return[t.makeTensorInfo(_.shape,_.dtype,_.values),t.makeTensorInfo(x.shape,x.dtype,x.values)]}},zc,{kernelName:w.Transform,backendName:"cpu",kernelFunc:function(n){const{inputs:r,attrs:t,backend:s}=n,{image:o,transforms:c}=r,{interpolation:f,fillMode:m,fillValue:_,outputShape:x}=t,[E,T,L,z]=o.shape,[X,Q]=null!=x?x:[T,L],ne=[E,X,Q,z],pe=w.util.computeStrides(o.shape),fe=pe[0],ke=pe[1],Ee=pe[2],He=w.util.getTypedArrayFromDType(o.dtype,w.util.sizeFromShape(ne));He.fill(_);const at=s.data.get(o.dataId).values,it=s.data.get(c.dataId).values;for(let It=0;It<E;++It){const At=1===c.shape[0]?it:it.subarray(8*It,8*It+8);for(let Ht=0;Ht<X;++Ht)for(let tn=0;tn<Q;++tn)for(let un=0;un<z;++un){let sn;const Zt=At[6]*tn+At[7]*Ht+1;if(0===Zt)continue;const Jt=(At[3]*tn+At[4]*Ht+At[5])/Zt,Qt=Hh((At[0]*tn+At[1]*Ht+At[2])/Zt,L,m),ln=Hh(Jt,T,m);switch(f){case"nearest":sn=D5(at,T,L,fe,ke,Ee,It,ln,Qt,un,_);break;case"bilinear":sn=Qbe(at,T,L,fe,ke,Ee,It,ln,Qt,un,_);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${f}`)}He[It*fe+Ht*ke+tn*Ee+un]=sn}return s.makeTensorInfo(ne,o.dtype,He)}return{dataId:s.write(He,ne,o.dtype),shape:o.shape,dtype:o.dtype}}},{kernelName:w.Unique,backendName:"cpu",kernelFunc:function(n){const{inputs:r,attrs:t,backend:s}=n,{axis:o}=t,{x:c}=r;Nr(c,"unique");const f=s.data.get(c.dataId).values,{outputValues:m,outputShape:_,indices:x}=Cle(f,o,c.shape,c.dtype);return[s.makeTensorInfo(_,c.dtype,m),s.makeTensorInfo([x.length],"int32",x)]}},{kernelName:w.Unpack,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{value:o}=r;let{axis:c}=s;c<0&&(c+=o.shape.length);const f=o.shape.length,m=o.shape[c],_=new Array(f-1);let x=0;for(let z=0;z<f;z++)z!==c&&(_[x++]=o.shape[z]);const E=new Array(f).fill(0),T=o.shape.slice();T[c]=1;const L=new Array(m);for(let z=0;z<L.length;z++){E[c]=z;const X=Qb({inputs:{x:o},backend:t,attrs:{begin:E,size:T}});L[z]=wo({inputs:{x:X},backend:t,attrs:{shape:_}}),t.disposeIntermediateTensorInfo(X)}return L}},{kernelName:w.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,segmentIds:c}=r,{numSegments:f}=s;Nr(o,"unsortedSegmentSum");const x=[],E=[],T=o.shape.length-c.shape.length;let L=c;for(let X=0;X<T;++X){const Q=qw({inputs:{input:L},backend:t,attrs:{dim:X+1}});L=Q,E.push(Q)}for(let X=0;X<f;++X){const Q=w.util.createScalarValue(X,"int32"),ne=t.makeTensorInfo([],"int32",Q),pe=bY({inputs:{a:ne,b:L},backend:t}),fe=jf({inputs:{x:pe},backend:t,attrs:{dtype:"float32"}}),ke=vO({inputs:{a:fe,b:o},backend:t}),Ee=gS({inputs:{x:ke},backend:t,attrs:{axis:0,keepDims:!1}});x.push(Ee),E.push(ne),E.push(pe),E.push(fe),E.push(ke),E.push(Ee)}const z=GY({inputs:x,backend:t,attrs:{axis:0}});return E.forEach(X=>t.disposeIntermediateTensorInfo(X)),z}},que];for(const n of Mle)(0,w.registerKernel)(n);const W_={},H_={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Nl(n){if(!(n in W_)){const t=function(n){if(1!==n&&2!==n)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const r=function(n){if("undefined"!=typeof OffscreenCanvas&&2===n)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",t=>{t.preventDefault(),delete W_[n]},!1),1===n?r.getContext("webgl",H_)||r.getContext("experimental-webgl",H_):r.getContext("webgl2",H_)}(n);if(null===t)return console.log("Could not get context for WebGL version",n),null;W_[n]=t}const r=W_[n];return r.isContextLost()?(delete W_[n],Nl(n)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),W_[n])}var kS=(()=>(function(n){n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH"}(kS||(kS={})),kS))(),Uh=(()=>(function(n){n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD"}(Uh||(Uh={})),Uh))(),nc=(()=>(function(n){n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(nc||(nc={})),nc))();function WO(n,r){return[r,n]}function w5(n){const r=w.util.sizeFromShape(n),t=Math.ceil(r/4);return w.util.sizeToSquarishShape(t)}function IS(n,r){return[Math.max(1,Math.ceil(r/2)),Math.max(1,Math.ceil(n/2))]}function mG(n,r){const t=n;let s,o,c,f,m,_,x,E,T,L;return 2===(0,w.env)().getNumber("WEBGL_VERSION")?(s=t.R32F,o=t.R16F,c=t.RGBA16F,f=t.RGBA32F,m=t.RED,x=4,E=1,T=t.HALF_FLOAT,L=t.FLOAT):(s=n.RGBA,o=n.RGBA,c=n.RGBA,f=t.RGBA,m=n.RGBA,x=4,E=4,T=null!=r?r.HALF_FLOAT_OES:null,L=n.FLOAT),_=n.RGBA,{internalFormatFloat:s,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:c,internalFormatPackedFloat:f,textureFormatFloat:m,downloadTextureFormat:_,downloadUnpackNumChannels:x,defaultNumChannels:E,textureTypeHalfFloat:T,textureTypeFloat:L}}function kr(n,r){const t=r();return(0,w.env)().getBool("DEBUG")&&function(n){const r=n.getError();if(r!==n.NO_ERROR)throw new Error("WebGL Error: "+function(n,r){switch(r){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${r}`}}(n,r))}(n),t}function u0(n){return!!((0,w.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===n||5.96e-8<Math.abs(n)&&Math.abs(n)<65504)}function HO(n,r){return bu(n,()=>n.getExtension(r),'Extension "'+r+'" not supported on this browser.')}const axe=/ERROR: [0-9]+:([0-9]+):/g;function gG(n,r){if(kr(n,()=>n.validateProgram(r)),!1===n.getProgramParameter(r,n.VALIDATE_STATUS))throw console.log(n.getProgramInfoLog(r)),new Error("Shader program validation failed.")}function E5(n,r,t,s,o,c,f){const m=n.getAttribLocation(r,t);return-1!==m&&(kr(n,()=>n.bindBuffer(n.ARRAY_BUFFER,s)),kr(n,()=>n.vertexAttribPointer(m,o,n.FLOAT,!1,c,f)),kr(n,()=>n.enableVertexAttribArray(m)),!0)}function fxe(n,r,t,s){kr(n,()=>function(n,r,t){(function(n,r){const t=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,s=r+n.TEXTURE0;if(s<n.TEXTURE0||s>t)throw new Error(`textureUnit must be in [gl.TEXTURE0, gl.TEXTURE${t}].`)})(n,t),kr(n,()=>n.activeTexture(n.TEXTURE0+t)),kr(n,()=>n.bindTexture(n.TEXTURE_2D,r))}(n,r,s)),kr(n,()=>n.uniform1i(t,s))}function S5(n,r,t){kr(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,t)),kr(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r,0))}function NS(n,r){kr(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,r)),kr(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0))}function OS(n){const r=n.checkFramebufferStatus(n.FRAMEBUFFER);if(r!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(n,r){switch(r){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${r}`}}(n,r))}function bu(n,r,t){const s=kr(n,()=>r());if(null==s)throw new Error(t);return s}function U_(n,r=2){return w.util.sizeFromShape(n.slice(0,n.length-r))}function cx(n){if(0===n.length)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function LS(n){let r=[1,1,1];return 0===n.length||1===n.length&&1===n[0]||(r=[U_(n),...cx(n)]),r}function FS(n){return n%2==0}function PS(n,r){if(n=n.slice(-2),r=r.slice(-2),w.util.arraysEqual(n,r)||!n.length||!r.length||0===n[0]||0===n[1]||0===r[0]||0===r[1])return!0;if(n.length!==r.length){const t=n.slice(-1)[0],s=r.slice(-1)[0];if(t===s||FS(t)&&FS(s)&&(1===n[0]||1===r[0]))return!0}return n[1]===r[1]&&FS(n[0])&&FS(r[0])}let RS,BS;function Lp(n,r){return null!=n.getExtension(r)}function _G(n){try{if(null!=Nl(n))return!0}catch(r){return console.log("Error when getting WebGL context: ",r),!1}return!1}function A5(n){const r=mG(n),t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,r.internalFormatFloat,1,1,0,r.textureFormatFloat,r.textureTypeFloat,null);const c=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,c),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0);const f=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(t),n.deleteFramebuffer(c),f}function $S(n,r){Array.isArray(n)||(n=[n]),n.forEach(t=>{null!=t&&w.util.assert("complex64"!==t.dtype,()=>`${r} does not support complex64 tensors in the WebGL backend.`)})}const ii=(0,w.env)();function jc(){let n,r,t,s,o,c,f,m,_,x;return 2===(0,w.env)().getNumber("WEBGL_VERSION")?(n="#version 300 es",r="in",t="out",s="in",o="texture",c="outputColor",f="out vec4 outputColor;",m="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",_="",x="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(n="",r="attribute",t="varying",s="varying",o="texture2D",c="gl_FragColor",f="",m="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",_="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",x="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:n,attribute:r,varyingVs:t,varyingFs:s,texture2D:o,output:c,defineOutput:f,defineSpecialNaN:m,defineSpecialInf:_,defineRound:x}}function dx(n,r,t="index"){const s=w.util.computeStrides(r);return s.map((o,c)=>`int ${n[c]} = ${t} / ${o}; ${c===s.length-1?`int ${n[c+1]} = ${t} - ${n[c]} * ${o}`:`index -= ${n[c]} * ${o}`};`).join("")}function GO(n,r,t="index"){const s=w.util.computeStrides(r);return s.map((o,c)=>`int ${n[c]} = ${t} / outShapeStrides[${c}]; ${c===s.length-1?`int ${n[c+1]} = ${t} - ${n[c]} * outShapeStrides[${c}]`:`index -= ${n[c]} * outShapeStrides[${c}]`};`).join("")}function T5(n){const r=w.util.computeStrides(n).map(t=>t.toString());return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${r[0]} + coords.y * ${r[1]} + coords.z;\n  }\n`}ii.registerFlag("HAS_WEBGL",()=>ii.getNumber("WEBGL_VERSION")>0),ii.registerFlag("WEBGL_VERSION",()=>_G(2)?2:_G(1)?1:0),ii.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),ii.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===ii.get("WEBGL_VERSION")),ii.registerFlag("WEBGL_CPU_FORWARD",()=>!0),ii.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),ii.registerFlag("WEBGL_PACK",()=>ii.getBool("HAS_WEBGL")),ii.registerFlag("WEBGL_PACK_NORMALIZATION",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_CLIP",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_PACK_REDUCE",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_LAZILY_UNPACK",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_CONV_IM2COL",()=>ii.getBool("WEBGL_PACK")),ii.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>function(n){if(null==RS){const r=Nl(n);RS=r.getParameter(r.MAX_TEXTURE_SIZE)}return RS}(ii.getNumber("WEBGL_VERSION"))),ii.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>function(n){if(null==BS){const r=Nl(n);BS=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,BS)}(ii.getNumber("WEBGL_VERSION"))),ii.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=ii.getNumber("WEBGL_VERSION");return 0===n?0:function(n){if(0===n)return 0;let r;const t=Nl(n);return r=Lp(t,"EXT_disjoint_timer_query_webgl2")&&2===n?2:Lp(t,"EXT_disjoint_timer_query")?1:0,r}(n)}),ii.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>ii.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!w.device_util.isMobile()),ii.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>function(n){if(0===n)return!1;const r=Nl(n);if(1===n){if(!Lp(r,"OES_texture_float"))return!1}else if(!Lp(r,"EXT_color_buffer_float"))return!1;return A5(r)}(ii.getNumber("WEBGL_VERSION"))),ii.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!ii.getBool("WEBGL_FORCE_F16_TEXTURES")&&ii.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),ii.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>function(n){if(0===n)return!1;const r=Nl(n);if(1!==n){if(Lp(r,"EXT_color_buffer_float"))return A5(r);const s="EXT_color_buffer_half_float";if(Lp(r,s)){const o=r.getExtension(s);return function(n,r){const t=mG(n,r),s=n.createTexture();n.bindTexture(n.TEXTURE_2D,s),n.texImage2D(n.TEXTURE_2D,0,t.internalFormatHalfFloat,1,1,0,t.textureFormatFloat,t.textureTypeHalfFloat,null);const f=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,f),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,s,0);const m=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(s),n.deleteFramebuffer(f),m}(r,o)}return!1}return!(!Lp(r,"OES_texture_float")||!Lp(r,"WEBGL_color_buffer_float"))&&A5(r)}(ii.getNumber("WEBGL_VERSION"))),ii.registerFlag("WEBGL_FENCE_API_ENABLED",()=>function(n){return 2===n&&null!=Nl(n).fenceSync}(ii.getNumber("WEBGL_VERSION"))),ii.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>ii.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0),ii.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if(n<0&&-1!==n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)}),ii.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>w.device_util.isMobile()?1:-1,n=>{if(n<0&&-1!==n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)}),ii.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),ii.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),ii.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),ii.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);const I5="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:KO}=w.backend_util;function gxe(n,r,t){const s=[];if(n.forEach(z=>{const X=w.util.sizeFromShape(z.shapeInfo.logicalShape);if(z.shapeInfo.isUniform?s.push(`uniform float ${z.name}${X>1?`[${X}]`:""};`):(s.push(`uniform sampler2D ${z.name};`),s.push(`uniform int offset${z.name};`)),t.enableShapeUniforms){const{uniformShape:Q}=ZO(t.packedInputs,z.shapeInfo.logicalShape,z.shapeInfo.texShape);switch(Q.length){case 1:s.push(`uniform int ${z.name}Shape;`);break;case 2:s.push(`uniform ivec2 ${z.name}Shape;`);break;case 3:s.push(`uniform ivec3 ${z.name}Shape;`);break;case 4:s.push(`uniform ivec4 ${z.name}Shape;`)}s.push(`uniform ivec2 ${z.name}TexShape;`)}}),t.enableShapeUniforms){switch(r.logicalShape.length){case 1:s.push("uniform int outShape;");break;case 2:s.push("uniform ivec2 outShape;"),s.push("uniform int outShapeStrides;");break;case 3:s.push("uniform ivec3 outShape;"),s.push("uniform ivec2 outShapeStrides;");break;case 4:s.push("uniform ivec4 outShape;"),s.push("uniform ivec3 outShapeStrides;")}s.push("uniform ivec2 outTexShape;")}t.customUniforms&&t.customUniforms.forEach(z=>{s.push(`uniform ${z.type} ${z.name}${z.arrayIndex?`[${z.arrayIndex}]`:""};`)});const o=s.join("\n"),c=n.map(z=>function(n,r,t=!1,s){let o="";return o+=t?zS(n,s):sC(n,s),n.shapeInfo.logicalShape.length<=r.logicalShape.length&&(o+=t?function(n,r){const t=n.name,s=t.charAt(0).toUpperCase()+t.slice(1),o="get"+s+"AtOutCoords",c=n.shapeInfo.logicalShape.length,f=r.logicalShape.length,m=KO(n.shapeInfo.logicalShape,r.logicalShape),_=eo(f),x=f-c;let E;const T=["x","y","z","w","u","v"];E=0===c?"":f<2&&m.length>=1?"coords = 0;":m.map(fe=>`coords.${T[fe+x]} = 0;`).join("\n");let L="";L=f<2&&c>0?"coords":n.shapeInfo.logicalShape.map((fe,ke)=>`coords.${T[ke+x]}`).join(", ");let z="return outputValue;";const Q=1===w.util.sizeFromShape(n.shapeInfo.logicalShape),pe=1===w.util.sizeFromShape(r.logicalShape);if(1!==c||Q||pe){if(Q&&!pe)z=1===f?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(m.length){const fe=c-2,ke=c-1;m.indexOf(fe)>-1&&m.indexOf(ke)>-1?z="return vec4(outputValue.x);":m.indexOf(fe)>-1?z="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":m.indexOf(ke)>-1&&(z="return vec4(outputValue.xx, outputValue.zz);")}}else z="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${_} coords = getOutputCoords();\n      ${E}\n      vec4 outputValue = get${s}(${L});\n      ${z}\n    }\n  `}(n,r):function(n,r){const t=n.name,s=t.charAt(0).toUpperCase()+t.slice(1),o="get"+s+"AtOutCoords",m=n.shapeInfo.logicalShape.length,_=r.logicalShape.length;if(!n.shapeInfo.isUniform&&m===_&&null==n.shapeInfo.flatOffset&&w.util.arraysEqual(n.shapeInfo.texShape,r.texShape))return`\n      float ${o}() {\n        return sampleTexture(${t}, resultUV);\n      }\n    `;const x=eo(_),E=KO(n.shapeInfo.logicalShape,r.logicalShape),T=_-m;let L;const z=["x","y","z","w","u","v"];L=0===m?"":_<2&&E.length>=1?"coords = 0;":E.map(Q=>`coords.${z[Q+T]} = 0;`).join("\n");let X="";return X=_<2&&m>0?"coords":n.shapeInfo.logicalShape.map((Q,ne)=>`coords.${z[ne+T]}`).join(", "),`\n    float ${o}() {\n      ${x} coords = getOutputCoords();\n      ${L}\n      return get${s}(${X});\n    }\n  `}(n,r)),o}(z,r,t.packedInputs,t.enableShapeUniforms)).join("\n"),f=r.texShape,m=jc(),_=function(n){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${n.texture2D}(textureSampler, uv).r;\n    }\n  `}(m);let x,E,T=function(n){return`${n.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${n.varyingFs} vec2 resultUV;\n    ${n.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${n.defineSpecialNaN}\n    ${n.defineSpecialInf}\n    ${n.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${Kle}\n    ${Xle}\n    ${Zle}\n  `}(m);return r.isPacked?(x=function(n,r,t){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(n,r,t){const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return 1===s[0]?t?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${s[1]}.0);\n      }\n    `:1===s[1]?t?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${s[0]}.0);\n      }\n    `:t?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      return 2 * (resTexRC.x * ${s[1]} + resTexRC.y);\n    }\n  `}(0,r,t);case 2:return function(n,r,t){const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];if(w.util.arraysEqual(n,r))return t?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${s[0]}, ${s[1]}));\n      }\n    `;const o=Math.ceil(n[1]/2);return t?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(n,r,t);case 3:return function(n,r,t){if(t)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=Math.ceil(n[2]/2),c=o*Math.ceil(n[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n\n      int b = index / ${c};\n      index -= b * ${c};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(n,r,t);default:return function(n,r,t){if(t)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=Math.ceil(n[n.length-1]/2),c=o*Math.ceil(n[n.length-2]/2);let f=c,m="",_="b, r, c";for(let x=2;x<n.length-1;x++)f*=n[n.length-x-1],m=`\n      int b${x} = index / ${f};\n      index -= b${x} * ${f};\n    `+m,_=`b${x}, `+_;return`\n    ivec${n.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n\n      ${m}\n\n      int b = index / ${c};\n      index -= b * ${c};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec${n.length}(${_});\n    }\n  `}(n,r,t)}}(r.logicalShape,f,t.enableShapeUniforms),E=function(n){return`\n    void setOutput(vec4 val) {\n      ${n.output} = val;\n    }\n  `}(m)):(x=function(n,r,t){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(n,r,t){return 1===r[0]?t?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${r[1]}.0);\n      }\n    `:1===r[1]?t?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${r[0]}.0);\n      }\n    `:t?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return resTexRC.x * ${r[1]} + resTexRC.y;\n    }\n  `}(0,r,t);case 2:return function(n,r,t){return w.util.arraysEqual(n,r)?t?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `:1===n[1]?t?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${r[0]}, ${r[1]}));\n        int index = resTexRC.x * ${r[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===n[0]?t?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${r[0]}, ${r[1]}));\n        int index = resTexRC.x * ${r[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:t?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = index / ${n[1]};\n      int c = index - r * ${n[1]};\n      return ivec2(r, c);\n    }\n  `}(n,r,t);case 3:return function(n,r,t){if(t)return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${GO(["r","c","d"],n)}\n    return ivec3(r, c, d);\n  }\n`;const s=dx(["r","c","d"],n);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      ${s}\n      return ivec3(r, c, d);\n    }\n  `}(n,r,t);case 4:return function(n,r,t){if(t)return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${GO(["r","c","d","d2"],n)}\n      return ivec4(r, c, d, d2);\n    }\n  `;const s=dx(["r","c","d","d2"],n);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      ${s}\n      return ivec4(r, c, d, d2);\n    }\n  `}(n,r,t);case 5:return function(n,r){const t=dx(["r","c","d","d2","d3"],n);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${r[0]},\n                             ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${t}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(n,r);case 6:return function(n,r){const t=dx(["r","c","d","d2","d3","d4"],n);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${t}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(n,r);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}(r.logicalShape,f,t.enableShapeUniforms),E=function(n){return`\n    void setOutput(float val) {\n      ${n.output} = vec4(val, 0, 0, 0);\n    }\n  `}(m)),t.packedInputs&&(T+=Jle),[T,_,E,o,x,c,t.userCode].join("\n")}function sC(n,r=!1){const t=n.shapeInfo.logicalShape;switch(t.length){case 0:return function(n,r){const t=n.name,s="get"+t.charAt(0).toUpperCase()+t.slice(1);if(n.shapeInfo.isUniform)return`float ${s}() {return ${t};}`;const[o,c]=n.shapeInfo.texShape;if(1===o&&1===c)return`\n      float ${s}() {\n        return sampleTexture(${t}, halfCR);\n      }\n    `;const f=M1(t);if(r)return`\n    float ${s}() {\n      vec2 uv = uvFromFlat(${t}TexShape[0], ${t}TexShape[1], ${f});\n      return sampleTexture(${t}, uv);\n    }\n  `;const[m,_]=n.shapeInfo.texShape;return`\n    float ${s}() {\n      vec2 uv = uvFromFlat(${m}, ${_}, ${f});\n      return sampleTexture(${t}, uv);\n    }\n  `}(n,r);case 1:return function(n,r){const t=n.name,s="get"+t.charAt(0).toUpperCase()+t.slice(1);if(n.shapeInfo.isUniform)return`\n      float ${s}(int index) {\n        ${aC(n)}\n      }\n    `;const o=n.shapeInfo.texShape,c=o[0],f=o[1];if(1===f&&1===c)return`\n      float ${s}(int index) {\n        return sampleTexture(${t}, halfCR);\n      }\n    `;const m=M1(t);return 1===f?r?`\n      float ${s}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${m}) + 0.5) / float(${t}TexShape[0]));\n        return sampleTexture(${t}, uv);\n      }\n    `:`\n      float ${s}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${m}) + 0.5) / ${c}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `:1===c?r?`\n      float ${s}(int index) {\n        vec2 uv = vec2((float(index + ${m}) + 0.5) / float(${t}TexShape[1]), 0.5);\n        return sampleTexture(${t}, uv);\n      }\n    `:`\n      float ${s}(int index) {\n        vec2 uv = vec2((float(index + ${m}) + 0.5) / ${f}.0, 0.5);\n        return sampleTexture(${t}, uv);\n      }\n    `:r?`\n    float ${s}(int index) {\n      vec2 uv = uvFromFlat(${t}TexShape[0], ${t}TexShape[1], index + ${m});\n      return sampleTexture(${t}, uv);\n    }\n  `:`\n    float ${s}(int index) {\n      vec2 uv = uvFromFlat(${c}, ${f}, index + ${m});\n      return sampleTexture(${t}, uv);\n    }\n  `}(n,r);case 2:return function(n,r){const t=n.shapeInfo.logicalShape,s=n.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),c=n.shapeInfo.texShape;if(null!=c&&w.util.arraysEqual(t,c))return r?`\n      float ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${c[1]}.0, ${c[0]}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `;const{newShape:f,keptDims:m}=w.util.squeezeShape(t);if(f.length<t.length){const z=["row","col"];return`\n      ${sC(Gf(n,f),r)}\n      float ${o}(int row, int col) {\n        return ${o}(${oC(z,m)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${o}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${t[1]}, 1)));\n        ${aC(n)}\n      }\n    `;const x=c[0],E=c[1],T=M1(s);return 1===E?r?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${T}), vec3(${s}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${s}TexShape[0]));\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${T}), vec3(${t[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${x}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `:1===x?r?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${T}), vec3(${s}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${s}TexShape[1]), 0.5);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${T}), vec3(${t[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${E}.0, 0.5);\n      return sampleTexture(${s}, uv);\n    }\n  `:r?`\n      float ${o}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${s}Shape[1] + col + ${T};\n        vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n  float ${o}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${t[1]} + col + ${T};\n    vec2 uv = uvFromFlat(${x}, ${E}, index);\n    return sampleTexture(${s}, uv);\n  }\n`}(n,r);case 3:return function(n,r){const t=n.shapeInfo.logicalShape,s=n.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),c=t[1]*t[2],f=t[2],{newShape:m,keptDims:_}=w.util.squeezeShape(t);if(m.length<t.length){const ne=["row","col","depth"];return`\n        ${sC(Gf(n,m),r)}\n        float ${o}(int row, int col, int depth) {\n          return ${o}(${oC(ne,_)});\n        }\n      `}if(n.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${c}, ${f}, 1)));\n        ${aC(n)}\n      }\n    `;const E=n.shapeInfo.texShape,T=E[0],L=E[1],z=n.shapeInfo.flatOffset;if(L===c&&null==z)return r?`\n      float ${o}(int row, int col, int depth) {\n        int stride1 = ${s}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n        float ${o}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${f}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${L}.0, ${T}.0);\n          return sampleTexture(${s}, uv);\n        }\n      `;if(L===f&&null==z)return r?`\n      float ${o}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${s}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${o}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${t[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${L}.0, ${T}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `;const X=M1(s);return r?`\n    float ${o}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${s}Shape[1] * ${s}Shape[2];\n      int stride1 = ${s}Shape[2];\n      int index = row * ${c} + col * ${f} + depth + ${X};\n      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);\n      return sampleTexture(${s}, uv);\n    }\n    `:`\n      float ${o}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${c} + col * ${f} + depth + ${X};\n        vec2 uv = uvFromFlat(${T}, ${L}, index);\n        return sampleTexture(${s}, uv);\n      }\n  `}(n,r);case 4:return function(n,r){const t=n.shapeInfo.logicalShape,s=n.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),c=t[3],f=t[2]*c,m=t[1]*f,{newShape:_,keptDims:x}=w.util.squeezeShape(t);if(_.length<t.length){const ke=["row","col","depth","depth2"];return`\n      ${sC(Gf(n,_),r)}\n      float ${o}(int row, int col, int depth, int depth2) {\n        return ${o}(${oC(ke,x)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${m}, ${f}, ${c}, 1)));\n        ${aC(n)}\n      }\n    `;const E=n.shapeInfo.flatOffset,T=n.shapeInfo.texShape,L=T[0],z=T[1],X=`int stride2 = ${s}Shape[3];`,Q=`int stride1 = ${s}Shape[2] * stride2;`,ne=`int stride0 = ${s}Shape[1] * stride1;`;if(z===m&&null==E)return r?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        ${X}\n        ${Q}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${f}, ${c}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${z}.0, ${L}.0);\n        return sampleTexture(${s}, uv);\n      }\n    `;if(z===c&&null==E)return r?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${s}Shape[1] * ${s}Shape[2], ${s}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${t[1]*t[2]}, ${t[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${z}.0, ${L}.0);\n        return sampleTexture(${s}, uv);\n      }\n    `;const pe=M1(s);return r?`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${X}\n      ${Q}\n      ${ne}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index + ${pe});\n      return sampleTexture(${s}, uv);\n    }\n  `:`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${m} + col * ${f} +\n          depth * ${c} + depth2;\n      vec2 uv = uvFromFlat(${L}, ${z}, index + ${pe});\n      return sampleTexture(${s}, uv);\n    }\n  `}(n,r);case 5:return function(n){const r=n.shapeInfo.logicalShape,t=n.name,s="get"+t.charAt(0).toUpperCase()+t.slice(1),o=r[4],c=r[3]*o,f=r[2]*c,m=r[1]*f,{newShape:_,keptDims:x}=w.util.squeezeShape(r);if(_.length<r.length){const ne=["row","col","depth","depth2","depth3"];return`\n      ${sC(Gf(n,_))}\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        return ${s}(${oC(ne,x)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${m}, ${f}, ${c}, ${o})) +\n          depth3;\n        ${aC(n)}\n      }\n    `;const E=n.shapeInfo.flatOffset,T=n.shapeInfo.texShape,L=T[0],z=T[1];if(z===m&&null==E)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${f}, ${c}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${z}.0, ${L}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `;if(z===o&&null==E)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${r[1]*r[2]*r[3]},\n               ${r[2]*r[3]}, ${r[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${z}.0, ${L}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `;return`\n    float ${s}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${m} + col * ${f} + depth * ${c} +\n          depth2 * ${o} + depth3 + ${M1(t)};\n      vec2 uv = uvFromFlat(${L}, ${z}, index);\n      return sampleTexture(${t}, uv);\n    }\n  `}(n);case 6:return function(n){const r=n.shapeInfo.logicalShape,t=n.name,s="get"+t.charAt(0).toUpperCase()+t.slice(1),{newShape:o,keptDims:c}=w.util.squeezeShape(r);if(o.length<r.length){const pe=["row","col","depth","depth2","depth3","depth4"];return`\n      ${sC(Gf(n,o))}\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${s}(${oC(pe,c)});\n      }\n    `}const f=r[5],m=r[4]*f,_=r[3]*m,x=r[2]*_,E=r[1]*x;if(n.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${E}, ${x}, ${_}, ${m})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${f}, 1)));\n        ${aC(n)}\n      }\n    `;const T=n.shapeInfo.flatOffset,L=n.shapeInfo.texShape,z=L[0],X=L[1];if(X===E&&null==T)return`\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${x}, ${_}, ${m}, ${f})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${X}.0, ${z}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `;if(X===f&&null==T)return`\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${r[1]*r[2]*r[3]*r[4]},\n               ${r[2]*r[3]*r[4]},\n               ${r[3]*r[4]},\n               ${r[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${X}.0, ${z}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `;return`\n    float ${s}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${E} + col * ${x} + depth * ${_} +\n          depth2 * ${m} + depth3 * ${f} + depth4 + ${M1(t)};\n      vec2 uv = uvFromFlat(${z}, ${X}, index);\n      return sampleTexture(${t}, uv);\n    }\n  `}(n);default:throw new Error(`${t.length}-D input sampling is not yet supported`)}}function zS(n,r){switch(n.shapeInfo.logicalShape.length){case 0:return function(n){const r=n.name;return`\n    vec4 ${"get"+r.charAt(0).toUpperCase()+r.slice(1)}() {\n      return ${jc().texture2D}(${r}, halfCR);\n    }\n  `}(n);case 1:return function(n,r){const t=n.name,s="get"+t.charAt(0).toUpperCase()+t.slice(1),o=n.shapeInfo.texShape,c=jc();if(r)return`\n    vec4 ${s}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${t}TexShape[0]) / 2.0), ceil(float(${t}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${c.texture2D}(${t}, uv);\n    }\n  `;const f=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`\n    vec4 ${s}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${f[0]}, ${f[1]}, index);\n      return ${c.texture2D}(${t}, uv);\n    }\n  `}(n,r);case 2:return function(n,r){const t=n.shapeInfo.logicalShape,s=n.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),c=n.shapeInfo.texShape,f=c[0],m=c[1],_=jc();if(null!=c&&w.util.arraysEqual(t,c))return r?`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n\n        return ${_.texture2D}(${s}, uv);\n      }\n    `:`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${m}.0, ${f}.0);\n\n        return ${_.texture2D}(${s}, uv);\n      }\n    `;if(r)return`\n    vec4 ${o}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${s}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${_.texture2D}(${s}, uv);\n    }\n  `;const x=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];return`\n    vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(t[1]/2)}, ${x[0]}, ${x[1]}, row, col);\n      return ${_.texture2D}(${s}, uv);\n    }\n  `}(n,r);case 3:return function(n,r){const t=n.shapeInfo.logicalShape,s=n.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),c=n.shapeInfo.texShape,f=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];if(1===t[0]){const z=[1,2],Q=["b","row","col"];return`\n        ${zS(Gf(n,t.slice(1)),r)}\n        vec4 ${o}(int b, int row, int col) {\n          return ${o}(${oC(Q,z)});\n        }\n      `}const m=jc();if(r)return`\n    vec4 ${o}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${s}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${s}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${m.texture2D}(${s}, uv);\n    }\n  `;const _=f[0],x=f[1],E=Math.ceil(t[2]/2);return`\n    vec4 ${o}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${_}, ${x}, ${E*Math.ceil(t[1]/2)}, ${E}, b, row, col);\n      return ${m.texture2D}(${s}, uv);\n    }\n  `}(n,r);default:return function(n,r){const t=n.name,s="get"+t.charAt(0).toUpperCase()+t.slice(1),o=jc();if(r)return`\n    vec4 ${s}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${t}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${t}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${t}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${t}TexShape[0]) / 2.0), ceil(float(${t}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${t}, uv);\n    }\n  `;const c=n.shapeInfo.logicalShape,f=c.length,m=n.shapeInfo.texShape,_=[Math.ceil(m[0]/2),Math.ceil(m[1]/2)],x=_[0],E=_[1],T=Math.ceil(c[f-1]/2);let L=T*Math.ceil(c[f-2]/2),z="int b, int row, int col",X=`b * ${L} + (row / 2) * ${T} + (col / 2)`;for(let Q=2;Q<f-1;Q++)z=`int b${Q}, `+z,L*=c[f-Q-1],X=`b${Q} * ${L} + `+X;return`\n    vec4 ${s}(${z}) {\n      int index = ${X};\n      int texR = index / ${E};\n      int texC = index - texR * ${E};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${E}, ${x});\n      return ${o.texture2D}(${t}, uv);\n    }\n  `}(n,r)}}const Kle="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Xle="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Zle="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Jle="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function M1(n){return`offset${n}`}function aC(n){const r=n.name,t=w.util.sizeFromShape(n.shapeInfo.logicalShape);return t<2?`return ${r};`:`\n    for (int i = 0; i < ${t}; i++) {\n      if (i == index) {\n        return ${r}[i];\n      }\n    }\n  `}function eo(n){if(n<=1)return"int";if(2===n)return"ivec2";if(3===n)return"ivec3";if(4===n)return"ivec4";if(5===n)return"ivec5";if(6===n)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function ZO(n,r,t){const{newShape:s,keptDims:o}=w.util.squeezeShape(r),c=r.length,f=n&&3===c&&1===r[0],m=f?r.slice(1):s,_=!n&&c>1&&!w.util.arraysEqual(r,t)&&s.length<c||f;return{useSqueezeShape:_,uniformShape:_?m:r,keptDims:o}}function Gf(n,r){const t=JSON.parse(JSON.stringify(n));return t.shapeInfo.logicalShape=r,t}function oC(n,r){return r.map(t=>n[t]).join(", ")}function EG(n,r){if(n.length!==r.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${r.length} inputs`);n.forEach((t,s)=>{const o=t.logicalShape,c=r[s],f=c.shape;if(!w.util.arraysEqual(o,f))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${o} and ${f} must match`);if(t.isUniform&&c.isUniform)return;const m=t.texShape,_=c.isUniform?null:c.texData.texShape;if(!w.util.arraysEqual(m,_))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${m} and ${_} must match`)})}function Fp(n){return(0,w.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}class mce{constructor(r){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=kS.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=jc();this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?GO(["r","c","d"],r):dx(["r","c","d"],r)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class uC{constructor(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=kS.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=jc();this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?GO(["r","c","d"],r):dx(["r","c","d"],r)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class SG{constructor(r){this.variableNames=["A"],this.outTexUsage=Uh.DOWNLOAD;const t=jc();this.outputShape=r,this.userCode=`\n      ${I5}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class gce{constructor(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Uh.DOWNLOAD;const t=jc();this.outputShape=r,this.userCode=`\n      ${I5}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class AG{constructor(r,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=jc();this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length);let o="result";t&&(o="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":T5(r)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${s.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${s.output} = vec4(${o}, 0., 0., 0.);\n      }\n    `}}class _ce{constructor(r,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=jc();this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length);let o="",c="result";t&&(c="floor(result * 255. + 0.5)");for(let f=0;f<=1;f++)for(let m=0;m<=1;m++){const _=2*f+m;o+=`\n          localCoords = coords;\n          if(localCoords[2] + ${m} < ${this.enableShapeUniforms?"outShape[2]":`${r[2]}`}) {\n          localCoords[2] += ${m};\n          if (localCoords[1] + ${f} < ${this.enableShapeUniforms?"outShape[1]":`${r[1]}`}) {\n            localCoords[1] += ${f};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${s.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${_}] = values[0];\n            } else if (offset == 1) {\n              result[${_}] = values[1];\n            } else if (offset == 2) {\n              result[${_}] = values[2];\n            } else {\n              result[${_}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":T5(r)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${o}\n\n          ${s.output} = ${c};\n        }\n    `}}function fx(n,r,t,s,o,c){!function(n,r){const t=(0,w.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||r<=0)throw new Error(`Requested texture size [${n}x${r}] is invalid.`);if(n>t||r>t)throw new Error(`Requested texture size [${n}x${r}] greater than WebGL maximum on this browser / GPU [${t}x${t}].`)}(r,t);const f=function(n){return bu(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}(n),m=n.TEXTURE_2D;return kr(n,()=>n.bindTexture(m,f)),kr(n,()=>n.texParameteri(m,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),kr(n,()=>n.texParameteri(m,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),kr(n,()=>n.texParameteri(m,n.TEXTURE_MIN_FILTER,n.NEAREST)),kr(n,()=>n.texParameteri(m,n.TEXTURE_MAG_FILTER,n.NEAREST)),kr(n,()=>n.texImage2D(m,0,s,r,t,0,o,c,null)),kr(n,()=>n.bindTexture(n.TEXTURE_2D,null)),f}function lC(n){return n.internalFormatFloat}function TG(n){return n.internalFormatHalfFloat}function JO(n){return n.downloadTextureFormat}function wce(n){return n.internalFormatPackedFloat}function Cce(n){return n.internalFormatPackedHalfFloat}class Tce{constructor(r){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=(0,w.env)().getNumber("WEBGL_VERSION");null!=r?(this.gl=r,function(n,r){W_[n]=r}(t,r)):this.gl=Nl(t);let s="WEBGL_color_buffer_float";const o="EXT_color_buffer_half_float";if(1===(0,w.env)().getNumber("WEBGL_VERSION")){const f="OES_texture_half_float";if(this.textureFloatExtension=HO(this.gl,"OES_texture_float"),Lp(this.gl,f))this.textureHalfFloatExtension=HO(this.gl,f);else if((0,w.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(s),Lp(this.gl,o))this.colorBufferHalfFloatExtension=HO(this.gl,o);else if((0,w.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(s="EXT_color_buffer_float",Lp(this.gl,s))this.colorBufferFloatExtension=this.gl.getExtension(s);else{if(!Lp(this.gl,o))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(o)}this.vertexBuffer=function(n){return function(n,r){const t=bu(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return kr(n,()=>n.bindBuffer(n.ARRAY_BUFFER,t)),kr(n,()=>n.bufferData(n.ARRAY_BUFFER,r,n.STATIC_DRAW)),t}(n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}(this.gl),this.indexBuffer=function(n){return function(n,r){const t=bu(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return kr(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t)),kr(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW)),t}(n,new Uint16Array([0,1,2,2,1,3]))}(this.gl),this.framebuffer=function(n){return bu(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=mG(this.gl,this.textureHalfFloatExtension)}get debug(){return(0,w.env)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const r=this.gl;kr(r,()=>r.finish()),kr(r,()=>r.bindFramebuffer(r.FRAMEBUFFER,null)),kr(r,()=>r.deleteFramebuffer(this.framebuffer)),kr(r,()=>r.bindBuffer(r.ARRAY_BUFFER,null)),kr(r,()=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)),kr(r,()=>r.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(r,t){return this.throwIfDisposed(),function(n,r,t,s){const[o,c]=WO(r,t);return fx(n,o,c,lC(s),s.textureFormatFloat,n.FLOAT)}(this.gl,r,t,this.textureConfig)}createFloat16MatrixTexture(r,t){return this.throwIfDisposed(),function(n,r,t,s){const[o,c]=WO(r,t);return fx(n,o,c,TG(s),s.textureFormatFloat,s.textureTypeHalfFloat)}(this.gl,r,t,this.textureConfig)}createUnsignedBytesMatrixTexture(r,t){return this.throwIfDisposed(),function(n,r,t,s){const[o,c]=WO(r,t);return fx(n,o,c,JO(s),n.RGBA,n.UNSIGNED_BYTE)}(this.gl,r,t,this.textureConfig)}uploadPixelDataToTexture(r,t){this.throwIfDisposed(),function(n,r,t){kr(n,()=>n.bindTexture(n.TEXTURE_2D,r)),t.data instanceof Uint8Array?kr(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t.width,t.height,0,n.RGBA,n.UNSIGNED_BYTE,t.data)):kr(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)),kr(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,r,t)}uploadDenseMatrixToTexture(r,t,s,o){this.throwIfDisposed(),function(n,r,t,s,o,c){let f,m,_;kr(n,()=>n.bindTexture(n.TEXTURE_2D,r)),o instanceof Uint8Array?(f=new Uint8Array(t*s*4),m=n.UNSIGNED_BYTE,_=n.RGBA):(f=new Float32Array(t*s*4),m=n.FLOAT,_=c.internalFormatPackedFloat),f.set(o),kr(n,()=>n.texImage2D(n.TEXTURE_2D,0,_,t,s,0,n.RGBA,m,f)),kr(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,r,t,s,o,this.textureConfig)}createFloat16PackedMatrixTexture(r,t){return this.throwIfDisposed(),function(n,r,t,s){const[o,c]=IS(r,t);return fx(n,o,c,Cce(s),n.RGBA,s.textureTypeHalfFloat)}(this.gl,r,t,this.textureConfig)}createPackedMatrixTexture(r,t){return this.throwIfDisposed(),function(n,r,t,s){const[o,c]=IS(r,t);return fx(n,o,c,wce(s),n.RGBA,n.FLOAT)}(this.gl,r,t,this.textureConfig)}deleteMatrixTexture(r){this.throwIfDisposed(),this.outputTexture===r&&(NS(this.gl,this.framebuffer),this.outputTexture=null),kr(this.gl,()=>this.gl.deleteTexture(r))}downloadByteEncodedFloatMatrixFromOutputTexture(r,t,s){return this.downloadMatrixDriver(r,()=>function(n,r,t,s){const[o,c]=WO(r,t),m=new Uint8Array(function(n,r){return 4*n}(r*t));return kr(n,()=>n.readPixels(0,0,o,c,s.downloadTextureFormat,n.UNSIGNED_BYTE,m)),new Float32Array(m.buffer)}(this.gl,t,s,this.textureConfig))}downloadPackedMatrixFromBuffer(r,t,s,o,c,f){return function(n,r,t,s,o,c,f,m){const _=n,x=new Float32Array(function(n,r){const[t,s]=IS(n,r);return t*s*4}(c,f));return _.bindBuffer(_.PIXEL_PACK_BUFFER,r),_.getBufferSubData(_.PIXEL_PACK_BUFFER,0,x),_.bindBuffer(_.PIXEL_PACK_BUFFER,null),x}(this.gl,r,0,0,0,c,f)}downloadFloat32MatrixFromBuffer(r,t){return function(n,r,t){const s=n,o=new Float32Array(t);return s.bindBuffer(s.PIXEL_PACK_BUFFER,r),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,o),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),o}(this.gl,r,t)}createBufferFromTexture(r,t,s){this.bindTextureToFrameBuffer(r);const o=function(n,r,t,s){const o=n.createBuffer();kr(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,o));const m=16*r*t;return kr(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,m,n.STREAM_READ)),kr(n,()=>n.readPixels(0,0,t,r,n.RGBA,n.FLOAT,0)),kr(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),o}(this.gl,t,s);return this.unbindTextureToFrameBuffer(),o}createAndWaitForFence(){const r=this.createFence(this.gl);return this.pollFence(r)}createFence(r){let t,s;if((0,w.env)().getBool("WEBGL_FENCE_API_ENABLED")){const o=r,c=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);r.flush(),s=()=>{const f=o.clientWaitSync(c,0,0);return f===o.ALREADY_SIGNALED||f===o.CONDITION_SATISFIED},t=c}else(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),s=()=>this.isQueryAvailable(t,(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):s=()=>!0;return{query:t,isFencePassed:s}}downloadMatrixFromPackedTexture(r,t,s){return this.downloadMatrixDriver(r,()=>function(n,r,t){const s=new Float32Array(r*t*4);return kr(n,()=>n.readPixels(0,0,t,r,n.RGBA,n.FLOAT,s)),s}(this.gl,t,s))}createProgram(r){this.throwIfDisposed();const t=this.gl,s=function(n,r){const t=bu(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(kr(n,()=>n.shaderSource(t,r)),kr(n,()=>n.compileShader(t)),!1===n.getShaderParameter(t,n.COMPILE_STATUS))throw function(n,r){const t=axe.exec(r);if(null==t)return console.log(`Couldn't parse line number in error: ${r}`),void console.log(n);const s=+t[1],o=n.split("\n"),c=o.length.toString().length+2,f=o.map((T,L)=>w.util.rightPad((L+1).toString(),c)+T);let m=0;for(let T=0;T<f.length;T++)m=Math.max(f[T].length,m);const _=f.slice(0,s-1),x=f.slice(s-1,s),E=f.slice(s);console.log(_.join("\n")),console.log(r.split("\n")[0]),console.log(`%c ${w.util.rightPad(x[0],m)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(E.join("\n"))}(r,n.getShaderInfoLog(t)),new Error("Failed to compile fragment shader.");return t}(t,r);null==this.vertexShader&&(this.vertexShader=function(n){const r=jc();return function(n,r){const t=bu(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(kr(n,()=>n.shaderSource(t,r)),kr(n,()=>n.compileShader(t)),!1===n.getShaderParameter(t,n.COMPILE_STATUS))throw console.log(n.getShaderInfoLog(t)),new Error("Failed to compile vertex shader.");return t}(n,`${r.version}\n    precision highp float;\n    ${r.attribute} vec3 clipSpacePos;\n    ${r.attribute} vec2 uv;\n    ${r.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}(t));const o=function(n){return bu(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}(t);return kr(t,()=>t.attachShader(o,this.vertexShader)),kr(t,()=>t.attachShader(o,s)),function(n,r){if(kr(n,()=>n.linkProgram(r)),!1===n.getProgramParameter(r,n.LINK_STATUS))throw console.log(n.getProgramInfoLog(r)),new Error("Failed to link vertex and fragment shaders.")}(t,o),this.debug&&gG(t,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=function(n,r,t){return kr(n,()=>n.bindBuffer(n.ARRAY_BUFFER,t)),E5(n,r,"clipSpacePos",t,3,20,0)&&E5(n,r,"uv",t,2,20,12)}(t,this.program,this.vertexBuffer)),o}deleteProgram(r){this.throwIfDisposed(),r===this.program&&(this.program=null),null!=r&&kr(this.gl,()=>this.gl.deleteProgram(r))}setProgram(r){this.throwIfDisposed(),this.program=r,null!=this.program&&this.debug&&gG(this.gl,this.program),kr(this.gl,()=>this.gl.useProgram(r))}getUniformLocation(r,t,s=!0){return this.throwIfDisposed(),s?function(n,r,t){return bu(n,()=>n.getUniformLocation(r,t),'uniform "'+t+'" not present in program.')}(this.gl,r,t):function(n,r,t){return n.getUniformLocation(r,t)}(this.gl,r,t)}getAttributeLocation(r,t){return this.throwIfDisposed(),kr(this.gl,()=>this.gl.getAttribLocation(r,t))}getUniformLocationNoThrow(r,t){return this.throwIfDisposed(),this.gl.getUniformLocation(r,t)}setInputMatrixTexture(r,t,s){this.throwIfDisposed(),this.throwIfNoProgram(),fxe(this.gl,r,t,s)}setOutputMatrixTexture(r,t,s){this.setOutputMatrixTextureDriver(r,s,t)}setOutputPackedMatrixTexture(r,t,s){this.throwIfDisposed();const[o,c]=IS(t,s);this.setOutputMatrixTextureDriver(r,o,c)}setOutputMatrixWriteRegion(r,t,s,o){this.setOutputMatrixWriteRegionDriver(s,r,o,t)}setOutputPackedMatrixWriteRegion(r,t,s,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&gG(this.gl,this.program),OS(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const r=this.gl;this.debug&&this.debugValidate(),kr(r,()=>r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),kr(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=HO(this.gl,2===(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const s=this.gl,o=this.getQueryTimerExtensionWebGL2(),c=s.createQuery();return s.beginQuery(o.TIME_ELAPSED_EXT,c),c}const r=this.getQueryTimerExtensionWebGL1(),t=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const t=this.gl,s=this.getQueryTimerExtensionWebGL2();return void t.endQuery(s.TIME_ELAPSED_EXT)}const r=this.getQueryTimerExtensionWebGL1();r.endQueryEXT(r.TIME_ELAPSED_EXT)}waitForQueryAndGetTime(r){var t=this;return(0,en.Z)(function*(){return yield w.util.repeatedTry(()=>t.disposed||t.isQueryAvailable(r,(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),t.getQueryTime(r,(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})()}getQueryTime(r,t){if(0===t)return null;if(2===t){const s=this.gl;return s.getQueryParameter(r,s.QUERY_RESULT)/1e6}{const s=this.getQueryTimerExtensionWebGL1();return s.getQueryObjectEXT(r,s.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(r,t){if(0===t)return!0;if(2===t){const s=this.gl,o=this.getQueryTimerExtensionWebGL2(),c=s.getQueryParameter(r,s.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),c&&!this.disjoint}{const s=this.getQueryTimerExtensionWebGL1(),o=s.getQueryObjectEXT(r,s.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),o&&!this.disjoint}}pollFence(r){return new Promise(t=>{this.addItemToPoll(()=>r.isFencePassed(),()=>t())})}pollItems(){const r=function(n){let r=0;for(;r<n.length&&n[r]();++r);return r-1}(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=r;++t){const{resolveFn:s}=this.itemsToPoll[t];s()}this.itemsToPoll=this.itemsToPoll.slice(r+1)}addItemToPoll(r,t){this.itemsToPoll.push({isDoneFn:r,resolveFn:t}),!(this.itemsToPoll.length>1)&&w.util.repeatedTry(()=>(this.pollItems(),0===this.itemsToPoll.length))}bindTextureToFrameBuffer(r){this.throwIfDisposed(),S5(this.gl,r,this.framebuffer),this.debug&&OS(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(S5(this.gl,this.outputTexture,this.framebuffer),this.debug&&OS(this.gl)):NS(this.gl,this.framebuffer)}downloadMatrixDriver(r,t){this.bindTextureToFrameBuffer(r);const s=t();return this.unbindTextureToFrameBuffer(),s}setOutputMatrixTextureDriver(r,t,s){this.throwIfDisposed();const o=this.gl;S5(o,r,this.framebuffer),this.debug&&OS(o),this.outputTexture=r,kr(o,()=>o.viewport(0,0,t,s)),kr(o,()=>o.scissor(0,0,t,s))}setOutputMatrixWriteRegionDriver(r,t,s,o){this.throwIfDisposed(),kr(this.gl,()=>this.gl.scissor(r,t,s,o))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:S1,bincountImpl:OG,bincountReduceImpl:kce,ceilImpl:A1,concatImpl:Dxe,equalImpl:Ice,expImpl:Nce,expm1Impl:F5,floorImpl:Oce,gatherNdImpl:P5,gatherV2Impl:LG,greaterImpl:FG,greaterEqualImpl:PG,lessImpl:RG,lessEqualImpl:R5,linSpaceImpl:B5,logImpl:Lce,maxImpl:BG,maximumImpl:l0,minimumImpl:Fce,multiplyImpl:$G,negImpl:$5,notEqualImpl:Pce,prodImpl:hx,rangeImpl:wxe,rsqrtImpl:px,sigmoidImpl:V5,simpleAbsImpl:mx,sliceImpl:z5,sparseFillEmptyRowsImpl:cC,sparseReshapeImpl:Rce,sparseSegmentReductionImpl:VG,sqrtImpl:ml,stridedSliceImpl:j5,stringNGramsImpl:Bce,stringSplitImpl:$ce,stringToHashBucketFastImpl:Vce,subImpl:zG,tileImpl:jG,topKImpl:zce,transposeImpl:WG,uniqueImpl:jce}=$;function HG(n,r){return["x","y","z","w","u","v"].slice(0,r).map(t=>`${n}.${t}`)}function of(n,r){return 1===r?[n]:HG(n,r)}class Hce{constructor(r){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=r;const t=r.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const s=of("rc",t),o=eo(t),c=function(n,r,t){if(1===n)return`rc > ${r[0]}`;let s="";for(let o=n-2;o<n;o++)s+=`${t[o]} >= ${r[o]}`,o<n-1&&(s+="||");return s}(t,r,s),f=function(n,r,t,s){if(1===n)return"";const o=s.slice(-2);return`\n    int r = ${o[0]};\n    int c = ${o[1]};\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= ${r};\n    bool rEdge = rp1 >= ${t};\n  `}(t,r[r.length-1],r[r.length-2],s),m=function(n,r){const t=n.length,s=function(n,r){const t=[];for(let s=0;s<=1;s++)for(let o=0;o<=1;o++){let c=`${0===s?"r":"rp1"}, ${0===o?"c":"cp1"}`;for(let f=2;f<n;f++)c=`${r[r.length-1-f]},`+c;t.push(c)}return t}(t,r);return 1===t?`getA(rc),\n            rc + 1 >= ${n[0]} ? 0. : getA(rc + 1),\n            0, 0`:`getA(${s[0]}),\n          cEdge ? 0. : getA(${s[1]}),\n          rEdge ? 0. : getA(${s[2]}),\n          rEdge || cEdge ? 0. : getA(${s[3]})`}(r,s);this.userCode=`\n        void main() {\n          ${o} rc = getOutputCoords();\n\n          if(${c}) {\n            setOutput(vec4(0));\n          } else {\n            ${f}\n\n            setOutput(vec4(${m}));\n          }\n        }\n      `}}}class uf{constructor(r,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length);let s="";for(let o=0;o<4;o++){let c="thisRC = rc;";o%2==1&&(c+="thisRC.z += 1;"),o>1&&(c+="thisRC.y += 1;"),s+=`\n        ${c}\n        ${o>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${o}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${o>0?"}":""}\n      `}this.userCode=`\n      ${function(n,r){return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${r?function(n,r,t="index"){const o=function(n,r){const t=n.length,s=n.map(c=>`${r}[${c}]`),o=new Array(t-1);o[t-2]=s[t-1];for(let c=t-3;c>=0;--c)o[c]=`(${o[c+1]} * ${s[c+1]})`;return o}(n.map((c,f)=>f),r);return o.map((c,f)=>`int ${n[f]} = ${t} / ${o[f]}; ${f===o.length-1?`int ${n[f+1]} = ${t} - ${n[f]} * ${o[f]}`:`index -= ${n[f]} * ${o[f]}`};`).join("")}(["r","c","d"],"inputShape"):dx(["r","c","d"],n)}\n      return ivec3(r, c, d);\n    }\n  `}(t,this.enableShapeUniforms)}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":T5(r)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":r[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":r[2]};\n\n        ${s}\n\n        setOutput(result);\n      }\n    `}}class jm{constructor(r){this.gpgpu=r,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(r,t,s){const o=GG(t,s),c=qO(r,o,s);c in this.freeTextures||(this.freeTextures[c]=[]),c in this.usedTextures||(this.usedTextures[c]=[]);const f=UG(r,o,this.gpgpu.gl,this.gpgpu.textureConfig,s);if(this.freeTextures[c].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=f,this.log();const _=this.freeTextures[c].shift();return this.usedTextures[c].push(_),_}let m;return o===nc.PACKED_2X2_FLOAT32?m=this.gpgpu.createPackedMatrixTexture(r[0],r[1]):o===nc.PACKED_2X2_FLOAT16?m=this.gpgpu.createFloat16PackedMatrixTexture(r[0],r[1]):o===nc.UNPACKED_FLOAT32?m=this.gpgpu.createFloat32MatrixTexture(r[0],r[1]):o===nc.UNPACKED_FLOAT16?m=this.gpgpu.createFloat16MatrixTexture(r[0],r[1]):o===nc.PACKED_4X1_UNSIGNED_BYTE&&(m=this.gpgpu.createUnsignedBytesMatrixTexture(r[0],r[1])),this.usedTextures[c].push(m),this.numUsedTextures++,this._numBytesAllocated+=f,this.log(),m}releaseTexture(r,t,s,o){if(null==this.freeTextures)return;const c=GG(s,o),f=qO(t,c,o);f in this.freeTextures||(this.freeTextures[f]=[]);const m=UG(t,c,this.gpgpu.gl,this.gpgpu.textureConfig,o),_=(0,w.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==_&&this._numBytesAllocated>_?(this.gpgpu.deleteMatrixTexture(r),this._numBytesAllocated-=m):(this.freeTextures[f].push(r),this.numFreeTextures++,this._numBytesFree+=m),this.numUsedTextures--;const x=this.usedTextures[f],E=x.indexOf(r);if(E<0)throw new Error("Cannot release a texture that was never provided by this texture manager");x.splice(E,1),this.log()}log(){if(!this.logEnabled)return;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${this.numFreeTextures+this.numUsedTextures})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const r in this.freeTextures)this.freeTextures[r].forEach(t=>{this.gpgpu.deleteMatrixTexture(t)});for(const r in this.usedTextures)this.usedTextures[r].forEach(t=>{this.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function UG(n,r,t,s,o){const c=function(n,r){switch(n){case nc.PACKED_2X2_FLOAT32:return wce(r);case nc.PACKED_2X2_FLOAT16:return Cce(r);case nc.UNPACKED_FLOAT32:return lC(r);case nc.UNPACKED_FLOAT16:return TG(r);case nc.PACKED_4X1_UNSIGNED_BYTE:return JO(r);default:throw new Error(`Unknown physical texture type ${n}`)}}(r,s);let f;if(o){const[_,x]=IS(n[0],n[1]);f=_*x}else{const[_,x]=WO(n[0],n[1]);f=_*x}return f*function(n,r){if(r===n.R32F)return 4;if(r===n.R16F)return 2;if(r===n.RGBA32F)return 16;if(r===n.RGBA)return 16;if(r===n.RGBA16F)return 8;throw new Error(`Unknown internal format ${r}`)}(t,c)}function GG(n,r){if(n===Uh.UPLOAD)return nc.PACKED_2X2_FLOAT32;if(n===Uh.RENDER||null==n)return function(n){return(0,w.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?nc.PACKED_2X2_FLOAT32:nc.UNPACKED_FLOAT32:n?nc.PACKED_2X2_FLOAT16:nc.UNPACKED_FLOAT16}(r);if(n===Uh.DOWNLOAD||n===Uh.PIXELS)return nc.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function qO(n,r,t){return`${n[0]}_${n[1]}_${r}_${t}`}class gx{constructor(r,t){this.variableNames=["A"],this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const Kce="return abs(x);",jS="return x;";class T1{constructor(r,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class QG{constructor(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=r;const t=r.length,s=of("rc",t),o=eo(t),c=function(n,r){if(1===n)return"rc";let t="";for(let s=0;s<n;s++)t+=r[s],s<n-1&&(t+=",");return t}(t,s),f=s.slice(-2),m=t<=1?"rc":`vec2(${f.join(",")})`;this.userCode=`\n      void main() {\n        ${o} rc = getOutputCoords();\n        vec4 packedInput = getA(${c});\n\n        setOutput(getChannel(packedInput, ${m}));\n      }\n    `}}const qce=w.kernel_impls.whereImpl,c0={},qG=(0,w.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");let eK=(()=>{class n extends w.KernelBackend{constructor(t){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!(0,w.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){const s=Nl((0,w.env)().getNumber("WEBGL_VERSION"));this.binaryCache=function(n){return n in c0||(c0[n]={}),c0[n]}((0,w.env)().getNumber("WEBGL_VERSION")),this.gpgpu=new Tce(s),this.canvas=s.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpu=t,this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=t.gl.canvas;this.textureManager=new jm(this.gpgpu),this.numMBBeforeWarning=null==(0,w.env)().global.screen?1024:(0,w.env)().global.screen.height*(0,w.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new w.DataStorage(this,(0,w.engine)())}nextDataId(){return n.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(t,s,o){if(((0,w.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,w.env)().getBool("DEBUG"))&&this.checkNumericalProblems(t),"complex64"===o&&null!=t)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const c={id:this.nextDataId()};return this.texData.set(c,{shape:s,dtype:o,values:t,usage:Uh.UPLOAD,refCount:1}),c}refCount(t){return this.texData.has(t)?this.texData.get(t).refCount:0}incRef(t){this.texData.get(t).refCount++}decRef(t){this.texData.has(t)&&this.texData.get(t).refCount--}move(t,s,o,c,f){if((0,w.env)().getBool("DEBUG")&&this.checkNumericalProblems(s),"complex64"===c)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:o,dtype:c,values:s,usage:Uh.UPLOAD,refCount:f})}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}readSync(t){const s=this.texData.get(t),{values:o,dtype:c,complexTensorInfos:f,slice:m,shape:_,isPacked:x}=s;if(null!=m){let z;z=x?new T1(_,jS):new gx(_,jS);const X=this.runWebGLProgram(z,[{dataId:t,shape:_,dtype:c}],c),Q=this.readSync(X.dataId);return this.disposeIntermediateTensorInfo(X),Q}if(null!=o)return this.convertAndCacheOnCPU(t);if("string"===c)return o;const E=null!=this.activeTimers;let T,L;if(E&&(T=w.util.now()),"complex64"===c){const z=this.readSync(f.real.dataId),X=this.readSync(f.imag.dataId);L=w.backend_util.mergeRealAndImagArrays(z,X)}else L=this.getValuesFromTexture(t);return E&&(this.downloadWaitMs+=w.util.now()-T),this.convertAndCacheOnCPU(t,L)}read(t){var s=this;return(0,en.Z)(function*(){if(s.pendingRead.has(t)){const ne=s.pendingRead.get(t);return new Promise(pe=>ne.push(pe))}const o=s.texData.get(t),{values:c,shape:f,slice:m,dtype:_,complexTensorInfos:x,isPacked:E}=o;if(null!=m){let ne;ne=E?new T1(f,jS):new gx(f,jS);const pe=s.runWebGLProgram(ne,[{dataId:t,shape:f,dtype:_}],_),fe=s.read(pe.dataId);return s.disposeIntermediateTensorInfo(pe),fe}if(null!=c)return s.convertAndCacheOnCPU(t);if(!(0,w.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,w.env)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let L,z,T=null;if("complex64"!==_&&(0,w.env)().get("WEBGL_BUFFER_SUPPORTED")){L=s.decode(t);const ne=s.texData.get(L.dataId);T=s.gpgpu.createBufferFromTexture(ne.texture,...w5(f))}if(s.pendingRead.set(t,[]),"complex64"!==_&&(yield s.gpgpu.createAndWaitForFence()),"complex64"===_){const ne=yield Promise.all([s.read(x.real.dataId),s.read(x.imag.dataId)]);z=w.backend_util.mergeRealAndImagArrays(ne[0],ne[1])}else if(null==T)z=s.getValuesFromTexture(t);else{const ne=w.util.sizeFromShape(f);z=s.gpgpu.downloadFloat32MatrixFromBuffer(T,ne)}if(null!=L&&s.disposeIntermediateTensorInfo(L),null!=T){const ne=s.gpgpu.gl;kr(ne,()=>ne.deleteBuffer(T))}const X=s.convertAndCacheOnCPU(t,z),Q=s.pendingRead.get(t);return s.pendingRead.delete(t),Q.forEach(ne=>ne(X)),s.pendingDisposal.has(t)&&(s.pendingDisposal.delete(t),s.disposeData(t)&&(0,w.engine)().removeDataId(t,s),s.pendingDeletes--),X})()}bufferSync(t){const s=this.readSync(t.dataId);let o=s;if("string"===t.dtype)try{o=s.map(c=>w.util.decodeString(c))}catch(c){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,w.buffer)(t.shape,t.dtype,o)}checkNumericalProblems(t){if(null!=t)for(let s=0;s<t.length;s++){const o=t[s];if(!u0(o))throw(0,w.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${o} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${o} cannot be represented on this device.`)}}getValuesFromTexture(t){const{shape:s,dtype:o,isPacked:c}=this.texData.get(t),f=w.util.sizeFromShape(s);if((0,w.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const z=this.decode(t),X=this.texData.get(z.dataId),Q=this.gpgpu.downloadMatrixFromPackedTexture(X.texture,...w5(s)).subarray(0,f);return this.disposeIntermediateTensorInfo(z),Q}const m=(0,w.env)().getBool("WEBGL_PACK")&&!0===c,_=m?LS(s):s,x=m?new gce(_):new SG(_),E=this.runWebGLProgram(x,[{shape:_,dtype:o,dataId:t}],"float32"),T=this.texData.get(E.dataId),L=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(T.texture,T.texShape[0],T.texShape[1]).subarray(0,f);return this.disposeIntermediateTensorInfo(E),L}timerAvailable(){return(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(t){var s=this;return(0,en.Z)(function*(){const o=s.activeTimers,c=[];let f=!1;null==s.programTimersStack?(s.programTimersStack=c,f=!0):s.activeTimers.push(c),s.activeTimers=c,t();const m=w.util.flatten(s.activeTimers.map(E=>E.query)).filter(E=>null!=E),_=w.util.flatten(s.activeTimers.map(E=>E.name)).filter(E=>null!=E);s.activeTimers=o,f&&(s.programTimersStack=null);const x={uploadWaitMs:s.uploadWaitMs,downloadWaitMs:s.downloadWaitMs,kernelMs:null,wallMs:null};if((0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const E=yield Promise.all(m);x.kernelMs=w.util.sum(E),x.getExtraProfileInfo=()=>E.map((T,L)=>({name:_[L],ms:T})).map(T=>`${T.name}: ${T.ms}`).join(", ")}else x.kernelMs={error:"WebGL query timers are not supported in this environment."};return s.uploadWaitMs=0,s.downloadWaitMs=0,x})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:w.util.now(),endMs:null}}endTimer(t){return(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=w.util.now(),t)}getQueryTime(t){var s=this;return(0,en.Z)(function*(){return(0,w.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?s.gpgpu.waitForQueryAndGetTime(t):t.endMs-t.startMs})()}disposeData(t,s=!1){if(this.pendingDisposal.has(t))return!1;if(!this.texData.has(t))return!0;if(s?this.texData.get(t).refCount=0:this.texData.get(t).refCount--,!s&&this.texData.get(t).refCount>0)return!1;if(this.pendingRead.has(t))return this.pendingDisposal.add(t),this.pendingDeletes++,!1;this.releaseGPUData(t);const{complexTensorInfos:o}=this.texData.get(t);return null!=o&&(this.disposeData(o.real.dataId,s),this.disposeData(o.imag.dataId,s)),this.texData.delete(t),!0}releaseGPUData(t){const{texture:s,dtype:o,texShape:c,usage:f,isPacked:m,slice:_}=this.texData.get(t),x=_&&_.origDataId||t,E=this.dataRefCount.get(x);E>1?this.dataRefCount.set(x,E-1):(this.dataRefCount.delete(x),null!=s&&(this.numBytesInGPU-=this.computeBytes(c,o),this.textureManager.releaseTexture(s,c,f,m)));const T=this.texData.get(t);T.texture=null,T.texShape=null,T.isPacked=!1,T.slice=null}getTexture(t){return this.uploadToGPU(t),this.texData.get(t).texture}getDataInfo(t){return this.texData.get(t)}shouldExecuteOnCPU(t,s=qG){return(0,w.env)().getBool("WEBGL_CPU_FORWARD")&&t.every(o=>null==this.texData.get(o.dataId).texture&&w.util.sizeFromShape(o.shape)<s)}getGPGPUContext(){return this.gpgpu}where(t){w.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const s=t.dataSync();return qce(t.shape,s)}packedUnaryOp(t,s,o){const c=new T1(t.shape,s),f=this.compileAndRun(c,[t],o);return(0,w.engine)().makeTensorFromDataId(f.dataId,f.shape,f.dtype)}abs(t){if(this.shouldExecuteOnCPU([t])&&"complex64"!==t.dtype){const c=mx(this.texData.get(t.dataId).values);return this.makeOutput(t.shape,t.dtype,c)}if((0,w.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Kce,t.dtype);const s=new gx(t.shape,Kce),o=this.compileAndRun(s,[t]);return(0,w.engine)().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}makeTensorInfo(t,s,o){let c;if("string"===s&&null!=o&&o.length>0&&w.util.isString(o[0])){const f=o.map(m=>w.util.encodeString(m));c=this.write(f,t,s)}else c=this.write(o,t,s);return this.texData.get(c).usage=null,{dataId:c,shape:t,dtype:s}}makeOutput(t,s,o){const{dataId:c}=this.makeTensorInfo(t,s,o);return(0,w.engine)().makeTensorFromDataId(c,t,s,this)}unpackTensor(t){const s=new QG(t.shape);return this.runWebGLProgram(s,[t],t.dtype)}packTensor(t){const s=new Hce(t.shape);return this.runWebGLProgram(s,[t],t.dtype,null,!0)}packedReshape(t,s){const o=[U_(t.shape),...cx(t.shape)],c={dtype:t.dtype,shape:o,dataId:t.dataId},f=[U_(s),...cx(s)],m=new uf(f,o),E=this.runWebGLProgram(m,[c],t.dtype,[o],!0);return{dataId:E.dataId,shape:s,dtype:E.dtype}}decode(t){const s=this.texData.get(t),{isPacked:o,shape:c,dtype:f}=s,m=LS(c);let _;const x=w5(m);return _=o?new uC(m):new mce(m),{dtype:f,shape:c,dataId:this.runWebGLProgram(_,[{shape:m,dtype:f,dataId:t}],f,[x],!0).dataId}}runWebGLProgram(t,s,o,c,f=!1){const m=this.makeTensorInfo(t.outputShape,o),_=this.texData.get(m.dataId);if(t.packedOutput&&(_.isPacked=!0),t.outPackingScheme===kS.DENSE){const pe=w5(t.outputShape);_.texShape=pe.map(fe=>2*fe)}if(null!=t.outTexUsage&&(_.usage=t.outTexUsage),0===w.util.sizeFromShape(m.shape))return _.values=w.util.getTypedArrayFromDType(m.dtype,0),m;const x=[],E=s.map(pe=>{if("complex64"===pe.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let fe=this.texData.get(pe.dataId);if(null==fe.texture){if(!t.packedInputs&&w.util.sizeFromShape(pe.shape)<=(0,w.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:pe.shape,texData:null,isUniform:!0,uniformValues:fe.values};t.packedInputs&&(fe.isPacked=!0,fe.shape=pe.shape)}else if(!!fe.isPacked!=!!t.packedInputs)pe=fe.isPacked?this.unpackTensor(pe):this.packTensor(pe),x.push(pe),fe=this.texData.get(pe.dataId);else if(fe.isPacked&&!PS(fe.shape,pe.shape)){const ke=pe,Ee=pe.shape;pe.shape=fe.shape,pe=this.packedReshape(pe,Ee),x.push(pe),fe=this.texData.get(pe.dataId),ke.shape=Ee}return this.uploadToGPU(pe.dataId),{shape:pe.shape,texData:fe,isUniform:!1}});this.uploadToGPU(m.dataId);const T={shape:m.shape,texData:_,isUniform:!1},L=function(n,r,t){let s="";r.concat(t).forEach(f=>{const m=null!=f.texData&&null!=f.texData.slice&&f.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!f.isUniform){const _=f.texData.texShape,{useSqueezeShape:x,uniformShape:E,keptDims:T}=ZO(n.packedInputs,f.shape,_);let L="",z="",X="";if(1===E.length&&n.packedInputs){const He=[Math.ceil(_[0]/2),Math.ceil(_[1]/2)];L=`${He[0]>1}_${He[1]>1}`}else if(2!==E.length||n.packedInputs){if(E.length>2&&!n.packedInputs){const He=w.util.computeStrides(E);X=`${He[0]===_[1]}_${He[He.length-1]===_[1]}`}}else z=`${E[0]>1}_${E[1]>1}`;const Q=f.shape.length,ne=2===E.length&&w.util.arraysEqual(f.shape,_),pe=1===w.util.sizeFromShape(f.shape),fe=w.backend_util.getBroadcastDims(f.shape,t.shape),ke=!n.packedInputs&&Q===t.shape.length&&w.util.arraysEqual(_,t.texData.texShape);s+=`${Q}_${ke}_${x?T:""}_${E.length}_${pe}_${fe}_${ne}_${L}_${z}_${X}_${n.packedInputs||E.length>2?"":`${_[0]>1}_${_[1]>1}`}_${m}`}else s+=`${f.shape}_${f.isUniform?"uniform":f.texData.texShape}_${m}`});let c=n.constructor.name;return c+="_"+s+"_"+n.userCode+`${(0,w.env)().getNumber("WEBGL_VERSION")}`,c}(t,E,T),z=this.getAndSaveBinary(L,()=>function(n,r,t,s){const o=t.map((ke,Ee)=>{const He={logicalShape:ke.shape,texShape:ke.isUniform?null:ke.texData.texShape,isUniform:ke.isUniform,isPacked:!ke.isUniform&&ke.texData.isPacked,flatOffset:null};return null!=ke.texData&&null!=ke.texData.slice&&ke.texData.slice.flatOffset>0&&(He.flatOffset=ke.texData.slice.flatOffset),{name:r.variableNames[Ee],shapeInfo:He}}),c=o.map(ke=>ke.shapeInfo),f={logicalShape:s.shape,texShape:s.texData.texShape,isUniform:!1,isPacked:s.texData.isPacked,flatOffset:null},m=gxe(o,f,r),_=n.createProgram(m);let x=null;const E=n.getUniformLocation(_,"NAN",!1);1===(0,w.env)().getNumber("WEBGL_VERSION")&&(x=n.getUniformLocation(_,"INFINITY",!1));const T=!1,L={},z={},X={};for(let ke=0;ke<r.variableNames.length;ke++){const Ee=r.variableNames[ke];L[Ee]=n.getUniformLocation(_,Ee,T),L[`offset${Ee}`]=n.getUniformLocation(_,`offset${Ee}`,T),r.enableShapeUniforms&&(z[`${Ee}Shape`]=n.getUniformLocation(_,`${Ee}Shape`,T),X[`${Ee}TexShape`]=n.getUniformLocation(_,`${Ee}TexShape`,T))}let Q,ne,pe;r.enableShapeUniforms&&(Q=n.getUniformLocation(_,"outShape",T),pe=n.getUniformLocation(_,"outShapeStrides",T),ne=n.getUniformLocation(_,"outTexShape",T));const fe=[];return r.customUniforms&&r.customUniforms.forEach((ke,Ee)=>{fe[Ee]=n.getUniformLocation(_,ke.name,T)}),{program:r,source:m,webGLProgram:_,uniformLocations:L,customUniformLocations:fe,inShapeInfos:c,outShapeInfo:f,infLoc:x,nanLoc:E,inShapesLocations:z,inTexShapesLocations:X,outShapeLocation:Q,outShapeStridesLocation:pe,outTexShapeLocation:ne}}(this.gpgpu,t,E,T)),X=null!=this.activeTimers;let Q;X&&(Q=this.startTimer()),function(n,r,t,s,o){r.program.enableShapeUniforms||(EG(r.inShapeInfos,t),EG([r.outShapeInfo],[s]));const c=s.texData.texture,f=s.texData.texShape;s.texData.isPacked?n.setOutputPackedMatrixTexture(c,f[0],f[1]):n.setOutputMatrixTexture(c,f[0],f[1]),n.setProgram(r.webGLProgram),1===(0,w.env)().getNumber("WEBGL_VERSION")&&null!==r.infLoc&&n.gl.uniform1f(r.infLoc,1/0),null!==r.nanLoc&&n.gl.uniform1f(r.nanLoc,NaN),t.forEach((_,x)=>{const E=r.program.variableNames[x],T=r.uniformLocations[E],L=r.uniformLocations[`offset${E}`],z=r.inShapesLocations[`${E}Shape`],X=r.inTexShapesLocations[`${E}TexShape`];if(z){const{uniformShape:Q}=ZO(r.program.packedInputs,_.shape,_.texData.texShape);switch(Q.length){case 1:n.gl.uniform1iv(z,new Int32Array(Q));break;case 2:n.gl.uniform2iv(z,new Int32Array(Q));break;case 3:n.gl.uniform3iv(z,new Int32Array(Q));break;case 4:n.gl.uniform4iv(z,new Int32Array(Q))}}if(X&&n.gl.uniform2i(X,_.texData.texShape[0],_.texData.texShape[1]),null!=T){if(_.isUniform){if(w.util.sizeFromShape(_.shape)<2)n.gl.uniform1f(T,_.uniformValues[0]);else{let Q=_.uniformValues;Q instanceof Float32Array||(Q=new Float32Array(Q)),n.gl.uniform1fv(T,Q)}return}null!=_.texData.slice&&null!=L&&n.gl.uniform1i(L,_.texData.slice.flatOffset),n.setInputMatrixTexture(_.texData.texture,T,x)}});const m=r.outShapeLocation;if(m)switch(s.shape.length){case 1:n.gl.uniform1iv(m,new Int32Array(s.shape));break;case 2:n.gl.uniform2iv(m,new Int32Array(s.shape));break;case 3:n.gl.uniform3iv(m,new Int32Array(s.shape));break;case 4:n.gl.uniform4iv(m,new Int32Array(s.shape))}if(r.outShapeStridesLocation){const _=w.util.computeStrides(s.shape);switch(s.shape.length){case 2:n.gl.uniform1iv(r.outShapeStridesLocation,new Int32Array(_));break;case 3:n.gl.uniform2iv(r.outShapeStridesLocation,new Int32Array(_));break;case 4:n.gl.uniform3iv(r.outShapeStridesLocation,new Int32Array(_))}}r.outTexShapeLocation&&n.gl.uniform2i(r.outTexShapeLocation,s.texData.texShape[0],s.texData.texShape[1]),r.program.customUniforms&&o&&r.program.customUniforms.forEach((_,x)=>{const E=r.customUniformLocations[x],T=o[x];if("float"===_.type)n.gl.uniform1fv(E,T);else if("vec2"===_.type)n.gl.uniform2fv(E,T);else if("vec3"===_.type)n.gl.uniform3fv(E,T);else if("vec4"===_.type)n.gl.uniform4fv(E,T);else if("int"===_.type)n.gl.uniform1iv(E,T);else if("ivec2"===_.type)n.gl.uniform2iv(E,T);else if("ivec3"===_.type)n.gl.uniform3iv(E,T);else{if("ivec4"!==_.type)throw Error(`uniform type ${_.type} is not supported yet.`);n.gl.uniform4iv(E,T)}}),n.executeProgram()}(this.gpgpu,z,E,T,c),x.forEach(pe=>this.disposeIntermediateTensorInfo(pe)),X&&(Q=this.endTimer(Q),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(Q)}));const ne=(0,w.env)().get("WEBGL_FLUSH_THRESHOLD");if(ne>0){const pe=w.util.now();pe-this.lastGlFlushTime>ne&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=pe)}if(!(0,w.env)().getBool("WEBGL_LAZILY_UNPACK")&&_.isPacked&&!1===f){const pe=this.unpackTensor(m);return this.disposeIntermediateTensorInfo(m),pe}return m}compileAndRun(t,s,o,c,f=!1){return this.runWebGLProgram(t,s,o=o||s[0].dtype,c,f)}getAndSaveBinary(t,s){return t in this.binaryCache||(this.binaryCache[t]=s()),this.binaryCache[t]}getTextureManager(){return this.textureManager}dispose(){this.disposed||((0,w.env)().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(s=>{this.gpgpu.deleteProgram(this.binaryCache[s].webGLProgram),delete this.binaryCache[s]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,w.tidy)(()=>{if(!(0,w.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const t=(0,w.env)().getBool("DEBUG");(0,w.env)().set("DEBUG",!1);const s=this.abs((0,w.scalar)(1e-8)).dataSync()[0];if((0,w.env)().set("DEBUG",t),s>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(t){const s=this.texData.get(t),{shape:o,dtype:c,values:f,texture:m,usage:_,isPacked:x}=s;if(null!=m)return;const E=null!=this.activeTimers;let T;E&&(T=w.util.now());let L=s.texShape;if(null==L&&(L=function(n,r=!1){let t=(0,w.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");r&&(t*=2,1===(n=n.map((o,c)=>c>=n.length-2?w.util.nearestLargerEven(n[c]):n[c])).length&&(n=[2,n[0]])),2!==n.length&&(n=w.util.squeezeShape(n).newShape);let s=w.util.sizeFromShape(n);if(n.length<=1&&s<=t)return[1,s];if(2===n.length&&n[0]<=t&&n[1]<=t)return n;if(3===n.length&&n[0]*n[1]<=t&&n[2]<=t)return[n[0]*n[1],n[2]];if(3===n.length&&n[0]<=t&&n[1]*n[2]<=t)return[n[0],n[1]*n[2]];if(4===n.length&&n[0]*n[1]*n[2]<=t&&n[3]<=t)return[n[0]*n[1]*n[2],n[3]];if(4===n.length&&n[0]<=t&&n[1]*n[2]*n[3]<=t)return[n[0],n[1]*n[2]*n[3]];if(r){const o=U_(n);let c=2,f=2;return n.length&&([c,f]=cx(n)),s=o*(c/2)*(f/2),w.util.sizeToSquarishShape(s).map(m=>2*m)}return w.util.sizeToSquarishShape(s)}(o,x),s.texShape=L),null!=f){const z=LS(o);let X,Q=L[1],ne=L[0];const pe=f instanceof Uint8Array||f instanceof Uint8ClampedArray;x?([Q,ne]=IS(L[0],L[1]),X=new _ce(z,pe)):X=new AG(z,pe);const fe=this.makeTensorInfo([ne,Q],c);this.texData.get(fe.dataId).usage=pe?Uh.PIXELS:Uh.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(fe.dataId),Q,ne,f);const He=this.runWebGLProgram(X,[fe],c,[[ne,Q]],!0),at=this.texData.get(He.dataId);s.texture=at.texture,s.texShape=at.texShape,s.isPacked=at.isPacked,s.usage=at.usage,this.disposeIntermediateTensorInfo(fe),this.texData.delete(He.dataId),s.values=null,E&&(this.uploadWaitMs+=w.util.now()-T)}else{const z=this.acquireTexture(L,_,c,x);s.texture=z}}convertAndCacheOnCPU(t,s){const o=this.texData.get(t),{dtype:c}=o;return this.releaseGPUData(t),null!=s&&(o.values=function(n,r){if("float32"===r||"complex64"===r)return n;if("int32"===r||"bool"===r){const t="int32"===r?new Int32Array(n.length):new Uint8Array(n.length);for(let s=0;s<t.length;++s)t[s]=Math.round(n[s]);return t}throw new Error(`Unknown dtype ${r}`)}(s,c)),o.values}acquireTexture(t,s,o,c){if(this.numBytesInGPU+=this.computeBytes(t,o),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const f=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${f} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(t,s,c)}computeBytes(t,s){return t[0]*t[1]*w.util.bytesPerElement(s)}}return n.nextDataId=0,n})();w.device_util.isBrowser()&&(0,w.registerBackend)("webgl",()=>new eK,2);class yx{constructor(r,t,s){this.variableNames=["A","B"],this.outputShape=w.backend_util.assertAndGetBroadcastShape(t,s),this.enableShapeUniforms=Fp(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${r}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}class k1{constructor(r,t,s,o=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=w.backend_util.assertAndGetBroadcastShape(t,s);const c=this.outputShape.length;this.enableShapeUniforms=Fp(c);let f="";if(o)if(0===c||1===w.util.sizeFromShape(this.outputShape))f="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(f=`\n          ${eo(c)} coords = getOutputCoords();\n        `,1===c)f+=this.enableShapeUniforms?"\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const _=of("coords",c);f+=this.enableShapeUniforms?`\n            bool nextRowOutOfBounds =\n              (${_[c-2]} + 1) >= outShape[${c} - 2];\n            bool nextColOutOfBounds =\n              (${_[c-1]} + 1) >= outShape[${c} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:`\n            bool nextRowOutOfBounds =\n              (${_[c-2]} + 1) >= ${this.outputShape[c-2]};\n            bool nextColOutOfBounds =\n              (${_[c-1]} + 1) >= ${this.outputShape[c-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${r}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${f}\n\n        setOutput(result);\n      }\n    `}}function Kf(n){const{inputs:r,backend:t}=n,{x:s}=r;return t.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const nL={kernelName:w.Identity,backendName:"webgl",kernelFunc:Kf};function I1(n){const{inputs:r,backend:t}=n,{real:s,imag:o}=r,c=t.makeTensorInfo(s.shape,"complex64"),f=t.texData.get(c.dataId),m=Kf({inputs:{x:s},backend:t}),_=Kf({inputs:{x:o},backend:t});return f.complexTensorInfos={real:m,imag:_},c}const rK={kernelName:w.Complex,backendName:"webgl",kernelFunc:I1},Y5="return (a < 0.) ? b * a : a;",Hm="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",HS={kernelName:w.LeakyRelu,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{alpha:c}=s,f=t.makeTensorInfo([],"float32",w.util.createScalarValue(c,"float32")),m=(0,w.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new k1(Hm,o.shape,f.shape):new yx(Y5,o.shape,f.shape),_=t.runWebGLProgram(m,[o,f],"float32");return t.disposeIntermediateTensorInfo(f),_}},rL="return (a < 0.) ? b * a : a;",US="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",ade={kernelName:w.Prelu,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s,alpha:o}=r,c=(0,w.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new k1(US,s.shape,o.shape):new yx(rL,s.shape,o.shape);return t.runWebGLProgram(c,[s,o],"float32")}};function ys({opSnippet:n,packedOpSnippet:r,cpuKernelImpl:t,dtype:s}){return({inputs:o,backend:c})=>{const{x:f}=o,m=c,_=s||f.dtype;if(m.shouldExecuteOnCPU([f])&&null!=t){const T=m.texData.get(f.dataId),L=t(T.values,_);return m.makeTensorInfo(f.shape,_,L)}let E;return E=(0,w.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=r?new T1(f.shape,r):new gx(f.shape,n),m.runWebGLProgram(E,[f],_)}}function gl({opSnippet:n,packedOpSnippet:r,checkOutOfBounds:t=!1,supportsComplex:s=!1,cpuKernelImpl:o,dtype:c}){return({inputs:f,backend:m})=>{const{a:_,b:x}=f,E=m;if(s&&"complex64"===_.dtype){const X=E.texData.get(_.dataId),Q=E.texData.get(x.dataId),[ne,pe]=[[X.complexTensorInfos.real,Q.complexTensorInfos.real],[X.complexTensorInfos.imag,Q.complexTensorInfos.imag]].map(ke=>{const[Ee,He]=ke,at={dataId:Ee.dataId,dtype:Ee.dtype,shape:_.shape},it={dataId:He.dataId,dtype:He.dtype,shape:x.shape},ct=new yx(n,_.shape,x.shape);return E.runWebGLProgram(ct,[at,it],(0,w.upcastType)(Ee.dtype,He.dtype))}),fe=I1({inputs:{real:ne,imag:pe},backend:E});return E.disposeIntermediateTensorInfo(ne),E.disposeIntermediateTensorInfo(pe),fe}const T=c||(0,w.upcastType)(_.dtype,x.dtype);if(("string"===_.dtype||"string"===x.dtype||E.shouldExecuteOnCPU([_,x]))&&null!=o){const X=E.texData.get(_.dataId).values,Q=E.texData.get(x.dataId).values,ne="string"===_.dtype?w.backend_util.fromUint8ToStringArray(X):X,pe="string"===_.dtype?w.backend_util.fromUint8ToStringArray(Q):Q,[fe,ke]=o(_.shape,x.shape,ne,pe,T),Ee=E.makeTensorInfo(ke,T);return E.texData.get(Ee.dataId).values=fe,Ee}let z;return z=(0,w.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=r?new k1(r,_.shape,x.shape,t):new yx(n,_.shape,x.shape),E.runWebGLProgram(z,[_,x],T)}}function vx(n,r=!1){if("linear"===n)return"return x;";if("relu"===n)return r?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n";if("elu"===n)return r?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===n)return r?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n";if("prelu"===n)return r?US:rL;if("leakyrelu"===n)return r?Hm:Y5;if("sigmoid"===n)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}class iL{constructor(r,t,s,o=!1,c=!1,f=!1,m=null,_=!1,x=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s,this.enableShapeUniforms=Fp(this.outputShape.length);const T=Math.ceil((o?r[1]:r[2])/2),L=o?"i * 2, rc.y":"rc.y, i * 2",z=c?"rc.z, i * 2":"i * 2, rc.z",X=o?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],Q=c?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let ne="",pe="";m&&(ne=_?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${m}\n        }`:x?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${m}\n        }`:`vec4 activation(vec4 x) {\n          ${m}\n        }`,pe="result = activation(result);");const fe=f?"result += getBiasAtOutCoords();":"";f&&this.variableNames.push("bias"),_&&this.variableNames.push("preluActivationWeights"),x&&this.variableNames.push("leakyreluAlpha");let ke="rc.x",Ee="rc.x";r[0]<t[0]?ke=`int(min(float(rc.x), ${r[0]-1}.))`:t[0]<r[0]&&(Ee=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${ne}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${T}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${T}; i++) {\n          int batchA = ${ke};\n          int batchB = ${Ee};\n          vec4 a = getMatrixA(batchA, ${L});\n          vec4 b = getMatrixB(batchB, ${z});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${X[0]} * ${Q[0]});\n          result += (${X[1]} * ${Q[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${fe}\n\n        ${pe}\n\n        setOutput(result);\n      }\n    `}}class _r{constructor(r,t,s){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=w.backend_util.assertAndGetBroadcastShape(t,s),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${r}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const d0="return a * b;";function f0(n){const{inputs:r,backend:t}=n,{a:s,b:o}=r,c=w.backend_util.upcastType(s.dtype,o.dtype);if("complex64"===s.dtype){const m=t.texData.get(s.dataId),_=t.texData.get(o.dataId),x=new _r("return areal * breal - aimag * bimag;",s.shape,o.shape),E=new _r("return areal * bimag + aimag * breal;",s.shape,o.shape),T=[{dataId:m.complexTensorInfos.real.dataId,dtype:m.complexTensorInfos.real.dtype,shape:s.shape},{dataId:m.complexTensorInfos.imag.dataId,dtype:m.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:_.complexTensorInfos.real.dataId,dtype:_.complexTensorInfos.real.dtype,shape:o.shape},{dataId:_.complexTensorInfos.imag.dataId,dtype:_.complexTensorInfos.imag.dtype,shape:o.shape}],L=t.runWebGLProgram(x,T,"float32"),z=t.runWebGLProgram(E,T,"float32"),X=I1({inputs:{real:L,imag:z},backend:t});return t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z),X}if(t.shouldExecuteOnCPU([s,o])){const m=t.texData.get(s.dataId),_=t.texData.get(o.dataId),[x,E]=$G(s.shape,o.shape,m.values,_.values,c),T=t.makeTensorInfo(E,c);return t.texData.get(T.dataId).values=x,T}let f;return f=(0,w.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new k1(d0,s.shape,o.shape):new yx(d0,s.shape,o.shape),t.runWebGLProgram(f,[s,o],c)}const h0={kernelName:w.Multiply,backendName:"webgl",kernelFunc:f0};function yr(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{shape:c}=s,f=t,m=w.util.sizeFromShape(o.shape),_=w.util.inferFromImplicitShape(c,m),x=w.util.sizeFromShape(_);w.util.assert(m===x,()=>`The new shape (${_}) has ${x} elements and the old shape (${o.shape}) has ${m} elements. The new shape and old shape must have the same number of elements.`);const E=f.texData.get(o.dataId);return!E.isPacked||PS(o.shape,_)||null!==E.texture&&PS(E.shape,_)?(f.incRef(o.dataId),{dataId:o.dataId,shape:_,dtype:o.dtype}):function(n,r,t){const s=[U_(n.shape),...cx(n.shape)],o={dtype:n.dtype,shape:s,dataId:n.dataId},c=[U_(r),...cx(r)],f=new uf(c,s),x=t.runWebGLProgram(f,[o],n.dtype,[s],!0);return{dataId:x.dataId,shape:r,dtype:x.dtype}}(o,_,f)}const $i={kernelName:w.Reshape,backendName:"webgl",kernelFunc:yr};class Xf{constructor(r,t){this.variableNames=["x"];const{windowSize:s,batchSize:o,inSize:c,outSize:f}=r;this.outputShape=[o,f];const m=4*Math.floor(s/4),_=s%4;let x="sumValue += dot(values, ones);";if(null!=t){const T=1/t;x=`sumValue += dot(values * ${w.util.isInt(T)?T.toPrecision(2):T}, ones);`}let E="";c%s>0&&(E=`\n        if (inIdx < 0 || inIdx >= ${c}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${E}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${s};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${m}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${x}\n        }\n\n        int inIdx = inOffset + ${m};\n        if (${1===_}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${x}\n        } else if (${2===_}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${x}\n        } else if (${3===_}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${x}\n        }\n        setOutput(sumValue);\n      }\n    `}}class Y_{constructor(r,t){this.variableNames=["x"];const{windowSize:s,batchSize:o,inSize:c,outSize:f}=r;this.outputShape=[o,f];let m="0.0",_="";"prod"===t?m="1.0":"min"===t?(m="1.0 / 1e-20",_="min"):"max"===t&&(m="-1.0 / 1e-20",_="max");let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?x="sumValue":"prod"===t?x="prodValue":"all"===t?x="allValue":"any"===t&&(x="anyValue");const E=4*Math.floor(s/4),T=s%4;let L=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${_}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${_}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,z="vec4";"all"===t?(m="1.0",L="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",z="bvec4"):"any"===t&&(m="0.0",L="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",z="bvec4");let X="";c%s>0&&(X=`\n        if (inIdx < 0 || inIdx >= ${c}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${m};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${X}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${s};\n\n        vec4 minMaxValue = vec4(${m});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${E}; i += 4) {\n          int inIdx = inOffset + i;\n          ${z} values = ${z}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${L}\n        }\n\n        int inIdx = inOffset + ${E};\n        if (${1===T}) {\n          ${z} values = ${z}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${L}\n        } else if (${2===T}) {\n          ${z} values = ${z}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${L}\n        } else if (${3===T}) {\n          ${z} values = ${z}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${L}\n        }\n        setOutput(${x});\n      }\n    `}}function G_(n,r,t,s){const o=function(n){const r=[];for(;0===r.length||1!==r[r.length-1].outSize;){const t=r.length?r[r.length-1].outSize:n[1],s=w.backend_util.computeOptimalWindowSize(t);r.push({inSize:t,windowSize:s,outSize:Math.ceil(t/s)})}return r}(n.shape);let c=n;for(let f=0;f<o.length;f++){const{inSize:m,windowSize:_,outSize:x}=o[f];let E,T;E="mean"===t?0===f?new Xf({windowSize:_,inSize:m,batchSize:n.shape[0],outSize:x},m):new Xf({windowSize:_,inSize:m,batchSize:n.shape[0],outSize:x}):new Y_({windowSize:_,inSize:m,batchSize:n.shape[0],outSize:x},t),T=c,c=s.runWebGLProgram(E,[c],r),T.dataId!==n.dataId&&s.disposeIntermediateTensorInfo(T)}return c}class oK{constructor(r,t){this.variableNames=["A"];const s=new Array(r.length);for(let f=0;f<s.length;f++)s[f]=r[t[f]];this.outputShape=s,this.rank=s.length;const o=eo(this.rank),c=function(n){const r=n.length;if(r>6)throw Error(`Transpose for rank ${r} is not yet supported`);const t=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],s=new Array(r);for(let o=0;o<n.length;o++)s[n[o]]=t[o];return s.join()}(t);this.userCode=`\n    void main() {\n      ${o} resRC = getOutputCoords();\n      setOutput(getA(${c}));\n    }\n    `}}class ode{constructor(r,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const s=new Array(r.length);for(let E=0;E<s.length;E++)s[E]=r[t[E]];if(this.outputShape=s,this.rank=s.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const o=eo(this.rank),c=HG("rc",this.rank),f=new Array(this.rank);for(let E=0;E<t.length;E++)f[t[E]]=c[E];const m=`vec2(${f.slice(-2).join()})`,_=`++${c[this.rank-1]} < ${s[this.rank-1]}`,x=`getChannel(getA(${f.join()}), ${m})`;this.userCode=`\n    void main() {\n      ${o} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${x};\n      if(${_}) {\n        result[1] = ${x};\n      }\n      --${c[this.rank-1]};\n      if(++${c[this.rank-2]} < ${s[this.rank-2]}) {\n        result[2] = ${x};\n        if(${_}) {\n          result[3] = ${x};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function Zn(n,r,t){const s=(0,w.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ode(n.shape,r):new oK(n.shape,r);return t.runWebGLProgram(s,[n],n.dtype)}function GS(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s;return function(n,r,t,s){const c=n.shape.length,f=w.util.parseAxisParam(r,n.shape);let m=f;const _=w.backend_util.getAxesPermutation(m,c),x=null!=_;let E=n;x&&(E=Zn(n,_,s),m=w.backend_util.getInnerMostAxes(m.length,c)),w.backend_util.assertAxesAreInnerMostDims("sum",m,c);const[T,L]=w.backend_util.computeOutAndReduceShapes(E.shape,m);let z=T;t&&(z=w.backend_util.expandShapeToKeepDim(T,f));const X=w.util.sizeFromShape(L),pe=yr({inputs:{x:E},attrs:{shape:[w.util.sizeFromShape(n.shape)/X,X]},backend:s}),ke=G_(pe,(0,w.sumOutType)(n.dtype),"sum",s),Ee=yr({inputs:{x:ke},attrs:{shape:z},backend:s});return s.disposeIntermediateTensorInfo(pe),s.disposeIntermediateTensorInfo(ke),x&&s.disposeIntermediateTensorInfo(E),Ee}(o,c,f,t)}const ude={kernelName:w.Sum,backendName:"webgl",kernelFunc:GS};function wd(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{perm:c}=s,f=t,_=new Array(o.shape.length);for(let E=0;E<_.length;E++)_[E]=o.shape[c[E]];let x;if(f.shouldExecuteOnCPU([o])){const T=f.texData.get(o.dataId).values,L=WG(T,o.shape,o.dtype,c,_);x=f.makeTensorInfo(_,o.dtype),f.texData.get(x.dataId).values=L}else x=Zn(o,c,f);return x}const lde={kernelName:w.Transpose,backendName:"webgl",kernelFunc:wd};function KS({a:n,b:r,transposeA:t,transposeB:s,backend:o,bias:c=null,preluActivationWeights:f=null,leakyreluAlpha:m=0,activation:_=null}){const x=n.shape.length,E=r.shape.length,T=t?n.shape[x-2]:n.shape[x-1],L=s?r.shape[E-1]:r.shape[E-2],z=t?n.shape[x-1]:n.shape[x-2],X=s?r.shape[E-2]:r.shape[E-1],Q=n.shape.slice(0,-2),ne=r.shape.slice(0,-2),pe=w.util.sizeFromShape(Q),fe=w.util.sizeFromShape(ne);w.util.assert(x>=2&&E>=2&&(pe===fe||1===pe||1===fe),()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${Q}) and (${ne}).`);const He=(pe>fe?n.shape.slice(0,-2):r.shape.slice(0,-2)).concat([z,X]);w.util.assert(T===L,()=>`Error in matMul: inner shapes (${T}) and (${L}) of Tensors with shapes ${n.shape} and ${r.shape} and transposeA=${t} and transposeB=${s} must match.`);const at=t?[pe,T,z]:[pe,z,T],it=s?[fe,X,L]:[fe,L,X],ct=yr({inputs:{x:n},backend:o,attrs:{shape:at}}),It=yr({inputs:{x:r},backend:o,attrs:{shape:it}}),At=[ct,It],Ht=Math.max(pe,fe),tn=t?ct.shape[1]:ct.shape[2],un=null!=c,sn=null!=f,Zt="leakyrelu"===_,Ut=null!=_?vx(_,!0):null;let Qt;if((1===z||1===X)&&tn>1e3&&!1===(un||sn||Zt||null!=Ut)){let Mn=ct,Pn=It;t&&(Mn=wd({inputs:{x:ct},backend:o,attrs:{perm:[0,2,1]}}),At.push(Mn)),s&&(Pn=wd({inputs:{x:It},backend:o,attrs:{perm:[0,2,1]}}),At.push(Pn));const jn=1===X;let nr=Mn;1!==X&&(nr=yr({inputs:{x:Mn},backend:o,attrs:{shape:[Ht,tn,1]}}),At.push(nr));const rr=1===X?2:1;let pr=Pn;jn&&(pr=yr({inputs:{x:Pn},backend:o,attrs:{shape:[Ht,1,tn]}}),At.push(pr));const Or=f0({inputs:{a:nr,b:pr},backend:o});Qt=GS({inputs:{x:Or},backend:o,attrs:{axis:rr,keepDims:!0}}),At.push(Or)}else{const Mn=(0,w.upcastType)(n.dtype,r.dtype),Pn=new iL(at,it,[Ht,z,X],t,s,un,Ut,sn,Zt),Kn=[ct,It];if(null!=c&&Kn.push(c),sn&&Kn.push(f),Zt){const jn=o.makeTensorInfo([],"float32",w.util.createScalarValue(m,"float32"));Kn.push(jn),At.push(jn)}Qt=o.runWebGLProgram(Pn,Kn,Mn)}const ln=yr({inputs:{x:Qt},backend:o,attrs:{shape:He}});At.push(Qt);for(const Mn of At)o.disposeIntermediateTensorInfo(Mn);return ln}const cde={kernelName:w._FusedMatMul,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{a:o,b:c,bias:f,preluActivationWeights:m}=r,{transposeA:_,transposeB:x,activation:E,leakyreluAlpha:T}=s;return KS({a:o,b:c,transposeA:_,transposeB:x,backend:t,bias:f,preluActivationWeights:m,leakyreluAlpha:T,activation:E})}},N1="return abs(x);",dK={kernelName:w.Abs,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s}=r;if(t.shouldExecuteOnCPU([s])&&"complex64"!==s.dtype){const c=t.texData.get(s.dataId),f=mx(c.values);return t.makeTensorInfo(s.shape,s.dtype,f)}let o;return o=(0,w.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new T1(s.shape,N1):new gx(s.shape,N1),t.runWebGLProgram(o,[s],s.dtype)}},dde=ys({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),p0={kernelName:w.Acos,backendName:"webgl",kernelFunc:dde},J5=ys({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),aL={kernelName:w.Acosh,backendName:"webgl",kernelFunc:J5},fK="return a + b;",hK=gl({opSnippet:fK,packedOpSnippet:fK,supportsComplex:!0,cpuKernelImpl:S1}),oL={kernelName:w.Add,backendName:"webgl",kernelFunc:hK};class bx{constructor(r,t){this.outputShape=[],this.outputShape=r,this.variableNames=t.map((c,f)=>`T${f}`);const s=[];this.variableNames.forEach(c=>{s.push(`float v${c} = get${c}AtOutCoords();`)});const o=this.variableNames.map(c=>`v${c}`).join(" + ");this.userCode=`\n      void main() {\n        ${s.join("\n        ")}\n\n        float result = ${o};\n        setOutput(result);\n      }\n    `}}class fde{constructor(r,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.variableNames=t.map((c,f)=>`T${f}`);const s=[];this.variableNames.forEach(c=>{s.push(`vec4 v${c} = get${c}AtOutCoords();`)});const o=this.variableNames.map(c=>`v${c}`).join(" + ");this.userCode=`\n      void main() {\n        ${s.join("\n        ")}\n\n        vec4 result = ${o};\n        setOutput(result);\n      }\n    `}}const hde={kernelName:w.AddN,backendName:"webgl",kernelFunc:function xx(n){const{inputs:r,backend:t}=n,s=r;if(1===s.length)return Kf({inputs:{x:s[0]},backend:t});if(s.length>(0,w.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const _=Math.floor(s.length/2),x=xx({inputs:s.slice(0,_),backend:t}),E=xx({inputs:s.slice(_),backend:t});return xx({inputs:[x,E],backend:t})}const o=s.map(_=>_.dtype).reduce((_,x)=>(0,w.upcastType)(_,x)),c=s.map(_=>_.shape),m=(0,w.env)().getBool("WEBGL_PACK")?new fde(s[0].shape,c):new bx(s[0].shape,c);return t.runWebGLProgram(m,s,o)}},pK={kernelName:w.All,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s,m=o.shape.length,_=w.util.parseAxisParam(c,o.shape);let x=_;const E=w.backend_util.getAxesPermutation(x,m);let T=o;null!=E&&(T=wd({inputs:{x:o},backend:t,attrs:{perm:E}}),x=w.backend_util.getInnerMostAxes(x.length,m)),w.backend_util.assertAxesAreInnerMostDims("all",x,m);const[L,z]=w.backend_util.computeOutAndReduceShapes(T.shape,x),Q=yr({inputs:{x:T},backend:t,attrs:{shape:[-1,w.util.sizeFromShape(z)]}}),ne=G_(Q,Q.dtype,"all",t);let pe;return pe=yr(f?{inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(L,_)}}:{inputs:{x:ne},backend:t,attrs:{shape:L}}),t.disposeIntermediateTensorInfo(Q),t.disposeIntermediateTensorInfo(ne),null!=E&&t.disposeIntermediateTensorInfo(T),pe}},mK={kernelName:w.Any,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s,m=o.shape.length,_=w.util.parseAxisParam(c,o.shape);let x=_;const E=w.backend_util.getAxesPermutation(x,m);let T=o;null!=E&&(T=wd({inputs:{x:o},backend:t,attrs:{perm:E}}),x=w.backend_util.getInnerMostAxes(x.length,m)),w.backend_util.assertAxesAreInnerMostDims("any",x,m);const[L,z]=w.backend_util.computeOutAndReduceShapes(T.shape,x),Q=yr({inputs:{x:T},backend:t,attrs:{shape:[-1,w.util.sizeFromShape(z)]}}),ne=G_(Q,Q.dtype,"any",t);let pe;return pe=yr(f?{inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(L,_)}}:{inputs:{x:ne},backend:t,attrs:{shape:L}}),t.disposeIntermediateTensorInfo(Q),t.disposeIntermediateTensorInfo(ne),null!=E&&t.disposeIntermediateTensorInfo(T),pe}};class O1{constructor(r,t,s){this.variableNames=["A"];const{windowSize:o,batchSize:c,outSize:f}=r;s||this.variableNames.push("bestIndicesA"),this.outputShape=[c,f],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${o};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${o}; i++) {\n          int inIdx = ${s?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${"max"===t?">":"<"} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class Txe{constructor(r,t,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,w.util.assert(r.length>2,()=>`Packed arg${s.charAt(0).toUpperCase()+s.slice(1)} supports only inputs with rank above 2.`);const f=Math.ceil(r[r.length-1]/t);this.outputShape=r.slice(0,-1),f>1&&this.outputShape.push(f),o||this.variableNames.push("bestIndicesA");const m=this.outputShape,_=m.length,x=eo(_),E=of("coords",_);let T,L;if(1===f){L=_+1;const ct=eo(L);T=`\n        ${ct} sourceLocR = ${ct}(${E.join()}, 0);\n        ++${E[_-1]};\n        ${ct} sourceLocG = ${ct}(${E.join()}, 0);\n        ++${E[_-2]};\n        ${ct} sourceLocA = ${ct}(${E.join()}, 0);\n        --${E[_-1]};\n        ${ct} sourceLocB = ${ct}(${E.join()}, 0);\n        --${E[_-2]};`}else L=_,T=`\n        ${x} sourceLocR = coords;\n        ++${E[_-1]};\n        ${x} sourceLocG = coords;\n        ++${E[_-2]};\n        ${x} sourceLocA = coords;\n        --${E[_-1]};\n        ${x} sourceLocB = coords;\n        --${E[_-2]};`;const z=["x","y","z","w","u","v"].slice(0,L),X="."+z[L-1],Q=z.map(ct=>"int "+ct),ne=of("sourceLocR",L-1).concat("inIdx.r"),pe=of("sourceLocG",L-1).concat("inIdx.g"),fe=of("sourceLocB",L-1).concat("inIdx.b"),ke=of("sourceLocA",L-1).concat("inIdx.a"),Ee="max"===s?"greaterThan":"lessThan",He=o?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${ne.join()}),\n                             getBestIndicesAChannel(${pe.join()}),\n                             getBestIndicesAChannel(${fe.join()}),\n                             getBestIndicesAChannel(${ke.join()})));`,at=`vec4(\n            getAChannel(${ne.join()}),\n            hasNextCol ? getAChannel(${pe.join()}) : 0.,\n            hasNextRow ? getAChannel(${fe.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${ke.join()}) : 0.)`,it=o?"":`\n      float getBestIndicesAChannel(${Q.join()}) {\n        return getChannel(getBestIndicesA(${z.join()}),\n                                          vec2(${z.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${Q.join()}) {\n        return getChannel(getA(${z.join()}),\n                               vec2(${z.slice(-2).join()}));\n      }\n      ${it}\n      void main() {\n        ${x} coords = getOutputCoords();\n        bool hasNextCol = ${E[_-1]} < ${m[_-1]-1};\n        bool hasNextRow = ${E[_-2]} < ${m[_-2]-1};\n        ${T}\n        ivec4 srcIdx = ivec4(sourceLocR${X}, sourceLocG${X},\n          sourceLocB${X}, sourceLocA${X}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${at};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${He}\n          vec4 candidate = ${at};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${Ee}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function Ru(n,r,t,s=null){let o=r.shape[0],c=r.shape[1];null!=s&&(o=s.shape[0],c=s.shape[1]);const f=w.backend_util.computeOptimalWindowSize(c),m={windowSize:f,inSize:c,batchSize:o,outSize:Math.ceil(c/f)},_=new O1(m,t,null==s),x=[r];null!=s&&x.push(s);const E=n.runWebGLProgram(_,x,"int32");if(1===E.shape[1])return E;const T=Ru(n,r,t,E);return n.disposeIntermediateTensorInfo(E),T}function q5(n,r,t,s=null){const o=null!=s?s.shape:r.shape,f=w.backend_util.computeOptimalWindowSize(o[o.length-1]),m=new Txe(o,f,t,null==s),x=n.runWebGLProgram(m,null==s?[r]:[r,s],"int32");if(x.shape.length===r.shape.length){const E=q5(n,r,t,x);return n.disposeIntermediateTensorInfo(x),E}return x}function dC(n,r,t,s){const o=[t];if(w.backend_util.assertAxesAreInnerMostDims("arg"+s.charAt(0).toUpperCase()+s.slice(1),o,r.shape.length),!(0,w.env)().getBool("WEBGL_PACK_REDUCE")||r.shape.length<=2){const c=[],f=n.texData.get(r.dataId);let _=r;null!==f&&f.isPacked&&(_=n.unpackTensor(r),c.push(_));const[x,E]=w.backend_util.computeOutAndReduceShapes(_.shape,o),T=w.util.sizeFromShape(E),L=yr({inputs:{x:_},backend:n,attrs:{shape:[-1,T]}});c.push(L);const z=Ru(n,L,s);c.push(z);const X=yr({inputs:{x:z},backend:n,attrs:{shape:x}});return c.forEach(Q=>n.disposeIntermediateTensorInfo(Q)),X}return q5(n,r,s)}const gK={kernelName:w.ArgMax,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c}=s;let f=w.util.parseAxisParam(c,o.shape);const m=w.backend_util.getAxesPermutation(f,o.shape.length);let _=o;const x=[];null!=m&&(_=wd({inputs:{x:o},backend:t,attrs:{perm:m}}),x.push(_),f=w.backend_util.getInnerMostAxes(f.length,_.shape.length)),w.backend_util.assertAxesAreInnerMostDims("argMax",[f[0]],_.shape.length);const E=dC(t,_,f[0],"max");return x.forEach(T=>t.disposeIntermediateTensorInfo(T)),E}},Dx={kernelName:w.ArgMin,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c}=s;let f=w.util.parseAxisParam(c,o.shape);const m=w.backend_util.getAxesPermutation(f,o.shape.length);let _=o;const x=[];null!=m&&(_=wd({inputs:{x:o},backend:t,attrs:{perm:m}}),x.push(_),f=w.backend_util.getInnerMostAxes(f.length,_.shape.length)),w.backend_util.assertAxesAreInnerMostDims("argMin",[f[0]],_.shape.length);const E=dC(t,_,f[0],"min");return x.forEach(T=>t.disposeIntermediateTensorInfo(T)),E}},_K=ys({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),yK={kernelName:w.Asin,backendName:"webgl",kernelFunc:_K},bK=ys({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),xK={kernelName:w.Asinh,backendName:"webgl",kernelFunc:bK},e8=ys({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),t8={kernelName:w.Atan,backendName:"webgl",kernelFunc:e8},_de=gl({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),n8={kernelName:w.Atan2,backendName:"webgl",kernelFunc:_de},wK=ys({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),yde={kernelName:w.Atanh,backendName:"webgl",kernelFunc:wK};class Cx{constructor(r,t,s,o=!1,c=!1){if(this.variableNames=["x"],"avg"===t&&s)throw new Error("Cannot compute positions for average pool.");const f=r.filterWidth,m=r.strideHeight,_=r.strideWidth,x=r.dilationHeight,E=r.dilationWidth,T=r.effectiveFilterHeight,L=r.effectiveFilterWidth,z=r.padInfo.top,X=r.padInfo.left;this.outputShape=r.outShape;const Q="avg"===t;let fe="0.0";if(Q||(fe="-1.0 / 1e-20"),s)return void(this.userCode=`\n        const ivec2 strides = ivec2(${m}, ${_});\n        const ivec2 pads = ivec2(${z}, ${X});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${T};\n              wR += ${x}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${r.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${L};\n                wC += ${E}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${r.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${o?c?`((batch  * ${r.inHeight} + xR) * ${r.inWidth} + xC) * ${r.inChannels} + d`:`(xR * ${r.inWidth} + xC) * ${r.inChannels} + d`:`wR * ${L} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let Ee=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(Ee="avgValue / count");const He=4*Math.floor(f/4),at=f%4,it=`\n      if (${Q}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${m}, ${_});\n      const ivec2 pads = ivec2(${z}, ${X});\n      const float initializationValue = ${fe};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${r.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${fe});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${T};\n            wR += ${x}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${r.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${He}; wC += 4) {\n            int xC = xCCorner + wC * ${E};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${E}, d),\n              getValue(batch, xR, xC + 2 * ${E}, d),\n              getValue(batch, xR, xC + 3 * ${E}, d)\n            );\n\n            ${it}\n          }\n\n          int xC = xCCorner + ${He};\n          if (${1===at}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${it}\n          } else if (${2===at}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${E}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${it}\n          } else if (${3===at}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${E}, d),\n              getValue(batch, xR, xC + 2 * ${E}, d),\n              initializationValue\n            );\n\n            ${it}\n          }\n        }\n        setOutput(${Ee});\n      }\n    `}}class lL{constructor(r,t,s,o=!1,c=!1){if(this.variableNames=["x"],"avg"===t&&s)throw new Error("Cannot compute positions for average pool.");const f=r.filterWidth,m=r.strideDepth,_=r.strideHeight,x=r.strideWidth,E=r.dilationDepth,T=r.dilationHeight,L=r.dilationWidth,z=r.effectiveFilterDepth,X=r.effectiveFilterHeight,Q=r.effectiveFilterWidth,ne=r.padInfo.front,pe=r.padInfo.top,fe=r.padInfo.left;this.outputShape=r.outShape;const ke="avg"===t;let Ee="0.0";if(ke||(Ee="-1.0 / 1e-20"),s)return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${m}, ${_}, ${x});\n        const ivec3 pads = ivec3(${ne}, ${pe}, ${fe});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${z};\n              wD += ${E}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${r.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${X};\n                wR += ${T}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${r.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${Q};\n                  wC += ${L}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${r.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${o?c?`(((batch * ${r.inDepth} + xD) * ${r.inHeight} + xR) * ${r.inWidth} + xC) * ${r.inChannels} + ch`:`((xD * ${r.inHeight} + xR) * ${r.inWidth} + xC) * ${r.inChannels} + ch`:`wD * ${X} * ${Q} +\n                      wR * ${Q} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let at=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(at="avgValue / count");const it=4*Math.floor(f/4),ct=f%4,It=`\n      if (${ke}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${m}, ${_}, ${x});\n      const ivec3 pads = ivec3(${ne}, ${pe}, ${fe});\n      const float initializationValue = ${Ee};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${r.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${Ee});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${z};\n            wD += ${E}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${r.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${X};\n            wR += ${T}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${r.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${it}; wC += 4) {\n              int xC = xCCorner + wC * ${L};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${L}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${L}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${L}, ch)\n              );\n\n              ${It}\n            }\n\n            int xC = xCCorner + ${it};\n            if (${1===ct}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${It}\n            } else if (${2===ct}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${L}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${It}\n            } else if (${3===ct}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${L}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${L}, ch),\n                initializationValue\n              );\n\n              ${It}\n            }\n          }\n          setOutput(${at});\n        }\n      }\n    `}}const CK={kernelName:w.AvgPool,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r;$S(o,"avgPool");const{filterSize:c,strides:f,pad:m,dimRoundingMode:_}=s;w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(f,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${f} and dilations '1'`);const E=w.backend_util.computePool2DInfo(o.shape,c,f,1,m,_);if(1===E.filterWidth&&1===E.filterHeight&&w.util.arraysEqual(E.inShape,E.outShape))return Kf({inputs:{x:o},backend:t});const T=new Cx(E,"avg",!1);return t.runWebGLProgram(T,[o],"float32")}},cL={kernelName:w.AvgPool3D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{filterSize:c,strides:f,pad:m,dimRoundingMode:_,dataFormat:x}=s,T=w.backend_util.computePool3DInfo(o.shape,c,f,[1,1,1],m,_,x),L=new lL(T,"avg",!1);return t.runWebGLProgram(L,[o],"float32")}};class MK{constructor(r){this.variableNames=["dy"],this.outputShape=r.inShape;const _=r.effectiveFilterHeight,x=r.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${_-1-r.padInfo.top}, ${x-1-r.padInfo.left});\n      const float avgMultiplier = float(${1/(r.filterHeight*r.filterWidth)});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${_};\n            wR += ${r.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${r.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${x};\n            wC+= ${r.dilationWidth}) {\n            float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class dL{constructor(r){this.variableNames=["dy"],this.outputShape=r.inShape;const T=r.effectiveFilterDepth,L=r.effectiveFilterHeight,z=r.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${T-1-r.padInfo.front}, ${L-1-r.padInfo.top}, ${z-1-r.padInfo.left});\n      const float avgMultiplier = float(${1/(r.filterDepth*r.filterHeight*r.filterWidth)});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${T};\n            wD += ${r.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${r.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${r.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${L};\n              wR += ${r.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${r.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${z};\n                wC += ${r.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const bde={kernelName:w.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c}=r,f=c,{filterSize:m,strides:_,pad:x,dimRoundingMode:E}=s,L=w.backend_util.computePool3DInfo(f.shape,m,_,[1,1,1],x,E),z=new dL(L);return t.runWebGLProgram(z,[o],f.dtype)}},AK={kernelName:w.AvgPoolGrad,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c}=r,f=c;$S([o,c],"avgPoolGrad");const{filterSize:m,strides:_,pad:x}=s,E=w.backend_util.computePool2DInfo(f.shape,m,_,1,x),T=new MK(E);return t.runWebGLProgram(T,[o],f.dtype)}},xde={kernelName:w.BatchMatMul,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{a:o,b:c}=r,{transposeA:f,transposeB:m}=s;return KS({a:o,b:c,transposeA:f,transposeB:m,backend:t})}};class i8{constructor(r,t,s,o,c,f){this.outputShape=[],this.variableNames=["x","mean","variance"],w.backend_util.assertAndGetBroadcastShape(r,t),w.backend_util.assertAndGetBroadcastShape(r,s);let m="0.0";null!=o&&(w.backend_util.assertAndGetBroadcastShape(r,o),this.variableNames.push("offset"),m="getOffsetAtOutCoords()");let _="1.0";null!=c&&(w.backend_util.assertAndGetBroadcastShape(r,c),this.variableNames.push("scale"),_="getScaleAtOutCoords()"),this.outputShape=r,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${m};\n        float scale = ${_};\n        float inv = scale * inversesqrt(variance + float(${f}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class Dde{constructor(r,t,s,o,c,f){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],w.backend_util.assertAndGetBroadcastShape(r,t),w.backend_util.assertAndGetBroadcastShape(r,s);let m="vec4(0.0)";null!=o&&(w.backend_util.assertAndGetBroadcastShape(r,o),this.variableNames.push("offset"),m="getOffsetAtOutCoords()");let _="vec4(1.0)";null!=c&&(w.backend_util.assertAndGetBroadcastShape(r,c),this.variableNames.push("scale"),_="getScaleAtOutCoords()"),this.outputShape=r,this.userCode=`\n      void main() {\n        vec4 offset = ${m};\n        vec4 scale = ${_};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${f}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const kK={kernelName:w.FusedBatchNorm,backendName:"webgl",kernelFunc:({inputs:n,backend:r,attrs:t})=>{const{x:s,mean:o,variance:c,offset:f,scale:m}=n;w.util.assert(o.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),w.util.assert(null==f||o.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),w.util.assert(null==m||o.shape.length===m.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:_}=t;null==_&&(_=.001);const x=[s,o,c];let E=null;null!=f&&(E=f.shape,x.push(f));let T=null;null!=m&&(T=m.shape,x.push(m));const L=(0,w.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Dde(s.shape,o.shape,c.shape,E,T,_):new i8(s.shape,o.shape,c.shape,E,T,_);return r.runWebGLProgram(L,x,x[0].dtype)}};class Cde{constructor(r){this.variableNames=["source"],this.outputShape=r,this.rank=r.length;const t=eo(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const s=function(n){if(1===n)return"sourceLoc";if(n<=6)return s8.slice(0,n).map(r=>"sourceLoc."+r).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}(this.rank);let o;o=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${r.map((f,m)=>`sourceLoc.${s8[m]} = start[${m}] + coords.${s8[m]};`).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${o}\n        setOutput(getSource(${s}));\n      }\n    `}}const s8=["x","y","z","w","u","v"];class Mde{constructor(r){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.rank=r.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=eo(this.rank),s=of("coords",this.rank),o=of("sourceLoc",this.rank),c=1===this.rank?"sourceLoc":`vec2(${o.slice(-2).join()})`,f=`getChannel(getSource(${o.join()}), ${c})`,m=`\n      result.x = ${f};\n      if (++${s[this.rank-1]} < ${r[this.rank-1]}) {\n        ++${o[this.rank-1]};\n        result.y = ${f};\n        --${o[this.rank-1]};\n      }\n    `,_=1===this.rank?"":`\n      --${s[this.rank-1]};\n      if (++${s[this.rank-2]} < ${r[this.rank-2]}) {\n        ++${o[this.rank-2]};\n        result.z = ${f};\n        if (++${s[this.rank-1]} < ${r[this.rank-1]}) {\n          ++${o[this.rank-1]};\n          result.w = ${f};\n        }\n      }\n    `,x=this.rank<=4?`sourceLoc = coords +\n            ${t}(${r.map((E,T)=>`start[${T}]`).join()});`:r.map((E,T)=>`${o[T]} = ${s[T]} + start[${T}];`).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${x}\n        vec4 result = vec4(0.);\n        ${m}\n        ${_}\n        setOutput(result);\n      }\n    `}}function fC(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{begin:c,size:f}=s,[m,_]=w.slice_util.parseSliceParams(o,c,f);if(w.slice_util.assertParamsValid(o,m,_),0===w.util.sizeFromShape(_))return t.makeTensorInfo(_,o.dtype,[]);if(t.shouldExecuteOnCPU([o])||"string"===o.dtype){const T=t.texData.get(o.dataId),L=z5(T.values,m,_,o.shape,o.dtype);return t.makeTensorInfo(_,o.dtype,L)}const{isPacked:x}=t.texData.get(o.dataId),E=w.slice_util.isSliceContinous(o.shape,m,_);if(x||!E){const T=(0,w.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Mde(_):new Cde(_);return t.runWebGLProgram(T,[o],o.dtype,[m])}return t.uploadToGPU(o.dataId),function(n,r,t,s){const o=s.texData.get(n.dataId),c=s.makeTensorInfo(t,n.dtype),f=s.texData.get(c.dataId);Object.assign(f,o),f.refCount=1,f.shape=t,f.dtype=n.dtype;let m=w.slice_util.computeFlatOffset(r,w.util.computeStrides(n.shape));o.slice&&(m+=o.slice.flatOffset),f.slice={flatOffset:m,origDataId:o.slice&&o.slice.origDataId||n.dataId};const _=s.dataRefCount.get(f.slice.origDataId)||1;return s.dataRefCount.set(f.slice.origDataId,_+1),c}(o,m,_,t)}const NK={kernelName:w.Slice,backendName:"webgl",kernelFunc:fC},Sde={kernelName:w.BatchToSpaceND,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{blockShape:c,crops:f}=s;w.util.assert(o.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const m=c.reduce((fe,ke)=>fe*ke),_=w.backend_util.getReshaped(o.shape,c,m),x=w.backend_util.getPermuted(_.length,c.length),E=w.backend_util.getReshapedPermuted(o.shape,c,m),T=w.backend_util.getSliceBeginCoords(f,c.length),L=w.backend_util.getSliceSize(E,f,c.length),z=[],X=yr({inputs:{x:o},backend:t,attrs:{shape:_}}),Q=wd({inputs:{x:X},backend:t,attrs:{perm:x}}),ne=yr({inputs:{x:Q},backend:t,attrs:{shape:E}}),pe=fC({inputs:{x:ne},backend:t,attrs:{begin:T,size:L}});return z.push(X),z.push(Q),z.push(ne),z.forEach(fe=>t.disposeIntermediateTensorInfo(fe)),pe}},OK={kernelName:w.Bincount,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,weights:c}=r,{size:f}=s,m=t.readSync(o.dataId),_=t.readSync(c.dataId),x=OG(m,_,c.dtype,c.shape,f);return t.makeTensorInfo([f],c.dtype,x)}},u8={kernelName:w.BroadcastArgs,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{s0:s,s1:o}=r,c=t.readSync(s.dataId),f=t.readSync(o.dataId),m=w.backend_util.assertAndGetBroadcastShape(Array.from(c),Array.from(f));return t.makeTensorInfo([m.length],"int32",Int32Array.from(m))}},LK=gl({opSnippet:"return float(a != b);",cpuKernelImpl:Pce,dtype:"bool"}),Tde={kernelName:w.NotEqual,backendName:"webgl",kernelFunc:LK};function hC(n){const{inputs:r,backend:t}=n,{input:s}=r;return Kf({inputs:{x:t.texData.get(s.dataId).complexTensorInfos.real},backend:t})}const kde={kernelName:w.Real,backendName:"webgl",kernelFunc:hC},pC={kernelName:w.Cast,backendName:"webgl",kernelFunc:function PK(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{dtype:c}=s;if("complex64"===c){if("complex64"===o.dtype)return Kf({inputs:{x:o},backend:t});const f=w.zeros(o.shape),m=PK({inputs:{x:o},backend:t,attrs:{dtype:"float32"}}),_=I1({inputs:{real:m,imag:f},backend:t});return f.dispose(),t.disposeIntermediateTensorInfo(m),_}if("complex64"===o.dtype){const f=hC({inputs:{input:o},backend:t}),m=PK({inputs:{x:f},backend:t,attrs:{dtype:c}});return t.disposeIntermediateTensorInfo(f),m}if(!w.util.hasEncodingLoss(o.dtype,c)){const f=Kf({inputs:{x:o},backend:t});return{dataId:f.dataId,shape:f.shape,dtype:c}}if("int32"===c)return function(n,r){const t=new gx(n.shape,"return float(int(x));"),s=r.runWebGLProgram(t,[n],"int32");return{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}(o,t);if("bool"===c){const f=t.makeTensorInfo([],"bool",w.util.getTypedArrayFromDType("bool",1)),_=LK({inputs:{a:o,b:f},backend:t});return t.disposeIntermediateTensorInfo(f),_}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${c}`)}},RK="return ceil(x);",l8=ys({opSnippet:RK,packedOpSnippet:RK,cpuKernelImpl:A1}),c8={kernelName:w.Ceil,backendName:"webgl",kernelFunc:l8};class Nde{constructor(r){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=r,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class d8{constructor(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=r,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const f8={kernelName:w.ClipByValue,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{clipValueMin:c,clipValueMax:f}=s;let m;return m=(0,w.env)().getBool("WEBGL_PACK_CLIP")?new d8(o.shape):new Nde(o.shape),t.runWebGLProgram(m,[o],o.dtype,[[c],[f]])}};class m0{constructor(r){this.variableNames=["real","imag"],this.outputShape=r,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function h8(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}}const kxe={kernelName:w.ComplexAbs,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s}=r,o=t.texData.get(s.dataId),c=new m0(s.shape),f=[h8(s,o.complexTensorInfos.real),h8(s,o.complexTensorInfos.imag)];return t.runWebGLProgram(c,f,f[0].dtype)}};class Ode{constructor(r){this.outputShape=[],this.outputShape=w.backend_util.computeOutShape(r,1),this.variableNames=r.map((f,m)=>`T${m}`);const t=new Array(r.length-1);t[0]=r[0][1];for(let f=1;f<t.length;f++)t[f]=t[f-1]+r[f][1];const s=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let f=1;f<t.length;f++)s.push(`else if (yC < ${t[f]}) setOutput(getT${f}(yR, yC-${t[f-1]}));`);s.push(`else setOutput(getT${t.length}(yR, yC-${t[t.length-1]}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${s.join("\n        ")}\n      }\n    `}}class Lde{constructor(r,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=w.backend_util.computeOutShape(r,t);const s=this.outputShape,o=s.length,c=eo(o),f=of("coords",o),m=["x","y","z","w","u","v"].slice(0,o);this.variableNames=r.map((Q,ne)=>`T${ne}`);const _=new Array(r.length-1);_[0]=r[0][t];for(let Q=1;Q<_.length;Q++)_[Q]=_[Q-1]+r[Q][t];const x=m[t],E=m.slice(-2),T=m.join();let L=`if (${x} < ${_[0]}) {\n        return getChannel(\n            getT0(${T}), vec2(${E.join()}));\n        }`;for(let Q=1;Q<_.length;Q++){const ne=_[Q-1];L+=`\n        if (${x} < ${_[Q]}  && ${x} >= ${_[Q-1]}) {\n          return getChannel(\n            getT${Q}(${mC(m,x,ne)}),\n            vec2(${mC(E,x,ne)}));\n        }`}const X=_[_.length-1];L+=`\n        return getChannel(\n          getT${_.length}(${mC(m,x,X)}),\n          vec2(${mC(E,x,X)}));`,this.userCode=`\n      float getValue(${m.map(Q=>"int "+Q)}) {\n        ${L}\n      }\n\n      void main() {\n        ${c} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${f}), 0., 0., 0.);\n\n        ${f[o-1]} = ${f[o-1]} + 1;\n        if (${f[o-1]} < ${s[o-1]}) {\n          result.g = getValue(${f});\n        }\n\n        ${f[o-2]} = ${f[o-2]} + 1;\n        if (${f[o-2]} < ${s[o-2]}) {\n          result.a = getValue(${f});\n        }\n\n        ${f[o-1]} = ${f[o-1]} - 1;\n        if (${f[o-2]} < ${s[o-2]} &&\n            ${f[o-1]} < ${s[o-1]}) {\n          result.b = getValue(${f});\n        }\n        setOutput(result);\n      }\n    `}}function mC(n,r,t){const s=n.indexOf(r);return n.map((c,f)=>f===s?`${c} - ${t}`:c).join()}function Ex(n){const{inputs:r,backend:t}=n,{input:s}=r;return Kf({inputs:{x:t.texData.get(s.dataId).complexTensorInfos.imag},backend:t})}const ZS={kernelName:w.Imag,backendName:"webgl",kernelFunc:Ex};function L1(n,r,t){const s=n[0].dtype;if("complex64"===s){const E=n.map(Q=>hC({inputs:{input:Q},backend:t})),T=n.map(Q=>Ex({inputs:{input:Q},backend:t})),L=L1(E,r,t),z=L1(T,r,t),X=I1({inputs:{real:L,imag:z},backend:t});return E.forEach(Q=>t.disposeIntermediateTensorInfo(Q)),T.forEach(Q=>t.disposeIntermediateTensorInfo(Q)),t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z),X}let o=t.shouldExecuteOnCPU(n);if("string"===s&&(o=!0),o){const E=n.map(pe=>{const fe=w.util.sizeFromShape(pe.shape.slice(r));return yr({inputs:{x:pe},backend:t,attrs:{shape:[-1,fe]}})}),T=E.map(pe=>({vals:t.readSync(pe.dataId),shape:pe.shape})),L=w.backend_util.computeOutShape(E.map(pe=>pe.shape),1),X=Dxe(T,L,s,1===E[0].shape[0]),Q=w.backend_util.computeOutShape(n.map(pe=>pe.shape),r),ne=t.makeTensorInfo(Q,s,X);return E.forEach(pe=>t.disposeIntermediateTensorInfo(pe)),ne}if(n.length>(0,w.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const E=Math.floor(n.length/2),T=L1(n.slice(0,E),r,t),L=L1(n.slice(E),r,t),z=L1([T,L],r,t);return t.disposeIntermediateTensorInfo(T),t.disposeIntermediateTensorInfo(L),z}if((0,w.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].shape.length>1){const E=new Lde(n.map(T=>T.shape),r);return t.runWebGLProgram(E,n,s)}const{tensors2D:c,outShape:f}=function(n,r,t){const s=w.backend_util.computeOutShape(n.map(c=>c.shape),r);return{tensors2D:n.map(c=>yr({inputs:{x:c},attrs:{shape:[-1,w.util.sizeFromShape(c.shape.slice(r))]},backend:t})),outShape:s}}(n,r,t),m=new Ode(c.map(E=>E.shape)),_=t.runWebGLProgram(m,c,s);c.forEach(E=>t.disposeIntermediateTensorInfo(E));const x=yr({inputs:{x:_},attrs:{shape:f},backend:t});return t.disposeIntermediateTensorInfo(_),x}function Pde(n){const{inputs:r,backend:t,attrs:s}=n,{axis:o}=s,c=w.util.parseAxisParam(o,r[0].shape)[0],f=w.backend_util.computeOutShape(r.map(x=>x.shape),c);if(0===w.util.sizeFromShape(f))return t.makeTensorInfo(f,r[0].dtype,[]);const m=r.filter(x=>w.util.sizeFromShape(x.shape)>0);if(1===m.length)return Kf({inputs:{x:m[0]},backend:t});const _=m.map(x=>x.shape);return w.backend_util.assertParamsConsistent(_,c),L1(m,c,t)}const Rde={kernelName:w.Concat,backendName:"webgl",kernelFunc:Pde};class g0{constructor(r,t=!1,s=null,o=!1,c=!1){this.variableNames=["x","W"],this.outputShape=r.outShape;const f=r.padInfo.top,m=r.padInfo.left,_=r.strideHeight,x=r.strideWidth,E=r.dilationHeight,T=r.dilationWidth,L=r.filterHeight,z=r.filterWidth,X=4*Math.floor(r.inChannels/4),Q=r.inChannels%4,ne="channelsLast"===r.dataFormat,pe=ne?1:2,fe=ne?2:3,ke=ne?3:1;let Ee="",He="";s&&(Ee=o?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:c?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`\n          float activation(float x) {\n            ${s}\n          }\n        `,He="result = activation(result);");const at=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${Ee}\n\n      const ivec2 strides = ivec2(${_}, ${x});\n      const ivec2 pads = ivec2(${f}, ${m});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${ke}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${pe}], coords[${fe}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${L}; wR++) {\n          int xR = xRCorner + wR * ${E};\n\n          if (xR < 0 || xR >= ${r.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${z}; wC++) {\n            int xC = xCCorner + wC * ${T};\n\n            if (xC < 0 || xC >= ${r.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${X}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${ne}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===Q}) {\n\n              if (${ne}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${X}) *\n                    getW(wR, wC, ${X}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${X}, xR, xC) *\n                    getW(wR, wC, ${X}, d2);\n              }\n\n            } else if (${2===Q}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${X}, d2),\n                getW(wR, wC, ${X} + 1, d2)\n              );\n\n              if (${ne}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${X}),\n                  getX(batch, xR, xC, ${X} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${X}, xR, xC),\n                  getX(batch, ${X} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===Q}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${X}, d2),\n                getW(wR, wC, ${X} + 1, d2),\n                getW(wR, wC, ${X} + 2, d2)\n              );\n\n              if (${ne}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${X}),\n                  getX(batch, xR, xC, ${X} + 1),\n                  getX(batch, xR, xC, ${X} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${X}, xR, xC),\n                  getX(batch, ${X} + 1, xR, xC),\n                  getX(batch, ${X} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${at}\n        ${He}\n        setOutput(result);\n      }\n    `}}class $K{constructor(r){this.variableNames=["x","W"],this.outputShape=r.outShape;const t=r.padInfo.front,s=r.padInfo.top,o=r.padInfo.left,c=r.strideDepth,f=r.strideHeight,m=r.strideWidth,_=r.dilationDepth,x=r.dilationHeight,E=r.dilationWidth,T=r.filterDepth,L=r.filterHeight,z=r.filterWidth,X=4*Math.floor(r.inChannels/4),Q=r.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${c}, ${f}, ${m});\n      const ivec3 pads = ivec3(${t}, ${s}, ${o});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${T}; wF++) {\n          int xF = xFCorner + wF * ${_};\n\n          if (xF < 0 || xF >= ${r.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${L}; wR++) {\n            int xR = xRCorner + wR * ${x};\n\n            if (xR < 0 || xR >= ${r.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${z}; wC++) {\n              int xC = xCCorner + wC * ${E};\n\n              if (xC < 0 || xC >= ${r.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${X}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===Q}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${X}) *\n                  getW(wF, wR, wC, ${X}, d2);\n              } else if (${2===Q}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${X}),\n                  getX(batch, xF, xR, xC, ${X} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${X}, d2),\n                  getW(wF, wR, wC, ${X} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===Q}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${X}),\n                  getX(batch, xF, xR, xC, ${X} + 1),\n                  getX(batch, xF, xR, xC, ${X} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${X}, d2),\n                  getW(wF, wR, wC, ${X} + 1, d2),\n                  getW(wF, wR, wC, ${X} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class VK{constructor(r,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=r,this.enableShapeUniforms=Fp(this.outputShape.length);const{dataFormat:s}=t,o=jc(),c="channelsLast"===s,f=c?0:1,m=c?1:2,_=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${r[1]} && pos < ${r[0]}) {`;let x="";for(let E=0;E<=1;E++)for(let T=0;T<=1;T++)x+=`\n          blockIndex = rc.y + ${T};\n          pos = rc.x + ${E};\n\n          ${_}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${f}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${m}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${c}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*E+T}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*E+T}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${x}\n\n        ${o.output} = result;\n      }\n    `}}function zK({x:n,filter:r,convInfo:t,backend:s,bias:o=null,preluActivationWeights:c=null,leakyreluAlpha:f=0,activation:m=null}){const _=n.shape,x=s.texData.get(n.dataId),z="channelsLast"===t.dataFormat;let ne;const pe=[];if((1!=_[0]*_[1]*_[2]&&1!==t.outChannels||!(t.inChannels>1e3))&&x.isPacked&&z&&null!=x.texture&&_[2]%2!=0&&w.util.arraysEqual(x.shape.slice(-3),_.slice(-3))){const He={dataId:n.dataId,shape:[1,_[0]*_[1]*(_[2]+1),t.inChannels],dtype:n.dtype},at=x.shape;x.shape=x.shape.slice(),x.shape[x.shape.length-2]++,w.util.assert(PS(x.shape,He.shape),()=>`packed reshape ${x.shape} to ${He.shape} isn't free`);const it=yr({inputs:{x:r},backend:s,attrs:{shape:[1,t.inChannels,t.outChannels]}});pe.push(it);const ct=KS({a:He,b:it,backend:s,transposeA:!1,transposeB:!1,bias:o,activation:m,preluActivationWeights:c,leakyreluAlpha:f}),It=s.texData.get(ct.dataId);w.util.assert(It.isPacked,()=>"batchMatMul result is expected to be packed"),x.shape=at,It.shape=t.outShape,ne=Kf({inputs:{x:ct},backend:s}),ne.shape=t.outShape,pe.push(ct)}else{const He=yr({inputs:{x:n},backend:s,attrs:{shape:[1,z?_[0]*_[1]*_[2]:_[0]*_[2]*_[3],t.inChannels]}}),at=yr({inputs:{x:r},backend:s,attrs:{shape:[1,t.inChannels,t.outChannels]}}),it=KS({a:He,b:at,transposeA:!1,transposeB:!1,backend:s,bias:o,activation:m,preluActivationWeights:c,leakyreluAlpha:f});ne=yr({inputs:{x:it},backend:s,attrs:{shape:t.outShape}}),pe.push(He),pe.push(at),pe.push(it)}for(const Ee of pe)s.disposeIntermediateTensorInfo(Ee);return ne}function jK({x:n,filter:r,convInfo:t,backend:s,bias:o=null,preluActivationWeights:c=null,leakyreluAlpha:f=0,activation:m=null}){const{filterWidth:_,filterHeight:x,inChannels:E,outWidth:T,outHeight:L,dataFormat:z}=t,X="channelsLast"===z,Q=_*x*E,ne=L*T,pe=[Q,ne],Ee=[],He=yr({inputs:{x:n},backend:s,attrs:{shape:n.shape.slice(1)}}),at=yr({inputs:{x:r},backend:s,attrs:{shape:[1,Q,w.util.sizeFromShape(r.shape)/Q]}});Ee.push(He),Ee.push(at);const it=new VK(pe,t),It=s.runWebGLProgram(it,[He],"float32",[He.shape,[t.padInfo.top,t.padInfo.left],[t.strideHeight,t.strideWidth],[t.dilationHeight,t.dilationWidth],[t.inChannels],[t.filterWidth*t.inChannels],[t.outWidth]]),At=yr({inputs:{x:It},backend:s,attrs:{shape:[1,pe[0],pe[1]]}});Ee.push(It),Ee.push(At);const Ht=null!=o,tn=null!=c,un="leakyrelu"===m,sn=m?vx(m,!0):null,Zt=new iL(At.shape,at.shape,[1,ne,t.outChannels],!0,!1,Ht,sn,tn,un),Ut=[At,at];if(o&&Ut.push(o),tn&&Ut.push(c),un){const Mn=s.makeTensorInfo([],"float32",w.util.createScalarValue(f,"float32"));Ut.push(Mn),Ee.push(Mn)}const Jt=s.runWebGLProgram(Zt,Ut,"float32"),ln=yr({inputs:{x:Jt},backend:s,attrs:{shape:X?[1,L,T,t.outChannels]:[1,t.outChannels,L,T]}});Ee.push(Jt);for(const Mn of Ee)s.disposeIntermediateTensorInfo(Mn);return ln}const WK={kernelName:w.Conv2D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dataFormat:_,dilations:x,dimRoundingMode:E}=s,T=w.backend_util.convertConv2DDataFormat(_),L=w.backend_util.computeConv2DInfo(o.shape,c.shape,f,x,m,E,!1,T);let z;if(1!==L.filterHeight||1!==L.filterWidth||1!==L.dilationHeight||1!==L.dilationWidth||1!==L.strideHeight||1!==L.strideWidth||"SAME"!==L.padInfo.type&&"VALID"!==L.padInfo.type)if((0,w.env)().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])z=jK({x:o,filter:c,convInfo:L,backend:t});else{const Q=new g0(L);z=t.runWebGLProgram(Q,[o,c],"float32")}else z=zK({x:o,filter:c,convInfo:L,backend:t});const X=yr({inputs:{x:z},backend:t,attrs:{shape:L.outShape}});return t.disposeIntermediateTensorInfo(z),X}};class $de{constructor(r){this.variableNames=["x","dy"],this.outputShape=r.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${r.batchSize}; b++) {\n          for (int yR = 0; yR < ${r.outHeight}; yR++) {\n            int xR = wR + yR * ${r.strideHeight} - ${r.padInfo.top};\n\n            if (xR < 0 || xR >= ${r.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${r.outWidth}; yC++) {\n              int xC = wC + yC * ${r.strideWidth} - ${r.padInfo.left};\n\n              if (xC < 0 || xC >= ${r.inWidth}) {\n                continue;\n              }\n\n              if (${"channelsLast"===r.dataFormat}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Vde{constructor(r){this.variableNames=["dy","W"],this.outputShape=r.inShape;const t=r.filterHeight,s=r.filterWidth,f="channelsLast"===r.dataFormat;this.userCode=`\n      const ivec2 pads = ivec2(${t-1-r.padInfo.top}, ${s-1-r.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${f?3:1}];\n\n        ivec2 dyCorner = ivec2(coords[${f?1:2}], coords[${f?2:3}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${r.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${s} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${r.outChannels}; d2++) {\n\n              if (${f}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class zde{constructor(r){this.variableNames=["x","dy"],this.outputShape=r.filterShape,this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${r.batchSize}; b++) {\n          for (int yF = 0; yF < ${r.outDepth}; yF++) {\n            int xF = wF + yF * ${r.strideDepth} - ${r.padInfo.front};\n\n            if (xF < 0 || xF >= ${r.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${r.outHeight}; yR++) {\n              int xR = wR + yR * ${r.strideHeight} - ${r.padInfo.top};\n\n              if (xR < 0 || xR >= ${r.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${r.outWidth}; yC++) {\n                int xC = wC + yC * ${r.strideWidth} - ${r.padInfo.left};\n\n                if (xC < 0 || xC >= ${r.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class jde{constructor(r){this.variableNames=["dy","W"],this.outputShape=r.inShape;const t=r.filterDepth,s=r.filterHeight,o=r.filterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${t-1-r.padInfo.front}, ${s-1-r.padInfo.top}, ${o-1-r.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${r.strideDepth}.0;\n\n          if (dyF < 0.0 || dyF >= ${r.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${s}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${r.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${s} - 1 - wR;\n\n            for (int wC = 0; wC < ${o}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${o} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${r.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Hde={kernelName:w.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,dy:c}=r,{strides:f,pad:m,dataFormat:_,dimRoundingMode:x,filterShape:E}=s,T=w.backend_util.convertConv2DDataFormat(_),L=w.backend_util.computeConv2DInfo(o.shape,E,f,1,m,x,!1,T),z=new $de(L);return t.runWebGLProgram(z,[o,c],"float32")}},Ude={kernelName:w.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,filter:c}=r,{inputShape:f,strides:m,pad:_,dataFormat:x,dimRoundingMode:E}=s,T=w.backend_util.convertConv2DDataFormat(x),L=w.backend_util.computeConv2DInfo(f,c.shape,m,1,_,E,!1,T),z=new Vde(L);return t.runWebGLProgram(z,[o,c],"float32")}},HK={kernelName:w.Conv3D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dilations:_}=s,x=w.backend_util.computeConv3DInfo(o.shape,c.shape,f,_,m),E=new $K(x);return t.runWebGLProgram(E,[o,c],"float32")}},Kde={kernelName:w.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,dy:c}=r,{strides:f,pad:m,filterShape:_}=s,x=w.backend_util.computeConv3DInfo(o.shape,_,f,1,m),E=new zde(x);return t.runWebGLProgram(E,[o,c],"float32")}},Zde={kernelName:w.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,filter:c}=r,{pad:f,strides:m,inputShape:_}=s,x=w.backend_util.computeConv3DInfo(_,c.shape,m,1,f),E=new jde(x);return t.runWebGLProgram(E,[o,c],"float32")}},Jde=ys({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),YK={kernelName:w.Cos,backendName:"webgl",kernelFunc:Jde},Qde=ys({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),p8={kernelName:w.Cosh,backendName:"webgl",kernelFunc:Qde};class GK{constructor(r,t,s,o,c){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[f,m,_,x]=r,[E]=t,[T,L]=s;this.outputShape=[E,T,L,x];const z="bilinear"===o?1:0,[X,Q]=[m-1+".0",_-1+".0"],[ne,pe,fe]=T>1?[""+(m-1)/(T-1),"(y2-y1) * height_ratio",`y1*${X} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${X}`],[ke,Ee,He]=L>1?[""+(_-1)/(L-1),"(x2-x1) * width_ratio",`x1*${Q} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${Q}`];this.userCode=`\n      const float height_ratio = float(${ne});\n      const float width_ratio = float(${ke});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${f}) {\n          return;\n        }\n\n        float height_scale = ${pe};\n        float width_scale = ${Ee};\n\n        float in_y = ${fe};\n        if( in_y < 0.0 || in_y > ${X} ) {\n          setOutput(float(${c}));\n          return;\n        }\n        float in_x = ${He};\n        if( in_x < 0.0 || in_x > ${Q} ) {\n          setOutput(float(${c}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${z} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const efe={kernelName:w.CropAndResize,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t,attrs:s}=n,{image:o,boxes:c,boxInd:f}=r,{cropSize:m,method:_,extrapolationValue:x}=s,E=new GK(o.shape,c.shape,m,_,x);return t.runWebGLProgram(E,[o,c,f],"float32")}};class KK{constructor(r,t,s){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=r;const o=r.length,c=t?"0.0":`getX(${pL(o,"coords")})`,f=r[r.length-1];let m="",_="";t?(m=s?"end != "+(f-1):"end != 0",_=s?"end + 1":"end - 1"):(m=s?`end + pow2 < ${f}`:"end >= pow2",_=s?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${eo(o)} coords = getOutputCoords();\n        int end = ${mL(o,"coords")};\n        float val = ${c};\n        int pow2 = int(pow(2.0, index));\n        if (${m}) {\n          int idx = ${_};\n          ${mL(o,"coords")} = idx;\n          val += getX(${pL(o,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function pL(n,r){if(1===n)return`${r}`;if(2===n)return`${r}.x, ${r}.y`;if(3===n)return`${r}.x, ${r}.y, ${r}.z`;if(4===n)return`${r}.x, ${r}.y, ${r}.z, ${r}.w`;throw Error(`Cumulative sum for rank ${n} is not yet supported`)}function mL(n,r){if(1===n)return`${r}`;if(2===n)return`${r}.y`;if(3===n)return`${r}.z`;if(4===n)return`${r}.w`;throw Error(`Cumulative sum for rank ${n} is not yet supported`)}const ZK={kernelName:w.Cumsum,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,exclusive:f,reverse:m}=s,_=o.shape.length,x=w.backend_util.getAxesPermutation([c],_);let E=o;null!=x&&(E=wd({inputs:{x:o},backend:t,attrs:{perm:x}}));const T=w.backend_util.getInnerMostAxes(1,_)[0];if(T!==_-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${o.shape.length-1} but got axis=${c}`);const L=E.shape[T];let z=Kf({inputs:{x:E},backend:t});for(let X=0;X<=Math.ceil(Math.log2(L))-1;X++){const Q=new KK(E.shape,!1,m),pe=z;z=t.runWebGLProgram(Q,[z],z.dtype,[[X]]),t.disposeIntermediateTensorInfo(pe)}if(f){const X=new KK(E.shape,f,m),Q=z;z=t.runWebGLProgram(X,[z],z.dtype),t.disposeIntermediateTensorInfo(Q)}if(null!=x){const Q=wd({inputs:{x:z},backend:t,attrs:{perm:w.backend_util.getUndoAxesPermutation(x)}});return t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(E),Q}return z}},QK={kernelName:w.DenseBincount,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,weights:c}=r,{size:f,binaryOutput:m}=s;if(1===o.shape.length){const _=t.readSync(o.dataId),x=t.readSync(c.dataId),E=OG(_,x,c.dtype,c.shape,f);return t.makeTensorInfo([f],c.dtype,E)}if(2===o.shape.length){const _=t.bufferSync(o),x=t.bufferSync(c),E=kce(_,x,f,m);return t.makeTensorInfo(E.shape,c.dtype,E.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};class tfe{constructor(r,t,s){this.variableNames=["x"],this.outputShape=[],this.outputShape=r,this.blockSize=t,this.dataFormat=s,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const qK={kernelName:w.DepthToSpace,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{blockSize:c,dataFormat:f}=s,m=o.shape[0],T=("NHWC"===f?o.shape[1]:o.shape[2])*c,L=("NHWC"===f?o.shape[2]:o.shape[3])*c,z=("NHWC"===f?o.shape[3]:o.shape[1])/(c*c),Q=new tfe("NHWC"===f?[m,T,L,z]:[m,z,T,L],c,f);return t.runWebGLProgram(Q,[o],o.dtype)}};class m8{constructor(r,t=!1,s=null,o=!1,c=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=r.outShape,this.enableShapeUniforms=Fp(this.outputShape.length);const f=r.filterHeight,m=r.filterWidth,_=r.outChannels/r.inChannels;let x="",E="";s&&(x=o?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:c?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`\n          float activation(float x) {\n            ${s}\n          }\n        `,E="result = activation(result);");const T=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${x}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${_};\n        int q = d2 - d1 * ${_};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${f}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${m}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${T}\n        ${E}\n        setOutput(result);\n      }\n    `}}class g8{constructor(r,t=!1,s=null,o=!1,c=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=r.outShape,this.enableShapeUniforms=Fp(this.outputShape.length);const f=r.outChannels/r.inChannels,m=r.padInfo.left,_=r.strideWidth,x=r.dilationWidth,E=r.filterHeight,T=r.filterWidth,L=T;let z="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let pe=0;pe<T;pe++)z+=`\n          vec4 xTexelC${2*pe};\n          int xTexelC${2*pe}Ready;\n          vec4 xTexelC${2*pe+1};\n          int xTexelC${2*pe+1}Ready;\n          vec4 xC${pe};`;z+=`\n    for (int r = 0; r < ${E}; r++) {\n      `;for(let pe=0;pe<T;pe++)z+=`\n          xTexelC${2*pe} = vec4(0.0);\n          xTexelC${2*pe}Ready = 0;\n          xTexelC${2*pe+1} = vec4(0.0);\n          xTexelC${2*pe+1}Ready = 0;\n          xC${pe} = vec4(0.0);`;z+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let pe=0;pe<(L+1)/2;pe++){const fe=2*pe;if(z+=`\n          xC = xCCorner + ${fe*x};\n          `,1===_){if(fe<T&&(m%2==1?(z+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${fe}Ready == 0) {\n                  xTexelC${fe} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${fe}.zw = vec2(0.0);\n                  }\n                  xTexelC${fe}Ready = 1;\n                }\n              `,z+=1===x&&fe>0?`\n                xC${fe} = vec4(xTexelC${fe-2}.zw, xTexelC${fe}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${fe} = vec4(previous.zw, xTexelC${fe}.xy);\n                  } else {\n                    xC${fe} = vec4(0.0, 0.0, xTexelC${fe}.xy);\n                  }\n                  `):z+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${fe}Ready == 0) {\n                  xTexelC${fe} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${fe}.zw = vec2(0.0);\n                  }\n                  xTexelC${fe}Ready = 1;\n                }\n\n                xC${fe} = xTexelC${fe};\n                `,fe+1<T)){const ke=m%2==0?w.util.nearestLargerEven(x):x;x%2==0&&m%2==1||x%2!=0&&m%2!=1?(z+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${ke};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${fe+1}Ready == 0) {\n                    xTexelC${fe+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${fe+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${fe+1}Ready = 1;\n                  }\n                  `,x>1&&(z+=`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${fe}Ready == 0) {\n                      xTexelC${fe} = getX(batch, xR, xCOffset, d1);\n                      xTexelC${fe}Ready = 1;\n                    }\n                    `),z+=`\n                  xC${fe+1} = vec4(xTexelC${fe}.zw, xTexelC${fe+1}.xy);\n                  `):z+=1===ke?`\n                    xC${fe+1} = xTexelC${fe};\n                    `:`\n                    xCOffset = xC + ${ke};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${fe+1}Ready == 0) {\n                      xTexelC${fe+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${fe+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${fe+1}Ready = 1;\n                    }\n\n                    xC${fe+1} = xTexelC${fe+1};\n                    `}}else fe<T&&(m%2==1?(z+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${fe}Ready == 0) {\n                  xTexelC${fe} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${fe}.zw = vec2(0.0);\n                  }\n                  xTexelC${fe}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${fe+1}Ready == 0) {\n                  xTexelC${fe+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${fe+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${fe+1}Ready = 1;\n                }\n\n                xC${fe} = vec4(xTexelC${fe}.zw, xTexelC${fe+1}.zw);\n              `,fe+1<T&&(z+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${fe+1} = vec4(xTexelC${fe+1}.xy, final.xy);\n                `)):(z+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${fe}Ready == 0) {\n                  xTexelC${fe} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${fe}.zw = vec2(0.0);\n                  }\n                  xTexelC${fe}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${fe+1}Ready == 0) {\n                  xTexelC${fe+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${fe+1}.zw = vec2(0.);\n                  }\n                  xTexelC${fe+1}Ready = 1;\n                }\n\n                xC${fe} = vec4(\n                  xTexelC${fe}.xy, xTexelC${fe+1}.xy);\n              `,fe+1<T&&(z+=`\n                  xC${fe+1} = vec4(xTexelC${fe}.zw, xTexelC${fe+1}.zw);\n                `)));fe<T&&(z+=`\n            wTexel = getW(r, ${fe}, d1, q);\n            dotProd += xC${fe} * vec4(wTexel.xz, wTexel.xz);\n          `,fe+1<T&&(z+=`\n              wTexel = getW(r, ${fe+1}, d1, q);\n              dotProd += xC${fe+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}z+="\n    }\n  ",z+="\n      }\n    ";let X="",Q="";s&&(X=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:c?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,Q="result = activation(result);");const ne=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${X}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${f};\n        int q = d2 - d1 * ${f};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${z}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${ne}\n        ${Q}\n        setOutput(result);\n      }\n    `}}const ife={kernelName:w.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dilations:_,dimRoundingMode:x}=s;let E=_;null==E&&(E=[1,1]),w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(f,E),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${E}'`);const T=w.backend_util.computeConv2DInfo(o.shape,c.shape,f,E,m,x,!0);let L;return L=(0,w.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&T.strideWidth<=2&&T.outChannels/T.inChannels==1?new g8(T):new m8(T),t.runWebGLProgram(L,[o,c],"float32",[[T.padInfo.top,T.padInfo.left],[T.strideHeight,T.strideWidth],[T.dilationHeight,T.dilationWidth],[T.inHeight,T.inWidth]])}};class eX{constructor(r){this.variableNames=["x","dy"],this.outputShape=r.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${r.outChannels/r.inChannels} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${r.batchSize}; b++) {\n          for (int yR = 0; yR < ${r.outHeight}; yR++) {\n            int xR = wR + yR * ${r.strideHeight} - ${r.padInfo.top};\n\n            if (xR < 0 || xR >= ${r.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${r.outWidth}; yC++) {\n              int xC = wC + yC * ${r.strideWidth} - ${r.padInfo.left};\n\n              if (xC < 0 || xC >= ${r.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class sfe{constructor(r){this.variableNames=["dy","W"],this.outputShape=r.inShape;const t=r.filterHeight,s=r.filterWidth,_=r.outChannels/r.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${t-1-r.padInfo.top}, ${s-1-r.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${r.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${s} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${_}; dm++) {\n              int d2 = d1 * ${_} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const ofe={kernelName:w.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,dy:c}=r,{strides:f,dilations:m,pad:_,dimRoundingMode:x,filterShape:E}=s,T=w.backend_util.computeConv2DInfo(o.shape,E,f,m,_,x,!0),L=new eX(T);return t.runWebGLProgram(L,[o,c],"float32")}},tX={kernelName:w.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,filter:c}=r,{strides:f,dilations:m,pad:_,dimRoundingMode:x,inputShape:E}=s,T=w.backend_util.computeConv2DInfo(E,c.shape,f,m,_,x,!0),L=new sfe(T);return t.runWebGLProgram(L,[o,c],"float32")}};class K_{constructor(r){this.variableNames=["X"],this.outputShape=[r,r],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const Yh={kernelName:w.Diag,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s}=r,o=[...s.shape,...s.shape],c=w.util.sizeFromShape(s.shape),f=yr({inputs:{x:s},backend:t,attrs:{shape:[c]}}),m=new K_(c),_=t.runWebGLProgram(m,[f],f.dtype),x=yr({inputs:{x:_},backend:t,attrs:{shape:o}});return t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(_),x}};class nX{constructor(r){this.variableNames=["x","W"],this.outputShape=r.outShape;const{inHeight:t,inWidth:s,padInfo:o,strideHeight:c,strideWidth:f,filterHeight:m,filterWidth:_,dilationHeight:x,dilationWidth:E}=r,{top:T,left:L}=o;this.userCode=`\n      const ivec2 strides = ivec2(${c}, ${f});\n      const ivec2 pads = ivec2(${T}, ${L});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${m}; h++) {\n          int hIn = hBeg + h * ${x};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${_}; w++) {\n              int wIn = wBeg + w * ${E};\n\n              if (wIn >= 0 && wIn < ${s}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const F1={kernelName:w.Dilation2D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c}=r,{strides:f,pad:m,dilations:_}=s,x=w.backend_util.computeDilation2DInfo(o.shape,c.shape,f,m,"NHWC",_);let E;const T=new nX(x);E=t.runWebGLProgram(T,[o,c],"float32");const L=yr({inputs:{x:E},backend:t,attrs:{shape:x.outShape}});return t.disposeIntermediateTensorInfo(E),L}},JS={kernelName:w.Einsum,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{equation:o}=s,c=r,{allDims:f,summedDims:m,idDims:_}=w.backend_util.decodeEinsumEquation(o,c.length);w.backend_util.checkEinsumDimSizes(f.length,_,c);const{path:x,steps:E}=w.backend_util.getEinsumComputePath(m,_),T=E.length;let L=null,z=f.length;const X=[];for(let Q=0;Q<T;++Q){for(const ne of E[Q]){const{permutationIndices:pe,expandDims:fe}=w.backend_util.getEinsumPermutation(z,_[ne]);let ke;w.backend_util.isIdentityPermutation(pe)?ke=c[ne]:(ke=wd({inputs:{x:c[ne]},backend:t,attrs:{perm:pe}}),X.push(ke));const Ee=ke.shape.slice();for(let He=0;He<fe.length;++He)Ee.splice(fe[He],0,1);w.util.arraysEqual(ke.shape,Ee)||(ke=yr({inputs:{x:ke},backend:t,attrs:{shape:Ee}}),X.push(ke)),null===L?L=ke:(L=f0({inputs:{a:ke,b:L},backend:t}),X.push(L))}Q<T-1&&(x[Q]>=0&&(L=GS({inputs:{x:L},backend:t,attrs:{axis:x[Q]-(f.length-z),keepDims:!1}}),X.push(L)),z--)}for(const Q of X)Q!==L&&t.disposeIntermediateTensorInfo(Q);return L}},Sx=ys({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),rX={kernelName:w.Elu,backendName:"webgl",kernelFunc:Sx},_L={kernelName:w.EluGrad,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t}=n,{dy:s,y:o}=r,c=(0,w.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new k1("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",s.shape,o.shape):new yx("return (b >= 1.0) ? a : a * (b + 1.0);",s.shape,o.shape);return t.runWebGLProgram(c,[s,o],s.dtype)}},ffe=gl({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:Ice}),hfe={kernelName:w.Equal,backendName:"webgl",kernelFunc:ffe},mfe=ys({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${w.backend_util.ERF_P};\n  float a1 = ${w.backend_util.ERF_A1};\n  float a2 = ${w.backend_util.ERF_A2};\n  float a3 = ${w.backend_util.ERF_A3};\n  float a4 = ${w.backend_util.ERF_A4};\n  float a5 = ${w.backend_util.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),gfe={kernelName:w.Erf,backendName:"webgl",kernelFunc:mfe},sX="return exp(x);",aX=ys({opSnippet:sX,packedOpSnippet:sX,cpuKernelImpl:Nce,dtype:"float32"}),_fe={kernelName:w.Exp,backendName:"webgl",kernelFunc:aX};function v8(n){const{inputs:r,attrs:t,backend:s}=n,{dim:o}=t,{input:c}=r,f=c.shape.length,m=c.shape.slice();let _=o;return o<0&&(w.util.assert(-(f+1)<=o,()=>`Axis must be in the interval [${-(f+1)}, ${f}]`),_=f+o+1),m.splice(_,0,1),yr({inputs:{x:c},backend:s,attrs:{shape:m}})}const yfe={kernelName:w.ExpandDims,backendName:"webgl",kernelFunc:v8},oX="return exp(x) - 1.0;",vfe=ys({opSnippet:oX,packedOpSnippet:oX,cpuKernelImpl:F5}),bfe={kernelName:w.Expm1,backendName:"webgl",kernelFunc:vfe};class uX{constructor(r,t,s){this.variableNames=["real","imag"];const o=t[1];this.outputShape=t;const c=s?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,f=s?`${o}.0`:"1.0";let m;if("real"===r)m="return real * expR - imag * expI;";else{if("imag"!==r)throw new Error(`FFT component must be either "real" or "imag", got ${r}.`);m="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${c};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${m}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${o});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${o}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${f};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function lX(n,r,t){const s=t.texData.get(n.dataId),o=w.util.sizeFromShape(n.shape),c=n.shape[n.shape.length-1],m=yr({inputs:{x:n},backend:t,attrs:{shape:[o/c,c]}}),_=m.shape,x=new uX("real",_,r),E=new uX("imag",_,r),T=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:_},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:_}],L=t.runWebGLProgram(x,T,"float32"),z=t.runWebGLProgram(E,T,"float32"),X=I1({inputs:{real:L,imag:z},backend:t});t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z);const Q=yr({inputs:{x:X},backend:t,attrs:{shape:n.shape}});return t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(X),Q}const Dfe={kernelName:w.FFT,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{input:s}=r;return lX(s,!1,t)}};class wfe{constructor(r,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=r,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function QS(n){const{backend:r,attrs:t}=n,{shape:s,value:o}=t;let{dtype:c}=t;if(c=c||w.util.inferDtype(o),"string"===c){const f=w.util.getArrayFromDType(c,w.util.sizeFromShape(s));return f.fill(o),r.makeTensorInfo(s,c,f)}{const f=new wfe(s,o);return r.runWebGLProgram(f,[],c,[[o]])}}const Cfe={kernelName:w.Fill,backendName:"webgl",kernelFunc:QS};class qS{constructor(r){this.variableNames=["Image"],this.outputShape=[];const t=r[2];this.outputShape=r,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const b8={kernelName:w.FlipLeftRight,backendName:"webgl",kernelFunc:({inputs:n,backend:r})=>{const{image:t}=n,s=r,o=new qS(t.shape);return s.runWebGLProgram(o,[t],t.dtype)}},eA="return floor(x);",cX=ys({opSnippet:eA,packedOpSnippet:eA,cpuKernelImpl:Oce}),dX={kernelName:w.Floor,backendName:"webgl",kernelFunc:cX},Mfe=gl({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),Sfe={kernelName:w.FloorDiv,backendName:"webgl",kernelFunc:Mfe};class rc{constructor(r){this.variableNames=["A"];const t=jc(),[s,o]=r;this.outputShape=r,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}.0, ${s}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class fX{constructor(r){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=jc(),[s,o]=r;this.outputShape=r,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${o}.0, ${s}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const tA={kernelName:w.FromPixels,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n;let{pixels:o}=r;const{numChannels:c}=s,f="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,m="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,[_,x]=f?[o.videoWidth,o.videoHeight]:[o.width,o.height],E=[x,_],T=[x,_,c];(m||f)&&(null==Xu&&(Xu=document.createElement("canvas").getContext("2d")),Xu.canvas.width=_,Xu.canvas.height=x,Xu.drawImage(o,0,0,_,x),o=Xu.canvas);const L=t.makeTensorInfo(E,"int32");t.texData.get(L.dataId).usage=Uh.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(L.dataId),o);const z=(0,w.env)().getBool("WEBGL_PACK")?new fX(T):new rc(T),X=t.runWebGLProgram(z,[L],"int32");return t.disposeData(L.dataId),X}};let Xu;const Tfe={kernelName:w.FusedConv2D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c,bias:f,preluActivationWeights:m}=r,{strides:_,pad:x,dataFormat:E,dilations:T,dimRoundingMode:L,activation:z,leakyreluAlpha:X}=s,Q=w.backend_util.convertConv2DDataFormat(E),ne=w.backend_util.computeConv2DInfo(o.shape,c.shape,_,T,x,L,!1,Q);let pe;const fe=[];if(1!==ne.filterHeight||1!==ne.filterWidth||1!==ne.dilationHeight||1!==ne.dilationWidth||1!==ne.strideHeight||1!==ne.strideWidth||"SAME"!==ne.padInfo.type&&"VALID"!==ne.padInfo.type)if((0,w.env)().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])pe=jK({x:o,filter:c,convInfo:ne,backend:t,bias:f,activation:z,preluActivationWeights:m,leakyreluAlpha:X});else{const Ee=null!=f,He=null!=m,at="leakyrelu"===z,it=z?vx(z,!1):null,ct=new g0(ne,Ee,it,He,at),It=[o,c];if(f&&It.push(f),m&&It.push(m),at){const At=t.makeTensorInfo([],"float32",w.util.createScalarValue(X,"float32"));It.push(At),fe.push(At)}pe=t.runWebGLProgram(ct,It,"float32")}else pe=zK({x:o,filter:c,convInfo:ne,backend:t,bias:f,activation:z,preluActivationWeights:m,leakyreluAlpha:X});const ke=yr({inputs:{x:pe},backend:t,attrs:{shape:ne.outShape}});return fe.push(pe),fe.forEach(Ee=>t.disposeIntermediateTensorInfo(Ee)),ke}},hX={kernelName:w.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,filter:c,bias:f,preluActivationWeights:m}=r,{strides:_,pad:x,dilations:E,dimRoundingMode:T,activation:L,leakyreluAlpha:z}=s,X=[];let Q=E;null==Q&&(Q=[1,1]),w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(_,Q),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${_} and dilations '${Q}'`);const ne=w.backend_util.computeConv2DInfo(o.shape,c.shape,_,Q,x,T,!0),pe=(0,w.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&ne.strideWidth<=2&&ne.outChannels/ne.inChannels==1,fe=L?vx(L,pe):null,ke=[o,c],Ee=null!=f,He=null!=m,at="leakyrelu"===L;if(Ee&&ke.push(f),He&&ke.push(m),at){const At=t.makeTensorInfo([],"float32",w.util.createScalarValue(z,"float32"));ke.push(At),X.push(At)}let it;it=pe?new g8(ne,Ee,fe,He,at):new m8(ne,Ee,fe,He,at);const It=t.runWebGLProgram(it,ke,"float32",[[ne.padInfo.top,ne.padInfo.left],[ne.strideHeight,ne.strideWidth],[ne.dilationHeight,ne.dilationWidth],[ne.inHeight,ne.inWidth]]);return X.forEach(At=>t.disposeIntermediateTensorInfo(At)),It}};class yL{constructor(r,t,s){this.sliceDim=r,this.strides=t,this.variableNames=["x","indices"],this.outputShape=s;const o=eo(t.length),c=eo(s.length);this.userCode=`\n        ${o} strides = ${o}(${this.strides});\n         void main() {\n          ${c} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${this.sliceDim>1?"strides[j]":"strides"};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}const Ife={kernelName:w.GatherNd,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{params:s,indices:o}=r,c=o.shape,f=c[c.length-1],m=w.util.sizeFromShape(s.shape),[_,x,E,T]=w.backend_util.prepareAndValidate(s,o),L=yr({inputs:{x:o},backend:t,attrs:{shape:[x,f]}}),z=yr({inputs:{x:s},backend:t,attrs:{shape:[w.util.sizeFromShape(s.shape)/E,E]}});if(t.shouldExecuteOnCPU([s,o])||"string"===s.dtype){const pe=t.readSync(o.dataId),fe=t.bufferSync(s),ke=P5(pe,fe,s.dtype,x,f,E,T,s.shape,m);return t.makeTensorInfo(_,s.dtype,ke.values)}const X=new yL(f,T,[x,E]),Q=t.runWebGLProgram(X,[z,L],z.dtype),ne=yr({inputs:{x:Q},backend:t,attrs:{shape:_}});return t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(Q),ne}};class Nfe{constructor(r,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const s=eo(this.rank),o=function(n,r){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[];for(let o=0;o<n.length;o++)s.push(2===o?"int(getIndices(resRC.x, resRC.z))":`${t[o]}`);return s.join()}(r);this.userCode=`\n      void main() {\n        ${s} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function X_(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,indices:c}=r,{axis:f,batchDims:m}=s,_=w.util.parseAxisParam(f,o.shape)[0],x=t.readSync(c.dataId),E=o.shape[_];for(let Ee=0;Ee<x.length;++Ee){const He=x[Ee];w.util.assert(He<=E-1&&He>=0,()=>`GatherV2: the index value ${He} is not in [0, ${E-1}]`)}const T=w.backend_util.segment_util.collectGatherOpShapeInfo(o,c,_,m),L=w.util.sizeFromShape(c.shape),z=[],X=yr({inputs:{x:o},backend:t,attrs:{shape:[T.batchSize,T.outerSize,T.dimSize,T.sliceSize]}}),Q=yr({inputs:{x:c},backend:t,attrs:{shape:[T.batchSize,L/T.batchSize]}});z.push(X),z.push(Q);const ne=[T.batchSize,T.outerSize,L/T.batchSize,T.sliceSize];if(t.shouldExecuteOnCPU([o,c])||"string"===o.dtype){const Ee=t.bufferSync(Q),He=t.bufferSync(X),at=LG(He,Ee,ne);return z.forEach(it=>t.disposeIntermediateTensorInfo(it)),t.makeTensorInfo(T.outputShape,at.dtype,at.values)}const pe=new Nfe(X.shape,ne),fe=t.runWebGLProgram(pe,[X,Q],X.dtype);z.push(fe);const ke=yr({inputs:{x:fe},backend:t,attrs:{shape:T.outputShape}});return z.forEach(Ee=>t.disposeIntermediateTensorInfo(Ee)),ke}const Ofe={kernelName:w.GatherV2,backendName:"webgl",kernelFunc:X_},Lfe=gl({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:FG,dtype:"bool"}),mX={kernelName:w.Greater,backendName:"webgl",kernelFunc:Lfe},gX=gl({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:PG}),Ffe={kernelName:w.GreaterEqual,backendName:"webgl",kernelFunc:gX},D8={kernelName:w.IFFT,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{input:s}=r;return lX(s,!0,t)}},_X=ys({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),w8={kernelName:w.IsFinite,backendName:"webgl",kernelFunc:_X},yX=ys({opSnippet:"return float(isinf(x));",dtype:"bool"}),to={kernelName:w.IsInf,backendName:"webgl",kernelFunc:yX},_0=ys({opSnippet:"return float(isnan(x));",dtype:"bool"}),nA={kernelName:w.IsNan,backendName:"webgl",kernelFunc:_0},Rfe=gl({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:RG,dtype:"bool"}),Bxe={kernelName:w.Less,backendName:"webgl",kernelFunc:Rfe},$xe=gl({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:R5,dtype:"bool"}),vX={kernelName:w.LessEqual,backendName:"webgl",kernelFunc:$xe},$fe={kernelName:w.LinSpace,backendName:"webgl",kernelFunc:function(n){const{backend:r,attrs:t}=n,{start:s,stop:o,num:c}=t,f=B5(s,o,c);return r.makeTensorInfo([f.length],"float32",f)}},E8=ys({opSnippet:"if (x < 0.0) return NAN;\n  return log(x);",packedOpSnippet:"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Lce}),M8={kernelName:w.Log,backendName:"webgl",kernelFunc:E8},zfe=ys({opSnippet:"return log(1.0 + x);"}),jfe={kernelName:w.Log1p,backendName:"webgl",kernelFunc:zfe},zxe=gl({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Ufe={kernelName:w.LogicalAnd,backendName:"webgl",kernelFunc:zxe},bX=ys({opSnippet:"return float(!(x >= 1.0));"}),xX={kernelName:w.LogicalNot,backendName:"webgl",kernelFunc:bX},DX=gl({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Gfe={kernelName:w.LogicalOr,backendName:"webgl",kernelFunc:DX};class xL{constructor(r,t,s,o,c){this.variableNames=["x"],this.outputShape=[];const f=t,m=r[3]-1;let _;this.outputShape=r;const x=`float(${s}) + float(${o}) * sum`;_=.5===c?`inversesqrt(${x})`:1===c?`1.0/(${x})`:`exp(log(${x}) * float(-${c}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${f}; j <= ${f}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${m}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${_};\n        setOutput(val);\n      }\n    `}}class gC{constructor(r,t,s,o,c){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const f=t,m=r[3]-1;let _;this.outputShape=r;const x=`float(${s}) + float(${o}) * sum`;_=.5===c?`inversesqrt(${x})`:1===c?`1.0/(${x})`:`exp(log(${x}) * float(-${c}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${f};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${f}; j <= ${f}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${m}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${_};\n        setOutput(result);\n      }\n    `}}const Xfe={kernelName:w.LRN,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{depthRadius:c,bias:f,alpha:m,beta:_}=s,x=(0,w.env)().getBool("WEBGL_PACK_NORMALIZATION")?new gC(o.shape,c,f,m,_):new xL(o.shape,c,f,m,_);return t.runWebGLProgram(x,[o],o.dtype)}};class Zfe{constructor(r,t,s,o,c){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=r,this.depth=r[3],this.depthRadius=t,this.bias=s,this.alpha=o,this.beta=c,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${o}) * norm + float(${s});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${o})\n                * float(${c})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${c});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const wX={kernelName:w.LRNGrad,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t,attrs:s}=n,{x:o,y:c,dy:f}=r,{depthRadius:m,bias:_,alpha:x,beta:E}=s,T=new Zfe(o.shape,m,_,x,E);return t.runWebGLProgram(T,[o,c,f],o.dtype)}};function CX(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{reductionIndices:c,keepDims:f}=s,m=o.shape.length,_=w.util.parseAxisParam(c,o.shape);let x=_;const E=w.backend_util.getAxesPermutation(x,m),T=null!=E,L=t.shouldExecuteOnCPU([o]);let z=o;if(T){if(L){const ke=t.texData.get(z.dataId).values,Ee=new Array(m);for(let it=0;it<Ee.length;it++)Ee[it]=o.shape[E[it]];const He=WG(ke,o.shape,o.dtype,E,Ee);z=t.makeTensorInfo(Ee,o.dtype),t.texData.get(z.dataId).values=He}else z=Zn(o,E,t);x=w.backend_util.getInnerMostAxes(x.length,m)}w.backend_util.assertAxesAreInnerMostDims("max",x,m);const[X,Q]=w.backend_util.computeOutAndReduceShapes(z.shape,x);let pe,ne=X;if(f&&(ne=w.backend_util.expandShapeToKeepDim(X,_)),L){const ke=t.texData.get(z.dataId).values,Ee=BG(ke,w.util.sizeFromShape(Q),ne,o.dtype);pe=t.makeTensorInfo(ne,o.dtype),t.texData.get(pe.dataId).values=Ee}else pe=function(n,r,t,s){const o=w.util.sizeFromShape(r),m=yr({inputs:{x:n},attrs:{shape:[w.util.sizeFromShape(n.shape)/o,o]},backend:s}),_=G_(m,n.dtype,"max",s),x=yr({inputs:{x:_},attrs:{shape:t},backend:s});return s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(_),x}(z,Q,ne,t);return T&&t.disposeIntermediateTensorInfo(z),pe}const S8={kernelName:w.Max,backendName:"webgl",kernelFunc:CX},Wxe=gl({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:l0}),qfe={kernelName:w.Maximum,backendName:"webgl",kernelFunc:Wxe},EX={kernelName:w.MaxPool,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r;$S(o,"maxPool");const{filterSize:c,strides:f,pad:m,dimRoundingMode:_}=s;w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(f,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${f} and dilations '1'`);const E=w.backend_util.computePool2DInfo(o.shape,c,f,1,m,_);if(1===E.filterWidth&&1===E.filterHeight&&w.util.arraysEqual(E.inShape,E.outShape))return Kf({inputs:{x:o},backend:t});const T=new Cx(E,"max",!1);return t.runWebGLProgram(T,[o],o.dtype)}},Hxe={kernelName:w.MaxPool3D,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{filterSize:c,strides:f,pad:m,dataFormat:_,dimRoundingMode:x}=s,T=w.backend_util.computePool3DInfo(o.shape,c,f,[1,1,1],m,x,_),L=new lL(T,"max",!1);return t.runWebGLProgram(L,[o],o.dtype)}};class the{constructor(r){this.variableNames=["dy","maxPos"],this.outputShape=r.inShape;const c=r.effectiveFilterHeight,f=r.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${c-1-r.padInfo.top}, ${f-1-r.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${c};\n          wR += ${r.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${r.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${f}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${c*f-1} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${f} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Uxe{constructor(r){this.variableNames=["dy","maxPos"],this.outputShape=r.inShape;const _=r.effectiveFilterDepth,x=r.effectiveFilterHeight,E=r.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${_-1-r.padInfo.front}, ${x-1-r.padInfo.top}, ${E-1-r.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${_};\n           wD += ${r.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${r.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${r.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${x};\n              wR += ${r.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${r.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${r.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${E};\n                wC += ${r.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${r.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${r.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${_*x*E-1} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${x} * ${E} +\n                  wR * ${E} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Tx={kernelName:w.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c}=r,f=c,{filterSize:m,strides:_,pad:x,dimRoundingMode:E}=s,L=w.backend_util.computePool3DInfo(f.shape,m,_,[1,1,1],x,E),z=new lL(L,"max",!0),X=t.runWebGLProgram(z,[f],f.dtype),Q=new Uxe(L),ne=t.runWebGLProgram(Q,[o,X],f.dtype);return t.disposeIntermediateTensorInfo(X),ne}},rhe={kernelName:w.MaxPoolGrad,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{dy:o,input:c,output:f}=r,m=c;$S([c,f],"maxPoolGrad");const{filterSize:_,strides:x,pad:E,dimRoundingMode:T}=s,L=w.backend_util.computePool2DInfo(m.shape,_,x,1,E,T),X=new Cx(L,"max",!0),Q=t.runWebGLProgram(X,[m],m.dtype),ne=new the(L),pe=t.runWebGLProgram(ne,[o,Q],m.dtype);return t.disposeIntermediateTensorInfo(Q),pe}},SX={kernelName:w.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:({inputs:n,attrs:r,backend:t})=>{const{x:s}=n,{filterSize:o,strides:c,pad:f,includeBatchInIndex:m}=r,_=t;w.util.assert(4===s.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${s.shape.length}.`);const x=[1,1];w.util.assert(w.backend_util.eitherStridesOrDilationsAreOne(c,x),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '${x}'`);const E=w.backend_util.computePool2DInfo(s.shape,o,c,x,f),[T,L]=function(n,r,t,s){let o=new Cx(t,"max",!1);const c=s.runWebGLProgram(o,[n],"float32");return o=new Cx(t,"max",!0,!0,r),[c,s.runWebGLProgram(o,[n],"float32")]}(s,m,E,_);return[T,L]}},kx={kernelName:w.Mean,backendName:"webgl",kernelFunc:({inputs:n,attrs:r,backend:t})=>{const{x:s}=n,{keepDims:o,axis:c}=r,f=t,m=s.shape.length,_=w.util.parseAxisParam(c,s.shape);let x=_;const E=w.backend_util.getAxesPermutation(x,m),T=null!=E,L=f.shouldExecuteOnCPU([s]),z=[];let X=s;if(T){if(L){const Ee=f.texData.get(X.dataId).values,He=new Array(m);for(let ct=0;ct<He.length;ct++)He[ct]=s.shape[E[ct]];const at=WG(Ee,s.shape,s.dtype,E,He);X=f.makeTensorInfo(He,s.dtype),f.texData.get(X.dataId).values=at}else X=Zn(s,E,f);z.push(X),x=w.backend_util.getInnerMostAxes(x.length,m)}w.backend_util.assertAxesAreInnerMostDims("sum",x,m);const[Q,ne]=w.backend_util.computeOutAndReduceShapes(X.shape,x);let pe=Q;o&&(pe=w.backend_util.expandShapeToKeepDim(Q,_));const fe=function(n,r,t,s){const o=w.util.sizeFromShape(r),m=yr({inputs:{x:n},attrs:{shape:[w.util.sizeFromShape(n.shape)/o,o]},backend:s}),_=G_(m,"float32","mean",s),x=yr({inputs:{x:_},attrs:{shape:t},backend:s});return s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(_),x}(X,ne,pe,f);for(const ke of z)f.disposeIntermediateTensorInfo(ke);return fe}},Z_={kernelName:w.Min,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s,m=o.shape.length,_=w.util.parseAxisParam(c,o.shape);let x=_;const E=w.backend_util.getAxesPermutation(x,m);let T=o;null!=E&&(T=wd({inputs:{x:o},backend:t,attrs:{perm:E}}),x=w.backend_util.getInnerMostAxes(x.length,o.shape.length)),w.backend_util.assertAxesAreInnerMostDims("min",x,m);const[L,z]=w.backend_util.computeOutAndReduceShapes(T.shape,x),Q=yr({inputs:{x:T},backend:t,attrs:{shape:[-1,w.util.sizeFromShape(z)]}}),ne=G_(Q,Q.dtype,"min",t);let pe;return pe=yr(f?{inputs:{x:ne},backend:t,attrs:{shape:w.backend_util.expandShapeToKeepDim(L,_)}}:{inputs:{x:ne},backend:t,attrs:{shape:L}}),t.disposeIntermediateTensorInfo(Q),t.disposeIntermediateTensorInfo(ne),null!=E&&t.disposeIntermediateTensorInfo(T),pe}},ohe=gl({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Fce}),uhe={kernelName:w.Minimum,backendName:"webgl",kernelFunc:ohe};class lhe{constructor(r,t,s){this.variableNames=["x"],this.outputShape=t.map((E,T)=>E[0]+r[T]+E[1]);const o=r.length,c=eo(o),f=t.map(E=>E[0]).join(","),m=t.map((E,T)=>E[0]+r[T]).join(","),_=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o),x="reflect"===s?0:1;this.userCode=1!==o?`\n      ${c} start = ${c}(${f});\n      ${c} end = ${c}(${m});\n\n      void main() {\n        ${c} outC = getOutputCoords();\n        for (int i = 0; i < ${o}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${x};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${x};\n          }\n        }\n        ${c} coords = outC - start;\n        setOutput(getX(${_}));\n      }\n    `:`\n        int start = ${f};\n        int end = ${m};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${x};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${x};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class che{constructor(r,t,s){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((X,Q)=>X[0]+r[Q]+X[1]);const o=r.length,c=eo(o),f=t.map(X=>X[0]).join(","),m=t.map((X,Q)=>X[0]+r[Q]).join(","),_=of("rc",o),x=of("source",o),E=`${_[o-1]} < ${this.outputShape[o-1]}`,T=1===o?"source":`vec2(${x.slice(-2).join()})`,L="reflect"===s?0:1;let z="";if(1===o){const X=`\n        ${c} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${L};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${L};\n        }\n        source -= start;\n      `;z=`\n        ${c} rc = outputLoc;\n        ${X}\n        result[0] = getChannel(getX(${x.join()}), ${T});\n        ${_[o-1]} += 1;\n        if(${E}) {\n          ${X}\n          result[1] = getChannel(getX(${x.join()}), ${T});\n        }\n      `}else{const X=`\n        ${c} source = rc;\n        ${c} lt = ${c}(lessThan(source, start));\n        ${c} gte = ${c}(greaterThanEqual(source, end));\n        ${c} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${L}) +\n                gte * ((end - 1) * 2 - source + ${L});\n        source -= start;\n      `;z=`\n        ${c} rc = outputLoc;\n        ${X}\n        result[0] = getChannel(getX(${x.join()}), ${T});\n        ${_[o-1]} += 1;\n        if(${E}) {\n          ${X}\n          result[1] = getChannel(getX(${x.join()}), ${T});\n        }\n        rc = outputLoc;\n        ${_[o-2]} += 1;\n        if(${_[o-2]} < ${this.outputShape[o-2]}) {\n          ${X}\n          result[2] = getChannel(getX(${x.join()}), ${T});\n          ${_[o-1]} += 1;\n          if(${E}) {\n            ${X}\n            result[3] = getChannel(getX(${x.join()}), ${T});\n          }\n        }\n      `}this.userCode=`\n      const ${c} start = ${c}(${f});\n      const ${c} end = ${c}(${m});\n\n      void main() {\n        ${c} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${z}\n        setOutput(result);\n      }\n    `}}const fhe={kernelName:w.MirrorPad,backendName:"webgl",kernelFunc:({inputs:n,backend:r,attrs:t})=>{const{x:s}=n,{paddings:o,mode:c}=t,f=(0,w.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new che(s.shape,o,c):new lhe(s.shape,o,c);return r.runWebGLProgram(f,[s],s.dtype)}},mhe=gl({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),ghe={kernelName:w.Mod,backendName:"webgl",kernelFunc:mhe};class _he{constructor(r,t,s){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[r,s],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const Ym=gl({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Vr={kernelName:w.RealDiv,backendName:"webgl",kernelFunc:Ym},mn="return a - b;",Wc=gl({opSnippet:mn,packedOpSnippet:mn,supportsComplex:!0,cpuKernelImpl:zG}),$a={kernelName:w.Sub,backendName:"webgl",kernelFunc:Wc};function iA(n){const{inputs:r,backend:t,attrs:s}=n,{logits:o}=r,{dim:c}=s,f=w.util.parseAxisParam([c],o.shape),m=CX({inputs:{x:o},backend:t,attrs:{reductionIndices:f,keepDims:!1}}),_=w.backend_util.expandShapeToKeepDim(m.shape,f),x=yr({inputs:{x:m},backend:t,attrs:{shape:_}}),E=Wc({inputs:{a:o,b:x},backend:t}),T=aX({inputs:{x:E},backend:t}),L=GS({inputs:{x:T},backend:t,attrs:{axis:f,keepDims:!1}}),z=yr({inputs:{x:L},backend:t,attrs:{shape:_}}),X=Ym({inputs:{a:T,b:z},backend:t});return t.disposeIntermediateTensorInfo(m),t.disposeIntermediateTensorInfo(x),t.disposeIntermediateTensorInfo(E),t.disposeIntermediateTensorInfo(T),t.disposeIntermediateTensorInfo(L),t.disposeIntermediateTensorInfo(z),X}const sA={kernelName:w.Softmax,backendName:"webgl",kernelFunc:iA},P1={kernelName:w.Multinomial,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{logits:o}=r,{numSamples:c,seed:f,normalized:m}=s,_=m?o:iA({inputs:{logits:o},backend:t,attrs:{dim:o.shape.length-1}}),T=new _he(_.shape[0],_.shape[1],c),z=t.runWebGLProgram(T,[_],"int32",[[f]]);return m||t.disposeIntermediateTensorInfo(_),z}},aA="return -x;",Jf={kernelName:w.Neg,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{x:s}=r;if(t.shouldExecuteOnCPU([s])){const c=t.texData.get(s.dataId),[f,m]=$5(c.values,s.shape,s.dtype);return t.makeTensorInfo(m,s.dtype,f)}let o;return o=(0,w.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new T1(s.shape,aA):new gx(s.shape,aA),t.runWebGLProgram(o,[s],s.dtype)}},oA=w.kernel_impls.nonMaxSuppressionV3Impl,vhe={kernelName:w.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(n){w.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:r,backend:t,attrs:s}=n,{boxes:o,scores:c}=r,{maxOutputSize:f,iouThreshold:m,scoreThreshold:_}=s,x=t.readSync(o.dataId),E=t.readSync(c.dataId),{selectedIndices:T}=oA(x,E,f,m,_);return t.makeTensorInfo([T.length],"int32",new Int32Array(T))}},bhe=w.kernel_impls.nonMaxSuppressionV4Impl,Dhe={kernelName:w.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(n){w.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:r,backend:t,attrs:s}=n,{boxes:o,scores:c}=r,{maxOutputSize:f,iouThreshold:m,scoreThreshold:_,padToMaxOutputSize:x}=s,E=t.readSync(o.dataId),T=t.readSync(c.dataId),{selectedIndices:L,validOutputs:z}=bhe(E,T,f,m,_,x);return[t.makeTensorInfo([L.length],"int32",new Int32Array(L)),t.makeTensorInfo([],"int32",new Int32Array([z]))]}},AX=w.kernel_impls.nonMaxSuppressionV5Impl,Che={kernelName:w.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(n){w.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:r,backend:t,attrs:s}=n,{boxes:o,scores:c}=r,{maxOutputSize:f,iouThreshold:m,scoreThreshold:_,softNmsSigma:x}=s,E=t.readSync(o.dataId),T=t.readSync(c.dataId),L=f,z=m,X=_,Q=x,{selectedIndices:ne,selectedScores:pe}=AX(E,T,L,z,X,Q);return[t.makeTensorInfo([ne.length],"int32",new Int32Array(ne)),t.makeTensorInfo([pe.length],"float32",new Float32Array(pe))]}};class Ehe{constructor(r,t,s,o){this.variableNames=["indices"],this.outputShape=[r,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${o}), float(${s}),\n                      float(index == coords.y)));\n      }\n    `}}const She={kernelName:w.OneHot,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t,attrs:s}=n,{indices:o}=r,{depth:c,onValue:f,offValue:m}=s,_=w.util.sizeFromShape(o.shape),x=new Ehe(_,c,f,m),E=yr({inputs:{x:o},backend:t,attrs:{shape:[_]}}),T=t.runWebGLProgram(x,[E],o.dtype);t.disposeIntermediateTensorInfo(E);const z=yr({inputs:{x:T},backend:t,attrs:{shape:[...o.shape,c]}});return t.disposeIntermediateTensorInfo(T),z}};function DL(n){const{inputs:r,backend:t}=n,{x:s}=r;if("complex64"===s.dtype){const o=hC({inputs:{input:s},backend:t}),c=DL({inputs:{x:o},backend:t}),f=Ex({inputs:{input:s},backend:t}),m=DL({inputs:{x:f},backend:t}),_=I1({inputs:{real:c,imag:m},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(m),_}return QS({attrs:{shape:s.shape,dtype:s.dtype,value:"string"===s.dtype?"":0},backend:t})}const Hc={kernelName:w.ZerosLike,backendName:"webgl",kernelFunc:DL},Ahe={kernelName:w.OnesLike,backendName:"webgl",kernelFunc:function TX(n){const{inputs:r,backend:t}=n,{x:s}=r;if("string"===s.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===s.dtype){const o=hC({inputs:{input:s},backend:t}),c=TX({inputs:{x:o},backend:t}),f=Ex({inputs:{input:s},backend:t}),m=DL({inputs:{x:f},backend:t}),_=I1({inputs:{real:c,imag:m},backend:t});return t.disposeIntermediateTensorInfo(o),t.disposeIntermediateTensorInfo(c),t.disposeIntermediateTensorInfo(f),t.disposeIntermediateTensorInfo(m),_}return QS({attrs:{shape:s.shape,dtype:s.dtype,value:1},backend:t})}},khe={kernelName:w.Pack,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{axis:o}=s;if(1===r.length)return v8({inputs:{input:r[0]},backend:t,attrs:{dim:o}});const c=r[0].shape,f=r[0].dtype;r.forEach(E=>{w.util.assertShapesMatch(c,E.shape,"All tensors passed to stack must have matching shapes"),w.util.assert(f===E.dtype,()=>"All tensors passed to stack must have matching dtypes")});const m=[],x=Pde({inputs:r.map(E=>{const T=v8({inputs:{input:E},backend:t,attrs:{dim:o}});return m.push(T),T}),backend:t,attrs:{axis:o}});return m.forEach(E=>t.disposeIntermediateTensorInfo(E)),x}};class Ihe{constructor(r,t,s){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((x,E)=>x[0]+r[E]+x[1]);const o=r.length,c=eo(o),f=t.map(x=>x[0]).join(","),m=t.map((x,E)=>x[0]+r[E]).join(","),_=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o);this.userCode=1!==o?`\n      ${c} start = ${c}(${f});\n      ${c} end = ${c}(${m});\n\n      void main() {\n        ${c} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${c} coords = outC - start;\n          setOutput(getX(${_}));\n        }\n      }\n    `:`\n        int start = ${f};\n        int end = ${m};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class k8{constructor(r,t,s){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((Q,ne)=>Q[0]+r[ne]+Q[1]);const o=r.length,c=eo(o),f=t.map(Q=>Q[0]).join(","),m=t.map((Q,ne)=>Q[0]+r[ne]).join(","),_=of("rc",o),x=of("source",o),E=`${_[o-1]} < ${this.outputShape[o-1]}`,T=1===o?"source":`vec2(${x.slice(-2).join()})`,L=[`${c} rc = outputLoc;`,`${_[o-1]} += 1;\n       if(${E}) {\n      `,1===o?"":`}\n       rc = outputLoc;\n       ${_[o-2]} += 1;\n       if(${_[o-2]} < ${this.outputShape[o-2]}) {`,1===o?"":`  ${_[o-1]} += 1;\n         if(${E}) {`],z=1===o?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let X="";for(let Q=0,ne=1===o?2:4;Q<ne;Q++)X+=`\n        ${L[Q]}\n        if (${z}) {\n          result[${Q}] = float(value);\n        } else {\n          ${c} source = rc - start;\n          result[${Q}] = getChannel(getX(${x.join()}), ${T});\n        }\n      `;X+=1===o?"} ":"}}",this.userCode=`\n      const ${c} start = ${c}(${f});\n      const ${c} end = ${c}(${m});\n\n      void main() {\n        ${c} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${X}\n        setOutput(result);\n      }\n    `}}const wL=n=>{const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{paddings:c,constantValue:f}=s;if(0===w.util.sizeFromShape(o.shape))return QS({backend:t,attrs:{shape:c.map((E,T)=>E[0]+o.shape[T]+E[1]),value:f,dtype:o.dtype}});const m=(0,w.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new k8(o.shape,c,f):new Ihe(o.shape,c,f);return t.runWebGLProgram(m,[o],o.dtype,[[f]])},kX={kernelName:w.PadV2,backendName:"webgl",kernelFunc:wL},uA=gl({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Ohe={kernelName:w.Pow,backendName:"webgl",kernelFunc:uA},CL={kernelName:w.Prod,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{axis:c,keepDims:f}=s,m=o.shape.length,_=[],x=w.util.parseAxisParam(c,o.shape);let E=x;const T=w.backend_util.getAxesPermutation(E,m);let z,L=o;if(null!=T&&(L=wd({inputs:{x:o},backend:t,attrs:{perm:T}}),E=w.backend_util.getInnerMostAxes(E.length,m),_.push(L)),w.backend_util.assertAxesAreInnerMostDims("prod",E,m),t.shouldExecuteOnCPU([L])){const X=t.texData.get(L.dataId).values,{outVals:Q,outShape:ne,outDtype:pe}=hx(L.shape,L.dtype,X,E);z=t.makeTensorInfo(ne,pe,Q)}else{const[X,Q]=w.backend_util.computeOutAndReduceShapes(L.shape,E),ne=w.util.sizeFromShape(Q),pe=yr({inputs:{x:L},backend:t,attrs:{shape:[-1,ne]}}),ke=G_(pe,(0,w.sumOutType)(o.dtype),"prod",t);z=yr({inputs:{x:ke},backend:t,attrs:{shape:X}}),_.push(pe),_.push(ke)}if(f){_.push(z);const X=w.backend_util.expandShapeToKeepDim(z.shape,x);z=yr({inputs:{x:z},backend:t,attrs:{shape:X}})}return _.forEach(X=>t.disposeIntermediateTensorInfo(X)),z}},b0=n=>{const{backend:r,attrs:t}=n,{start:s,stop:o,step:c,dtype:f}=t,m=wxe(s,o,c,f);return r.makeTensorInfo([m.length],f,m)},I8={kernelName:w.Range,backendName:"webgl",kernelFunc:b0},Fhe=ys({opSnippet:"return 1.0 / x;"}),lA={kernelName:w.Reciprocal,backendName:"webgl",kernelFunc:Fhe},Phe=ys({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),IX={kernelName:w.Relu,backendName:"webgl",kernelFunc:Phe},NX=ys({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Rhe={kernelName:w.Relu6,backendName:"webgl",kernelFunc:NX};class Bhe{constructor(r,t,s,o,c){this.variableNames=["A"],this.outputShape=[];const[f,m,_,x]=r;this.outputShape=[f,t,s,x];const E=[o&&t>1?m-1:m,o&&s>1?_-1:_],T=[o&&t>1?t-1:t,o&&s>1?s-1:s];let L;L=c?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${E[0]/T[0]},\n          ${E[1]/T[1]});\n      const vec2 inputShapeRC = vec2(${m}.0, ${_}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${L};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class L8{constructor(r,t,s,o,c){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[f,m,_,x]=r;this.outputShape=[f,t,s,x];const E=[o&&t>1?m-1:m,o&&s>1?_-1:_],T=[o&&t>1?t-1:t,o&&s>1?s-1:s];let L;L=c?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${E[0]/T[0]},\n          ${E[1]/T[1]},\n          ${E[1]/T[1]});\n      const vec3 inputShapeRC = vec3(${m}.0, ${_}.0,\n                                     ${_}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${L};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${x-1};\n        bool hasNextRow = coords.z < ${s-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const Vhe={kernelName:w.ResizeBilinear,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o}=r,{alignCorners:c,halfPixelCenters:f,size:m}=s,[_,x]=m,E=(0,w.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new L8(o.shape,_,x,c,f):new Bhe(o.shape,_,x,c,f);return t.runWebGLProgram(E,[o],"float32")}};class OX{constructor(r,t,s){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,o,c]=t,[,f,m]=r,_=[s&&f>1?o-1:o,s&&m>1?c-1:c],x=[s&&f>1?f-1:f,s&&m>1?m-1:m],E=_[0]/x[0],T=_[1]/x[1],L=1/E,z=1/T,X=2*Math.ceil(L)+2,Q=2*Math.ceil(z)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${E});\n        const float widthScale = float(${T});\n\n        const float invHeightScale = float(${L});\n        const float invWidthScale = float(${z});\n\n        const int winHeight = int(${X});\n        const int winWidth = int(${Q});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${f}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${m}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${o-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${c-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const jhe={kernelName:w.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o,dy:c}=r,{alignCorners:f}=s,m=new OX(c.shape,o.shape,f);return t.runWebGLProgram(m,[c],c.dtype)}};class Whe{constructor(r,t,s,o,c){this.variableNames=["A"],this.outputShape=[];const[f,m,_,x]=r;this.outputShape=[f,t,s,x];const E=[o&&t>1?m-1:m,o&&s>1?_-1:_],T=[o&&t>1?t-1:t,o&&s>1?s-1:s];let z;z=c?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${E[0]/T[0]},\n          ${E[1]/T[1]});\n      const vec2 inputShapeRC = vec2(${m}.0, ${_}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${z};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${o?"0.5":"0.0"})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class Hhe{constructor(r,t,s,o,c){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[f,m,_,x]=r;this.outputShape=[f,t,s,x];const E=[o&&t>1?m-1:m,o&&s>1?_-1:_],T=[o&&t>1?t-1:t,o&&s>1?s-1:s];let z;z=c?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${E[0]/T[0]},\n          ${E[1]/T[1]},\n          ${E[1]/T[1]});\n      const vec3 inputShapeRC = vec3(${m}.0, ${_}.0,\n                                     ${_}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${z};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${o?"0.5":"0.0"})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${x-1};\n        bool hasNextRow = coords.z < ${s-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const Yhe={kernelName:w.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o}=r,{alignCorners:c,halfPixelCenters:f,size:m}=s,[_,x]=m,E=(0,w.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Hhe(o.shape,_,x,c,f):new Whe(o.shape,_,x,c,f);return t.runWebGLProgram(E,[o],o.dtype)}};class LX{constructor(r,t,s){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,o,c]=t,[,f,m]=r,_=[s&&f>1?o-1:o,s&&m>1?c-1:c],x=[s&&f>1?f-1:f,s&&m>1?m-1:m],E=_[0]/x[0],T=_[1]/x[1],L=1/E,z=1/T,X=2*Math.ceil(L)+2,Q=2*Math.ceil(z)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${E});\n        const float widthScale = float(${T});\n\n        const float invHeightScale = float(${L});\n        const float invWidthScale = float(${z});\n\n        const int winHeight = int(${X});\n        const int winWidth = int(${Q});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${f}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${m}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${_[0]}) *\n                (float(dyR) / float(${x[0]}));\n\n            float sourceFracCol =\n                float(${_[1]}) *\n                  (float(dyC) / float(${x[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${o}) - 1),\n                ${s} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${c}) - 1),\n                ${s} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const FX={kernelName:w.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{images:o,dy:c}=r,{alignCorners:f}=s,m=new LX(c.shape,o.shape,f);return t.runWebGLProgram(m,[c],c.dtype)}};class Ghe{constructor(r,t){this.variableNames=["x"];const s=r.length;if(s>4)throw new Error(`WebGL backend: Reverse of rank-${s} tensor is not yet supported`);if(this.outputShape=r,1===s)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${r[0]} - coord - 1));\n        }\n      `);const c=r.map((m,_)=>(m=>-1!==t.indexOf(m)&&1!==r[m]?`${r[m]} - coords[${m}] - 1`:`coords[${m}]`)(_)).join(","),f=eo(s);this.userCode=`\n      void main() {\n        ${f} coords = getOutputCoords();\n        setOutput(getX(${c}));\n      }\n    `}}class PX{constructor(r,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const s=r.length;if(s>4)throw new Error(`WebGL backend: Reverse of rank-${s} tensor is not yet supported`);this.outputShape=r;const o=of("rc",s),c=`${o[s-1]} + 1 < ${this.outputShape[s-1]}`,f=`${o[s-2]} + 1 < ${this.outputShape[s-2]}`,m=eo(s);var X;function L(X){const Q=r.map((fe,ke)=>function(X,Q){return-1!==t.indexOf(X)&&1!==r[X]?`${r[X]} - ${Q[X]} - 1`:`${Q[X]}`}(ke,X));return`getChannel(getX(${Q.join(",")}), vec2(${Q.slice(-2).join(",")}))`}this.userCode=1===s?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${r[0]} - rc - 1),\n            ${r[0]} - rc - 1);\n          if(${c}){\n              result.g = getChannel(getX(${r[0]} - (rc  + 1) - 1),\n                ${r[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${m} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${X=o.slice(),L(X)};\n          if(${c}){\n            result.g = ${function(X){return X[s-1]="("+X[s-1]+" + 1)",L(X)}(o.slice())};\n          }\n          if(${f}) {\n            result.b = ${function(X){return X[s-2]="("+X[s-2]+" + 1)",L(X)}(o.slice())};\n            if(${c}) {\n              result.a = ${function(X){return X[s-1]="("+X[s-1]+" + 1)",X[s-2]="("+X[s-2]+" + 1)",L(X)}(o.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const Xhe={kernelName:w.Reverse,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{dims:c}=s,f=o.shape.length,m=w.util.parseAxisParam(c,o.shape);if(0===f)return Kf({inputs:{x:o},backend:t});const _=(0,w.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new PX(o.shape,m):new Ghe(o.shape,m);return t.runWebGLProgram(_,[o],o.dtype)}};class F8{constructor(r,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const s=r[1],o=r[2];this.outputShape=r;let c="";c="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${c}\n          if(coordX >= 0 && coordX < ${o} && coordY >= 0 && coordY < ${s}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const dA={kernelName:w.RotateWithOffset,backendName:"webgl",kernelFunc:({inputs:n,attrs:r,backend:t})=>{const{image:s}=n,{radians:o,fillValue:c,center:f}=r,m=t,_=new F8(s.shape,c),[x,E]=w.backend_util.getImageCenter(f,s.shape[1],s.shape[2]),T=[[x,E,Math.sin(o),Math.cos(o)]];return m.runWebGLProgram(_,[s],s.dtype,T)}},Jhe=ys({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),RX={kernelName:w.Round,backendName:"webgl",kernelFunc:Jhe},xa=ys({opSnippet:"return inversesqrt(x);",cpuKernelImpl:px}),ML={kernelName:w.Rsqrt,backendName:"webgl",kernelFunc:xa};class Uc{constructor(r,t,s,o,c,f,m=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=f;const _=eo(c.length),x=eo(f.length);let E="";1===s?E="i":2===s&&(E="i, j");let L="";1===o?L="i":2===o&&(L="i, coords[1]"),this.userCode=`\n        ${_} strides = ${_}(${c});\n\n        void main() {\n          ${x} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${r}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(getIndices(${E}));\n              flattenedIndex += index * ${t>1?"strides[j]":"strides"};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates(${L});\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}const P8={kernelName:w.ScatterNd,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{indices:o,updates:c}=r,{shape:f}=s,{sliceRank:m,numUpdates:_,sliceSize:x,strides:E,outputSize:T}=w.backend_util.calculateShapes(c,o,f),L=[T/x,x];if(0===T)return t.makeTensorInfo(f,o.dtype);const z=yr({inputs:{x:o},backend:t,attrs:{shape:[_,m]}}),X=yr({inputs:{x:c},backend:t,attrs:{shape:[_,x]}}),Q=t.makeTensorInfo([],"float32",new Float32Array([0])),ne=new Uc(_,m,z.shape.length,X.shape.length,E,L),pe=t.runWebGLProgram(ne,[X,z,Q],X.dtype),fe=yr({inputs:{x:pe},backend:t,attrs:{shape:f}});return t.disposeIntermediateTensorInfo(z),t.disposeIntermediateTensorInfo(X),t.disposeIntermediateTensorInfo(pe),t.disposeIntermediateTensorInfo(Q),fe}};class Qhe{constructor(r,t,s){let o,c;if(this.variableNames=["c","a","b"],this.outputShape=t,s>4)throw Error(`Where for rank ${s} is not yet supported`);if(1===s)c="resRC",o="resRC";else{const m=["resRC.x","resRC.y","resRC.z","resRC.w"],_=[],x=[];for(let E=0;E<t.length;E++)x.push(`${m[E]}`),E<r&&_.push(`${m[E]}`);o=_.join(),c=x.join()}const f=eo(s);this.userCode=`\n      void main() {\n        ${f} resRC = getOutputCoords();\n        float cVal = getC(${o});\n        if (cVal >= 1.0) {\n          setOutput(getA(${c}));\n        } else {\n          setOutput(getB(${c}));\n        }\n      }\n    `}}const qhe={kernelName:w.Select,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{condition:s,t:o,e:c}=r,f=new Qhe(s.shape.length,o.shape,o.shape.length);return t.runWebGLProgram(f,[s,o,c],(0,w.upcastType)(o.dtype,c.dtype))}},tpe=ys({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${w.backend_util.SELU_SCALEALPHA};\n  float scale = ${w.backend_util.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),npe={kernelName:w.Selu,backendName:"webgl",kernelFunc:tpe},$X="return 1.0 / (1.0 + exp(-1.0 * x));",rpe=ys({opSnippet:$X,packedOpSnippet:$X,cpuKernelImpl:V5}),ipe={kernelName:w.Sigmoid,backendName:"webgl",kernelFunc:rpe},spe=ys({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),ape={kernelName:w.Sign,backendName:"webgl",kernelFunc:spe},SL=ys({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),zX={kernelName:w.Sin,backendName:"webgl",kernelFunc:SL},Ox=ys({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),R8={kernelName:w.Sinh,backendName:"webgl",kernelFunc:Ox},qxe=ys({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),R1={kernelName:w.Softplus,backendName:"webgl",kernelFunc:qxe},ope={kernelName:w.SpaceToBatchND,backendName:"webgl",kernelFunc:n=>{const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{blockShape:c,paddings:f}=s;w.util.assert(o.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const m=c.reduce((pe,fe)=>pe*fe),_=[[0,0]];_.push(...f);for(let pe=1+c.length;pe<o.shape.length;++pe)_.push([0,0]);const x=[],E=wL({inputs:{x:o},backend:t,attrs:{paddings:_,constantValue:0}}),T=w.backend_util.getReshaped(E.shape,c,m,!1),L=w.backend_util.getPermuted(T.length,c.length,!1),z=w.backend_util.getReshapedPermuted(E.shape,c,m,!1),X=yr({inputs:{x:E},backend:t,attrs:{shape:T}}),Q=wd({inputs:{x:X},backend:t,attrs:{perm:L}}),ne=yr({inputs:{x:Q},backend:t,attrs:{shape:z}});return x.push(E),x.push(X),x.push(Q),x.forEach(pe=>t.disposeIntermediateTensorInfo(pe)),ne}},upe={kernelName:w.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{indices:s,values:o,denseShape:c,defaultValue:f}=r;if(1!==c.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${c.shape}`);if(2!==s.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${s.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n         ${o.shape}`);if(0!==f.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${f.shape}`);const m=t.readSync(s.dataId),_=t.readSync(o.dataId),x=t.readSync(c.dataId),E=t.readSync(f.dataId)[0],[T,L,z,X,Q]=cC(m,s.shape,s.dtype,_,o.dtype,x,E);return[t.makeTensorInfo(L,s.dtype,T),t.makeTensorInfo([L[0]],o.dtype,z),t.makeTensorInfo([X.length],"bool",new Uint8Array(X.map(ne=>Number(ne)))),t.makeTensorInfo([Q.length],s.dtype,new Int32Array(Q))]}},B8={kernelName:w.SparseReshape,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{inputIndices:s,inputShape:o,newShape:c}=r;if(2!==s.shape.length)throw new Error(`Input indices should be a matrix but received shape ${s.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(1!==c.shape.length)throw new Error(`Target shape should be a vector but received shape ${c.shape}`);const f=Array.from(t.readSync(o.dataId)),m=t.readSync(s.dataId),_=Array.from(t.readSync(c.dataId)),[x,E,T]=Rce(m,s.shape,s.dtype,f,_);return[t.makeTensorInfo(E,s.dtype,x),t.makeTensorInfo([T.length],c.dtype,new Int32Array(T))]}},HX={kernelName:w.SparseSegmentMean,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{data:s,indices:o,segmentIds:c}=r;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${o.shape}`);if(1!==c.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${c.shape}`);const f=t.readSync(s.dataId),m=t.readSync(o.dataId),_=t.readSync(c.dataId),[x,E]=VG(f,s.shape,s.dtype,m,_,!0);return t.makeTensorInfo(E,s.dtype,x)}},UX={kernelName:w.SparseSegmentSum,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t}=n,{data:s,indices:o,segmentIds:c}=r;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${o.shape}`);if(1!==c.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${c.shape}`);const f=t.readSync(s.dataId),m=t.readSync(o.dataId),_=t.readSync(c.dataId),[x,E]=VG(f,s.shape,s.dtype,m,_);return t.makeTensorInfo(E,s.dtype,x)}},rDe={kernelName:w.SparseToDense,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{sparseIndices:o,sparseValues:c,defaultValue:f}=r,{outputShape:m}=s,{sliceRank:_,numUpdates:x,strides:E,outputSize:T}=w.backend_util.calculateShapes(c,o,m),z=new Uc(x,_,o.shape.length,c.shape.length,E,[T,1],!1),X=t.runWebGLProgram(z,[c,o,f],c.dtype),Q=yr({inputs:{x:X},backend:t,attrs:{shape:m}});return t.disposeIntermediateTensorInfo(X),Q}},sDe={kernelName:w.SplitV,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{numOrSizeSplits:c,axis:f}=s,m=w.util.parseAxisParam(f,o.shape)[0],_=w.backend_util.prepareSplitSize(o,c,m),E=new Array(o.shape.length).fill(0),T=o.shape.slice();return _.map(L=>{const z=[...T];z[m]=L;const X=fC({inputs:{x:o},backend:t,attrs:{begin:E,size:z}});return E[m]+=L,X})}},YX="return sqrt(x);",cpe=ys({opSnippet:YX,packedOpSnippet:YX,cpuKernelImpl:ml}),dpe={kernelName:w.Sqrt,backendName:"webgl",kernelFunc:cpe},fpe=ys({opSnippet:"return x * x;"}),hpe={kernelName:w.Square,backendName:"webgl",kernelFunc:fpe},ppe="return (a - b) * (a - b);",$8=gl({opSnippet:ppe,packedOpSnippet:ppe}),V8={kernelName:w.SquaredDifference,backendName:"webgl",kernelFunc:$8},oDe={kernelName:w.Step,backendName:"webgl",kernelFunc:function({inputs:n,attrs:r,backend:t}){const{x:s}=n,c=new gx(s.shape,`if (isnan(x)) return x;\n    return x > 0.0 ? 1.0 : float(${r.alpha});\n  `);return t.runWebGLProgram(c,[s],s.dtype)}};class KX{constructor(r,t,s){this.variableNames=["x"],this.outputShape=s;const o=s.length,c=eo(s.length),f=eo(s.length);let m="";if(1===o)m="coords * strides + begin";else{let _=0;m=s.map((x,E)=>(_++,1===s.length?`coords * strides[${E}] + begin[${E}]`:`coords[${_-1}] * strides[${E}] + begin[${E}]`)).join(",")}this.userCode=`\n      ${c} begin = ${c}(${r});\n      ${c} strides = ${c}(${t});\n\n      void main() {\n        ${f} coords = getOutputCoords();\n        setOutput(getX(${m}));\n      }\n    `}}const fA={kernelName:w.StridedSlice,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{begin:c,end:f,strides:m,beginMask:_,endMask:x,ellipsisMask:E,newAxisMask:T,shrinkAxisMask:L}=s,{finalShapeSparse:z,finalShape:X,isIdentity:Q,sliceDim0:ne,isSimpleSlice:pe,begin:fe,end:ke,strides:Ee}=w.slice_util.sliceInfo(o.shape,c,f,m,_,x,E,T,L);let He;if(Q)He=yr({inputs:{x:o},backend:t,attrs:{shape:X}});else if(ne||pe){w.util.assert(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);const it=w.slice_util.computeOutShape(fe,ke,Ee),ct=fC({inputs:{x:o},backend:t,attrs:{begin:fe,size:it}});He=yr({inputs:{x:ct},backend:t,attrs:{shape:X}}),t.disposeIntermediateTensorInfo(ct)}else if(t.shouldExecuteOnCPU([o])){const ct=t.readSync(o.dataId),It=(0,w.buffer)(o.shape,o.dtype,ct),At=j5(z,It,Ee,fe);He=t.makeTensorInfo(X,o.dtype,At.values)}else{const ct=new KX(fe,Ee,z);He=t.runWebGLProgram(ct,[o],o.dtype)}const at=yr({inputs:{x:He},backend:t,attrs:{shape:X}});return t.disposeIntermediateTensorInfo(He),at}},ZX={kernelName:w.StringNGrams,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{separator:o,nGramWidths:c,leftPad:f,rightPad:m,padWidth:_,preserveShortSequences:x}=s,{data:E,dataSplits:T}=r,L=t.readSync(E.dataId),z=t.readSync(T.dataId),[X,Q]=Bce(L,z,o,c,f,m,_,x);return[t.makeTensorInfo([X.length],"string",X),t.makeTensorInfo(T.shape,"int32",Q)]}},QX={kernelName:w.StringSplit,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{skipEmpty:o}=s,{input:c,delimiter:f}=r;if("string"!==c.dtype)throw new Error("Input must be of datatype string");if(1!==c.shape.length)throw new Error(`Input must be a vector, got shape: ${c.shape}`);if(0!==f.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${f.shape}`);const m=t.readSync(c.dataId),_=t.readSync(f.dataId)[0],[x,E,T]=$ce(m,_,o),L=E.length;return[t.makeTensorInfo([L,2],"int32",x),t.makeTensorInfo([L],"string",E),t.makeTensorInfo([2],"int32",new Int32Array(T))]}},AL={kernelName:w.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{numBuckets:o}=s,{input:c}=r;if("string"!==c.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const f=t.readSync(c.dataId),m=Vce(f,o);return t.makeTensorInfo(c.shape,"int32",m)}},uDe=ys({opSnippet:"return tan(x);"}),lDe={kernelName:w.Tan,backendName:"webgl",kernelFunc:uDe},cDe=ys({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),TL={kernelName:w.Tanh,backendName:"webgl",kernelFunc:cDe};class dDe{constructor(r,t){this.variableNames=["A"];const s=new Array(r.length);for(let f=0;f<s.length;f++)s[f]=r[f]*t[f];this.outputShape=s,this.rank=s.length;const o=eo(this.rank),c=function(n){const r=n.length;if(r>5)throw Error(`Tile for rank ${r} is not yet supported`);if(1===r)return`imod(resRC, ${n[0]})`;const t=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],s=[];for(let o=0;o<n.length;o++)s.push(`imod(${t[o]}, ${n[o]})`);return s.join()}(r);this.userCode=`\n      void main() {\n        ${o} resRC = getOutputCoords();\n        setOutput(getA(${c}));\n      }\n    `}}function gpe(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{reps:c}=s;if("string"===o.dtype||o.shape.length>5){const _=t.readSync(o.dataId),x="string"===o.dtype?_.map(L=>w.util.decodeString(L)):_,E=(0,w.buffer)(o.shape,o.dtype,x),T=jG(E,c);return t.makeTensorInfo(T.shape,T.dtype,T.values)}const f=new dDe(o.shape,c);return t.runWebGLProgram(f,[o],o.dtype)}const hDe={kernelName:w.Tile,backendName:"webgl",kernelFunc:gpe};class pDe{constructor(r){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=r,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class mDe{constructor(r){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=r,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function x0(n,r){null!==r&&n.disposeIntermediateTensorInfo(r)}function _pe(n){let r=1;for(;r<n;)r*=2;return r}const ype={kernelName:w.TopK,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o}=r,{k:c,sorted:f}=s,m=(0,w.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),_=(0,w.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),x=o.shape,E=x[x.length-1];if(t.shouldExecuteOnCPU([o])||E<m||c>_){const At=t.readSync(o.dataId),[Ht,tn]=zce(At,x,o.dtype,c,f);return[t.makeTensorInfo(Ht.shape,Ht.dtype,Ht.values),t.makeTensorInfo(tn.shape,tn.dtype,tn.values)]}if(0===c)return x[x.length-1]=0,[t.makeTensorInfo(x,o.dtype,[]),t.makeTensorInfo(x,"int32",[])];if(1===E)return[o,QS({attrs:{shape:x,dtype:"int32",value:0},backend:t})];const T=t.texData.get(o.dataId),L=null!==T&&T.isPacked,z=L?t.unpackTensor(o):o,Q=w.util.sizeFromShape(x)/E,ne=yr({inputs:{x:z},attrs:{shape:[Q,E]},backend:t});L&&x0(t,z);const pe=_pe(c),fe=_pe(E);let ke=null;const Ee=()=>null===ke?[ne,ne]:[ne,ke],He=(At,Ht,tn)=>{const un=Ee(),sn=new pDe(tn),Jt=ke;ke=t.runWebGLProgram(sn,un,"int32",[[E],[null===ke?1:0],[Number.NEGATIVE_INFINITY],[At],[Ht]]),x0(t,Jt)};for(let At=1;At<pe;At*=2){const Ht=2*At;for(let tn=At;tn>=1;tn/=2)He(Ht,tn,[Q,fe])}for(let At=fe;At>pe;At/=2){const Ht=Ee(),tn=new mDe([Q,At/2]),Zt=ke;ke=t.runWebGLProgram(tn,Ht,"int32",[[E],[null===ke?1:0],[pe]]),x0(t,Zt);const Ut=pe/2,Jt=2*Ut;for(let Qt=Ut;Qt>=1;Qt/=2)He(Jt,Qt,ke.shape)}let at=ke;ke=fC({inputs:{x:ke},backend:t,attrs:{begin:0,size:[Q,c]}}),x0(t,at);let it=X_({inputs:{x:ne,indices:ke},backend:t,attrs:{axis:1,batchDims:1}});x0(t,ne);const ct=x.slice(0,-1);ct.push(c),at=ke,ke=yr({inputs:{x:ke},attrs:{shape:ct},backend:t}),x0(t,at);const It=it;return it=yr({inputs:{x:it},attrs:{shape:ct},backend:t}),x0(t,It),[it,ke]}};class gDe{constructor(r,t,s,o,c,f){this.variableNames=["Image","Transforms"],this.outputShape=f;const m="nearest"===s?1:2;let _;switch(o){case"constant":_=1;break;case"reflect":_=2;break;case"wrap":_=3;break;case"nearest":_=4;break;default:_=1}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${_} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${_} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${_} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${r} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${c});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${c});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${r}));\n\n                if (${m} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const vpe={kernelName:w.Transform,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{image:o,transforms:c}=r,{interpolation:f,fillMode:m,fillValue:_,outputShape:x}=s,[E,T,L,z]=o.shape,[X,Q]=null!=x?x:[T,L],pe=new gDe(T,L,f,m,_,[E,X,Q,z]);return t.runWebGLProgram(pe,[o,c],"float32")}},xpe={kernelName:w.Unique,backendName:"webgl",kernelFunc:function(n){const{inputs:r,attrs:t,backend:s}=n,{axis:o}=t,{x:c}=r;$S(c,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const f=s.readSync(c.dataId),{outputValues:m,outputShape:_,indices:x}=jce(f,o,c.shape,c.dtype);return[s.makeTensorInfo(_,c.dtype,m),s.makeTensorInfo([x.length],"int32",x)]}},yDe={kernelName:w.Unpack,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{value:o}=r;let{axis:c}=s;c<0&&(c+=o.shape.length);const f=o,m=f.shape.length,_=o.shape[c],x=new Array(m-1);let E=0;for(let Q=0;Q<m;Q++)Q!==c&&(x[E++]=f.shape[Q]);const T=[],L=new Array(m).fill(0),z=f.shape.slice();z[c]=1;const X=new Array(_);for(let Q=0;Q<X.length;Q++){L[c]=Q;const ne=fC({inputs:{x:f},backend:t,attrs:{begin:L,size:z}}),pe=yr({inputs:{x:ne},backend:t,attrs:{shape:x}});X[Q]=pe,T.push(ne)}return T.forEach(Q=>t.disposeIntermediateTensorInfo(Q)),X}};class Dpe{constructor(r,t){this.variableNames=["x","segmentIds"];const s=r.windowSize,o=r.batchSize,c=r.inSize,f=r.numSegments,m=f*Math.ceil(c/s);this.outputShape=[o,m];const E=4*Math.floor(s/4),T=s%4,L="\n        sumValue += dot(values, segFilter);\n    ";let z="";c%s>0&&(z=`\n        if (inIdx < 0 || inIdx >= ${c}) {\n          return initializationValue;\n        }\n      `);let X="";c%s>0&&(X=`\n        if (inIdx < 0 || inIdx >= ${c}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${z}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${X}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${f})) * float(${s}));\n        int currentSeg = int(mod(float(outIdx), float(${f})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${E}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${L}\n        }\n\n        int inIdx = inOffset + ${E};\n        if (${1===T}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${L}\n        } else if (${2===T}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${L}\n        } else if (${3===T}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${L}\n        }\n        setOutput(sumValue);\n      }\n    `}}const wpe=[Xfe,wX,cde,dK,p0,aL,oL,hde,pK,mK,gK,Dx,yK,xK,n8,t8,yde,cL,CK,bde,AK,xde,kK,Sde,OK,u8,pC,c8,f8,kxe,rK,Rde,Hde,Ude,WK,Kde,Zde,HK,YK,p8,efe,ZK,QK,qK,ofe,tX,ife,Yh,F1,JS,rX,_L,hfe,gfe,_fe,yfe,bfe,Dfe,Cfe,b8,dX,Sfe,tA,Tfe,hX,Ife,Ofe,mX,Ffe,nL,D8,ZS,w8,to,nA,HS,Bxe,vX,$fe,jfe,M8,Ufe,xX,Gfe,S8,Hxe,EX,Tx,rhe,SX,qfe,kx,Z_,uhe,fhe,ghe,P1,h0,Jf,vhe,Dhe,Che,Tde,She,Ahe,khe,kX,Ohe,ade,CL,I8,kde,Vr,lA,Rhe,IX,$i,Vhe,jhe,Yhe,FX,Xhe,dA,RX,ML,P8,qhe,npe,ipe,ape,zX,R8,NK,sA,R1,ope,upe,B8,HX,UX,rDe,sDe,dpe,hpe,V8,oDe,fA,ZX,QX,AL,$a,ude,lDe,TL,hDe,ype,vpe,lde,xpe,yDe,{kernelName:w.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(n){const{inputs:r,backend:t,attrs:s}=n,{x:o,segmentIds:c}=r,{numSegments:f}=s,m=o.shape.length,_=[];let x=0;const E=w.backend_util.getAxesPermutation([x],m);let T=o;null!=E&&(T=wd({inputs:{x:o},backend:t,attrs:{perm:E}}),_.push(T),x=w.backend_util.getInnerMostAxes(1,m)[0]);const L=w.backend_util.segment_util.computeOutShape(T.shape,x,f),z=w.util.sizeFromShape([T.shape[x]]),X=yr({inputs:{x:T},backend:t,attrs:{shape:[-1,z]}});_.push(X);const Q=(0,w.sumOutType)(o.dtype),ne=(Ee,He,at,it,ct)=>{const It=Ee.shape[0],At=Ee.shape[1],Ht=w.backend_util.segment_util.segOpComputeOptimalWindowSize(At,ct),un=new Dpe({windowSize:Ht,inSize:At,batchSize:It,numSegments:ct},He),sn=t.compileAndRun(un,[Ee,at],it);if(_.push(sn),sn.shape[1]===ct)return sn;const Zt=b0({backend:t,attrs:{start:0,stop:ct,step:1,dtype:"float32"}}),Ut=gpe({inputs:{x:Zt},backend:t,attrs:{reps:[At/Ht]}});return _.push(Zt),_.push(Ut),ne(sn,He,Ut,it,ct)},fe=yr({inputs:{x:ne(X,"unsortedSegmentSum",c,Q,f)},backend:t,attrs:{shape:L}});let ke=fe;if(null!=E){_.push(fe);const Ee=w.backend_util.getUndoAxesPermutation(E);ke=wd({inputs:{x:ke},backend:t,attrs:{perm:Ee}})}return _.forEach(Ee=>t.disposeIntermediateTensorInfo(Ee)),ke}},Hc];for(const n of wpe)(0,w.registerKernel)(n);var H8=v(8081);class xDe{}class DDe{}class Cpe{constructor(){this.ChebDistChartData=[{data:[],label:"Chebyshov distance"}],this.EuclDistChartData=[{data:[],label:"Euclidian distance"}],this.PsnrDistChartData=[{data:[],label:"PSNR",backgroundColor:"rgba(0, 100, 255, 0.3)",borderColor:"blue"}],this.EpsilonChart=[{data:[],label:"\u03b5",backgroundColor:"rgba(0, 100, 255, 0.3)",borderColor:"blue"}],this.orConfChartData=[{data:[],label:"Confidence in original class",backgroundColor:"rgba(255, 100, 70, 0.3)",borderColor:"rgb(255, 100, 70)"}],this.SuccessRate=[{data:[],label:"Success rate",backgroundColor:"rgba(41, 184, 71, 0.3)",borderColor:"green"}],this.lineChartLabels=[]}}var B1=(()=>(function(n){n[n.Failed=0]="Failed",n[n.Succeeded=1]="Succeeded",n[n.PartialySucceded=2]="PartialySucceded"}(B1||(B1={})),B1))();class tZ{}class Epe{}class $1{static getRandomInt(r,t){return r=Math.ceil(r),t=Math.floor(t),Math.floor(Math.random()*(t-r)+r)}static Average(r){return r.reduce((o,c)=>o+c,0)/r.length||0}static Std(r){var t=$1.Average(r);return Math.sqrt($1.Average(r.map(s=>Math.pow(s-t,2))))}}var mA,hA=(()=>(function(n){n[n.LatinHypreCube=0]="LatinHypreCube",n[n.Random=1]="Random"}(hA||(hA={})),hA))(),Md=(()=>(function(n){n[n.Best1Bin=0]="Best1Bin",n[n.RandToBest1Bin=1]="RandToBest1Bin",n[n.CurrentToBest1Bin=2]="CurrentToBest1Bin",n[n.Rand2Bin=3]="Rand2Bin",n[n.Rand1Bin=4]="Rand1Bin",n[n.Best2Bin=5]="Best2Bin",n[n.Best1Exp=6]="Best1Exp",n[n.RandToBest1Exp=7]="RandToBest1Exp",n[n.CurrentToBest1Exp=8]="CurrentToBest1Exp",n[n.Rand2Exp=9]="Rand2Exp",n[n.Rand1Exp=10]="Rand1Exp",n[n.Best2Ex=11]="Best2Ex"}(Md||(Md={})),Md))(),pA=(()=>(function(n){n[n.Immediate=0]="Immediate",n[n.Deferred=1]="Deferred"}(pA||(pA={})),pA))();class Rp{constructor(r){this.values=new Array(r)}static GetIndividualsRandom(r,t,s){for(var o=new Array(t),c=0;c<t;c++){o[c]=new Rp(r);for(var f=0;f<r;f++)o[c].values[f]=$1.getRandomInt(s[f].min,s[f].max)}return o}static GetIndividualsLatin(r,t){for(var s=new Array(t),o=1/t,c=0;c<s.length;c++)s[c]=c*o;for(var f=new Array(t),m=0;m>t;m++)f[m]=new Rp(r);for(c=0;c<r;c++){var _=new Array(t);for(m=0;m<t;m++)_[m]=s[m]+Math.random()*o;for(_=_.sort(E=>Math.random()),m=0;m<t;m++)f[m].values[c]=_[m]}return f}}class _l{static best1(r,t,s,o){let c=new Rp(t[0].values.length);for(var f=0;f<c.values.length;f++)c.values[f]=t[0].values[f]+s;return c}static best2(r,t,s,o){for(var c=new Rp(t[0].values.length),f=0;f<c.values.length;f++)c.values[f]=t[0].values[f]+s*(t[r[0]].values[f]+t[r[1]].values[f]-t[r[2]].values[f]-t[r[3]].values[f]);return c}static rand2(r,t,s,o){for(var c=new Rp(t[0].values.length),f=0;f<c.values.length;f++)c.values[f]=t[r[0]].values[f]+s*(t[r[1]].values[f]+t[r[2]].values[f]-t[r[3]].values[f]-t[r[4]].values[f]);return c}static rand1(r,t,s,o){for(var c=new Rp(t[0].values.length),f=0;f<c.values.length;f++)c.values[f]=t[r[0]].values[f]+s*(t[r[1]].values[f]-t[r[2]].values[f]);return c}static randToBest1(r,t,s,o){for(var c=new Rp(t[0].values.length),f=0;f<c.values.length;f++)c.values[f]=t[r[0]].values[f],c.values[f]+=s*(t[0].values[f]-c.values[f]),c.values[f]+=s*(t[r[1]].values[f]-t[r[2]].values[f]);return c}static currentToBest1(r,t,s,o){for(var c=new Rp(t[0].values.length),f=0;f<c.values.length;f++)c.values[f]=t[o].values[f]+s*(t[0].values[f]-t[o].values[f]+t[r[0]].values[f]-t[r[1]].values[f]);return c}}_l.binominal=new Map([[Md.Best1Bin,_l.best1],[Md.RandToBest1Bin,_l.randToBest1],[Md.CurrentToBest1Bin,_l.currentToBest1],[Md.Best2Bin,_l.best2],[Md.Rand2Bin,_l.rand2],[Md.Rand1Bin,_l.rand1]]),_l.exponential=new Map([[Md.Best1Exp,_l.best1],[Md.Rand1Exp,_l.rand1],[Md.RandToBest1Exp,_l.randToBest1],[Md.CurrentToBest1Exp,_l.currentToBest1],[Md.Best2Ex,_l.best2],[Md.Rand2Exp,_l.rand2]]);class wDe{}class CDe{constructor(){this._searchStrategy=Md.Best1Bin,this._popSizeMultiplier=40,this._initType=hA.Random,this._maxIterations=100,this._debug=!0,this._updataType=pA.Immediate,this._mutationMinValue=.5,this._mutationMaxValue=1,this._recombProbability=.7,mA.set(this,void 0)}optimize(r,t,s){if(this._fitnessFunction=r,this._bounds=t,_l.binominal.has(this._searchStrategy))this._mutationFunction=_l.binominal.get(this._searchStrategy);else{if(!_l.exponential.has(this._searchStrategy))throw"Unsupported strategy";this._mutationFunction=_l.exponential.get(this._searchStrategy)}let o="Max iterations limit",c=Math.max(this._popSizeMultiplier*this._bounds.length,5),f=new Array(c);switch(+this._initType){case hA.Random:f=Rp.GetIndividualsRandom(this._bounds.length,c,t);break;case hA.LatinHypreCube:f=Rp.GetIndividualsLatin(this._bounds.length,c);break;default:throw"Unknown initialization type"}for(var m=0;m<c;m++)f[m].Energy=this._fitnessFunction(f[m].values);console.table(f),f=this.PromoteLowestEnergy(f),console.table(f);for(var _=0;_<this._maxIterations;_++)if(f=this.NextStep(f),this._debug&&console.log(`Evolution step ${_+1}: "f(best x) = ${f[0].Energy}`),this.IsSolverConverged(f)){o="The solver has converged";break}var x=new wDe;return x.BestSolution=f[0].values,x.Energy=f[0].Energy,x.CauseOfTermination=o,x}NextStep(r){var t=$1.getRandomInt(1,3);switch(+this._updataType){case pA.Immediate:for(var s=0;s<r.length;s++)(o=this.GetTrialSolution(s,t,r)).Energy<r[s].Energy&&(r[s]=o,o.Energy<r[0].Energy&&(r=this.PromoteLowestEnergy(r)));break;case pA.Deferred:for(var c=new Rp[r.length],f=0;f<c.Length;f++){var o=this.GetTrialSolution(f,t,r);c[f]=o}for(f=0;f<r.length;f++)c[f].Energy<r[f].Energy&&(r[f]=c[f]);r=this.PromoteLowestEnergy(r)}return r}GetTrialSolution(r,t,s){var o=this.SelectSamples(r,s.length),c=this._mutationFunction(o,s,t,r),f=new Rp(s[0].values.length);f.values=Array.from(s[r].values);var m=$1.getRandomInt(0,f.values.length);if(_l.binominal.has(this._searchStrategy)){for(var _=0;_<f.values.length;_++)f.values[_]=Math.random()<this._recombProbability?c.values[_]:s[r].values[_];f.values[m]=c.values[m]}else if(_l.exponential.has(this._searchStrategy))for(_=0;_<f.values.length&&Math.random()<this._recombProbability;)f.values[m]=c.values[m],m=(m+1)%f.values.length,_++;return f.Energy=this._fitnessFunction(f.values),f}EnsureConstraint(r){for(var t=0;t<r.values.length;t++)(r.values[t]<0||r.values[t]>1)&&(r.values[t]=Math.random());return r}SelectSamples(r,t){for(var s=new Array(t-1),o=0,c=0;c<t;c++)r!=c&&(s[o]=c,o++);return s.sort(f=>Math.random())}PromoteLowestEnergy(r){return r.sort(function(s,o){return s.Energy<o.Energy?-1:s.Energy>o.Energy?1:0})}IsSolverConverged(r){var t=r.map(s=>s.Energy);return $1.Std(t)<=this._AbsoluteTolerance+this._RelativeTolerance*Math.abs($1.Average(t))}}mA=new WeakMap;class Lx{}class ic{static fgsm(r,t,s,o){let m=w.grad(function(E){return Pc(s,r.predict(E))})(t),_=w.sign(m).mul(o.epsilon),x=new Lx;return x.advImg=t.add(_).clipByValue(0,1),x}static fgsmTargeted(r,t,s,o,c){let L=w.grad(function(Q){let ne=s.shape[1],pe=function(Q){return Pc(o,r.predict(Q))}(Q).mul(5);for(let fe=0;fe<ne;fe++)if(fe!=w.argMax(s).dataSync[0]){let ke=w.oneHot(fe,ne).reshape([1,ne]);pe=pe.sub(Pc(ke,r.predict(Q)))}return pe}),z=w.sign(L(t)).mul(.1);t=t.sub(z).clipByValue(0,1);let X=new Lx;return X.advImg=t,X}static bim(r,t,s,o){let c=o.epsilon,f=o.alpha,_=t.add(w.randomUniform(t.shape,-c,c)).clipByValue(0,1),x=w.grad(function(T){return Pc(s,r.predict(T))});for(let T=0;T<o.iterations;T++){let L=w.sign(x(_)).mul(f);_=_.add(L),_=w.minimum(1,w.minimum(t.add(c),w.maximum(0,w.maximum(t.sub(c),_))))}let E=new Lx;return E.advImg=_,E}static bimTargeted(r,t,s,o,c){let f=c.epsilon,m=c.alpha,_=c.iterations;let z=t.add(w.randomUniform(t.shape,-f,f)).clipByValue(0,1),X=w.grad(function(ne){return function(ne){return Pc(o,r.predict(ne))}(ne).sub(Pc(s,r.predict(ne)))});for(let ne=0;ne<_;ne++){let pe=w.sign(X(z)).mul(m);z=z.sub(pe),z=w.minimum(1,w.minimum(t.add(f),w.maximum(0,w.maximum(t.sub(f),z))))}var Q=new Lx;return Q.advImg=z,Q}static jsmaOnePixel(r,t,s,o,c){let f=c.epsilon,m=t.flatten().shape[0],x=t.flatten().arraySync(),E=w.ones([m]).arraySync(),T=w.grad(function(X){return w.dot(r.predict(X),o.squeeze())}),L=w.tensor(x,t.shape);for(let X=0;X<f;X++)w.tidy(()=>{let Q=T(L),ne=w.tensor(E),pe=w.mul(Q.flatten(),ne).argMax().dataSync()[0];x[pe]=1,E[pe]=0}),L.dispose(),L=w.tensor(x,t.shape);let z=new Lx;return z.advImg=L,z}static jsma(r,t,s,o,c){let f=c.epsilon,m=t.flatten().shape[0],_=o.argMax(1).arraySync()[0];if(m>3072)throw"JSMA does not scale to images larger than CIFAR-10 (32x32x3)!";let x=[];for(let Q=0;Q<10;Q++)x.push(ne=>w.dot(r.predict(ne),w.oneHot(Q,10)));let E=t.flatten().arraySync(),T=w.ones([m,m]).arraySync();for(let Q=0;Q<m;Q++)T[Q][Q]=0;let L=x.map(Q=>w.grad(Q)),z=w.tensor(E,t.shape);for(let Q=0;Q<Math.floor(f/2);Q++)w.tidy(()=>{let ne=[];for(let it=0;it<10;it++)ne.push(L[it](z));let pe=w.add(ne[_].reshape([1,m]),ne[_].reshape([m,1])),fe=w.zerosLike(pe);for(let it=0;it<10;it++)it!==_&&(fe=fe.add(w.add(ne[it].reshape([1,m]),ne[it].reshape([m,1]))));let ke=w.mul(pe.neg(),fe).mul(pe.greater(0)).mul(fe.less(0)),Ee=w.tensor(T),[He,at]=ic.argmax2d(ke.mul(Ee));E[He]=1,E[at]=1;for(let it=0;it<m;it++)T[it][He]=0,T[it][at]=0,T[He][it]=0,T[at][it]=0}),z.dispose(),z=w.tensor(E,t.shape);var X=new Lx;return X.advImg=z,X}static cw(r,t,s,o,c){let f=c.successRate,m=c.confidenceRate,x=c.iterations,E=ic.getModelLogits(r),T=w.variable(w.atanh(w.sub(w.mul(t,2),1)));function L(){let Q=w.mul(w.add(w.tanh(T),1),.5),ne=w.square(w.norm(w.sub(t,Q),2)),pe=E.predict(Q),fe=w.dot(pe,o.squeeze()),ke=w.max(w.sub(w.mul(w.sub(1,o),pe),w.mul(o,1e4))),Ee=w.maximum(w.sub(ke,fe),-m);return w.add(ne,w.mul(f,Ee)).squeeze()}let z=w.train.adam(.1);for(let Q=0;Q<x;Q++)z.minimize(L,!1,[T]);let X=new Lx;return X.advImg=w.mul(w.add(w.tanh(T),1),.5),X}static DifferentialEvolution(r,t,s,o){let c=s.argMax(1).dataSync()[0],E=t.dataSync();var T=new CDe,L=new Array;L.push({min:0,max:783}),L.push({min:0,max:255});let Q=T.optimize(function(He,at){let it=Array.from(E);He[1]>255&&console.error("Invalid color value "+He[1]),it[He[0]]=He[1]/255;let At=w.tensor(it,t.shape);return r.predict(At).dataSync()[c]},L,5).BestSolution,ne=new Lx,pe=Array.from(E);pe[Q[0]]=Q[1]/255;let Ee=w.tensor(pe,t.shape);return ne.advImg=Ee,ne}static getRandomInt(r,t){return r=Math.ceil(r),t=Math.floor(t),Math.floor(Math.random()*(t-r)+r)}static argmax2d(r){if(r.shape[0]!==r.shape[1])throw"argmax2d() only supports square matrices!";let t=r.shape[0],s=w.argMax(r.reshape([-1])).dataSync()[0];return[Math.floor(s/t),s%t]}static testArgmax2d(){for(let r=0;r<10;r++){let t=w.randomUniform([784,784]),[s,o]=ic.argmax2d(t);console.assert(t.max().dataSync()[0]===t.arraySync()[s][o])}}static getModelLogits(r){if(void 0!==r.predictLogits)return{predict:s=>r.predictLogits(s)};if(!r.layers[r.layers.length-1].name.includes("softmax"))throw"The last layer of the model must be softmax!";let t=new hU(void 0);for(let s=0;s<r.layers.length-1;s++)t.add(r.layers[s]);return t}}class EDe{}class Mpe{}class MDe{}class SDe{}class nZ{static psnr(r,t){let o=w.tidy(()=>w.losses.meanSquaredError(r,t).dataSync())[0];return 0==o?0:10*Math.log10(1/o)}static chebyshevDistanse(r,t){let s=w.sub(r,t),o=w.abs(s).max().dataSync()[0];return s.dispose(),o}static euclidianDistance(r,t){return w.tidy(()=>w.squaredDifference(r,t).sum().sqrt().dataSync())[0]}}const Spe=new ge(n=>n.complete());function Ape(n){return n?function(n){return new ge(r=>n.schedule(()=>r.complete()))}(n):Spe}function yC(...n){let r=n[n.length-1];return Qe(r)?(n.pop(),Bt(n,r)):Pt(n)}function sc(n,r,t,s){return S(t)&&(s=t,t=void 0),s?sc(n,r,t).pipe(rt(o=>R(o)?s(...o):s(o))):new ge(o=>{U8(n,r,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,t)})}function U8(n,r,t,s,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(r,t,o),c=()=>f.removeEventListener(r,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(r,t),c=()=>f.off(r,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(r,t),c=()=>f.removeListener(r,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,m=n.length;f<m;f++)U8(n[f],r,t,s,o)}s.add(c)}class sZ extends G{constructor(r,t){super()}schedule(r,t=0){return this}}let gA=(()=>{class n{constructor(t,s=n.now){this.SchedulerAction=t,this.now=s}schedule(t,s=0,o){return new this.SchedulerAction(this,t).schedule(o,s)}}return n.now=()=>Date.now(),n})();class V1 extends gA{constructor(r,t=gA.now){super(r,()=>V1.delegate&&V1.delegate!==this?V1.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(r,t=0,s){return V1.delegate&&V1.delegate!==this?V1.delegate.schedule(r,t,s):super.schedule(r,t,s)}flush(r){const{actions:t}=this;if(this.active)return void t.push(r);let s;this.active=!0;do{if(s=r.execute(r.state,r.delay))break}while(r=t.shift());if(this.active=!1,s){for(;r=t.shift();)r.unsubscribe();throw s}}}const bC=new V1(class extends sZ{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){if(this.closed)return this;this.state=r;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this}requestAsyncId(r,t,s=0){return setInterval(r.flush.bind(r,this),s)}recycleAsyncId(r,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(r,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let o,s=!1;try{this.work(r)}catch(c){s=!0,o=!!c&&c||new Error(c)}if(s)return this.unsubscribe(),o}_unsubscribe(){const r=this.id,t=this.scheduler,s=t.actions,o=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&s.splice(o,1),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null}});function Y8(n){return!R(n)&&n-parseFloat(n)+1>=0}function uZ(n){const{index:r,period:t,subscriber:s}=n;if(s.next(r),!s.closed){if(-1===t)return s.complete();n.index=r+1,this.schedule(n,t)}}class kL extends ce{notifyNext(r,t,s,o,c){this.destination.next(t)}notifyError(r,t){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Npe extends ce{constructor(r,t,s){super(),this.parent=r,this.outerValue=t,this.outerIndex=s,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function G8(n,r,t,s,o=new Npe(n,t,s)){if(!o.closed)return r instanceof ge?r.subscribe(o):dt(r)(o)}class Ope{call(r,t){return t.subscribe(new Lpe(r))}}class Lpe extends kL{constructor(r){super(r),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(r){this.observables.push(r)}_complete(){const r=this.observables,t=r.length;if(0===t)this.destination.complete();else{for(let s=0;s<t&&!this.hasFirst;s++){const c=G8(this,r[s],void 0,s);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(r,t,s){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==s){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)}}class Gm extends Pe{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const t=super._subscribe(r);return t&&!t.closed&&r.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new re;return this._value}next(r){super.next(this._value=r)}}function Km(){}function IL(...n){const r=n[n.length-1];return"function"==typeof r&&n.pop(),Pt(n,void 0).lift(new Bpe(r))}new ge(Km);class Bpe{constructor(r){this.resultSelector=r}call(r,t){return t.subscribe(new $pe(r,this.resultSelector))}}class $pe extends ce{constructor(r,t,s=Object.create(null)){super(r),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(r){const t=this.iterators;R(r)?t.push(new cZ(r)):t.push("function"==typeof r[On]?new Vpe(r[On]()):new zpe(this.destination,this,r))}_complete(){const r=this.iterators,t=r.length;if(this.unsubscribe(),0!==t){this.active=t;for(let s=0;s<t;s++){let o=r[s];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const r=this.iterators,t=r.length,s=this.destination;for(let f=0;f<t;f++){let m=r[f];if("function"==typeof m.hasValue&&!m.hasValue())return}let o=!1;const c=[];for(let f=0;f<t;f++){let m=r[f],_=m.next();if(m.hasCompleted()&&(o=!0),_.done)return void s.complete();c.push(_.value)}this.resultSelector?this._tryresultSelector(c):s.next(c),o&&s.complete()}_tryresultSelector(r){let t;try{t=this.resultSelector.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}class Vpe{constructor(r){this.iterator=r,this.nextResult=r.next()}hasValue(){return!0}next(){const r=this.nextResult;return this.nextResult=this.iterator.next(),r}hasCompleted(){const r=this.nextResult;return Boolean(r&&r.done)}}class cZ{constructor(r){this.array=r,this.index=0,this.length=0,this.length=r.length}[On](){return this}next(r){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class zpe extends Tn{constructor(r,t,s){super(r),this.parent=t,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[On](){return this}next(){const r=this.buffer;return 0===r.length&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(r){this.buffer.push(r),this.parent.checkIterators()}subscribe(){return Tr(this.observable,new ar(this))}}function Fo(n){return r=>r.lift(new DC(n))}class DC{constructor(r){this.notifier=r}call(r,t){const s=new NL(r),o=Tr(this.notifier,new ar(s));return o&&!s.seenValue?(s.add(o),t.subscribe(s)):s}}class NL extends Tn{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function lf(n,r){return function(s){return s.lift(new J8(n,r))}}class J8{constructor(r,t){this.predicate=r,this.thisArg=t}call(r,t){return t.subscribe(new Wpe(r,this.predicate,this.thisArg))}}class Wpe extends ce{constructor(r,t,s){super(r),this.predicate=t,this.thisArg=s,this.count=0}_next(r){let t;try{t=this.predicate.call(this.thisArg,r,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(r)}}const dZ=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Bp(n){return r=>0===n?Ape():r.lift(new Upe(n))}class Upe{constructor(r){if(this.total=r,this.total<0)throw new dZ}call(r,t){return t.subscribe(new Q8(r,this.total))}}class Q8 extends ce{constructor(r,t){super(r),this.total=t,this.count=0}_next(r){const t=this.total,s=++this.count;s<=t&&(this.destination.next(r),s===t&&(this.destination.complete(),this.unsubscribe()))}}function _A(n,r){return"function"==typeof r?t=>t.pipe(_A((s,o)=>an(n(s,o)).pipe(rt((c,f)=>r(s,c,o,f))))):t=>t.lift(new t6(n))}class t6{constructor(r){this.project=r}call(r,t){return t.subscribe(new OL(r,this.project))}}class OL extends Tn{constructor(r,t){super(r),this.project=t,this.index=0}_next(r){let t;const s=this.index++;try{t=this.project(r,s)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(r){const t=this.innerSubscription;t&&t.unsubscribe();const s=new ar(this),o=this.destination;o.add(s),this.innerSubscription=Tr(r,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}class fZ{constructor(r,t,s){this.nextOrObserver=r,this.error=t,this.complete=s}call(r,t){return t.subscribe(new hZ(r,this.nextOrObserver,this.error,this.complete))}}class hZ extends ce{constructor(r,t,s,o){super(r),this._tapNext=Km,this._tapError=Km,this._tapComplete=Km,this._tapError=s||Km,this._tapComplete=o||Km,S(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Km,this._tapError=t.error||Km,this._tapComplete=t.complete||Km)}_next(r){try{this._tapNext.call(this._context,r)}catch(t){return void this.destination.error(t)}this.destination.next(r)}_error(r){try{this._tapError.call(this._context,r)}catch(t){return void this.destination.error(t)}this.destination.error(r)}_complete(){try{this._tapComplete.call(this._context)}catch(r){return void this.destination.error(r)}return this.destination.complete()}}function LL(...n){return r=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),r.lift(new Kpe(n,t))}}class Kpe{constructor(r,t){this.observables=r,this.project=t}call(r,t){return t.subscribe(new n6(r,this.observables,this.project))}}class n6 extends kL{constructor(r,t,s){super(r),this.observables=t,this.project=s,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(G8(this,t[c],void 0,c))}notifyNext(r,t,s){this.values[s]=t;const o=this.toRespond;if(o.length>0){const c=o.indexOf(s);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const t=[r,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(r){let t;try{t=this.project.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}class Xm{constructor(r,t,s){this.kind=r,this.value=t,this.error=s,this.hasValue="N"===r}observe(r){switch(this.kind){case"N":return r.next&&r.next(this.value);case"E":return r.error&&r.error(this.error);case"C":return r.complete&&r.complete()}}do(r,t,s){switch(this.kind){case"N":return r&&r(this.value);case"E":return t&&t(this.error);case"C":return s&&s()}}accept(r,t,s){return r&&"function"==typeof r.next?this.observe(r):this.do(r,t,s)}toObservable(){switch(this.kind){case"N":return yC(this.value);case"E":return function(n,r){return new ge(t=>t.error(n))}(this.error);case"C":return Ape()}throw new Error("unexpected notification kind value")}static createNext(r){return void 0!==r?new Xm("N",r):Xm.undefinedValueNotification}static createError(r){return new Xm("E",void 0,r)}static createComplete(){return Xm.completeNotification}}function FL(n,r){return new ge(t=>{const s=n.length;if(0===s)return void t.complete();const o=new Array(s);let c=0,f=0;for(let m=0;m<s;m++){const _=an(n[m]);let x=!1;t.add(_.subscribe({next:E=>{x||(x=!0,f++),o[m]=E},error:E=>t.error(E),complete:()=>{c++,(c===s||!x)&&(f===s&&t.next(r?r.reduce((E,T,L)=>(E[T]=o[L],E),{}):o),t.complete())}}))}})}Xm.completeNotification=new Xm("C"),Xm.undefinedValueNotification=new Xm("N",void 0);let bZ=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(xt(cd),xt(Ji))},n.\u0275dir=Bn({type:n}),n})(),wC=(()=>{class n extends bZ{}return n.\u0275fac=function(){let r;return function(s){return(r||(r=bt(n)))(s||n)}}(),n.\u0275dir=Bn({type:n,features:[bo]}),n})();const Yc=new Xr("NgValueAccessor"),eme={provide:Yc,useExisting:Cr(()=>PL),multi:!0},DZ=new Xr("CompositionEventMode");let PL=(()=>{class n extends bZ{constructor(t,s,o){super(t,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=yw()?yw().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(cd),xt(Ji),xt(DZ,8))},n.\u0275dir=Bn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&hr("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Rs([eme]),bo]}),n})();const Gc=new Xr("NgValidators"),j1=new Xr("NgAsyncValidators");function l6(n){return null!=n}function c6(n){const r=ck(n)?an(n):n;return dk(r),r}function AZ(n){let r={};return n.forEach(t=>{r=null!=t?Object.assign(Object.assign({},r),t):r}),0===Object.keys(r).length?null:r}function TZ(n,r){return r.map(t=>t(n))}function kZ(n){return n.map(r=>function(n){return!n.validate}(r)?r:t=>r.validate(t))}function RL(n){return null!=n?function(n){if(!n)return null;const r=n.filter(l6);return 0==r.length?null:function(t){return AZ(TZ(t,r))}}(kZ(n)):null}function vA(n){return null!=n?function(n){if(!n)return null;const r=n.filter(l6);return 0==r.length?null:function(t){return function(...n){if(1===n.length){const r=n[0];if(R(r))return FL(r,null);if(W(r)&&Object.getPrototypeOf(r)===Object.prototype){const t=Object.keys(r);return FL(t.map(s=>r[s]),t)}}if("function"==typeof n[n.length-1]){const r=n.pop();return FL(n=1===n.length&&R(n[0])?n[0]:n,null).pipe(rt(t=>r(...t)))}return FL(n,null)}(TZ(t,r).map(c6)).pipe(rt(AZ))}}(kZ(n)):null}function OZ(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function H1(n){return n?Array.isArray(n)?n:[n]:[]}function BL(n,r){return Array.isArray(n)?n.includes(r):n===r}function ime(n,r){const t=H1(r);return H1(n).forEach(o=>{BL(t,o)||t.push(o)}),t}function bA(n,r){return H1(r).filter(t=>!BL(n,t))}let CC=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=RL(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Bn({type:n}),n})(),Ll=(()=>{class n extends CC{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let r;return function(s){return(r||(r=bt(n)))(s||n)}}(),n.\u0275dir=Bn({type:n,features:[bo]}),n})();class Jm extends CC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let FZ=(()=>{class n extends class{constructor(r){this._cd=r}is(r){var t,s,o;return"submitted"===r?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[r])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(Jm,2))},n.\u0275dir=Bn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&Ti("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[bo]}),n})();function D0(n,r){(function(n,r){const t=function(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(OZ(t,r.validator)):"function"==typeof t&&n.setValidators([t]);const s=function(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(OZ(s,r.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const o=()=>n.updateValueAndValidity();VL(r._rawValidators,o),VL(r._rawAsyncValidators,o)})(n,r),r.valueAccessor.writeValue(n.value),function(n,r){r.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&g6(n,r)})}(n,r),function(n,r){const t=(s,o)=>{r.valueAccessor.writeValue(s),o&&r.viewToModelUpdate(s)};n.registerOnChange(t),r._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,r),function(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&g6(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function(n,r){if(r.valueAccessor.setDisabledState){const t=s=>{r.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,r)}function VL(n,r){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(r)})}function g6(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jL(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}const MC="VALID",WL="INVALID",ac="PENDING",SC="DISABLED";function v6(n){return(DA(n)?n.validators:n)||null}function BZ(n){return Array.isArray(n)?RL(n):n||null}function b6(n,r){return(DA(r)?r.asyncValidators:n)||null}function $Z(n){return Array.isArray(n)?vA(n):n||null}function DA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class E0{constructor(r,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=t,this._composedValidatorFn=BZ(this._rawValidators),this._composedAsyncValidatorFn=$Z(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===MC}get invalid(){return this.status===WL}get pending(){return this.status==ac}get disabled(){return this.status===SC}get enabled(){return this.status!==SC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=BZ(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=$Z(r)}addValidators(r){this.setValidators(ime(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(ime(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(bA(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(bA(r,this._rawAsyncValidators))}hasValidator(r){return BL(this._rawValidators,r)}hasAsyncValidator(r){return BL(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ac,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=SC,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=MC,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===MC||this.status===ac)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?SC:MC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ac,this._hasOwnPendingAsyncValidator=!0;const t=c6(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,t={}){this.errors=r,this._updateControlsErrors(!1!==t.emitEvent)}get(r){return function(n,r,t){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let s=n;return r.forEach(o=>{s=s instanceof x6?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof pme&&s.at(o)||null}),s}(this,r)}getError(r,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[r]:null}hasError(r,t){return!!this.getError(r,t)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new Hr,this.statusChanges=new Hr}_calculateStatus(){return this._allControlsDisabled()?SC:this.errors?WL:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ac)?ac:this._anyControlsHaveStatus(WL)?WL:MC}_anyControlsHaveStatus(r){return this._anyControls(t=>t.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){DA(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class AC extends E0{constructor(r=null,t,s){super(v6(t),b6(s,t)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,t={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(r,t={}){this.setValue(r,t)}reset(r=null,t={}){this._applyFormState(r),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){jL(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){jL(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class x6 extends E0{constructor(r,t,s){super(v6(t),b6(s,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,t){return this.controls[r]?this.controls[r]:(this.controls[r]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(r,t,s={}){this.registerControl(r,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(r,t,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],t&&this.registerControl(r,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,t={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(r[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(Object.keys(r).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(r[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r={},t={}){this._forEachChild((s,o)=>{s.reset(r[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(r,t,s)=>(r[s]=t instanceof AC?t.value:t.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&r(s,t)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&r(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,t,s)=>((t.enabled||this.disabled)&&(r[s]=t.value),r))}_reduceChildren(r,t){let s=r;return this._forEachChild((o,c)=>{s=t(s,o,c)}),s}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((t,s)=>{if(void 0===r[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class pme extends E0{constructor(r,t,s){super(v6(t),b6(s,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,t={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(r,t,s={}){this.controls.splice(r,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(r,t,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,t={}){this._checkAllValuesPresent(r),r.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(r.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r=[],t={}){this._forEachChild((s,o)=>{s.reset(r[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(r=>r instanceof AC?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((t,s)=>{r(t,s)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(t=>t.enabled&&r(t))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((t,s)=>{if(void 0===r[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const vme={provide:Jm,useExisting:Cr(()=>w6)},jZ=(()=>Promise.resolve(null))();let w6=(()=>{class n extends Jm{constructor(t,s,o,c){super(),this.control=new AC,this._registered=!1,this.update=new Hr,this._parent=t,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(n,r){if(!r)return null;let t,s,o;return Array.isArray(r),r.forEach(c=>{c.constructor===PL?t=c:function(n){return Object.getPrototypeOf(n.constructor)===wC}(c)?s=c:o=c}),o||s||t||null}(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,r){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(r,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,r){return[...r.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jZ.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,o=""===s||s&&"false"!==s;jZ.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(xt(Ll,9),xt(Gc,10),xt(j1,10),xt(Yc,10))},n.\u0275dir=Bn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rs([vme]),bo,Ei]}),n})(),UZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({}),n})();const Cme={provide:Yc,useExisting:Cr(()=>HL),multi:!0};let HL=(()=>{class n extends wC{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=s=>{t(""==s?null:parseFloat(s))}}}return n.\u0275fac=function(){let r;return function(s){return(r||(r=bt(n)))(s||n)}}(),n.\u0275dir=Bn({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,s){1&t&&hr("change",function(c){return s.onChange(c.target.value)})("input",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},features:[Rs([Cme]),bo]}),n})(),N6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[UZ]]}),n})(),nJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[N6]}),n})();const q_=["*"],mge=["dialog"];function jge(n,r){if(1&n&&(_t(0,"span"),Sc(1,2),t3(2,"percent"),yt()),2&n){const t=gn();Wt(2),YD(n3(2,1,t.getValue()/t.max)),function(n){!function(n,r,t){if(zD>0){const s=n.data[t];s_(n,r,Array.isArray(s)?s:s.update,Fa()-zD-1,VD)}VD=0,zD=0}(Yi(),In(),n+20)}(1)}}function no(n){return!isNaN(function(n){return parseInt(`${n}`,10)}(n))}function ey(n){return null!=n}function ty(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null});const hJ={animation:!0,transitionTimerDelayMs:5};let Va=(()=>{class n{constructor(){this.animation=hJ.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({factory:function(){return new n},token:n,providedIn:"root"}),n})();const qL=()=>{},{transitionTimerDelayMs:u0e}=hJ,FA=new Map,Fl=(n,r,t,s)=>{let o=s.context||{};const c=FA.get(r);if(c)switch(s.runningTransition){case"continue":return Spe;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),FA.delete(r)}const f=t(r,s.animation,o)||qL;if(!s.animation||"none"===window.getComputedStyle(r).transitionProperty)return n.run(()=>f()),yC(void 0).pipe(function(n){return r=>new ge(t=>r.subscribe(f=>n.run(()=>t.next(f)),f=>n.run(()=>t.error(f)),()=>n.run(()=>t.complete())))}(n));const m=new Pe,_=new Pe,x=m.pipe(function(...n){return r=>function(...n){return Ii(1)(yC(...n))}(r,yC(...n))}(!0));FA.set(r,{transition$:m,complete:()=>{_.next(),_.complete()},context:o});const E=function(n){const{transitionDelay:r,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(r)+parseFloat(t))}(r);return n.runOutsideAngular(()=>{const T=sc(r,"transitionend").pipe(Fo(x),lf(({target:z})=>z===r));(function(...n){if(1===n.length){if(!R(n[0]))return n[0];n=n[0]}return Pt(n,void 0).lift(new Ope)})(function(n=0,r,t){let s=-1;return Y8(r)?s=Number(r)<1?1:Number(r):Qe(r)&&(t=r),Qe(t)||(t=bC),new ge(o=>{const c=Y8(n)?n:+n-t.now();return t.schedule(uZ,c,{index:0,period:s,subscriber:o})})}(E+u0e).pipe(Fo(x)),T,_).pipe(Fo(x)).subscribe(()=>{FA.delete(r),n.run(()=>{f(),m.next(),m.complete()})})}),m.asObservable()};let xJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),DJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),CJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({}),n})(),x0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),BA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({}),n})();var l=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(l||(l={})),l))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ye=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ce(n){const r=Array.from(n.querySelectorAll(ye)).filter(t=>-1!==t.tabIndex);return[r[0],r[r.length-1]]}new class{getAllStyles(r){return window.getComputedStyle(r)}getStyle(r,t){return this.getAllStyles(r)[t]}isStaticPositioned(r){return"static"===(this.getStyle(r,"position")||"static")}offsetParent(r){let t=r.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(r,t=!0){let s,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(r,"position"))s=r.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const c=this.offsetParent(r);s=this.offset(r,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return s.top-=o.top,s.bottom-=o.top,s.left-=o.left,s.right-=o.left,t&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(r,t=!0){const s=r.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:s.height||r.offsetHeight,width:s.width||r.offsetWidth,top:s.top+o_top,bottom:s.bottom+o_top,left:s.left+o_left,right:s.right+o_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(r,t,s,o){const[c="top",f="center"]=s.split("-"),m=o?this.offset(r,!1):this.position(r,!1),_=this.getAllStyles(t),x=parseFloat(_.marginTop),E=parseFloat(_.marginBottom),T=parseFloat(_.marginLeft),L=parseFloat(_.marginRight);let z=0,X=0;switch(c){case"top":z=m.top-(t.offsetHeight+x+E);break;case"bottom":z=m.top+m.height;break;case"left":X=m.left-(t.offsetWidth+T+L);break;case"right":X=m.left+m.width}switch(f){case"top":z=m.top;break;case"bottom":z=m.top+m.height-t.offsetHeight;break;case"left":X=m.left;break;case"right":X=m.left+m.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?X=m.left+m.width/2-t.offsetWidth/2:z=m.top+m.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(X)}px, ${Math.round(z)}px)`;const Q=t.getBoundingClientRect(),ne=document.documentElement,pe=window.innerHeight||ne.clientHeight,fe=window.innerWidth||ne.clientWidth;return Q.left>=0&&Q.top>=0&&Q.right<=fe&&Q.bottom<=pe}},new Date(1882,10,12),new Date(2174,10,25);let GDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph,nJ]]}),n})(),L0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Bn({type:n,selectors:[["",8,"navbar"]]}),n})(),ZDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({}),n})(),JDe=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(Xn(Va))},n.\u0275prov=Xe({factory:function(){return new n(Xn(Va))},token:n,providedIn:"root"}),n})();class HA{constructor(r,t,s){this.nodes=r,this.viewRef=t,this.componentRef=s}}const cEe=()=>{};let QDe=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):cEe}_adjustBody(t){const s=this._document.body,o=s.style.paddingRight,c=parseFloat(window.getComputedStyle(s)["padding-right"]);return s.style["padding-right"]=`${c+t}px`,()=>s.style["padding-right"]=o}_isPresent(t){const s=this._document.body.getBoundingClientRect();return window.innerWidth-(s.left+s.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const s=this._document.body;s.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return s.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(Xn(co))},n.\u0275prov=Xe({factory:function(){return new n(Xn(co))},token:n,providedIn:"root"}),n})(),dEe=(()=>{class n{constructor(t,s){this._el=t,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe(Bp(1)).subscribe(()=>{Fl(this._zone,this._el.nativeElement,(t,s)=>{s&&ty(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fl(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(xt(Ji),xt(Bs))},n.\u0275cmp=Us({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,s){2&t&&(mp("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),Ti("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,s){},encapsulation:2}),n})();class qDe{close(r){}dismiss(r){}}class fEe{constructor(r,t,s,o){this._windowCmptRef=r,this._contentRef=t,this._backdropCmptRef=s,this._beforeDismiss=o,this._closed=new Pe,this._dismissed=new Pe,this._hidden=new Pe,r.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,f)=>{this._resolve=c,this._reject=f}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Fo(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Fo(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(s=>{!1!==s&&this._dismiss(r)},()=>{}):!1!==t&&this._dismiss(r)}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():yC(void 0);r.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),IL(r,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Y6=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Y6||(Y6={})),Y6))();let hEe=(()=>{class n{constructor(t,s,o){this._document=t,this._elRef=s,this._zone=o,this._closed$=new Pe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Hr,this.shown=new Pe,this.hidden=new Pe}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Bp(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,s={animation:this.animation,runningTransition:"stop"},f=IL(Fl(this._zone,t,()=>t.classList.remove("show"),s),Fl(this._zone,this._dialogEl.nativeElement,()=>{},s));return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){const t={animation:this.animation,runningTransition:"continue"};IL(Fl(this._zone,this._elRef.nativeElement,(c,f)=>{f&&ty(c),c.classList.add("show")},t),Fl(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{sc(t,"keydown").pipe(Fo(this._closed$),lf(o=>o.which===l.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Y6.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;sc(this._dialogEl.nativeElement,"mousedown").pipe(Fo(this._closed$),function(n,r,t){return function(o){return o.lift(new fZ(n,r,t))}}(()=>s=!1),_A(()=>sc(t,"mouseup").pipe(Fo(this._closed$),Bp(1))),lf(({target:o})=>t===o)).subscribe(()=>{s=!0}),sc(t,"click").pipe(Fo(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(Y6.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const s=t.querySelector("[ngbAutofocus]"),o=Ce(t)[0];(s||o||t).focus()}}_restoreFocus(){const t=this._document.body,s=this._elWithFocus;let o;o=s&&s.focus&&t.contains(s)?s:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fl(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(xt(co),xt(Ji),xt(Bs))},n.\u0275cmp=Us({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,s){if(1&t&&kf(mge,7),2&t){let o;Qs(o=qs())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,s){2&t&&(Js("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),mp("modal d-block"+(s.windowClass?" "+s.windowClass:"")),Ti("fade",s.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:q_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,s){1&t&&(Fv(),_t(0,"div",0,1),_t(2,"div",2),Pv(3),yt(),yt()),2&t&&mp("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),ewe=(()=>{class n{constructor(t,s,o,c,f,m){this._applicationRef=t,this._injector=s,this._document=o,this._scrollBar=c,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new Pe,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Hr,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,r,t,s=!1)=>{n.runOutsideAngular(()=>{const o=sc(r,"focusin").pipe(Fo(t),rt(c=>c.target));sc(r,"keydown").pipe(Fo(t),lf(c=>c.which===l.Tab),LL(o)).subscribe(([c,f])=>{const[m,_]=Ce(r);(f===m||f===r)&&c.shiftKey&&(_.focus(),c.preventDefault()),f===_&&!c.shiftKey&&(m.focus(),c.preventDefault())}),s&&sc(r,"click").pipe(Fo(t),LL(o),rt(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}open(t,s,o,c){const f=c.container instanceof HTMLElement?c.container:ey(c.container)?this._document.querySelector(c.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),_=this._scrollBar.compensate(),x=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!f)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const E=new qDe,T=this._getContentRef(t,c.injector||s,o,E,c);let L=!1!==c.backdrop?this._attachBackdrop(t,f):void 0,z=this._attachWindowComponent(t,f,T),X=new fEe(z,T,L,c.beforeDismiss);return this._registerModalRef(X),this._registerWindowCmpt(z),X.result.then(_,_),X.result.then(x,x),E.close=Q=>{X.close(Q)},E.dismiss=Q=>{X.dismiss(Q)},this._applyWindowOptions(z.instance,c),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),L&&L.instance&&(this._applyBackdropOptions(L.instance,c),L.changeDetectorRef.detectChanges()),z.changeDetectorRef.detectChanges(),X}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(s=>s.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,s){let c=t.resolveComponentFactory(dEe).create(this._injector);return this._applicationRef.attachView(c.hostView),s.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,s,o){let f=t.resolveComponentFactory(hEe).create(this._injector,o.nodes);return this._applicationRef.attachView(f.hostView),s.appendChild(f.location.nativeElement),f}_applyWindowOptions(t,s){this._windowAttributes.forEach(o=>{ey(s[o])&&(t[o]=s[o])})}_applyBackdropOptions(t,s){this._backdropAttributes.forEach(o=>{ey(s[o])&&(t[o]=s[o])})}_getContentRef(t,s,o,c,f){return o?o instanceof lo?this._createFromTemplateRef(o,c):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,s,o,c,f):new HA([])}_createFromTemplateRef(t,s){const c=t.createEmbeddedView({$implicit:s,close(f){s.close(f)},dismiss(f){s.dismiss(f)}});return this._applicationRef.attachView(c),new HA([c.rootNodes],c)}_createFromString(t){const s=this._document.createTextNode(`${t}`);return new HA([[s]])}_createFromComponent(t,s,o,c,f){const m=t.resolveComponentFactory(o),_=ya.create({providers:[{provide:qDe,useValue:c}],parent:s}),x=m.create(_),E=x.location.nativeElement;return f.scrollable&&E.classList.add("component-host-scrollable"),this._applicationRef.attachView(x.hostView),new HA([[E]],x.hostView,x)}_setAriaHidden(t){const s=t.parentElement;s&&t!==this._document.body&&(Array.from(s.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,s)=>{t?s.setAttribute("aria-hidden",t):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const s=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(s,s)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const s=this._windowCmpts.indexOf(t);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(Xn(__),Xn(ya),Xn(co),Xn(QDe),Xn(o_),Xn(Bs))},n.\u0275prov=Xe({factory:function(){return new n(Xn(__),Xn(Fy),Xn(co),Xn(QDe),Xn(o_),Xn(Bs))},token:n,providedIn:"root"}),n})(),pEe=(()=>{class n{constructor(t,s,o,c){this._moduleCFR=t,this._injector=s,this._modalStack=o,this._config=c}open(t,s={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(Xn(sl),Xn(ya),Xn(ewe),Xn(JDe))},n.\u0275prov=Xe({factory:function(){return new n(Xn(sl),Xn(Fy),Xn(ewe),Xn(JDe))},token:n,providedIn:"root"}),n})(),twe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({providers:[pEe]}),n})(),swe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),hwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),gwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),kEe=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({factory:function(){return new n},token:n,providedIn:"root"}),n})(),IEe=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!no(t)||t<=0?100:t}get max(){return this._max}getValue(){return function(n,r,t=0){return Math.max(Math.min(n,r),t)}(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(xt(kEe))},n.\u0275cmp=Us({type:n,selectors:[["ngb-progressbar"]],hostAttrs:[1,"progress"],hostVars:2,hostBindings:function(t,s){2&t&&i_("height",s.height)},inputs:{value:"value",max:"max",animated:"animated",striped:"striped",textType:"textType",type:"type",showValue:"showValue",height:"height"},ngContentSelectors:q_,decls:3,vars:11,consts:function(){let r;return r=$localize`:@@ngb.progressbar.value␟f8e9a947b9db4252c0e9905765338712f2fd032f␟3720830768741091151:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["role","progressbar","aria-valuemin","0"],[4,"ngIf"],r]},template:function(t,s){1&t&&(Fv(),_t(0,"div",0),Nn(1,jge,3,3,"span",1),Pv(2),yt()),2&t&&(function(n,r,t,s,o,c,f,m,_){Ec(Rd,Ng,kD(In(),n,r,t,s,o,c,f,m,_),!0)}("progress-bar",s.type?" bg-"+s.type:"","",s.textType?" text-"+s.textType:"","\n    ",s.animated?" progress-bar-animated":"","",s.striped?" progress-bar-striped":"",""),i_("width",s.getPercentValue(),"%"),Js("aria-valuenow",s.getValue())("aria-valuemax",s.max),Wt(1),Xt("ngIf",s.showValue))},directives:[pd],pipes:[xW],encapsulation:2,changeDetection:0}),n})(),_we=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),ywe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),Dwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),wwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})(),Cwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({}),n})();new Xr("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Swe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[Ph]]}),n})();const QEe=[xJ,DJ,CJ,x0e,BA,GDe,ZDe,twe,swe,hwe,gwe,_we,ywe,Dwe,wwe,Cwe,Swe];let qEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[QEe,xJ,DJ,CJ,x0e,BA,GDe,ZDe,twe,swe,hwe,gwe,_we,ywe,Dwe,wwe,Cwe,Swe]}),n})();const Awe=function(n,r){return n===r||n!=n&&r!=r},BJ=function(n,r){for(var t=n.length;t--;)if(Awe(n[t][0],r))return t;return-1};var sMe=Array.prototype.splice;function rF(n){var r=-1,t=null==n?0:n.length;for(this.clear();++r<t;){var s=n[r];this.set(s[0],s[1])}}rF.prototype.clear=function(){this.__data__=[],this.size=0},rF.prototype.delete=function(n){var r=this.__data__,t=BJ(r,n);return!(t<0||(t==r.length-1?r.pop():sMe.call(r,t,1),--this.size,0))},rF.prototype.get=function(n){var r=this.__data__,t=BJ(r,n);return t<0?void 0:r[t][1]},rF.prototype.has=function(n){return BJ(this.__data__,n)>-1},rF.prototype.set=function(n,r){var t=this.__data__,s=BJ(t,n);return s<0?(++this.size,t.push([n,r])):t[s][1]=r,this};const $J=rF,Twe="object"==typeof global&&global&&global.Object===Object&&global;var wMe="object"==typeof self&&self&&self.Object===Object&&self;const J1=Twe||wMe||Function("return this")(),iF=J1.Symbol;var kwe=Object.prototype,MMe=kwe.hasOwnProperty,SMe=kwe.toString,G6=iF?iF.toStringTag:void 0;var IMe=Object.prototype.toString;var Iwe=iF?iF.toStringTag:void 0;const K6=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":Iwe&&Iwe in Object(n)?function(n){var r=MMe.call(n,G6),t=n[G6];try{n[G6]=void 0;var s=!0}catch(c){}var o=SMe.call(n);return s&&(r?n[G6]=t:delete n[G6]),o}(n):function(n){return IMe.call(n)}(n)},X6=function(n){var r=typeof n;return null!=n&&("object"==r||"function"==r)},Nwe=function(n){if(!X6(n))return!1;var r=K6(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},$0e=J1["__core-js_shared__"];var Owe=function(){var n=/[^.]+$/.exec($0e&&$0e.keys&&$0e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var GMe=Function.prototype.toString;const UA=function(n){if(null!=n){try{return GMe.call(n)}catch(r){}try{return n+""}catch(r){}}return""};var ZMe=/^\[object .+?Constructor\]$/,t2e=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const r2e=function(n){return!(!X6(n)||function(n){return!!Owe&&Owe in n}(n))&&(Nwe(n)?t2e:ZMe).test(UA(n))},YA=function(n,r){var t=function(n,r){return null==n?void 0:n[r]}(n,r);return r2e(t)?t:void 0},Z6=YA(J1,"Map"),J6=YA(Object,"create");var m2e=Object.prototype.hasOwnProperty;var v2e=Object.prototype.hasOwnProperty;function sF(n){var r=-1,t=null==n?0:n.length;for(this.clear();++r<t;){var s=n[r];this.set(s[0],s[1])}}sF.prototype.clear=function(){this.__data__=J6?J6(null):{},this.size=0},sF.prototype.delete=function(n){var r=this.has(n)&&delete this.__data__[n];return this.size-=r?1:0,r},sF.prototype.get=function(n){var r=this.__data__;if(J6){var t=r[n];return"__lodash_hash_undefined__"===t?void 0:t}return m2e.call(r,n)?r[n]:void 0},sF.prototype.has=function(n){var r=this.__data__;return J6?void 0!==r[n]:v2e.call(r,n)},sF.prototype.set=function(n,r){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=J6&&void 0===r?"__lodash_hash_undefined__":r,this};const Lwe=sF,VJ=function(n,r){var t=n.__data__;return function(n){var r=typeof n;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n}(r)?t["string"==typeof r?"string":"hash"]:t.map};function aF(n){var r=-1,t=null==n?0:n.length;for(this.clear();++r<t;){var s=n[r];this.set(s[0],s[1])}}aF.prototype.clear=function(){this.size=0,this.__data__={hash:new Lwe,map:new(Z6||$J),string:new Lwe}},aF.prototype.delete=function(n){var r=VJ(this,n).delete(n);return this.size-=r?1:0,r},aF.prototype.get=function(n){return VJ(this,n).get(n)},aF.prototype.has=function(n){return VJ(this,n).has(n)},aF.prototype.set=function(n,r){var t=VJ(this,n),s=t.size;return t.set(n,r),this.size+=t.size==s?0:1,this};const B2e=aF;function oF(n){var r=this.__data__=new $J(n);this.size=r.size}oF.prototype.clear=function(){this.__data__=new $J,this.size=0},oF.prototype.delete=function(n){var r=this.__data__,t=r.delete(n);return this.size=r.size,t},oF.prototype.get=function(n){return this.__data__.get(n)},oF.prototype.has=function(n){return this.__data__.has(n)},oF.prototype.set=function(n,r){var t=this.__data__;if(t instanceof $J){var s=t.__data__;if(!Z6||s.length<199)return s.push([n,r]),this.size=++t.size,this;t=this.__data__=new B2e(s)}return t.set(n,r),this.size=t.size,this};const j2e=oF,Fwe=function(){try{var n=YA(Object,"defineProperty");return n({},"",{}),n}catch(r){}}(),Pwe=function(n,r,t){"__proto__"==r&&Fwe?Fwe(n,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[r]=t};var K2e=Object.prototype.hasOwnProperty;const Rwe=function(n,r,t){var s=n[r];(!K2e.call(n,r)||!Awe(s,t)||void 0===t&&!(r in n))&&Pwe(n,r,t)},zJ=function(n,r,t,s){var o=!t;t||(t={});for(var c=-1,f=r.length;++c<f;){var m=r[c],_=s?s(t[m],n[m],m,t,n):void 0;void 0===_&&(_=n[m]),o?Pwe(t,m,_):Rwe(t,m,_)}return t},Q6=function(n){return null!=n&&"object"==typeof n},Bwe=function(n){return Q6(n)&&"[object Arguments]"==K6(n)};var $we=Object.prototype,nSe=$we.hasOwnProperty,rSe=$we.propertyIsEnumerable;const sSe=Bwe(function(){return arguments}())?Bwe:function(n){return Q6(n)&&nSe.call(n,"callee")&&!rSe.call(n,"callee")},V0e=Array.isArray;var Vwe="object"==typeof exports&&exports&&!exports.nodeType&&exports,zwe=Vwe&&"object"==typeof module&&module&&!module.nodeType&&module,jwe=zwe&&zwe.exports===Vwe?J1.Buffer:void 0;const Wwe=(jwe?jwe.isBuffer:void 0)||function(){return!1};var hSe=/^(?:0|[1-9]\d*)$/;const mSe=function(n,r){var t=typeof n;return!!(r=null==r?9007199254740991:r)&&("number"==t||"symbol"!=t&&hSe.test(n))&&n>-1&&n%1==0&&n<r},Hwe=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991};var Du={};Du["[object Float32Array]"]=Du["[object Float64Array]"]=Du["[object Int8Array]"]=Du["[object Int16Array]"]=Du["[object Int32Array]"]=Du["[object Uint8Array]"]=Du["[object Uint8ClampedArray]"]=Du["[object Uint16Array]"]=Du["[object Uint32Array]"]=!0,Du["[object Arguments]"]=Du["[object Array]"]=Du["[object ArrayBuffer]"]=Du["[object Boolean]"]=Du["[object DataView]"]=Du["[object Date]"]=Du["[object Error]"]=Du["[object Function]"]=Du["[object Map]"]=Du["[object Number]"]=Du["[object Object]"]=Du["[object RegExp]"]=Du["[object Set]"]=Du["[object String]"]=Du["[object WeakMap]"]=!1;const z0e=function(n){return function(r){return n(r)}};var Uwe="object"==typeof exports&&exports&&!exports.nodeType&&exports,q6=Uwe&&"object"==typeof module&&module&&!module.nodeType&&module,j0e=q6&&q6.exports===Uwe&&Twe.process;const uF=function(){try{return q6&&q6.require&&q6.require("util").types||j0e&&j0e.binding&&j0e.binding("util")}catch(r){}}();var Ywe=uF&&uF.isTypedArray;const KSe=Ywe?z0e(Ywe):function(n){return Q6(n)&&Hwe(n.length)&&!!Du[K6(n)]};var ZSe=Object.prototype.hasOwnProperty;const Gwe=function(n,r){var t=V0e(n),s=!t&&sSe(n),o=!t&&!s&&Wwe(n),c=!t&&!s&&!o&&KSe(n),f=t||s||o||c,m=f?function(n,r){for(var t=-1,s=Array(n);++t<n;)s[t]=r(t);return s}(n.length,String):[],_=m.length;for(var x in n)(r||ZSe.call(n,x))&&(!f||!("length"==x||o&&("offset"==x||"parent"==x)||c&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||mSe(x,_)))&&m.push(x);return m};var QSe=Object.prototype;const W0e=function(n){var r=n&&n.constructor;return n===("function"==typeof r&&r.prototype||QSe)},Kwe=function(n,r){return function(t){return n(r(t))}},nAe=Kwe(Object.keys,Object);var iAe=Object.prototype.hasOwnProperty;const Xwe=function(n){return null!=n&&Hwe(n.length)&&!Nwe(n)},H0e=function(n){return Xwe(n)?Gwe(n):function(n){if(!W0e(n))return nAe(n);var r=[];for(var t in Object(n))iAe.call(n,t)&&"constructor"!=t&&r.push(t);return r}(n)};var pAe=Object.prototype.hasOwnProperty;const gAe=function(n){if(!X6(n))return function(n){var r=[];if(null!=n)for(var t in Object(n))r.push(t);return r}(n);var r=W0e(n),t=[];for(var s in n)"constructor"==s&&(r||!pAe.call(n,s))||t.push(s);return t},U0e=function(n){return Xwe(n)?Gwe(n,!0):gAe(n)};var Zwe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jwe=Zwe&&"object"==typeof module&&module&&!module.nodeType&&module,Qwe=Jwe&&Jwe.exports===Zwe?J1.Buffer:void 0,qwe=Qwe?Qwe.allocUnsafe:void 0;const eCe=function(){return[]};var TAe=Object.prototype.propertyIsEnumerable,tCe=Object.getOwnPropertySymbols;const Y0e=tCe?function(n){return null==n?[]:(n=Object(n),function(n,r){for(var t=-1,s=null==n?0:n.length,o=0,c=[];++t<s;){var f=n[t];r(f,t,n)&&(c[o++]=f)}return c}(tCe(n),function(r){return TAe.call(n,r)}))}:eCe,nCe=function(n,r){for(var t=-1,s=r.length,o=n.length;++t<s;)n[o+t]=r[t];return n},rCe=Kwe(Object.getPrototypeOf,Object),iCe=Object.getOwnPropertySymbols?function(n){for(var r=[];n;)nCe(r,Y0e(n)),n=rCe(n);return r}:eCe,sCe=function(n,r,t){var s=r(n);return V0e(n)?s:nCe(s,t(n))},zAe=function(n){return sCe(n,H0e,Y0e)},WAe=function(n){return sCe(n,U0e,iCe)},G0e=YA(J1,"DataView"),K0e=YA(J1,"Promise"),X0e=YA(J1,"Set"),Z0e=YA(J1,"WeakMap");var aCe="[object Map]",oCe="[object Promise]",uCe="[object Set]",lCe="[object WeakMap]",cCe="[object DataView]",XAe=UA(G0e),ZAe=UA(Z6),JAe=UA(K0e),QAe=UA(X0e),qAe=UA(Z0e),GA=K6;(G0e&&GA(new G0e(new ArrayBuffer(1)))!=cCe||Z6&&GA(new Z6)!=aCe||K0e&&GA(K0e.resolve())!=oCe||X0e&&GA(new X0e)!=uCe||Z0e&&GA(new Z0e)!=lCe)&&(GA=function(n){var r=K6(n),t="[object Object]"==r?n.constructor:void 0,s=t?UA(t):"";if(s)switch(s){case XAe:return cCe;case ZAe:return aCe;case JAe:return oCe;case QAe:return uCe;case qAe:return lCe}return r});const J0e=GA;var tTe=Object.prototype.hasOwnProperty;const dCe=J1.Uint8Array,Q0e=function(n){var r=new n.constructor(n.byteLength);return new dCe(r).set(new dCe(n)),r};var uTe=/\w*$/;var fCe=iF?iF.prototype:void 0,hCe=fCe?fCe.valueOf:void 0;const FTe=function(n,r,t){var s=n.constructor;switch(r){case"[object ArrayBuffer]":return Q0e(n);case"[object Boolean]":case"[object Date]":return new s(+n);case"[object DataView]":return function(n,r){var t=r?Q0e(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(n,r){var t=r?Q0e(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}(n,t);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(n);case"[object RegExp]":return function(n){var r=new n.constructor(n.source,uTe.exec(n));return r.lastIndex=n.lastIndex,r}(n);case"[object Set]":return new s;case"[object Symbol]":return function(n){return hCe?Object(hCe.call(n)):{}}(n)}};var pCe=Object.create;const RTe=function(){function n(){}return function(r){if(!X6(r))return{};if(pCe)return pCe(r);n.prototype=r;var t=new n;return n.prototype=void 0,t}}();var mCe=uF&&uF.isMap;const HTe=mCe?z0e(mCe):function(n){return Q6(n)&&"[object Map]"==J0e(n)};var gCe=uF&&uF.isSet;const XTe=gCe?z0e(gCe):function(n){return Q6(n)&&"[object Set]"==J0e(n)};var _Ce="[object Arguments]",yCe="[object Function]",vCe="[object Object]",tu={};tu[_Ce]=tu["[object Array]"]=tu["[object ArrayBuffer]"]=tu["[object DataView]"]=tu["[object Boolean]"]=tu["[object Date]"]=tu["[object Float32Array]"]=tu["[object Float64Array]"]=tu["[object Int8Array]"]=tu["[object Int16Array]"]=tu["[object Int32Array]"]=tu["[object Map]"]=tu["[object Number]"]=tu[vCe]=tu["[object RegExp]"]=tu["[object Set]"]=tu["[object String]"]=tu["[object Symbol]"]=tu["[object Uint8Array]"]=tu["[object Uint8ClampedArray]"]=tu["[object Uint16Array]"]=tu["[object Uint32Array]"]=!0,tu["[object Error]"]=tu[yCe]=tu["[object WeakMap]"]=!1;const Dke=function jJ(n,r,t,s,o,c){var f,m=1&r,_=2&r,x=4&r;if(t&&(f=o?t(n,s,o,c):t(n)),void 0!==f)return f;if(!X6(n))return n;var E=V0e(n);if(E){if(f=function(n){var r=n.length,t=new n.constructor(r);return r&&"string"==typeof n[0]&&tTe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}(n),!m)return function(n,r){var t=-1,s=n.length;for(r||(r=Array(s));++t<s;)r[t]=n[t];return r}(n,f)}else{var T=J0e(n),L=T==yCe||"[object GeneratorFunction]"==T;if(Wwe(n))return function(n,r){if(r)return n.slice();var t=n.length,s=qwe?qwe(t):new n.constructor(t);return n.copy(s),s}(n,m);if(T==vCe||T==_Ce||L&&!o){if(f=_||L?{}:function(n){return"function"!=typeof n.constructor||W0e(n)?{}:RTe(rCe(n))}(n),!m)return _?function(n,r){return zJ(n,iCe(n),r)}(n,function(n,r){return n&&zJ(r,U0e(r),n)}(f,n)):function(n,r){return zJ(n,Y0e(n),r)}(n,function(n,r){return n&&zJ(r,H0e(r),n)}(f,n))}else{if(!tu[T])return o?n:{};f=FTe(n,T,m)}}c||(c=new j2e);var z=c.get(n);if(z)return z;c.set(n,f),XTe(n)?n.forEach(function(ne){f.add(jJ(ne,r,t,ne,n,c))}):HTe(n)&&n.forEach(function(ne,pe){f.set(pe,jJ(ne,r,t,pe,n,c))});var Q=E?void 0:(x?_?WAe:zAe:_?U0e:H0e)(n);return function(n,r){for(var t=-1,s=null==n?0:n.length;++t<s&&!1!==r(n[t],t,n););}(Q||n,function(ne,pe){Q&&(ne=n[pe=ne]),Rwe(f,pe,jJ(ne,r,t,pe,n,c))}),f};var q0e=v(6823);const bCe=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function eh(n,r){return"rgba("+n.concat(r).join(",")+")"}function e_e(n,r){return Math.floor(Math.random()*(r-n+1))+n}function t_e(n){return{backgroundColor:n.map(r=>eh(r,.6)),borderColor:n.map(()=>"#fff"),pointBackgroundColor:n.map(r=>eh(r,1)),pointBorderColor:n.map(()=>"#fff"),pointHoverBackgroundColor:n.map(r=>eh(r,1)),pointHoverBorderColor:n.map(r=>eh(r,1))}}function xCe(){return[e_e(0,255),e_e(0,255),e_e(0,255)]}function DCe(n){return bCe[n]||xCe()}function WJ(n){const r=new Array(n);for(let t=0;t<n;t++)r[t]=bCe[t]||xCe();return r}let Ike=(()=>{class n{constructor(){this.pColorschemesOptions={},this.colorschemesOptions=new Gm({})}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({factory:function(){return new n},token:n,providedIn:"root"}),n})();const za={Default:0,Update:1,Refresh:2};za[za.Default]="Default",za[za.Update]="Update",za[za.Refresh]="Refresh";let Nke=(()=>{class n{constructor(t,s){this.element=t,this.themeService=s,this.options={},this.chartClick=new Hr,this.chartHover=new Hr,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}static registerPlugin(t){q0e.pluginService.register(t)}static unregisterPlugin(t){q0e.pluginService.unregister(t)}ngOnInit(){this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(t=>this.themeChanged(t)))}themeChanged(t){this.refresh()}ngDoCheck(){if(!this.chart)return;let t=za.Default;const s=o=>{t=o>t?o:t};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,s(za.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,s(za.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,s(za.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,s(za.Update)),this.datasets&&this.datasets.filter((o,c)=>o.data!==this.old.datasetsDataObjects[c]).length&&(this.old.datasetsDataObjects=this.datasets.map(o=>o.data),s(za.Update)),this.datasets&&this.datasets.filter((o,c)=>o.data.length!==this.old.datasetsDataLengths[c]).length&&(this.old.datasetsDataLengths=this.datasets.map(o=>o.data.length),s(za.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),s(za.Update)),this.colors&&this.colors.filter((o,c)=>!this.colorsEqual(o,this.old.colors[c])).length&&(this.old.colors=this.colors.map(o=>this.copyColor(o)),this.updateColors(),s(za.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,s(za.Update)),this.labels&&this.labels.filter((o,c)=>!this.labelsEqual(o,this.old.labels[c])).length&&(this.old.labels=this.labels.map(o=>this.copyLabel(o)),s(za.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,s(za.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,s(za.Refresh)),t){case za.Default:break;case za.Update:this.update();break;case za.Refresh:this.refresh()}}copyLabel(t){return Array.isArray(t)?[...t]:t}labelsEqual(t,s){return Array.isArray(t)===Array.isArray(s)&&(Array.isArray(t)||t===s)&&(!Array.isArray(t)||t.length===s.length)&&(!Array.isArray(t)||0===t.filter((o,c)=>o!==s[c]).length)}copyColor(t){return{backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderColor:t.borderColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,pointBorderColor:t.pointBorderColor,pointBackgroundColor:t.pointBackgroundColor,pointBorderWidth:t.pointBorderWidth,pointRadius:t.pointRadius,pointHoverRadius:t.pointHoverRadius,pointHitRadius:t.pointHitRadius,pointHoverBackgroundColor:t.pointHoverBackgroundColor,pointHoverBorderColor:t.pointHoverBorderColor,pointHoverBorderWidth:t.pointHoverBorderWidth,pointStyle:t.pointStyle,hoverBackgroundColor:t.hoverBackgroundColor,hoverBorderColor:t.hoverBorderColor,hoverBorderWidth:t.hoverBorderWidth}}colorsEqual(t,s){return!t==!s&&(!t||t.backgroundColor===s.backgroundColor&&t.borderWidth===s.borderWidth&&t.borderColor===s.borderColor&&t.borderCapStyle===s.borderCapStyle&&t.borderDash===s.borderDash&&t.borderDashOffset===s.borderDashOffset&&t.borderJoinStyle===s.borderJoinStyle&&t.pointBorderColor===s.pointBorderColor&&t.pointBackgroundColor===s.pointBackgroundColor&&t.pointBorderWidth===s.pointBorderWidth&&t.pointRadius===s.pointRadius&&t.pointHoverRadius===s.pointHoverRadius&&t.pointHitRadius===s.pointHitRadius&&t.pointHoverBackgroundColor===s.pointHoverBackgroundColor&&t.pointHoverBorderColor===s.pointHoverBorderColor&&t.pointHoverBorderWidth===s.pointHoverBorderWidth&&t.pointStyle===s.pointStyle&&t.hoverBackgroundColor===s.hoverBackgroundColor&&t.hoverBorderColor===s.hoverBorderColor&&t.hoverBorderWidth===s.hoverBorderWidth)}updateColors(){this.datasets.forEach((t,s)=>{this.colors&&this.colors[s]?Object.assign(t,this.colors[s]):Object.assign(t,function(n,r,t){if("pie"===n||"doughnut"===n)return t_e(WJ(t));if("polarArea"===n)return function(n){return{backgroundColor:n.map(r=>eh(r,.6)),borderColor:n.map(r=>eh(r,1)),hoverBackgroundColor:n.map(r=>eh(r,.8)),hoverBorderColor:n.map(r=>eh(r,1))}}(WJ(t));if("line"===n||"radar"===n)return function(n){return{backgroundColor:eh(n,.4),borderColor:eh(n,1),pointBackgroundColor:eh(n,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:eh(n,.8)}}(DCe(r));if("bar"===n||"horizontalBar"===n)return function(n){return{backgroundColor:eh(n,.6),borderColor:eh(n,1),hoverBackgroundColor:eh(n,.8),hoverBorderColor:eh(n,1)}}(DCe(r));if("bubble"===n||"scatter"===n)return t_e(WJ(t));throw new Error("getColors - Unsupported chart type: "+n)}(this.chartType,s,t.data.length),Object.assign({},t))})}ngOnChanges(t){let s=za.Default;const o=c=>{s=c>s?c:s};switch(t.hasOwnProperty("data")&&t.data.currentValue&&(this.propagateDataToDatasets(t.data.currentValue),o(za.Update)),t.hasOwnProperty("datasets")&&t.datasets.currentValue&&(this.propagateDatasetsToData(t.datasets.currentValue),o(za.Update)),t.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=t.labels.currentValue),o(za.Update)),t.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=t.legend.currentValue,this.chart.generateLegend()),o(za.Update)),t.hasOwnProperty("options")&&o(za.Refresh),s){case za.Update:this.update();break;case za.Refresh:case za.Default:this.refresh()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}update(t){if(this.chart)return this.chart.update(t)}hideDataset(t,s){this.chart.getDatasetMeta(t).hidden=s,this.chart.update()}isDatasetHidden(t){return this.chart.getDatasetMeta(t).hidden}toBase64Image(){return this.chart.toBase64Image()}getChartConfiguration(){const t=this.getDatasets(),s=Object.assign({},this.options);!1===this.legend&&(s.legend={display:!1}),s.hover=s.hover||{},s.hover.onHover||(s.hover.onHover=(c,f)=>{f&&!f.length||this.chartHover.emit({event:c,active:f})}),s.onClick||(s.onClick=(c,f)=>{this.chartClick.emit({event:c,active:f})});const o=this.smartMerge(s,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:t},plugins:this.plugins,options:o}}getChartBuilder(t){const s=this.getChartConfiguration();return new q0e.Chart(t,s)}smartMerge(t,s,o=0){if(0===o&&(t=function(n){return Dke(n,5)}(t)),Object.keys(s).forEach(f=>{if(Array.isArray(s[f])){const m=t[f];m&&m.forEach(_=>{this.smartMerge(_,s[f][0],o+1)})}else"object"==typeof s[f]?(f in t||(t[f]={}),this.smartMerge(t[f],s[f],o+1)):t[f]=s[f]}),0===o)return t}isMultiLineLabel(t){return Array.isArray(t)}joinLabel(t){return t?this.isMultiLineLabel(t)?t.join(" "):t:null}propagateDatasetsToData(t){this.data=this.datasets.map(s=>s.data),this.chart&&(this.chart.data.datasets=t),this.updateColors()}propagateDataToDatasets(t){this.isMultiDataSet(t)?this.datasets&&t.length===this.datasets.length?this.datasets.forEach((s,o)=>{s.data=t[o]}):(this.datasets=t.map((s,o)=>({data:s,label:this.joinLabel(this.labels[o])||`Label ${o}`})),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0]||(this.datasets[0]={}),this.datasets[0].data=t,this.datasets.splice(1)):(this.datasets=[{data:t}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}isMultiDataSet(t){return Array.isArray(t[0])}getDatasets(){if(!this.datasets&&!this.data)throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):void 0}refresh(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}return n.\u0275fac=function(t){return new(t||n)(xt(Ji),xt(Ike))},n.\u0275dir=Bn({type:n,selectors:[["canvas","baseChart",""]],inputs:{options:"options",data:"data",datasets:"datasets",labels:"labels",chartType:"chartType",colors:"colors",legend:"legend",plugins:"plugins"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[Ei]}),n})(),Oke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n}),n.\u0275inj=Nt({imports:[[]]}),n})();const Lke=["i_model"],Fke=["i_weights"],Pke=["i_test_data"],Rke=["i_labels"],Bke=["i_class_names"];function $ke(n,r){if(1&n){const t=gs();_t(0,"button",9),hr("click",function(){return fr(t),gn().toggleVisor()}),qn(1,"Info"),yt()}}function Vke(n,r){if(1&n){const t=gs();_t(0,"li",15),hr("click",function(){const c=fr(t).$implicit;return gn(2).loadModelFromLocalStorage(c)}),qn(1),yt()}if(2&n){const t=r.$implicit;Wt(1),Xl(t)}}function zke(n,r){if(1&n&&(_t(0,"div",10),_t(1,"div",11),qn(2,"Load model from local storage"),yt(),_t(3,"div",12),_t(4,"ul",13),Nn(5,Vke,2,1,"li",14),yt(),yt(),yt()),2&n){const t=gn();Wt(5),Xt("ngForOf",t.savedModels)}}function jke(n,r){if(1&n){const t=gs();_t(0,"div",36),da(1,"div",37),_t(2,"div",37),_t(3,"button",38),hr("click",function(){return fr(t),gn(2).loadModel()}),qn(4,"Import"),yt(),yt(),yt()}}function Wke(n,r){if(1&n){const t=gs();_t(0,"div",10),_t(1,"div",12),_t(2,"h5",16),qn(3,"Import Model"),yt(),_t(4,"div",17),_t(5,"div",18),_t(6,"input",19,20),hr("change",function(o){return fr(t),gn().onFileChange(o)}),yt(),_t(8,"label",21),qn(9,"Model"),yt(),yt(),yt(),_t(10,"div",22),_t(11,"div",18),_t(12,"input",23,24),hr("change",function(o){return fr(t),gn().onFileChange(o)}),yt(),_t(14,"label",25),qn(15,"Weights"),yt(),yt(),yt(),_t(16,"div",22),_t(17,"div",18),_t(18,"input",26,27),hr("change",function(o){return fr(t),gn().onFileChange(o)}),yt(),_t(20,"label",28),qn(21,"Test data"),yt(),yt(),yt(),_t(22,"div",22),_t(23,"div",18),_t(24,"input",29,30),hr("change",function(o){return fr(t),gn().onFileChange(o)}),yt(),_t(26,"label",31),qn(27,"Labels"),yt(),yt(),yt(),_t(28,"div",22),_t(29,"div",18),_t(30,"input",32,33),hr("change",function(o){return fr(t),gn().onFileChange(o)}),yt(),_t(32,"label",34),qn(33,"Class names"),yt(),yt(),yt(),Nn(34,jke,5,0,"div",35),yt(),yt()}if(2&n){const t=gn();Wt(34),Xt("ngIf",!t.model)}}function Hke(n,r){if(1&n){const t=gs();_t(0,"div",39),_t(1,"div",11),qn(2),yt(),_t(3,"div",12),_t(4,"button",40),hr("click",function(){return fr(t),gn().save()}),qn(5,"Save in browser storage"),yt(),yt(),yt()}if(2&n){const t=gn();Wt(2),Xl(t.model.name)}}function Uke(n,r){if(1&n){const t=gs();_t(0,"div",56),_t(1,"div",57),_t(2,"label"),qn(3),_t(4,"small"),qn(5,"(Max L_inf distance (each pixel can change up to this amount)"),yt(),yt(),_t(6,"input",58),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.fgsm.epsilon=o}),yt(),yt(),_t(7,"div",45),_t(8,"input",59),hr("change",function(){fr(t);const o=gn(2);return o.testContext.config.fgsm.targeted=!o.testContext.config.fgsm.targeted}),yt(),_t(9,"label",60),qn(10,"Targeted"),yt(),yt(),yt()}if(2&n){const t=gn(2);Wt(3),Xa("Epsilon ",t.testContext.config.fgsm.epsilon," "),Wt(3),Xt("ngModel",t.testContext.config.fgsm.epsilon),Wt(2),Xt("checked",t.testContext.config.fgsm.targeted)}}function Yke(n,r){if(1&n){const t=gs();_t(0,"div",56),_t(1,"div",57),_t(2,"label"),qn(3),_t(4,"small"),qn(5,"(Max L0 distance (we can change up to this many pixels).)"),yt(),yt(),_t(6,"input",61),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.jsma.epsilon=o}),yt(),yt(),yt()}if(2&n){const t=gn(2);Wt(3),Xa("Epsilon ",t.testContext.config.jsma.epsilon," "),Wt(3),Xt("ngModel",t.testContext.config.jsma.epsilon)}}function Gke(n,r){if(1&n){const t=gs();_t(0,"div",56),_t(1,"div",57),_t(2,"label"),qn(3),_t(4,"small"),qn(5,"(Max L_inf distance (each pixel can change up to this amount)"),yt(),yt(),_t(6,"input",58),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.bim.epsilon=o}),yt(),_t(7,"label"),qn(8),_t(9,"small"),qn(10,"(Learning rate for gradient descent.)"),yt(),yt(),_t(11,"input",58),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.bim.alpha=o}),yt(),_t(12,"label"),qn(13),yt(),_t(14,"input",62),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.bim.iterations=o}),yt(),yt(),_t(15,"div",45),_t(16,"input",63),hr("change",function(){fr(t);const o=gn(2);return o.testContext.config.bim.targeted=!o.testContext.config.bim.targeted}),yt(),_t(17,"label",64),qn(18,"Targeted"),yt(),yt(),yt()}if(2&n){const t=gn(2);Wt(3),Xa("Epsilon ",t.testContext.config.bim.epsilon," "),Wt(3),Xt("ngModel",t.testContext.config.bim.epsilon),Wt(2),Xa("Alpha ",t.testContext.config.bim.alpha," "),Wt(3),Xt("ngModel",t.testContext.config.bim.alpha),Wt(2),Xa("Iterations ",t.testContext.config.bim.iterations,""),Wt(1),Xt("ngModel",t.testContext.config.bim.iterations),Wt(2),Xt("checked",t.testContext.config.bim.targeted)}}function Kke(n,r){if(1&n){const t=gs();_t(0,"div",56),_t(1,"div",57),_t(2,"label"),qn(3),_t(4,"small"),qn(5,"(Higher = higher success rate, but higher distortion.)"),yt(),yt(),_t(6,"input",65),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.cw.successRate=o}),yt(),_t(7,"label"),qn(8),_t(9,"small"),qn(10,"(Higher = more confident adv example.)"),yt(),yt(),_t(11,"input",66),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.cw.confidenceRate=o}),yt(),_t(12,"label"),qn(13),yt(),_t(14,"input",67),hr("ngModelChange",function(o){return fr(t),gn(2).testContext.config.cw.iterations=o}),yt(),yt(),yt()}if(2&n){const t=gn(2);Wt(3),Xa("Success rate ",t.testContext.config.cw.successRate," "),Wt(3),Xt("ngModel",t.testContext.config.cw.successRate),Wt(2),Xa("Confidence rate ",t.testContext.config.cw.confidenceRate," "),Wt(3),Xt("ngModel",t.testContext.config.cw.confidenceRate),Wt(2),Xa("Iterations ",t.testContext.config.cw.iterations,""),Wt(1),Xt("ngModel",t.testContext.config.cw.iterations)}}function Xke(n,r){1&n&&(_t(0,"div",56),_t(1,"div",57),da(2,"input",68),yt(),yt())}function Zke(n,r){if(1&n){const t=gs();_t(0,"div",69),_t(1,"button",70),hr("click",function(){return fr(t),gn(2).runTest()}),qn(2,"Run Tests"),yt(),yt()}}function Jke(n,r){if(1&n){const t=gs();_t(0,"div",41),_t(1,"div",42),qn(2," Test configuration "),yt(),_t(3,"div",12),_t(4,"div",43),_t(5,"div",44),_t(6,"div",45),_t(7,"input",46),hr("change",function(){fr(t);const o=gn();return o.testContext.fgsm=!o.testContext.fgsm}),yt(),_t(8,"label",47),qn(9,"FGSM"),yt(),yt(),yt(),Nn(10,Uke,11,3,"div",48),yt(),_t(11,"div",43),_t(12,"div",44),_t(13,"div",45),_t(14,"input",49),hr("change",function(){fr(t);const o=gn();return o.testContext.jsma=!o.testContext.jsma}),yt(),_t(15,"label",50),qn(16,"JSMA"),yt(),yt(),yt(),Nn(17,Yke,7,2,"div",51),yt(),_t(18,"div",43),_t(19,"div",44),_t(20,"div",45),_t(21,"input",52),hr("change",function(){fr(t);const o=gn();return o.testContext.bim=!o.testContext.bim}),yt(),_t(22,"label",53),qn(23,"BIM"),yt(),yt(),yt(),Nn(24,Gke,19,7,"div",51),yt(),_t(25,"div",43),_t(26,"div",44),_t(27,"div",45),_t(28,"input",54),hr("change",function(){fr(t);const o=gn();return o.testContext.cw=!o.testContext.cw}),yt(),_t(29,"label",53),qn(30,"C&W"),yt(),yt(),yt(),Nn(31,Kke,15,6,"div",51),yt(),_t(32,"div",43),_t(33,"div",44),_t(34,"div",45),_t(35,"input",54),hr("change",function(){fr(t);const o=gn();return o.testContext.diffEvol=!o.testContext.diffEvol}),yt(),_t(36,"label",53),qn(37,"Differential Evolution"),yt(),yt(),yt(),Nn(38,Xke,3,0,"div",51),yt(),yt(),Nn(39,Zke,3,0,"div",55),yt()}if(2&n){const t=gn();Wt(7),Xt("checked",t.testContext.fgsm),Wt(3),Xt("ngIf",t.testContext.fgsm),Wt(4),Xt("checked",t.testContext.jsma),Wt(3),Xt("ngIf",t.testContext.jsma),Wt(4),Xt("checked",t.testContext.bim),Wt(3),Xt("ngIf",t.testContext.bim),Wt(4),Xt("checked",t.testContext.cw),Wt(3),Xt("ngIf",t.testContext.cw),Wt(4),Xt("checked",t.testContext.diffEvol),Wt(3),Xt("ngIf",t.testContext.diffEvol),Wt(1),Xt("ngIf",t.testContext.readyForTest)}}function Qke(n,r){if(1&n&&(_t(0,"p"),da(1,"ngb-progressbar",71),yt()),2&n){const t=gn();Wt(1),Xt("value",t.testContext.progress)("striped",!0)}}function qke(n,r){if(1&n&&(_t(0,"div",79),_t(1,"div",37),da(2,"canvas",80),yt(),_t(3,"div",37),da(4,"canvas",80),yt(),_t(5,"div",37),da(6,"canvas",80),yt(),_t(7,"div",37),da(8,"canvas",80),yt(),_t(9,"div",37),da(10,"canvas",80),yt(),_t(11,"div",37),da(12,"canvas",80),yt(),yt()),2&n){const t=gn().$implicit,s=gn(2);Wt(2),Xt("datasets",s.testContext.summary.get(t.key).EpsilonChart)("labels",s.testContext.summary.get(t.key).lineChartLabels)("options",s.lineChartOptions)("legend",s.lineChartLegend)("chartType",s.lineChartType)("plugins",s.lineChartPlugins),Wt(2),Xt("datasets",s.testContext.summary.get(t.key).orConfChartData)("labels",s.testContext.summary.get(t.key).lineChartLabels)("options",s.lineChartOptions)("legend",s.lineChartLegend)("chartType",s.lineChartType)("plugins",s.lineChartPlugins),Wt(2),Xt("datasets",s.testContext.summary.get(t.key).SuccessRate)("labels",s.testContext.summary.get(t.key).lineChartLabels)("options",s.lineChartOptions)("legend",s.lineChartLegend)("chartType",s.lineChartType)("plugins",s.lineChartPlugins),Wt(2),Xt("datasets",s.testContext.summary.get(t.key).ChebDistChartData)("labels",s.testContext.summary.get(t.key).lineChartLabels)("options",s.lineChartOptions)("legend",s.lineChartLegend)("chartType",s.lineChartType)("plugins",s.lineChartPlugins),Wt(2),Xt("datasets",s.testContext.summary.get(t.key).EuclDistChartData)("labels",s.testContext.summary.get(t.key).lineChartLabels)("options",s.lineChartOptions)("legend",s.lineChartLegend)("chartType",s.lineChartType)("plugins",s.lineChartPlugins),Wt(2),Xt("datasets",s.testContext.summary.get(t.key).PsnrDistChartData)("labels",s.testContext.summary.get(t.key).lineChartLabels)("options",s.lineChartOptions)("legend",s.lineChartLegend)("chartType",s.lineChartType)("plugins",s.lineChartPlugins)}}function eIe(n,r){1&n&&(_t(0,"div",37),qn(1," Target class "),yt())}function tIe(n,r){if(1&n&&(_t(0,"div",37),qn(1),yt()),2&n){const t=gn().$implicit;Wt(1),Xa(" ",t.targetClass," ")}}function nIe(n,r){if(1&n&&(_t(0,"div",81),_t(1,"div",77),_t(2,"div",82),da(3,"img",83),yt(),_t(4,"div",84),_t(5,"div",37),qn(6," Prediction "),yt(),_t(7,"div",37),qn(8),yt(),_t(9,"div",37),qn(10," Confidence "),yt(),_t(11,"div",37),qn(12),yt(),yt(),yt(),_t(13,"div",77),_t(14,"div",82),da(15,"img",83),yt(),yt(),_t(16,"div",77),_t(17,"div",82),da(18,"img",83),yt(),_t(19,"div",84),Nn(20,eIe,2,0,"div",85),Nn(21,tIe,2,1,"div",85),_t(22,"div",37),qn(23," Prediction "),yt(),_t(24,"div",37),qn(25),yt(),_t(26,"div",37),qn(27," Confidence "),yt(),_t(28,"div",37),qn(29),yt(),_t(30,"div",37),qn(31," Confidence in original class "),yt(),_t(32,"div",37),qn(33),yt(),_t(34,"div",37),qn(35," Euclidian distance "),yt(),_t(36,"div",37),qn(37),yt(),_t(38,"div",37),qn(39," Chebyshev distance "),yt(),_t(40,"div",37),qn(41),yt(),_t(42,"div",37),qn(43," Peak signal-to-noise ratio "),yt(),_t(44,"div",37),qn(45),yt(),yt(),yt(),yt()),2&n){const t=r.$implicit;Wt(3),Rv("src",t.orImage,od),Wt(5),Xa(" ",t.originalPrediction," "),Wt(4),Xa(" ",t.originalConfidence," "),Wt(3),Rv("src",t.delta,od),Wt(3),Rv("src",t.advImage,od),Wt(2),Xt("ngIf",t.targetClass),Wt(1),Xt("ngIf",t.targetClass),Wt(4),Xa(" ",t.advPrediction," "),Wt(4),Xa(" ",t.advConfidence," "),Wt(4),Xa(" ",t.confidenceInOriginalClass," "),Wt(4),Xa(" ",t.euclidianDistance," "),Wt(4),Xa(" ",t.chebyshevDistance," "),Wt(4),Xa(" ",t.psnr," ")}}function rIe(n,r){if(1&n&&(_t(0,"div",74),_t(1,"div",11),qn(2),yt(),Nn(3,qke,13,36,"div",75),_t(4,"div",12),_t(5,"div",76),_t(6,"div",77),qn(7,"Original Sample"),yt(),_t(8,"div",77),qn(9,"Perturbation"),yt(),_t(10,"div",77),qn(11,"Adversarial Sample"),yt(),yt(),Nn(12,nIe,46,13,"div",78),yt(),yt()),2&n){const t=r.$implicit,s=gn(2);Wt(2),Xa(" ",t.key," "),Wt(1),Xt("ngIf",s.showChart&&s.testContext.summary.get(t.key)),Wt(9),Xt("ngForOf",t.value)}}function iIe(n,r){if(1&n&&(_t(0,"div",72),Nn(1,rIe,13,3,"div",73),t3(2,"keyvalue"),yt()),2&n){const t=gn();Wt(1),Xt("ngForOf",n3(2,1,t.testContext.reports))}}let sIe=(()=>{class n{constructor(){this.canvas=document.createElement("canvas"),this.title="advtest",this.lineChartOptions={responsive:!0},this.lineChartLegend=!0,this.lineChartType="line",this.lineChartPlugins=[],this.InitializeTestContext()}InitializeTestContext(){this.testContext=new xDe,this.testContext.config=new DDe,this.testContext.config.fgsm=new Mpe,this.testContext.config.fgsm.epsilon=.1,this.testContext.config.jsma=new EDe,this.testContext.config.jsma.epsilon=75,this.testContext.config.bim=new SDe,this.testContext.config.bim.epsilon=.1,this.testContext.config.bim.alpha=.01,this.testContext.config.bim.iterations=30,this.testContext.config.cw=new MDe,this.testContext.config.cw.successRate=5,this.testContext.config.cw.confidenceRate=1,this.testContext.config.cw.learningRate=.1,this.testContext.config.cw.iterations=100,this.testContext.summary=new Map}testCifar(){var t=this;return(0,en.Z)(function*(){yield t.loadModelFromLocalStorage("cifar10"),t.testContext.fgsm=!0;for(let s=.001;s<.11;s+=.005)t.testContext.config.fgsm.epsilon=s,yield t.runTest()})()}testJsma(){var t=this;return(0,en.Z)(function*(){yield t.loadModelFromLocalStorage("mnist"),t.testContext.jsma=!0;for(let s=20;s<21;s++)t.testContext.config.jsma.epsilon=s,t.runTest()})()}ngOnInit(){var t=this;return(0,en.Z)(function*(){for(var s in t.savedModels=new Set,localStorage)if(s.startsWith("tensorflowjs_models")){var o=s.split("/")[1];t.savedModels.add(o)}})()}onFileChange(t){t.target.nextSibling.innerText=t.target.files[0].name}showModel(){var t=this;return(0,en.Z)(function*(){const s={name:"Model Summary",tab:"Model Inspection"};H8.show.modelSummary(s,t.model),H8.show.layer(s,t.model.getLayer(void 0,0))})()}loadModel(){var t=this;return(0,en.Z)(function*(){t.model=yield PN(w.io.browserFiles([t.i_model.nativeElement.files[0],t.i_weights.nativeElement.files[0]])),t.showModel(),yield t.loadDataset()})()}loadDataset(){var t=this;return(0,en.Z)(function*(){let s,o,c=t.readFile(t.i_test_data.nativeElement.files[0]).then(x=>s=kl(x).batch(1)),f=t.readFile(t.i_labels.nativeElement.files[0]).then(x=>o=kl(x).batch(1)),m=t.readFile(t.i_class_names.nativeElement.files[0]).then(x=>t.testContext.classNames=x);Promise.all([c,f,m]).then(()=>function(n){if(!Zb(n))throw new Error("The argument to zip() must be an object or array.");let r;if(Array.isArray(n))for(let t=0;t<n.length;t++)r=null==r?n[t].size:Math.min(r,n[t].size);else if(n instanceof Object)for(const t in n)r=null==r?n[t].size:Math.min(r,n[t].size);return Bc((0,en.Z)(function*(){return function(n,r=N_.FAIL){return new Zae(n,r)}(yield N9(n,s=>{if(s instanceof aS)return{value:s.iterator(),recurse:!1};if(Zb(s))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}),N_.SHORTEST)}),r)}([s,o]).toArray()).then(x=>t.dataset=x.map(E=>({xs:E[0],ys:E[1]}))).then(function(){var x=(0,en.Z)(function*(E){t.testContext.readyForTest=!0});return function(E){return x.apply(this,arguments)}}())})()}save(){var t=this;return(0,en.Z)(function*(){var s=[];for(let o=0;o<t.dataset.length;o++)s[o]={xs:{data:t.dataset[o].xs.arraySync(),shape:t.dataset[o].xs.shape},ys:{data:t.dataset[o].ys.arraySync(),shape:t.dataset[o].ys.shape}};yield t.model.save(`localstorage://${t.model.name}`),localStorage.setItem(`tensorflowjs_models/${t.model.name}/class_names`,JSON.stringify(t.testContext.classNames)),localStorage.setItem(`tensorflowjs_models/${t.model.name}/dataset`,JSON.stringify(s))})()}loadModelFromLocalStorage(t){var s=this;return(0,en.Z)(function*(){s.model=yield PN(`localstorage://${t}`);var o=JSON.parse(localStorage.getItem(`tensorflowjs_models/${s.model.name}/dataset`));s.testContext.classNames=JSON.parse(localStorage.getItem(`tensorflowjs_models/${s.model.name}/class_names`)),s.dataset=[];for(let c=0;c<o.length;c++)s.dataset[c]={xs:w.tensor(o[c].xs.data,o[c].xs.shape),ys:w.tensor(o[c].ys.data,o[c].ys.shape)};s.testContext.readyForTest=!0})()}readFile(t){return new Promise((s,o)=>{const c=new FileReader;c.onerror=o,c.onload=function(){s(JSON.parse(c.result.toString()))},c.readAsText(t)})}getDataUrl(t){var s=this;return(0,en.Z)(function*(){var o=t.shape.slice(1);if(1==o.length){let c=Math.sqrt(o[0]);o=[c,c,1]}return yield w.browser.toPixels(t.reshape(o),s.canvas),s.canvas.toDataURL()})()}runUntargeted(t,s){var o=this;return(0,en.Z)(function*(){for(let c=0;c<o.dataset.length;c++){let f=o.dataset[c].xs,m=o.dataset[c].ys,_=o.model.predict(f);console.log(_.dataSync());let x=_.max(1).dataSync()[0],E=_.argMax(1).dataSync()[0],T=new tZ;T.originalClassIndex=E,T.originalClassName=o.testContext.classNames[E],T.originalConfidence=x,T.originalImage=f;let L=w.tidy(()=>t(o.model,f,m,s));yield o.fillReport(T,t.name,c,L),o.reportProgres(c+1,o.dataset.length)}})()}runTargeted(t,s){var o=this;return(0,en.Z)(function*(){let c=0;for(let f=0;f<o.dataset.length;f++){let m=o.dataset[f].xs,_=o.dataset[f].ys,x=o.model.predict(m),E=x.max(1).dataSync()[0],T=x.argMax(1).dataSync()[0],L=new tZ;L.originalClassIndex=T,L.originalClassName=o.testContext.classNames[T],L.originalConfidence=E,L.originalImage=m;for(let z=0;z<o.dataset.length;z++){if(z==f)continue;let X=o.dataset[z].ys,Q=X.argMax(1).dataSync()[0];L.targetClassIndex=Q;let ne=w.tidy(()=>t(o.model,m,_,X,s));yield o.fillReport(L,t.name,c,ne),o.testContext.reports.get(t.name)[c].targetClass=o.testContext.classNames[Q],c++,o.reportProgres(c+1,o.dataset.length*o.dataset.length)}}})()}BuildConfusionMatrix(t){let s=[],o=0;for(let m=0;m<this.dataset.length;m++){let _=[];for(let x=0;x<this.dataset.length;x++)if(m==x)_.push(1);else{let E=this.testContext.reports.get(t)[o];_.push(E.advConfidence),o++}s.push(_)}H8.render.confusionMatrix({name:`Confusion Matrix ${t}`,tab:"Charts"},{values:s,labels:this.testContext.classNames})}fillReport(t,s,o,c){var f=this;return(0,en.Z)(function*(){let m=f.model.predict(c.advImg),_=m.max(1).dataSync()[0],x=m.argMax(1).dataSync()[0],E=m.dataSync()[t.originalClassIndex];var T=yield f.getDataUrl(t.originalImage),L=yield f.getDataUrl(c.advImg);let z=f.testContext.reports.get(s)[o],X=w.sub(c.advImg,t.originalImage),Q=w.abs(X);if(c.delta=Q,z.confidenceInOriginalClass=E,z.originalPrediction=t.originalClassName,z.originalConfidence=t.originalConfidence,z.orImage=T,z.advConfidence=_,z.advPrediction=f.testContext.classNames[x],z.euclidianDistance=nZ.euclidianDistance(c.advImg,t.originalImage),z.chebyshevDistance=nZ.chebyshevDistanse(c.advImg,t.originalImage),z.psnr=nZ.psnr(t.originalImage,c.advImg),z.advImage=L,c.delta){var ne=yield f.getDataUrl(c.delta);f.testContext.reports.get(s)[o].delta=ne}z.status=z.targetClass?x==t.targetClassIndex?B1.Succeeded:x!=t.originalClassIndex?B1.PartialySucceded:B1.Failed:x!=t.originalClassIndex?B1.Succeeded:B1.Failed})()}runTest(){var t=this;return(0,en.Z)(function*(){t.testContext.attackInProgress=!0,t.testContext.progress=0,t.testContext.reports=new Map;let s="",o=0;t.testContext.fgsm&&(o=t.testContext.config.fgsm.epsilon,t.testContext.config.fgsm.targeted?(s=ic.fgsmTargeted.name,t.BuildReportForTargeted(s),yield t.runTargeted(ic.fgsmTargeted,t.testContext.config.fgsm)):(s=ic.fgsm.name,t.BuildReport(s),yield t.runUntargeted(ic.fgsm,t.testContext.config.fgsm))),t.testContext.bim&&(o=t.testContext.config.bim.epsilon,t.testContext.config.bim.targeted?(s=ic.bimTargeted.name,t.BuildReportForTargeted(s),yield t.runTargeted(ic.bimTargeted,t.testContext.config.bim)):(s=ic.bim.name,t.BuildReport(s),yield t.runUntargeted(ic.bim,t.testContext.config.bim))),t.testContext.jsma&&(o=t.testContext.config.jsma.epsilon,s=ic.jsmaOnePixel.name,t.BuildReportForTargeted(s),yield t.runTargeted(ic.jsmaOnePixel,t.testContext.config.jsma)),t.testContext.cw&&(o=t.testContext.config.cw.successRate,s=ic.cw.name,t.BuildReportForTargeted(s),yield t.runTargeted(ic.cw,t.testContext.config.cw)),t.testContext.diffEvol&&(s=ic.DifferentialEvolution.name,t.BuildReport(s),yield t.runUntargeted(ic.DifferentialEvolution,t.testContext.config.fgsm));var c=t.testContext.summary.get(s);c||(c=new Cpe,t.testContext.summary.set(s,new Cpe),c=t.testContext.summary.get(s)),c.EpsilonChart[0].data.push(o),t.summary(),t.testContext.attackInProgress=!1})()}BuildReportForTargeted(t){for(var s=new Array,o=0;o<this.dataset.length;o++)for(var c=0;c<this.dataset.length;c++)c!=o&&s.push(new Epe);this.testContext.reports.set(t,s)}BuildReport(t){for(var s=new Array,o=0;o<this.dataset.length;o++)s.push(new Epe);this.testContext.reports.set(t,s)}reportProgres(t,s){this.testContext.progress=t/s*100}toggleVisor(){H8.visor().toggle()}summary(){for(let s of this.testContext.reports.keys()){let o=0,c=0,f=0,m=0,_=0,x=this.testContext.reports.get(s);for(let Q=0;Q<x.length;Q++){let ne=x[Q];o+=ne.chebyshevDistance,c+=ne.euclidianDistance,f+=ne.psnr,m+=ne.confidenceInOriginalClass,ne.status==B1.Succeeded&&_++}let E=o/x.length,T=c/x.length,L=f/x.length,z=m/x.length,X=Math.floor(_/x.length*100);var t=this.testContext.summary.get(s);t.ChebDistChartData[0].data.push(E),t.EuclDistChartData[0].data.push(T),t.PsnrDistChartData[0].data.push(L),t.orConfChartData[0].data.push(z),t.SuccessRate[0].data.push(X),t.lineChartLabels.push(t.lineChartLabels.length.toString())}this.showChart=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Us({type:n,selectors:[["app-root"]],viewQuery:function(t,s){if(1&t&&(kf(Lke,5),kf(Fke,5),kf(Pke,5),kf(Rke,5),kf(Bke,5)),2&t){let o;Qs(o=qs())&&(s.i_model=o.first),Qs(o=qs())&&(s.i_weights=o.first),Qs(o=qs())&&(s.i_test_data=o.first),Qs(o=qs())&&(s.i_labels=o.first),Qs(o=qs())&&(s.i_class_names=o.first)}},decls:11,vars:7,consts:[[1,"navbar","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["class","btn btn-light btn-sm btn-round float-right m-5",3,"click",4,"ngIf"],[1,"container"],["class","card mt-2",4,"ngIf"],["class","card",4,"ngIf"],["class","card","id","config",4,"ngIf"],[4,"ngIf"],["id","report",4,"ngIf"],[1,"btn","btn-light","btn-sm","btn-round","float-right","m-5",3,"click"],[1,"card","mt-2"],[1,"card-header"],[1,"card-body"],[1,"list-group"],["class","list-group-item saved-model",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","saved-model",3,"click"],[1,"card-title"],[1,"input-group"],[1,"custom-file"],["type","file","id","i_model","accept",".json",1,"custom-file-input",3,"change"],["i_model",""],["for","i_model",1,"custom-file-label"],[1,"input-group","mt-2"],["type","file","id","i_weights","accept",".bin",1,"custom-file-input",3,"change"],["i_weights",""],["for","i_weights",1,"custom-file-label"],["type","file","id","i_test_data","accept",".json",1,"custom-file-input",3,"change"],["i_test_data",""],["for","i_test_data",1,"custom-file-label"],["type","file","id","i_labels","accept",".json",1,"custom-file-input",3,"change"],["i_labels",""],["for","i_labels",1,"custom-file-label"],["type","file","id","i_class_names","accept",".json",1,"custom-file-input",3,"change"],["i_class_names",""],["for","i_class_names",1,"custom-file-label"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2"],[1,"col-6"],[1,"btn","btn-primary",3,"click"],[1,"card"],[1,"btn","btn-info",3,"click"],["id","config",1,"card"],[1,"card-header","text-center"],[1,"form-group","row","border","p-2"],[1,"col-sm-3"],[1,"form-check"],["type","checkbox","id","cb_fgsm",1,"form-check-input",3,"checked","change"],["for","cb_fgsm",1,"form-check-label"],["class","col-sm-6 ",4,"ngIf"],["type","checkbox","id","cb_jsma",1,"form-check-input",3,"checked","change"],["for","cb_jsma",1,"form-check-label"],["class","col-sm-6",4,"ngIf"],["type","checkbox","id","cb_bim",1,"form-check-input",3,"checked","change"],["for","cb_bim",1,"form-check-label"],["type","checkbox","id","cb_cw",1,"form-check-input",3,"checked","change"],["class","text-center",4,"ngIf"],[1,"col-sm-6"],[1,"form-group"],["type","range","min","0.001","max","0.7","step","0.001",1,"slider",3,"ngModel","ngModelChange"],["type","checkbox","id","cb_fgsm_targeted",1,"form-check-input",3,"checked","change"],["for","cb_fgsm_targeted",1,"form-check-label"],["type","range","min","20","max","100","step","1",1,"slider",3,"ngModel","ngModelChange"],["type","range","min","1","max","100","step","1",1,"slider",3,"ngModel","ngModelChange"],["type","checkbox","id","cb_bim_targeted",1,"form-check-input",3,"checked","change"],["for","cb_bim_targeted",1,"form-check-label"],["type","range","min","1","max","10","step","1",1,"slider",3,"ngModel","ngModelChange"],["type","range","min","0.1","max","10","step","0.1",1,"slider",3,"ngModel","ngModelChange"],["type","range","min","1","max","200","step","1",1,"slider",3,"ngModel","ngModelChange"],["type","range"],[1,"text-center"],[1,"btn","btn-success","mb-5",3,"click"],["type","info ",3,"value","striped"],["id","report"],["class","card attack",4,"ngFor","ngForOf"],[1,"card","attack"],["class","row",4,"ngIf"],[1,"row","text-center"],[1,"col-4"],["class","row attack-case border",4,"ngFor","ngForOf"],[1,"row"],["baseChart","","width","500","height","200",3,"datasets","labels","options","legend","chartType","plugins"],[1,"row","attack-case","border"],[1,"image-container"],[1,"image","img-thumbnail",3,"src"],[1,"row","small"],["class","col-6",4,"ngIf"]],template:function(t,s){1&t&&(_t(0,"nav",0),_t(1,"a",1),qn(2,"Testing neural network robustness"),yt(),yt(),Nn(3,$ke,2,0,"button",2),_t(4,"div",3),Nn(5,zke,6,1,"div",4),Nn(6,Wke,35,1,"div",4),Nn(7,Hke,6,1,"div",5),Nn(8,Jke,40,11,"div",6),Nn(9,Qke,2,2,"p",7),Nn(10,iIe,3,3,"div",8),yt()),2&t&&(Wt(3),Xt("ngIf",s.model),Wt(2),Xt("ngIf",!s.model&&s.savedModels&&s.savedModels.size>0),Wt(1),Xt("ngIf",!s.model),Wt(1),Xt("ngIf",s.testContext.readyForTest),Wt(1),Xt("ngIf",s.testContext.readyForTest),Wt(1),Xt("ngIf",s.testContext.attackInProgress),Wt(1),Xt("ngIf",s.testContext.reports))},directives:[L0e,pd,Fh,HL,PL,FZ,w6,IEe,Nke],pipes:[vW],styles:[""]}),n})(),aIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qi({type:n,bootstrap:[sIe]}),n.\u0275inj=Nt({providers:[],imports:[[C_,qEe,nJ,Oke]]}),n})();(function(){if(uw)throw new Error("Cannot enable prod mode after platform setup.");u7=!1})(),Vne().bootstrapModule(aIe).catch(n=>console.error(n))},6700:(be,ie,v)=>{var $={"./af":6431,"./af.js":6431,"./ar":1286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":3160,"./ar-ly.js":3160,"./ar-ma":2551,"./ar-ma.js":2551,"./ar-sa":9989,"./ar-sa.js":9989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":1286,"./az":5887,"./az.js":5887,"./be":4572,"./be.js":4572,"./bg":3276,"./bg.js":3276,"./bm":3344,"./bm.js":3344,"./bn":8985,"./bn-bd":3990,"./bn-bd.js":3990,"./bn.js":8985,"./bo":3540,"./bo.js":3540,"./br":6728,"./br.js":6728,"./bs":5536,"./bs.js":5536,"./ca":1043,"./ca.js":1043,"./cs":420,"./cs.js":420,"./cv":3513,"./cv.js":3513,"./cy":6771,"./cy.js":6771,"./da":7978,"./da.js":7978,"./de":6061,"./de-at":5204,"./de-at.js":5204,"./de-ch":4914,"./de-ch.js":4914,"./de.js":6061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":5724,"./en-au.js":5724,"./en-ca":525,"./en-ca.js":525,"./en-gb":2847,"./en-gb.js":2847,"./en-ie":7216,"./en-ie.js":7216,"./en-il":9305,"./en-il.js":9305,"./en-in":3364,"./en-in.js":3364,"./en-nz":9130,"./en-nz.js":9130,"./en-sg":1161,"./en-sg.js":1161,"./eo":802,"./eo.js":802,"./es":328,"./es-do":5551,"./es-do.js":5551,"./es-mx":5615,"./es-mx.js":5615,"./es-us":4790,"./es-us.js":4790,"./es.js":328,"./et":6389,"./et.js":6389,"./eu":2961,"./eu.js":2961,"./fa":6151,"./fa.js":6151,"./fi":7997,"./fi.js":7997,"./fil":8898,"./fil.js":8898,"./fo":7779,"./fo.js":7779,"./fr":8174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":8867,"./fr-ch.js":8867,"./fr.js":8174,"./fy":452,"./fy.js":452,"./ga":5014,"./ga.js":5014,"./gd":4127,"./gd.js":4127,"./gl":2124,"./gl.js":2124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":7953,"./gom-latn.js":7953,"./gu":6604,"./gu.js":6604,"./he":1222,"./he.js":1222,"./hi":4235,"./hi.js":4235,"./hr":622,"./hr.js":622,"./hu":7735,"./hu.js":7735,"./hy-am":402,"./hy-am.js":402,"./id":9187,"./id.js":9187,"./is":6607,"./is.js":6607,"./it":5007,"./it-ch":4667,"./it-ch.js":4667,"./it.js":5007,"./ja":2093,"./ja.js":2093,"./jv":59,"./jv.js":59,"./ka":6870,"./ka.js":6870,"./kk":880,"./kk.js":880,"./km":1083,"./km.js":1083,"./kn":8785,"./kn.js":8785,"./ko":1721,"./ko.js":1721,"./ku":7851,"./ku.js":7851,"./ky":1727,"./ky.js":1727,"./lb":346,"./lb.js":346,"./lo":3002,"./lo.js":3002,"./lt":4035,"./lt.js":4035,"./lv":6927,"./lv.js":6927,"./me":5634,"./me.js":5634,"./mi":4173,"./mi.js":4173,"./mk":6320,"./mk.js":6320,"./ml":9196,"./ml.js":9196,"./mn":1062,"./mn.js":1062,"./mr":2805,"./mr.js":2805,"./ms":1341,"./ms-my":9900,"./ms-my.js":9900,"./ms.js":1341,"./mt":7734,"./mt.js":7734,"./my":9034,"./my.js":9034,"./nb":9324,"./nb.js":9324,"./ne":6495,"./ne.js":6495,"./nl":673,"./nl-be":6272,"./nl-be.js":6272,"./nl.js":673,"./nn":2486,"./nn.js":2486,"./oc-lnc":6219,"./oc-lnc.js":6219,"./pa-in":2829,"./pa-in.js":2829,"./pl":8444,"./pl.js":8444,"./pt":3170,"./pt-br":6117,"./pt-br.js":6117,"./pt.js":3170,"./ro":6587,"./ro.js":6587,"./ru":9264,"./ru.js":9264,"./sd":2135,"./sd.js":2135,"./se":5366,"./se.js":5366,"./si":3379,"./si.js":3379,"./sk":6143,"./sk.js":6143,"./sl":196,"./sl.js":196,"./sq":1082,"./sq.js":1082,"./sr":1621,"./sr-cyrl":8963,"./sr-cyrl.js":8963,"./sr.js":1621,"./ss":1404,"./ss.js":1404,"./sv":5685,"./sv.js":5685,"./sw":6490,"./sw.js":6490,"./ta":4106,"./ta.js":4106,"./te":9204,"./te.js":9204,"./tet":3692,"./tet.js":3692,"./tg":6361,"./tg.js":6361,"./th":1735,"./th.js":1735,"./tk":1568,"./tk.js":1568,"./tl-ph":6129,"./tl-ph.js":6129,"./tlh":3759,"./tlh.js":3759,"./tr":1644,"./tr.js":1644,"./tzl":875,"./tzl.js":875,"./tzm":6878,"./tzm-latn":1041,"./tzm-latn.js":1041,"./tzm.js":6878,"./ug-cn":4357,"./ug-cn.js":4357,"./uk":8684,"./uk.js":8684,"./ur":6794,"./ur.js":6794,"./uz":8966,"./uz-latn":7959,"./uz-latn.js":7959,"./uz.js":8966,"./vi":5386,"./vi.js":5386,"./x-pseudo":3156,"./x-pseudo.js":3156,"./yo":8028,"./yo.js":8028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":9380,"./zh-hk.js":9380,"./zh-mo":874,"./zh-mo.js":874,"./zh-tw":6508,"./zh-tw.js":6508};function S(I){var N=P(I);return v(N)}function P(I){if(!v.o($,I)){var N=new Error("Cannot find module '"+I+"'");throw N.code="MODULE_NOT_FOUND",N}return $[I]}S.keys=function(){return Object.keys($)},S.resolve=P,be.exports=S,S.id=6700},914:()=>{},5410:()=>{},8628:()=>{},5778:()=>{},9434:()=>{},7792:()=>{},4977:()=>{},5042:()=>{},5328:be=>{"use strict";var ie=/("(?:[^\\"]|\\.)*")|[:,]/g;be.exports=function($,S){var P,I,N;return S=S||{},P=JSON.stringify([1],void 0,void 0===S.indent?2:S.indent).slice(2,-3),I=""===P?1/0:void 0===S.maxLength?80:S.maxLength,N=S.replacer,function B(R,W,F){var U,G,K,J,he,ce,Ae,je,Ie,ze,et,Te;if(R&&"function"==typeof R.toJSON&&(R=R.toJSON()),void 0===(et=JSON.stringify(R,N)))return et;if(et.length<=(Ae=I-W.length-F)&&(Ie=et.replace(ie,function(We,ge){return ge||We+" "})).length<=Ae)return Ie;if(null!=N&&(R=JSON.parse(et),N=void 0),"object"==typeof R&&null!==R){if(je=W+P,K=[],G=0,Array.isArray(R))for(ze="[",U="]",Ae=R.length;G<Ae;G++)K.push(B(R[G],je,G===Ae-1?0:1)||"null");else for(ze="{",U="}",Ae=(ce=Object.keys(R)).length;G<Ae;G++)J=ce[G],he=JSON.stringify(J)+": ",void 0!==(Te=B(R[J],je,he.length+(G===Ae-1?0:1)))&&K.push(he+Te);if(K.length>0)return[ze,P+K.join(",\n"+je),U].join("\n"+W)}return et}($,"",0)}},8239:(be,ie,v)=>{"use strict";function $(P,I,N,B,R,W,F){try{var U=P[W](F),G=U.value}catch(K){return void N(K)}U.done?I(G):Promise.resolve(G).then(B,R)}function S(P){return function(){var I=this,N=arguments;return new Promise(function(B,R){var W=P.apply(I,N);function F(G){$(W,B,R,F,U,"next",G)}function U(G){$(W,B,R,F,U,"throw",G)}F(void 0)})}}v.d(ie,{Z:()=>S})}},be=>{be(be.s=2406)}]);